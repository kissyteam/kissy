/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
(function(e,q,D){var B={mix:function(j,n,p,s){if(!n||!j)return j;if(p===D)p=true;var d,i,k;if(s&&(k=s.length))for(d=0;d<k;d++){i=s[d];if(i in n)if(p||!(i in j))j[i]=n[i]}else for(i in n)if(p||!(i in j))j[i]=n[i];return j}},A=e&&e[q]||{},y=0;e=A.__HOST||(A.__HOST=e||{});q=e[q]=B.mix(A,B,false);q.mix(q,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.20dev",merge:function(){var j={},n,p=arguments.length;for(n=0;n<p;n++)q.mix(j,arguments[n]);return j},augment:function(){var j=
arguments,n=j.length-2,p=j[0],s=j[n],d=j[n+1],i=1;if(!q.isArray(d)){s=d;d=D;n++}if(!q.isBoolean(s)){s=D;n++}for(;i<n;i++)q.mix(p.prototype,j[i].prototype||j[i],s,d);return p},extend:function(j,n,p,s){if(!n||!j)return j;var d=Object.create?function(o,w){return Object.create(o,{constructor:{value:w}})}:function(o,w){function g(){}g.prototype=o;var l=new g;l.constructor=w;return l},i=n.prototype,k;k=d(i,j);j.prototype=q.mix(k,j.prototype);j.superclass=d(i,n);p&&q.mix(k,p);s&&q.mix(j,s);return j},__init:function(){this.Config=
this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var j=arguments,n=j.length,p=null,s,d,i,k=j[n-1]===true&&n--;for(s=0;s<n;s++){i=(""+j[s]).split(".");p=k?e:this;for(d=e[i[0]]===p?1:0;d<i.length;++d)p=p[i[d]]=p[i[d]]||{}}return p},app:function(j,n){var p=q.isString(j),s=p?e[j]||{}:j,d=0,i=q.__APP_INIT_METHODS.length;for(q.mix(s,this,true,q.__APP_MEMBERS);d<i;d++)q[q.__APP_INIT_METHODS[d]].call(s);q.mix(s,q.isFunction(n)?n():n);p&&(e[j]=s);return s},config:function(j){for(var n in j)this["_"+
n]&&this["_"+n](j[n])},log:function(j,n,p){if(q.Config.debug){if(p)j=p+": "+j;if(e.console!==D&&console.log)console[n&&console[n]?n:"log"](j)}},error:function(j){if(q.Config.debug)throw j;},guid:function(j){return(j||"")+y++}});q.__init();return q})(this,"KISSY");
(function(e,q){var D=e.__HOST,B=Object.prototype.toString,A=Array.prototype.indexOf,y=Array.prototype.lastIndexOf,j=Array.prototype.filter,n=String.prototype.trim,p=/^\s+|\s+$/g,s={};e.mix(e,{type:function(d){return d==null?String(d):s[B.call(d)]||"object"},isNull:function(d){return d===null},isUndefined:function(d){return d===q},isEmptyObject:function(d){for(var i in d)return false;return true},isPlainObject:function(d){return d&&B.call(d)==="[object Object]"&&"isPrototypeOf"in d},clone:function(d,
i,k){var o=d,w,g,l=k||{};if(d&&((w=e.isArray(d))||e.isPlainObject(d))){if(d["__~ks_cloned"])return l[d["__~ks_cloned"]];d["__~ks_cloned"]=o=e.guid();l[o]=d;if(w)o=i?e.filter(d,i):d.concat();else{o={};for(g in d)if(g!=="__~ks_cloned"&&d.hasOwnProperty(g)&&(!i||i.call(d,d[g],g,d)!==false))o[g]=e.clone(d[g],i,l)}}if(!k){e.each(l,function(r){if(r["__~ks_cloned"])try{delete r["__~ks_cloned"]}catch(t){r["__~ks_cloned"]=q}});l=q}return o},trim:n?function(d){return d==q?"":n.call(d)}:function(d){return d==
q?"":d.toString().replace(p,"")},substitute:function(d,i,k){if(!e.isString(d)||!e.isPlainObject(i))return d;return d.replace(k||/\\?\{([^{}]+)\}/g,function(o,w){if(o.charAt(0)==="\\")return o.slice(1);return i[w]!==q?i[w]:""})},each:function(d,i,k){var o,w=0,g=d.length,l=g===q||e.type(d)==="function";k=k||D;if(l)for(o in d){if(i.call(k,d[o],o,d)===false)break}else for(o=d[0];w<g&&i.call(k,o,w,d)!==false;o=d[++w]);return d},indexOf:A?function(d,i){return A.call(i,d)}:function(d,i){for(var k=0,o=i.length;k<
o;++k)if(i[k]===d)return k;return-1},lastIndexOf:y?function(d,i){return y.call(i,d)}:function(d,i){for(var k=i.length-1;k>=0;k--)if(i[k]===d)break;return k},unique:function(d,i){i&&d.reverse();for(var k=d.slice(),o=0,w,g;o<k.length;){for(g=k[o];(w=e.lastIndexOf(g,k))!==o;)k.splice(w,1);o+=1}i&&k.reverse();return k},inArray:function(d,i){return e.indexOf(d,i)>-1},filter:j?function(d,i,k){return j.call(d,i,k||this)}:function(d,i,k){var o=[];e.each(d,function(w,g,l){if(i.call(k||this,w,g,l))o.push(w)});
return o},now:function(){return(new Date).getTime()}});e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(d,i){s["[object "+d+"]"]=i=d.toLowerCase();e["is"+d]=function(k){return e.type(k)==i}})})(KISSY);
(function(e,q){function D(a){a=a.split("/");for(var b=[],c=0;c<a.length;c++){var f=a[c];if(f!=".")f==".."?b.pop():b.push(f)}return b.join("/")}function B(a,b){if(!b)return b;if(e.isArray(b)){for(var c=0;c<b.length;c++)b[c]=B(a,b[c]);return b}if(b.lastIndexOf("../",0)==0||b.lastIndexOf("./",0)==0){c=k;var f;if((f=a.lastIndexOf("/"))!=-1)c=a.substring(0,f+1);return D(c+b)}else return b.indexOf("./")!=-1||b.indexOf("../")!=-1?D(b):b}function A(a){return a.replace(/(-min)?\.js[^/]*$/i,k)}function y(a){if(a.charAt(a.length-
1)!="/")a+="/";a=e.trim(a);if(!a.match(/^(http(s)?)|(file):/i)&&a.lastIndexOf("/",0)!=0)a=x+a;return D(a)}function j(a){return a.replace(/\?.*$/,"")}function n(a){for(var b=0;b<a.length;b++)if(a[b].match(/\/$/))a[b]+="index";return a}if(!e.use){var p=e.__HOST,s=!p.getSelection&&p.ActiveXObject,d=p.document,i=d.getElementsByTagName("head")[0]||d.documentElement,k="",o=2,w=3,g=4,l=e.mix,r=d.createElement("script").readyState?function(a,b){var c=a.onreadystatechange;a.onreadystatechange=function(){var f=
a.readyState;if(f==="loaded"||f==="complete"){a.onreadystatechange=null;c&&c();b.call(this)}}}:function(a,b){a.addEventListener("load",b,false)},t=/\.css(?:\?|$)/i,x=location.href.replace(/[^/]*$/i,k);p={__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,add:function(a,b,c){var f=this.Env.mods,h;if(e.isString(a)&&!c&&e.isPlainObject(b)){h={};h[a]=b;a=h}if(e.isPlainObject(a)){e.each(a,function(u,v){u.name=v;f[v]&&l(u,f[v],false)});l(f,a);return this}if(e.isString(a)){var m;if(c&&(m=
c.host)){a=f[m];if(!a){e.error("module "+m+" can not be found !");return this}if(this.__isAttached(m))b.call(this,this);else{a.fns=a.fns||[];a.fns.push(b)}return this}this.__registerModule(a,b,c);if(c&&c.attach===false)return this;b=f[a];a=B(a,b.requires);if(this.__isAttached(a))this.__attachMod(b);else if(this.Config.debug&&!b)for(a=(b=e.makeArray(a)).length-1;a>=0;a--)j(b[a]);return this}if(e.isFunction(a)){c=b;b=a;if(s){if(+new Date-this.__startLoadTime<15)(a=this.__startLoadModuleName)?this.__registerModule(a,
b,c):e.error("\u4ece\u7f13\u5b58\u8bfb\u53d6\uff1f\uff1f\u4f46\u662f\u8bf7\u6c42\u524d\u8bb0\u5f55\u6ca1\u6709\u6a21\u5757\u540d");else{a=this.__findModuleNameByInteractive();this.__registerModule(a,b,c)}this.__startLoadModuleName=null;this.__startLoadTime=0}else this.__currentModule={def:b,config:c};return this}e.error("invalid format for KISSY.add !");return this},__findModuleNameByInteractive:function(){for(var a=document.getElementsByTagName("script"),b,c=0;c<a.length;c++){var f=a[c];if(f.readyState=="interactive"){b=f;break}}b||e.error("\u627e\u4e0d\u5230 interactive \u72b6\u6001\u7684 script");a=b.src;if(a.lastIndexOf(this.Config.base,
0)==0)return A(a.substring(this.Config.base.length));b=this.__packages;for(var h in b)if(b.hasOwnProperty(h))if(a.lastIndexOf(b[h].path,0)==0)return A(a.substring(b[h].path.length));e.error("interactive \u72b6\u6001\u7684 script \u6ca1\u6709\u5bf9\u5e94\u5305 \uff1a"+a)},__registerModule:function(a,b,c){c=c||{};var f=this.Env.mods,h=f[a]||{};l(h,{name:a,status:o});h.fns=h.fns||[];h.fns.push(b);l(f[a]=h,c)},_packages:function(a){var b;b=this.__packages=this.__packages||{};for(var c=0;c<a.length;c++){var f=a[c];b[f.name]=f;if(f.path)f.path=y(f.path)}},
_combine:function(a,b){var c=this,f;if(e.isObject(a))e.each(a,function(h,m){e.each(h,function(u){c._combine(u,m)})});else{f=c.__combines=c.__combines||{};if(b)f[a]=b;else return f[a]||a}},__mixMods:function(a){var b=this.Env.mods,c=a.Env.mods,f;for(f in c)this.__mixMod(b,c,f,a)},__mixMod:function(a,b,c,f){var h=a[c]||{},m=h.status;e.mix(h,e.clone(b[c]));if(m)h.status=m;f&&this.__buildPath(h,f.Config.base);a[c]=h},use:function(a,b,c){a=a.replace(/\s+/g,k).split(",");n(a);c=c||{};var f=this,h,m,u=a.length,
v;c.global&&f.__mixMods(c.global);if(f.__isAttached(a)){c=f.__getModules(a);b&&b.apply(f,c)}else{for(m=0;m<u&&(h=a[m]);m++)f.__attachModByName(h,function(){if(!v&&f.__isAttached(a)){v=true;var E=f.__getModules(a);b&&b.apply(f,E)}},c);return f}},__getModules:function(a){var b=[this];a=a||[];for(var c=0;c<a.length;c++)b.push(this.require(a[c]));return b},require:function(a){a=this.Env.mods[j(a)];var b=this.onRequire&&this.onRequire(a);if(b!==undefined)return b;return a&&a.value},__getPackagePath:function(a){var b=
this._combine(a.name),c=this.__packages||{},f="",h;for(h in c)if(c.hasOwnProperty(h))if(b.lastIndexOf(h,0)==0)if(h.length>f)f=h;c=(b=c[f])&&b.path||this.Config.base;if(b&&b.charset)a.charset=b.charset;return c},__attachModByName:function(a,b,c){var f=this.Env.mods;/^([^?]+)(\?.*)?$/.test(a);a=RegExp.$1;var h=RegExp.$2,m=f[a];if(!m){m=this.Config.componentJsName||function(u,v){return u+"-min.js"+(v?v:"")};m={path:e.isFunction(m)?m(this._combine(a),h):m,charset:"utf-8"};f[a]=m}m.name=a;m&&m.status===
g||this.__attach(m,b,c)},__attach:function(a,b,c){function f(){if(!K&&h.__isAttached(a.requires)){a.status===o&&h.__attachMod(a);if(a.status===g){K=true;b()}}}var h=this,m=h.Env.mods,u=(a.requires||[]).concat(),v=0,E=u.length;for(a.requires=u;v<E;v++){u[v]=B(a.name,u[v]);var L=m[j(u[v])];L&&L.status===g||h.__attachModByName(u[v],f,c)}h.__buildPath(a,h.__getPackagePath(a));h.__load(a,function(){if(h.__currentModule){h.__registerModule(a.name,h.__currentModule.def,h.__currentModule.config);h.__currentModule=
null}var F=a.requires||[],J=[];a.requires=F;for(var G=F.length-1;G>=0;G--){F[G]=B(a.name,F[G]);var H=F[G],I=m[j(H)],M=e.inArray(H,u);I&&I.status===g||M||h.__attachModByName(H,f,c);if(!M&&(!I||I.status<o))J.push(H)}J.length!=0&&J.unshift(a.name);f()},c);var K=false},__attachMod:function(a){var b=this,c=a.fns;c&&e.each(c,function(f){f=e.isFunction(f)?f.apply(b,b.__getModules(a.requires)):f;a.value=a.value||f});a.status=g},__isAttached:function(a){for(var b=this.Env.mods,c,f=(a=e.makeArray(a)).length-
1;f>=0;f--){c=j(a[f]);c=b[c]||{};if(c.status!==g)return false}return true},__load:function(a,b,c){function f(){u[m]=o;if(a.status!==w){c.global&&h.__mixMod(h.Env.mods,c.global.Env.mods,a.name,c.global);if(a.status!==g)a.status=o;b()}}var h=this,m=a.fullpath,u=e.Env._loadQueue,v=u[m];a.status=a.status||0;if(a.status<1&&v)a.status=v.nodeName?1:o;if(e.isString(a.cssfullpath)){h.getScript(a.cssfullpath);a.cssfullpath=o}if(a.status<1&&m){a.status=1;if(s){h.__startLoadModuleName=a.name;h.__startLoadTime=
Number(+new Date)}v=h.getScript(m,{success:function(){f()},error:function(){a.status=w;u[m]=o},charset:a.charset});t.test(m)||(u[m]=v)}else a.status===1?r(v,f):b()},__buildPath:function(a,b){function c(h,m){if(!a[h]&&a[m])a[h]=(b||f.base)+a[m];if(a[h]&&f.debug)a[h]=a[h].replace(/-min/ig,k)}var f=this.Config;c("fullpath","path");c("cssfullpath","csspath")},getScript:function(a,b,c){var f=/\.css(?:\?|$)/i.test(a),h=d.createElement(f?"link":"script"),m=b,u,v,E;if(e.isPlainObject(m)){b=m.success;u=m.error;
v=m.timeout;c=m.charset}if(f){h.href=a;h.rel="stylesheet"}else{h.src=a;h.async=true}if(c)h.charset=c;if(f)e.isFunction(b)&&b.call(h);else r(h,function(){if(E){E.cancel();E=q}e.isFunction(b)&&b.call(h)});if(e.isFunction(u))E=e.later(function(){E=q;u()},(v||this.Config.timeout)*1E3);i.insertBefore(h,i.firstChild);return h}};l(e,p);var z=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,C=/(seed|kissy)(-min)?\.js/i;e.__initLoader=function(){var a=d.getElementsByTagName("script");a=a[a.length-1];var b=a.src,c=a.getAttribute("data-combo-prefix")||
"??";a=a.getAttribute("data-combo-sep")||",";a=b.split(a);var f=a[0];c=f.indexOf(c);if(c==-1)b=b.replace(z,"$1");else{b=f.substring(0,c);c=f.substring(c+2,f.length);if(c.match(C))b+=c.replace(z,"$1");else for(c=1;c<a.length;c++){f=a[c];if(f.match(C)){b+=f.replace(z,"$1");break}}}if(!b.match(/^(http(s)?)|(file):/i)&&b.lastIndexOf("/",0)!=0)b=x+b;a=b;this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=y(a);if(!this.Config.timeout)this.Config.timeout=10};e.__initLoader();e.each(p,
function(a,b){e.__APP_MEMBERS.push(b)});e.__APP_INIT_METHODS.push("__initLoader")}})(KISSY);
(function(e,q){function D(g){var l=typeof g;return g===null||l!=="object"&&l!=="function"}function B(g){return Array.prototype.slice.call(g)}var A=e.__HOST,y=A.document,j=y.documentElement,n=encodeURIComponent("[]"),p=false,s=[],d=false,i=/^#?([\w-]+)$/,k=/^(\w+)\[\]$/,o=/\S/;e.mix(e,{isWindow:function(g){return e.type(g)==="object"&&"setInterval"in g},makeArray:function(g){if(g===null||g===q)return[];if(e.isArray(g))return g;if(typeof g.length!=="number"||e.isString(g)||e.isFunction(g))return[g];
return B(g)},param:function(g,l){if(!e.isPlainObject(g))return"";l=l||"&";var r=[],t,x;for(t in g){x=g[t];t=encodeURIComponent(t);if(D(x))r.push(t,"=",encodeURIComponent(x+""),l);else if(e.isArray(x)&&x.length)for(var z=0,C=x.length;z<C;++z)D(x[z])&&r.push(t,n+"=",encodeURIComponent(x[z]+""),l)}r.pop();return r.join("")},unparam:function(g,l){if(typeof g!=="string"||(g=e.trim(g)).length===0)return{};for(var r={},t=g.split(l||"&"),x,z,C,a,b=0,c=t.length;b<c;++b){x=t[b].split("=");z=decodeURIComponent(x[0]);
try{C=decodeURIComponent(x[1]||"")}catch(f){C=x[1]||""}if((a=z.match(k))&&a[1]){r[a[1]]=r[a[1]]||[];r[a[1]].push(C)}else r[z]=C}return r},globalEval:function(g){if(g&&o.test(g)){var l=y.getElementsByTagName("head")[0]||j,r=y.createElement("script");r.text=g;l.insertBefore(r,l.firstChild);l.removeChild(r)}},later:function(g,l,r,t,x){l=l||0;t=t||{};var z=g,C=e.makeArray(x),a;if(e.isString(g))z=t[g];z||e.error("method undefined");g=function(){z.apply(t,C)};a=r?setInterval(g,l):setTimeout(g,l);return{id:a,
interval:r,cancel:function(){this.interval?clearInterval(a):clearTimeout(a)}}},ready:function(g){d||this._bindReady();p?g.call(A,this):s.push(g);return this},_bindReady:function(){var g=this,l=y.documentElement.doScroll,r=l?"onreadystatechange":"DOMContentLoaded",t=function(){g._fireReady()};d=true;if(y.readyState==="complete")return t();if(y.addEventListener){var x=function(){y.removeEventListener(r,x,false);t()};y.addEventListener(r,x,false);A.addEventListener("load",t,false)}else{var z=function(){if(y.readyState===
"complete"){y.detachEvent(r,z);t()}};y.attachEvent(r,z);A.attachEvent("onload",t);var C=false;try{C=A.frameElement==null}catch(a){}if(l&&C){var b=function(){try{l("left");t()}catch(c){setTimeout(b,1)}};b()}}},_fireReady:function(){if(!p){p=true;if(s){for(var g,l=0;g=s[l++];)g.call(A,this);s=null}}},available:function(g,l){if((g=(g+"").match(i)[1])&&e.isFunction(l))var r=1,t=e.later(function(){if(y.getElementById(g)&&(l()||1)||++r>500)t.cancel()},40,true)}});try{B(j.childNodes)}catch(w){B=function(g){for(var l=
[],r=g.length-1;r>=0;r--)l[r]=g[r];return l}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)e.Config.debug=true})(KISSY);(function(e){e.config({combine:{core:["dom","ua","event","node","json","ajax","anim","base","cookie"]}})})(KISSY);
