/*
Copyright 2011, KISSY UI Library v1.30dev
MIT Licensed
build time: Dec 31 15:15
*/
KISSY.add("switchable/accordion/aria",function(i,c,q,u,m){function v(d){var n;i.each(this.triggers,function(A){if(A==d||c.contains(A,d))n=A});return n}function s(d){var n;i.each(this.panels,function(A){if(A==d||c.contains(A,d))n=A});return n}function h(d){var n=v.call(this,d);if(!n){d=s.call(this,d);n=this.triggers[i.indexOf(d,this.panels)]}return n}function o(d){switch(d.keyCode){case w:case y:d.ctrlKey&&!d.altKey&&!d.shiftKey&&d.halt();break;case k:d.ctrlKey&&!d.altKey&&d.halt()}}function b(d){var n=
d.target,A=this.triggers,E=!d.ctrlKey&&!d.shiftKey&&!d.altKey,F=d.ctrlKey&&!d.shiftKey&&!d.altKey;switch(d.keyCode){case x:case t:if((n=v.call(this,n))&&E){this.switchTo(i.indexOf(n,this.triggers));d.halt()}break;case z:case l:if(n=v.call(this,n)){e.call(this,n);d.halt()}break;case B:case g:if(n=v.call(this,n)){j.call(this,n);d.halt()}break;case y:if(F){d.halt();n=h.call(this,n);j.call(this,n)}break;case w:if(F){d.halt();n=h.call(this,n);e.call(this,n)}break;case p:if(E){h.call(this,n);a.call(this,
0,true);d.halt()}break;case r:if(E){h.call(this,n);a.call(this,A.length-1,true);d.halt()}break;case k:if(d.ctrlKey&&!d.altKey){d.halt();n=h.call(this,n);d.shiftKey?e.call(this,n):j.call(this,n)}}}function a(d,n){var A=this.triggers,E=A[d];i.each(A,function(F){if(F!==E){C(F,"-1");c.removeClass(F,"ks-switchable-select");F.setAttribute("aria-selected","false")}});n&&E.focus();C(E,"0");c.addClass(E,"ks-switchable-select");E.setAttribute("aria-selected","true")}function e(d){var n=this.triggers;d=i.indexOf(d,
n);a.call(this,d==0?n.length-1:d-1,true)}function j(d){var n=this.triggers;d=i.indexOf(d,n);a.call(this,d==n.length-1?0:d+1,true)}function f(d){var n=!!(d.originalEvent.target||d.originalEvent.srcElement);d=d.currentIndex;var A=this.panels,E=this.triggers,F=E[d],G=A[d];if(!this.config.multiple){i.each(A,function(D){D!==G&&D.setAttribute("aria-hidden","true")});i.each(E,function(D){D!==F&&D.setAttribute("aria-hidden","true")})}A=G.getAttribute("aria-hidden");G.setAttribute("aria-hidden",A=="false"?
"true":"false");F.setAttribute("aria-expanded",A=="false"?"false":"true");a.call(this,d,n)}var w=33,y=34,r=35,p=36,z=37,l=38,B=39,g=40,k=9,t=32,x=13;i.mix(m.Config,{aria:true});m.Plugins.push({name:"aria",init:function(d){if(d.config.aria){var n=d.container,A=d.activeIndex;c.attr(n,"aria-multiselectable",d.config.multiple?"true":"false");d.nav&&c.attr(d.nav,"role","tablist");var E=d.triggers,F=d.panels,G=0;i.each(F,function(D){if(!D.id)D.id=i.guid("ks-accordion-tab-panel")});i.each(E,function(D){if(!D.id)D.id=
i.guid("ks-accordion-tab")});i.each(E,function(D){D.setAttribute("role","tab");D.setAttribute("aria-expanded",A==G?"true":"false");D.setAttribute("aria-selected",A==G?"true":"false");D.setAttribute("aria-controls",F[G].id);C(D,A==G?"0":"-1");G++});G=0;i.each(F,function(D){var H=E[G];D.setAttribute("role","tabpanel");D.setAttribute("aria-hidden",A==G?"false":"true");D.setAttribute("aria-labelledby",H.id);G++});d.on("switch",f,d);q.on(n,"keydown",b,d);q.on(n,"keypress",o,d)}}});var C=u.setTabIndex},
{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable/accordion/base",function(i,c,q){function u(m,v){if(!(this instanceof u))return new u(m,v);u.superclass.constructor.apply(this,arguments)}i.extend(u,q,{_switchTrigger:function(m,v){var s=this.config;s.multiple?c.toggleClass(v,s.activeTriggerCls):u.superclass._switchTrigger.apply(this,arguments)},_triggerIsValid:function(m){return this.config.multiple||u.superclass._triggerIsValid.call(this,m)},_switchView:function(m,v,s,h,o,b){var a=v[0];if(this.config.multiple){c.toggle(a);this._fireOnSwitch(s,
o);b&&b.call(this)}else u.superclass._switchView.apply(this,arguments)}});u.Plugins=[];u.Config={markupType:1,triggerType:"click",multiple:false};return u},{requires:["dom","../base"]});
KISSY.add("switchable/aria",function(i,c,q,u){function m(){this.stop&&this.stop()}function v(){this.start&&this.start()}u.Plugins.push({name:"aria",init:function(h){if(h.config.aria){var o=h.container;q.on(o,"focusin",m,h);q.on(o,"focusout",v,h)}}});var s=["a","input","button","object"];return{setTabIndex:function(h,o){h.tabIndex=o;c.query("*",h).each(function(b){var a=b.nodeName.toLowerCase();if(i.inArray(a,s)){c.hasAttr(b,"oriTabIndex")||c.attr(b,"oriTabIndex",b.tabIndex);b.tabIndex=o!=-1?c.attr(b,
"oriTabIndex"):o}})}}},{requires:["dom","event","./base"]});
KISSY.add("switchable/autoplay",function(i,c,q,u){i.mix(q.Config,{autoplay:false,interval:5,pauseOnHover:true});q.Plugins.push({name:"autoplay",init:function(m){function v(){o=i.later(function(){m.paused||m.switchTo(m.activeIndex<m.length-1?m.activeIndex+1:0,"forward")},h,true)}var s=m.config,h=s.interval*1E3,o;if(s.autoplay){v();m.stop=function(){if(o){o.cancel();o=u}m.paused=true};m.start=function(){if(o){o.cancel();o=u}m.paused=false;v()};if(s.pauseOnHover){c.on(m.container,"mouseenter",m.stop,
m);c.on(m.container,"mouseleave",m.start,m)}}}});return q},{requires:["event","./base"]});KISSY.add("switchable/autorender",function(i,c,q,u){u.autoRender=function(m,v){m="."+(m||"KS_Widget");c.query(m,v).each(function(s){var h=s.getAttribute("data-widget-type"),o;if(h&&"Switchable Tabs Slide Carousel Accordion".indexOf(h)>-1)try{if(o=s.getAttribute("data-widget-config"))o=o.replace(/'/g,'"');new i[h](s,q.parse(o))}catch(b){}})}},{requires:["dom","json","switchable/base"]});
KISSY.add("switchable/base",function(i,c,q,u){function m(b,a){a=a||{};if(!("markupType"in a))if(a.panelCls)a.markupType=1;else if(a.panels)a.markupType=2;for(var e=this.constructor;e;){a=i.merge(e.Config,a);e=e.superclass?e.superclass.constructor:null}this.container=c.get(b);this.config=a;this.activeIndex=this.completedIndex=a.activeIndex;if(!(this.activeIndex>-1))if(typeof a.switchTo!="number")this.completedIndex=this.activeIndex=0;this._init();this._initPlugins();this.fire(o);this.activeIndex>-1||
typeof a.switchTo=="number"&&this.switchTo(a.switchTo)}function v(b){var a={};a.type=b.originalEvent.type;a.target=b.originalEvent.target||b.originalEvent.srcElement;return{originalEvent:a}}var s=i.makeArray,h=q.Target,o="init";m.getDomEvent=v;m.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:-1,activeTriggerCls:"ks-active",
steps:1,viewSize:[]};m.Plugins=[];i.augment(m,h,{_initPlugins:function(){for(var b=this,a=b.constructor;a;){i.each(a.Plugins,function(e){e.init&&e.init(b)});a=a.superclass?a.superclass.constructor:null}},_init:function(){var b=this.config;this._parseMarkup();b.hasTriggers&&this._bindTriggers()},_parseMarkup:function(){var b=this.container,a=this.config,e,j,f=[],w=[];switch(a.markupType){case 0:if(e=c.get("."+a.navCls,b))f=c.children(e);j=c.get("."+a.contentCls,b);w=c.children(j);break;case 1:f=c.query("."+
a.triggerCls,b);w=c.query("."+a.panelCls,b);break;case 2:f=a.triggers;w=a.panels}b=w.length;this.length=Math.ceil(b/a.steps);if(a.hasTriggers&&b>0&&f.length===0)f=this._generateTriggersMarkup(this.length);this.triggers=s(f);this.panels=s(w);this.content=j||w[0].parentNode;this.nav=e||a.hasTriggers&&f[0].parentNode},_generateTriggersMarkup:function(b){var a=this.config,e=c.create("<ul>"),j,f;e.className=a.navCls;for(f=0;f<b;f++){j=c.create("<li>");if(f===this.activeIndex)j.className=a.activeTriggerCls;
j.innerHTML=f+1;e.appendChild(j)}this.container.appendChild(e);return c.children(e)},_bindTriggers:function(){var b=this,a=b.config,e=b.triggers,j,f,w=e.length;for(f=0;f<w;f++)(function(y){j=e[y];q.on(j,"click",function(r){b._onFocusTrigger(y,r)});if(a.triggerType==="mouse"){q.on(j,"mouseenter",function(r){b._onMouseEnterTrigger(y,r)});q.on(j,"mouseleave",function(){b._onMouseLeaveTrigger(y)})}})(f)},_onFocusTrigger:function(b,a){if(this._triggerIsValid(b)){this._cancelSwitchTimer();this.switchTo(b,
u,v(a))}},_onMouseEnterTrigger:function(b,a){var e=this;if(e._triggerIsValid(b)){var j=v(a);e.switchTimer=i.later(function(){e.switchTo(b,u,j)},e.config.delay*1E3)}},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(b){return this.activeIndex!==b},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=u}},switchTo:function(b,a,e,j){var f=this,w=f.config,y=f.triggers,r=f.panels,p=f.activeIndex,z=w.steps,l=p*z,B=b*z;if(!f._triggerIsValid(b))return f;
if(f.fire("beforeSwitch",{toIndex:b})===false)return f;if(w.hasTriggers)f._switchTrigger(p>-1?y[p]:null,y[b]);if(a===u)a=b>p?"forward":"backward";f._switchView(p>-1?r.slice(l,l+z):null,r.slice(B,B+z),b,a,e,function(){j&&j.call(f,b);f.completedIndex=b});f.activeIndex=b;return f},_switchTrigger:function(b,a){var e=this.config.activeTriggerCls;b&&c.removeClass(b,e);c.addClass(a,e)},_switchView:function(b,a,e,j,f,w){b&&c.css(b,"display","none");c.css(a,"display","block");this._fireOnSwitch(e,f);w&&w.call(this)},
_fireOnSwitch:function(b,a){this.fire("switch",i.mix(a||{},{currentIndex:b}))},prev:function(b){var a=this.activeIndex;this.switchTo(a>0?a-1:this.length-1,"backward",b)},next:function(b){var a=this.activeIndex;this.switchTo(a<this.length-1?a+1:0,"forward",b)}});return m},{requires:["dom","event"]});
KISSY.add("switchable/carousel/aria",function(i,c,q,u,m){function v(g){var k=g.currentIndex,t=this.activeIndex,x=this.panels,C=x[k*this.config.steps],d=this.triggers;k=d[k];if((g=!!(g.originalEvent.target||g.originalEvent.srcElement))||t==-1){i.each(d,function(n){p(n,-1)});i.each(x,function(n){p(n,-1)});k&&p(k,0);p(C,0);g&&C.focus()}}function s(g){var k;i.each(this.triggers,function(t){if(t==g||c.contains(t,g)){k=t;return false}});return k}function h(g){var k=g.target;switch(g.keyCode){case w:case f:if(k=
s.call(this,k)){k=k;var t=c.next(k),x=this.triggers;t||(t=x[0]);p(k,-1);if(t){p(t,0);t.focus()}g.halt()}break;case j:case e:if(k=s.call(this,k)){k=k;t=c.prev(k);x=this.triggers;t||(t=x[x.length-1]);p(k,-1);if(t){p(t,0);t.focus()}g.halt()}break;case r:case y:if(k=s.call(this,k)){this.switchTo(i.indexOf(k,this.triggers),undefined,z);g.halt()}}}function o(g){var k;i.each(this.panels,function(t){if(t==g||c.contains(t,g)){k=t;return false}});return k}function b(g,k){var t=i.indexOf(g,this.panels),x=this.config.steps,
C=Math.floor(t/x);if(C==this.activeIndex)return 1;if(t%x==0||t%x==x-1){this.switchTo(C,k,z);return 0}return 1}function a(g){var k=g.target;switch(g.keyCode){case w:case f:if(k=o.call(this,k)){k=k;var t=c.next(k),x=this.panels;t||(t=x[0]);p(k,-1);p(t,0);b.call(this,t,l)&&t.focus();g.halt()}break;case j:case e:if(k=o.call(this,k)){k=k;t=c.prev(k);x=this.panels;t||(t=x[x.length-1]);p(k,-1);p(t,0);b.call(this,t,B)&&t.focus();g.halt()}break;case r:case y:if(k=o.call(this,k)){this.fire("itemSelected",{item:k});
g.halt()}}}var e=37,j=38,f=39,w=40,y=32,r=13,p=u.setTabIndex,z={originalEvent:{target:1}},l="forward",B="backward";i.mix(m.Config,{aria:false});m.Plugins.push({name:"aria",init:function(g){if(g.config.aria){var k=g.triggers,t=g.panels,x=g.content,C=g.activeIndex;if(!x.id)x.id=i.guid("ks-switchbale-content");x.setAttribute("role","listbox");var d=0;i.each(k,function(n){p(n,C==d?"0":"-1");n.setAttribute("role","button");n.setAttribute("aria-controls",x.id);d++});d=0;i.each(t,function(n){p(n,"-1");n.setAttribute("role",
"option");d++});g.on("switch",v,g);(k=g.nav)&&q.on(k,"keydown",h,g);q.on(x,"keydown",a,g);k=g.prevBtn;t=g.nextBtn;if(k){p(k,0);k.setAttribute("role","button");q.on(k,"keydown",function(n){if(n.keyCode==r||n.keyCode==y){g.prev(z);n.preventDefault()}})}if(t){p(t,0);t.setAttribute("role","button");q.on(t,"keydown",function(n){if(n.keyCode==r||n.keyCode==y){g.next(z);n.preventDefault()}})}}}})},{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable/carousel/base",function(i,c,q,u,m){function v(h,o){if(!(this instanceof v))return new v(h,o);v.superclass.constructor.apply(this,arguments)}var s={originalEvent:{target:1}};v.Config={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};v.Plugins=[];i.extend(v,u,{_init:function(){var h=this;v.superclass._init.call(h);var o=h.config,b=o.disableBtnCls;i.each(["prev","next"],function(a){var e=h[a+"Btn"]=
c.get("."+o[a+"BtnCls"],h.container);q.on(e,"mousedown",function(j){j.preventDefault();c.hasClass(e,b)||h[a](s)})});o.circular||h.on("switch",function(a){a=a.currentIndex;a=a===0?h.prevBtn:a===h.length-1?h.nextBtn:m;c.removeClass([h.prevBtn,h.nextBtn],b);a&&c.addClass(a,b)});q.on(h.panels,"click",function(){h.fire("itemSelected",{item:this})})}});return v},{requires:["dom","event","../base"]});
KISSY.add("switchable/circular",function(i,c,q,u){function m(r,p,z,l,B){var g=this;p=g.config;var k=g.length,t=g.activeIndex,x=p.scrollType===y,C=x?b:a,d=g.viewSize[x?0:1];x=-d*l;var n={},A,E=B===w;if(A=E&&t===0&&l===k-1||B===f&&t===k-1&&l===0)x=v.call(g,g.panels,l,E,C,d);n[C]=x+j;g.anim&&g.anim.stop();if(r)g.anim=(new q(g.content,n,p.duration,p.easing,function(){A&&s.call(g,g.panels,l,E,C,d);g.anim=undefined;z&&z()})).run();else{c.css(g.content,n);z&&z()}}function v(r,p,z,l,B){var g=this.config.steps;
p=this.length;var k=z?p-1:0;r=r.slice(k*g,(k+1)*g);c.css(r,h,o);c.css(r,l,(z?-1:1)*B*p);return z?B:-B*p}function s(r,p,z,l,B){var g=this.config.steps;p=this.length;var k=z?p-1:0;r=r.slice(k*g,(k+1)*g);c.css(r,h,e);c.css(r,l,e);c.css(this.content,l,z?-B*(p-1):e)}var h="position",o="relative",b="left",a="top",e="",j="px",f="forward",w="backward",y="scrollx";i.mix(u.Config,{circular:false});u.Plugins.push({name:"circular",init:function(r){r=r.config;if(r.circular&&(r.effect===y||r.effect==="scrolly")){r.scrollType=
r.effect;r.effect=m}}})},{requires:["dom","anim","./base","./effect"]});
KISSY.add("switchable/countdown",function(i,c,q,u,m,v){i.mix(m.Config,{countdown:false,countdownFromStyle:"",countdownToStyle:"width: 0"});m.Plugins.push({name:"countdown",init:function(s){function h(r){o();y=(new u(j[r],w,e-1)).run()}function o(){if(a){clearTimeout(a);a=null}if(y){y.stop();y=v}}var b=s.config,a,e=b.interval,j=[],f=b.countdownFromStyle,w=b.countdownToStyle,y;if(!(!b.autoplay||!b.hasTriggers||!b.countdown)){i.each(s.triggers,function(r,p){r.innerHTML='<div class="ks-switchable-trigger-mask"></div><div class="ks-switchable-trigger-content">'+
r.innerHTML+"</div>";j[p]=r.firstChild});if(b.pauseOnHover){q.on(s.container,"mouseenter",function(){o();var r=j[s.activeIndex];if(f)y=(new u(r,f,0.2,"easeOut")).run();else c.attr(r,"style","")});q.on(s.container,"mouseleave",function(){o();var r=s.activeIndex;c.attr(j[r],"style",f);a=setTimeout(function(){h(r)},200)})}s.on("beforeSwitch",function(){o();if(j[s.activeIndex])c.attr(j[s.activeIndex],"style",f||"")});s.on("switch",function(r){s.paused||h(r.currentIndex)});s.activeIndex>-1&&h(s.activeIndex)}}});
return m},{requires:["dom","event","anim","./base"]});
KISSY.add("switchable/effect",function(i,c,q,u,m,v){var s;i.mix(m.Config,{effect:"none",duration:0.5,easing:"easeNone"});m.Effects={none:function(h,o,b){h&&c.css(h,"display","none");c.css(o,"display","block");b&&b()},fade:function(h,o,b){var a=this,e=a.config,j=h?h[0]:null,f=o[0];if(a.anim){a.anim.stop();c.css(a.anim.fromEl,{zIndex:1,opacity:0});c.css(a.anim.toEl,"zIndex",9)}c.css(f,"opacity",1);if(j){a.anim=(new u(j,{opacity:0},e.duration,e.easing,function(){a.anim=v;c.css(f,"z-index",9);c.css(j,
"z-index",1);b&&b()})).run();a.anim.toEl=f;a.anim.fromEl=j}else{c.css(f,"z-index",9);b&&b()}},scroll:function(h,o,b,a){var e=this;o=e.config;var j=o.effect==="scrollx",f={};f[j?"left":"top"]=-(e.viewSize[j?0:1]*a)+"px";e.anim&&e.anim.stop();if(h)e.anim=(new u(e.content,f,o.duration,o.easing,function(){e.anim=v;b&&b()})).run();else{c.css(e.content,f);b&&b()}}};s=m.Effects;s.scrollx=s.scrolly=s.scroll;m.Plugins.push({name:"effect",init:function(h){var o=h.config,b=o.effect,a=h.panels,e=h.content,j=
o.steps,f=h.activeIndex,w=a.length;h.viewSize=[o.viewSize[0]||a[0].offsetWidth*j,o.viewSize[1]||a[0].offsetHeight*j];if(b!=="none"){c.css(a,"display","block");switch(b){case "scrollx":case "scrolly":c.css(e,"position","absolute");c.css(e.parentNode,"position")=="static"&&c.css(e.parentNode,"position","relative");if(b==="scrollx"){c.css(a,"float","left");c.width(e,h.viewSize[0]*(w/j))}break;case "fade":var y=f*j,r=y+j-1,p;i.each(a,function(z,l){p=l>=y&&l<=r;c.css(z,{opacity:p?1:0,position:"absolute",
zIndex:p?9:1})})}}}});i.augment(m,{_switchView:function(h,o,b,a,e,j){var f=this,w=f.config.effect;(i.isFunction(w)?w:s[w]).call(f,h,o,function(){f._fireOnSwitch(b,e);j&&j.call(f)},b,a)}});return m},{requires:["dom","event","anim","switchable/base"]});
KISSY.add("switchable/lazyload",function(i,c,q){var u="beforeSwitch",m="img",v="textarea",s={};s[m]="data-ks-lazyload-custom";s[v]="ks-datalazyload-custom";i.mix(q.Config,{lazyDataType:v});q.Plugins.push({name:"lazyload",init:function(h){function o(f){var w=a.steps;f=f.toIndex*w;b.loadCustomLazyData(h.panels.slice(f,f+w),e);a:{if(f=(w=e===m)?"img":e===v?"textarea":""){f=c.query(f,h.container);for(var y=0,r=f.length;y<r;y++){var p=f[y];if(w?c.attr(p,j):c.hasClass(p,j)){w=false;break a}}}w=true}w&&
h.detach(u,o)}var b=i.require("datalazyload"),a=h.config,e,j;if(a.lazyDataType==="img-src")a.lazyDataType=m;if(a.lazyDataType==="area-data")a.lazyDataType=v;e=a.lazyDataType;j=s[e];!b||!e||!j||h.on(u,o)}});return q},{requires:["dom","./base"]});
KISSY.add("switchable/slide/aria",function(i,c,q,u,m){function v(j){switch(j.keyCode){case b:case o:this.next(a);j.halt();break;case h:case s:this.prev(a);j.halt()}}var s=37,h=38,o=39,b=40;i.mix(m.Config,{aria:false});var a={originalEvent:{target:1}},e=u.setTabIndex;m.Plugins.push({name:"aria",init:function(j){if(j.config.aria){var f=j.panels,w=0,y=j.activeIndex;i.each(j.triggers,function(p){e(p,"-1");w++});w=0;i.each(f,function(p){e(p,y==w?"0":"-1");c.attr(p,"role","option");w++});var r=j.content;
c.attr(r,"role","listbox");q.on(r,"keydown",v,j);e(f[0],0);j.on("switch",function(p){var z=p.currentIndex;p=!!(p.originalEvent.target||p.originalEvent.srcElement);var l=j.completedIndex;l>-1&&e(f[l],-1);e(f[z],0);p&&f[z].focus()})}}})},{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable/slide/base",function(i,c){function q(u,m){if(!(this instanceof q))return new q(u,m);q.superclass.constructor.apply(this,arguments)}q.Config={autoplay:true,circular:true};q.Plugins=[];i.extend(q,c);return q},{requires:["../base"]});
KISSY.add("switchable",function(i,c,q,u,m,v,s,h,o,b,a,e,j,f,w,y){i.mix(c,{Accordion:u,Carousel:h,Slide:f,Tabs:y});return c},{requires:["switchable/base","switchable/aria","switchable/accordion/base","switchable/accordion/aria","switchable/autoplay","switchable/autorender","switchable/carousel/base","switchable/carousel/aria","switchable/circular","switchable/countdown","switchable/effect","switchable/lazyload","switchable/slide/base","switchable/slide/aria","switchable/tabs/base","switchable/tabs/aria"]});
KISSY.add("switchable/tabs/aria",function(i,c,q,u,m,v){function s(l){var B;i.each(this.triggers,function(g){if(g==l||c.contains(g,l))B=g});return B}function h(l){switch(l.keyCode){case a:case e:l.ctrlKey&&!l.altKey&&!l.shiftKey&&l.halt();break;case r:l.ctrlKey&&!l.altKey&&l.halt()}}function o(l){var B=l.target,g=l.ctrlKey&&!l.shiftKey&&!l.altKey;switch(l.keyCode){case j:case f:if(s.call(this,B)){this.prev(z(l));l.halt()}break;case w:case y:if(s.call(this,B)){this.next(z(l));l.halt()}break;case e:if(g){l.halt();
this.next(z(l))}break;case a:if(g){l.halt();this.prev(z(l))}break;case r:if(l.ctrlKey&&!l.altKey){l.halt();l.shiftKey?this.prev(z(l)):this.next(z(l))}}}function b(l){var B=!!(l.originalEvent.target||l.originalEvent.srcElement),g=this.completedIndex,k=l.currentIndex;if(g!=k){l=this.triggers[g];var t=this.triggers[k];g=this.panels[g];k=this.panels[k];l&&p(l,"-1");p(t,"0");B&&t.focus();g&&g.setAttribute("aria-hidden","true");k.setAttribute("aria-hidden","false")}}var a=33,e=34,j=37,f=38,w=39,y=40,r=
9;i.mix(v.Config,{aria:true});v.Plugins.push({name:"aria",init:function(l){if(l.config.aria){var B=l.triggers,g=l.activeIndex,k=l.panels,t=l.container;l.nav&&c.attr(l.nav,"role","tablist");var x=0;i.each(B,function(C){C.setAttribute("role","tab");p(C,g==x?"0":"-1");if(!C.id)C.id=i.guid("ks-switchable");x++});x=0;i.each(k,function(C){var d=B[x];C.setAttribute("role","tabpanel");C.setAttribute("aria-hidden",g==x?"false":"true");C.setAttribute("aria-labelledby",d.id);x++});l.on("switch",b,l);q.on(t,
"keydown",o,l);q.on(t,"keypress",h,l)}}});var p=m.setTabIndex,z=u.getDomEvent},{requires:["dom","event","../base","../aria","./base"]});KISSY.add("switchable/tabs/base",function(i,c){function q(u,m){if(!(this instanceof q))return new q(u,m);q.superclass.constructor.call(this,u,m);return 0}i.extend(q,c);q.Config={};q.Plugins=[];return q},{requires:["../base"]});
