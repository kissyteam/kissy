/*
Copyright 2014, KISSY v5.0.0
MIT Licensed
build time: Jul 18 13:55
*/
KISSY.add("dom/ie","./ie/create,./ie/insertion,./ie/style,./ie/traversal,./ie/transform,./ie/input-selection,./ie/attr".split(","),function(o,e){e("./ie/create");e("./ie/insertion");e("./ie/style");e("./ie/traversal");e("./ie/transform");e("./ie/input-selection");e("./ie/attr")});
KISSY.add("dom/ie/create",["util","dom/base","ua"],function(o,e){var j=e("util"),m=e("dom/base");m._fixCloneAttributes=function(a,c){c.clearAttributes&&c.clearAttributes();c.mergeAttributes&&c.mergeAttributes(a);var b=c.nodeName.toLowerCase(),d=a.childNodes,h=(a.type||"").toLowerCase();if("object"===b&&!c.childNodes.length)for(b=0;b<d.length;b++)c.appendChild(d[b].cloneNode(!0));else if("input"===b&&("checkbox"===h||"radio"===h)){if(d=a.checked)c.defaultChecked=c.checked=d;d=a.value;c.value!==d&&
(c.value=d)}else if("option"===b)c.selected=a.defaultSelected;else if("input"===b||"textarea"===b)c.defaultValue=a.defaultValue,c.value=a.value;c.removeAttribute(m.__EXPANDO)};var i=m._creators,k=m._defaultCreator,f=/<tbody/i;8>e("ua").ieMode&&(i.table=function(a,c){var b=k(a,c);if(f.test(a))return b;var d=b.firstChild,h=j.makeArray(d.childNodes);j.each(h,function(a){"tbody"===m.nodeName(a)&&!a.childNodes.length&&d.removeChild(a)});return b})});
KISSY.add("dom/ie/insertion",["dom/base","ua"],function(o,e){var j=e("dom/base");8>e("ua").ieMode&&(j._fixInsertionChecked=function i(e){for(var f=0;f<e.length;f++){var a=e[f];if(a.nodeType===j.NodeType.DOCUMENT_FRAGMENT_NODE)i(a.childNodes);else if("input"===j.nodeName(a)){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}else if(a.nodeType===j.NodeType.ELEMENT_NODE)for(var a=a.getElementsByTagName("input"),c=0;c<a.length;c++)i(a[c])}})});
KISSY.add("dom/ie/style",["util","logger-manager","dom/base","ua"],function(o,e){var j=e("util");e("logger-manager");var m=e("dom/base"),i=m._cssProps,k=e("ua"),f=document,f=f&&f.documentElement,a=/^(top|right|bottom|left)$/,c=m._cssHooks,b=/opacity\s*=\s*([^)]*)/,d=/alpha\([^)]*\)/i;i["float"]="styleFloat";c.backgroundPosition={get:function(a,d){return d?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==f.style.opacity&&(c.opacity={get:function(a,
d){return b.test((d&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":d?"1":""},set:function(a,b){var b=parseFloat(b),c=a.style,h=a.currentStyle,l=isNaN(b)?"":"alpha(opacity="+100*b+")",g=j.trim(h&&h.filter||c.filter||"");c.zoom=1;if((1<=b||!l)&&!j.trim(g.replace(d,"")))if(c.removeAttribute("filter"),!l||h&&!h.filter)return;c.filter=d.test(g)?g.replace(d,l):g+(g?", ":"")+l}})}catch(h){}var k=8===k.ie,l={};l.thin=k?"1px":"2px";l.medium=k?"3px":"4px";l.thick=k?
"5px":"6px";j.each(["","Top","Left","Right","Bottom"],function(a){var d="border"+a+"Width",b="border"+a+"Style";c[d]={get:function(a,c){var h=c?a.currentStyle:0,f=h&&""+h[d]||void 0;f&&0>f.indexOf("px")&&(f=l[f]&&"none"!==h[b]?l[f]:0);return f}}});m._getComputedStyle=function(d,b){var b=i[b]||b,c=d.currentStyle&&d.currentStyle[b];if(m._RE_NUM_NO_PX.test(c)&&!a.test(b)){var h=d.style,l=h.left,g=d.runtimeStyle.left;d.runtimeStyle.left=d.currentStyle.left;h.left="fontSize"===b?"1em":c||0;c=h.pixelLeft+
"px";h.left=l;d.runtimeStyle.left=g}return""===c?"auto":c}});
KISSY.add("dom/ie/traversal",["dom/base"],function(o,e){var j=e("dom/base");j._contains=function(f,a){f.nodeType===j.NodeType.DOCUMENT_NODE&&(f=f.documentElement);a=a.parentNode;return f===a?!0:a&&a.nodeType===j.NodeType.ELEMENT_NODE?f.contains&&f.contains(a):!1};var m=document.createElement("div");m.appendChild(document.createComment(""));var i;i=m.getElementsByTagName("*").length?function(f,a){var c=a.getElementsByTagName(f),b="*"===f;if(b||"number"!==typeof c.length){for(var d=[],h=0,l;l=c[h++];)(!b||
1===l.nodeType)&&d.push(l);return d}return c}:function(f,a){return a.getElementsByTagName(f)};j._getElementsByTagName=i;var k=j._getSimpleAttr;j._getElementById=function(f,a){var c=a.getElementById(f);if(c&&k(c,"id")!==f)for(var b=i("*",a),d=0,h=b.length;d<h;d++)if(k(b[d],"id")===f)return b[d];return c}});
KISSY.add("dom/ie/transform",["util","dom/base"],function(o,e){function j(a){return[[a[0],a[2],a[4]],[a[1],a[3],a[5]],[0,0,1]]}function m(a,c){var b;if(2<arguments.length){var d=a;for(b=1;b<arguments.length;b++)d=m(d,arguments[b]);return d}var d=[],h=a.length,l=c.length,f=c[0].length;for(b=0;b<h;b++)for(var e=0;e<f;e++){for(var j=0,i=0;i<l;i++)j+=a[b][i]*c[i][e];var i=d,k=b,g=e;i[k]||(i[k]=[]);i[k][g]=j}return d}function i(a){return-1<a.indexOf("deg")?parseInt(a,10)*(2*Math.PI/360):parseFloat(a)}
var k=e("util"),f=/progid:DXImageTransform.Microsoft.Matrix\(([^)]*)\)/;e("dom/base")._cssHooks.transform={get:function(a,c){var b=a[c?"currentStyle":"style"];if(b&&f.test(b.filter)){var b=RegExp.$1.split(","),d=0,h=0,l=b[4]&&b[4].split("="),e=b[5]&&b[5].split("=");l&&"dx"===l[0].toLowerCase()&&(d=parseFloat(l[1]));e&&"dy"===e[0].toLowerCase()&&(h=parseFloat(e[1]));b=[b[0].split("=")[1],b[2].split("=")[1],b[1].split("=")[1],b[3].split("=")[1],d,h]}else return c?"none":"";return"matrix("+b.join(",")+
")"},set:function(a,c){var b=a.style,d,h=a.currentStyle,l,e={width:a.clientWidth,height:a.clientHeight};l=e.width/2;var r=e.height/2,p=a.style.transformOrigin,p=(p||"50% 50%").split(/\s+/);1===p.length&&(p[1]=p[0]);for(var q=0;q<p.length;q++){var o=parseFloat(p[q]);p[q]=k.endsWith(p[q],"%")?o*e[q?"height":"width"]/100:o}e=p;b.zoom=1;if(c){d=c.split(")");for(var p=k.trim,q=-1,o=d.length-1,g,t,s=j([1,0,0,1,0,0]),n;++q<o;){g=d[q].split("(");t=p(g[0]);g=g[1];n=[1,0,0,1,0,0];switch(t){case "translateX":n[4]=
parseInt(g,10);break;case "translateY":n[5]=parseInt(g,10);break;case "translate":g=g.split(",");n[4]=parseInt(g[0],10);n[5]=parseInt(g[1]||0,10);break;case "rotate":g=i(g);n[0]=Math.cos(g);n[1]=Math.sin(g);n[2]=-Math.sin(g);n[3]=Math.cos(g);break;case "scaleX":n[0]=+g;break;case "scaleY":n[3]=+g;break;case "scale":g=g.split(",");n[0]=+g[0];n[3]=1<g.length?+g[1]:+g[0];break;case "skewX":n[2]=Math.tan(i(g));break;case "skewY":n[1]=Math.tan(i(g));break;case "skew":g=g.split(",");n[2]=Math.tan(i(g[0]));
1<g.length&&(n[1]=Math.tan(i(g[1])));break;case "matrix":g=g.split(","),n[0]=+g[0],n[1]=+g[1],n[2]=+g[2],n[3]=+g[3],n[4]=parseInt(g[4],10),n[5]=parseInt(g[5],10)}s=m(s,j(n))}c=s;d=e[0];e=e[1];d=m([[1,0,d],[0,1,e],[0,0,1]],c,[[1,0,-d],[0,1,-e],[0,0,1]],[[l],[r],[1]]);d.x=d[0][0];d.y=d[1][0];l=["progid:DXImageTransform.Microsoft.Matrix(M11="+c[0][0],"M12="+c[0][1],"M21="+c[1][0],"M22="+c[1][1],"Dx="+c[0][2],"Dy="+c[1][2],'SizingMethod="auto expand"'].join()+")"}else l="";r=h&&h.filter||b.filter||"";
if(!l&&!k.trim(r.replace(f,""))&&(b.removeAttribute("filter"),!l||h&&!h.filter))return;b.filter=f.test(r)?r.replace(f,l):r+(r?", ":"")+l;l?(h=a.offsetHeight/2,b.marginLeft=d.x-a.offsetWidth/2+"px",b.marginTop=d.y-h+"px"):b.marginLeft=b.marginTop=0}}});
KISSY.add("dom/ie/input-selection",["dom/base"],function(o,e){function j(a,c){var b=0,d=0,h=a.ownerDocument.selection.createRange(),e=m(a);e.inRange(h)&&(e.setEndPoint("EndToStart",h),b=k(a,e).length,c&&(d=b+k(a,h).length));return[b,d]}function m(a){if("textarea"===a.type){var c=a.document.body.createTextRange();c.moveToElementText(a);return c}return a.createTextRange()}function i(a,c,b){var d=Math.min(c,b),h=Math.max(c,b);return d===h?0:"textarea"===a.type?(a=a.value.substring(d,h).replace(/\r\n/g,
"\n").length,c>b&&(a=-a),a):b-c}function k(a,c){if("textarea"===a.type){var b=c.text,d=c.duplicate();if(0===d.compareEndPoints("StartToEnd",d))return b;d.moveEnd("character",-1);d.text===b&&(b+="\r\n");return b}return c.text}var f=e("dom/base")._propHooks;f.selectionStart={set:function(a,c){var b=a.ownerDocument.selection.createRange();if(m(a).inRange(b)){var d=j(a,1)[1],h=i(a,c,d);b.collapse(!1);b.moveStart("character",-h);c>d&&b.collapse(!0);b.select()}},get:function(a){return j(a)[0]}};f.selectionEnd=
{set:function(a,c){var b=a.ownerDocument.selection.createRange();if(m(a).inRange(b)){var d=j(a)[0],h=i(a,d,c);b.collapse(!0);b.moveEnd("character",h);d>c&&b.collapse(!1);b.select()}},get:function(a){return j(a,1)[1]}}});
KISSY.add("dom/ie/attr",["util","dom/base","ua"],function(o,e){function j(d){var b="",c=d.nodeType;if(c===i.NodeType.ELEMENT_NODE)for(d=d.firstChild;d;d=d.nextSibling)b+=j(d);else if(c===a.TEXT_NODE||c===a.CDATA_SECTION_NODE)b+=d.nodeValue;return b}var m=e("util"),i=e("dom/base"),k=i._attrHooks,f=i._attrNodeHook,a=i.NodeType,c=i._valHooks,b=i._propFix;8>e("ua").ieMode&&(k.style.set=function(a,b){a.style.cssText=b},m.mix(f,{get:function(a,b){var c=a.getAttributeNode(b);return c&&(c.specified||c.nodeValue)?
c.nodeValue:void 0},set:function(a,b,c){var e=a.getAttributeNode(c),f;if(e)e.nodeValue=b;else try{f=a.ownerDocument.createAttribute(c),f.value=b,a.setAttributeNode(f)}catch(i){return a.setAttribute(c,b,0)}}}),m.mix(i._attrFix,b),k.tabIndex=k.tabindex,m.each("href,src,width,height,colSpan,rowSpan".split(","),function(a){k[a]={get:function(b){b=b.getAttribute(a,2);return b===null?void 0:b}}}),c.button=k.value=f,k.placeholder={get:function(a,b){return a[b]||f.get(a,b)}},c.option={get:function(a){var b=
a.attributes.value;return!b||b.specified?a.value:a.text}});(k.href=k.href||{}).set=function(b,c,e){for(var f=b.childNodes,i,j=f.length,k=j>0,j=j-1;j>=0;j--)f[j].nodeType!==a.TEXT_NODE&&(k=0);if(k){i=b.ownerDocument.createElement("b");i.style.display="none";b.appendChild(i)}b.setAttribute(e,""+c);i&&b.removeChild(i)};i._getText=j});
