/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 17 17:12
*/
KISSY.add("dom/base/api",function(d){var a=d.Env.host||{},g=a.document,r=d.UA,l={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},m={isCustomDomain:function(d){var d=d||a,d=m.get(d),e=d.document.domain,d=d.location.hostname;return e!=d&&e!="["+d+"]"},getEmptyIframeSrc:function(d){d=d||a;d=m.get(d);return r.ie&&m.isCustomDomain(d)?
"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+d.document.domain+"';document.close();")+"}())":""},NodeType:l,getWindow:function(g){if(!g)return a;g=m.get(g);if(d.isWindow(g))return g;var e=g;e.nodeType!==l.DOCUMENT_NODE&&(e=g.ownerDocument);return e.defaultView||e.parentWindow},getDocument:function(a){if(!a)return g;a=m.get(a);return d.isWindow(a)?a.document:a.nodeType==l.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&!a.nodeType&&a.item&&
!a.setTimeout},nodeName:function(a){var d=m.get(a),a=d.nodeName.toLowerCase();r.ie&&(d=d.scopeName)&&"HTML"!=d&&(a=d.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};d.mix(m,l);return m});
KISSY.add("dom/base/attr",function(d,a,g){function r(a,c){var c=k[c]||c,b=o[c];return b&&b.get?b.get(a,c):a[c]}var l=d.Env.host.document,m=a.NodeType,l=l&&l.documentElement,n=a.nodeName,e=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:button|input|object|select|textarea)$/i,i=/^a(?:rea)?$/i,j=/:|^on/,c=/\r/g,b={},h={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},A={tabindex:{get:function(a){var c=
a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):f.test(a.nodeName)||i.test(a.nodeName)&&a.href?0:g}}},k={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},v={get:function(c,b){return a.prop(c,b)?b.toLowerCase():g},set:function(c,b,d){!1===b?
a.removeAttr(c,d):(b=k[d]||d,b in c&&(c[b]=!0),c.setAttribute(d,d.toLowerCase()));return d}},o={},t={},s={select:{get:function(c){var b=c.selectedIndex,d=c.options,g;if(0>b)return null;if("select-one"===""+c.type)return a.val(d[b]);c=[];b=0;for(g=d.length;b<g;++b)d[b].selected&&c.push(a.val(d[b]));return c},set:function(c,b){var g=d.makeArray(b);d.each(c.options,function(c){c.selected=d.inArray(a.val(c),g)});g.length||(c.selectedIndex=-1);return g}}};d.each(["radio","checkbox"],function(c){s[c]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(c,b){return d.isArray(b)?c.checked=d.inArray(a.val(c),b):g}}});A.style={get:function(a){return a.style.cssText}};d.mix(a,{_valHooks:s,_propFix:k,_attrHooks:A,_propHooks:o,_attrNodeHook:t,_attrFix:b,prop:function(c,b,h){var e=a.query(c),f,i;if(d.isPlainObject(b))return d.each(b,function(c,b){a.prop(e,b,c)}),g;b=k[b]||b;i=o[b];if(h!==g)for(c=e.length-1;0<=c;c--)f=e[c],i&&i.set?i.set(f,h,b):f[b]=h;else if(e.length)return r(e[0],b);return g},hasProp:function(c,
b){var d=a.query(c),e,h=d.length,f;for(e=0;e<h;e++)if(f=d[e],r(f,b)!==g)return!0;return!1},removeProp:function(c,b){var b=k[b]||b,d=a.query(c),e,h;for(e=d.length-1;0<=e;e--){h=d[e];try{h[b]=g,delete h[b]}catch(f){}}},attr:function(c,f,o,i){var k=a.query(c),s=k[0];if(d.isPlainObject(f)){var i=o,u;for(u in f)a.attr(k,u,f[u],i);return g}if(i&&h[f])return a[f](c,o);f=f.toLowerCase();if(i&&h[f])return a[f](c,o);f=b[f]||f;c=e.test(f)?v:j.test(f)?t:A[f];if(o===g){if(s&&s.nodeType===m.ELEMENT_NODE){"form"==
n(s)&&(c=t);if(c&&c.get)return c.get(s,f);o=s.getAttribute(f);return""===o&&(f=s.getAttributeNode(f),!f||!f.specified)?g:null===o?g:o}}else for(i=k.length-1;0<=i;i--)if((s=k[i])&&s.nodeType===m.ELEMENT_NODE)"form"==n(s)&&(c=t),c&&c.set?c.set(s,o,f):s.setAttribute(f,""+o);return g},removeAttr:function(c,d){var d=d.toLowerCase(),d=b[d]||d,f=a.query(c),g,h,o;for(o=f.length-1;0<=o;o--)if(h=f[o],h.nodeType==m.ELEMENT_NODE&&(h.removeAttribute(d),e.test(d)&&(g=k[d]||d)in h))h[g]=!1},hasAttr:l&&!l.hasAttribute?
function(c,b){var b=b.toLowerCase(),d=a.query(c),f,h;for(f=0;f<d.length;f++)if(h=d[f],(h=h.getAttributeNode(b))&&h.specified)return!0;return!1}:function(c,b){var d=a.query(c),f,h=d.length;for(f=0;f<h;f++)if(d[f].hasAttribute(b))return!0;return!1},val:function(b,f){var h,e,o,i,u;if(f===g){if(o=a.get(b)){if((h=s[n(o)]||s[o.type])&&"get"in h&&(e=h.get(o,"value"))!==g)return e;e=o.value;return"string"===typeof e?e.replace(c,""):null==e?"":e}return g}e=a.query(b);for(i=e.length-1;0<=i;i--){o=e[i];if(1!==
o.nodeType)break;u=f;null==u?u="":"number"===typeof u?u+="":d.isArray(u)&&(u=d.map(u,function(a){return a==null?"":a+""}));h=s[n(o)]||s[o.type];if(!h||!("set"in h)||h.set(o,u,"value")===g)o.value=u}return g},text:function(c,b){var d,f,h,e;if(b===g)return d=a.get(c),a._getText(d);f=a.query(c);for(h=f.length-1;0<=h;h--)if(d=f[h],e=d.nodeType,e==m.ELEMENT_NODE)a.empty(d),d.appendChild(d.ownerDocument.createTextNode(b));else if(e==m.TEXT_NODE||e==m.CDATA_SECTION_NODE)d.nodeValue=b;return g},_getText:function(a){return a.textContent}});
return a},{requires:["./api"]});
KISSY.add("dom/base/class",function(d,a){function g(a){for(var a=d.trim(a||""),a=a.split(e),g=[],j,c=a.length,b=0;b<c;b++)(j=a[b])&&g.push(j);return g}function r(a){return function(d,e){var c,b,h,g=d.classList,k=m.call(arguments,2);c=0;for(b=e.length;c<b;c++)(h=e[c])&&g[a].apply(g,[h].concat(k))}}function l(d){return function(e,j){var c=g(j),b=m.call(arguments,2);a.query(e).each(function(h){h.nodeType==n.ELEMENT_NODE&&a[d].apply(a,[h,c].concat(b))})}}var m=[].slice,n=a.NodeType,e=/[\.\s]\s*\.?/;d.mix(a,
{_hasClass:function(a,d){var e,c,b,h=a.classList;if(h.length){e=0;for(c=d.length;e<c;e++)if((b=d[e])&&!h.contains(b))return!1;return!0}return!1},_addClass:r("add"),_removeClass:r("remove"),_toggleClass:r("toggle"),hasClass:function(d,e){var j=a.get(d);return j&&j.nodeType==n.ELEMENT_NODE&&a._hasClass(j,g(e))},replaceClass:function(d,e,g){a.removeClass(d,e);a.addClass(d,g)},addClass:l("_addClass"),removeClass:l("_removeClass"),toggleClass:l("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(d,a,g){function r(c){var b=d.require("event/dom");b&&b.detach(c);a.removeData(c)}function l(a){a=a&&a!=i?a.createElement(b):h;a===h&&(a.innerHTML="");return a}function m(a,c){var b=l(c);b.innerHTML="m<div>"+a+"</div>";return b.lastChild}function n(a,c,b){var p=c.nodeType;if(p==j.DOCUMENT_FRAGMENT_NODE){c=c.childNodes;b=b.childNodes;for(p=0;c[p];)b[p]&&n(a,c[p],b[p]),p++}else if(p==j.ELEMENT_NODE){c=c.getElementsByTagName("*");b=b.getElementsByTagName("*");for(p=
0;c[p];)b[p]&&a(c[p],b[p]),p++}}function e(c,b){var e=d.require("event/dom"),p,q;if(b.nodeType!=j.ELEMENT_NODE||a.hasData(c)){p=a.data(c);for(q in p)a.data(b,q,p[q]);e&&e.clone(c,b)}}function f(a){var c=null,b,p;if(a&&(a.push||a.item)&&a[0]){c=a[0].ownerDocument;c=c.createDocumentFragment();a=d.makeArray(a);b=0;for(p=a.length;b<p;b++)c.appendChild(a[b])}return c}var i=d.Env.host.document,j=a.NodeType,c=d.UA.ie,b="div",h=i&&i.createElement(b),A=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
k=/<([\w:]+)/,v=/^\s+/,o=/\s+$/,t=c&&9>c,s=/<|&#?\w+;/,G=i&&"outerHTML"in i.documentElement,I=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;d.mix(a,{create:function(c,e,h,p){var q=null;if(!c)return q;if(c.nodeType)return a.clone(c);if("string"!=typeof c)return q;p===g&&(p=!0);p&&(c=d.trim(c));var p=a._creators,B,K,h=h||i,y,C=b;if(s.test(c))if(y=I.exec(c))q=h.createElement(y[1]);else{c=c.replace(A,"<$1></$2>");if((y=k.exec(c))&&(B=y[1]))C=B.toLowerCase();B=(p[C]||m)(c,h);t&&(K=c.match(v))&&B.insertBefore(h.createTextNode(K[0]),
B.firstChild);t&&/\S/.test(c)&&(K=c.match(o))&&B.appendChild(h.createTextNode(K[0]));c=B.childNodes;1===c.length?q=c[0].parentNode.removeChild(c[0]):c.length&&(q=f(c))}else q=h.createTextNode(c);d.isPlainObject(e)&&(q.nodeType==j.ELEMENT_NODE?a.attr(q,e,!0):q.nodeType==j.DOCUMENT_FRAGMENT_NODE&&a.attr(q.childNodes,e,!0));return q},_fixCloneAttributes:function(c,b){"textarea"===a.nodeName(c)&&(b.defaultValue=c.defaultValue,b.value=c.value)},_creators:{div:m},_defaultCreator:m,html:function(c,b,d){var c=
a.query(c),p=c[0],q=!1,e,h;if(!p)return null;if(b===g)return p.nodeType==j.ELEMENT_NODE?p.innerHTML:p.nodeType==j.DOCUMENT_FRAGMENT_NODE?(d=l(p.ownerDocument),d.appendChild(p),d.innerHTML):null;b+="";if(!b.match(/<(?:script|style|link)/i)&&(!t||!b.match(v))&&!x[(b.match(k)||["",""])[1].toLowerCase()])try{for(e=c.length-1;0<=e;e--)h=c[e],h.nodeType==j.ELEMENT_NODE&&(r(h.getElementsByTagName("*")),h.innerHTML=b);q=!0}catch(f){}q||(b=a.create(b,0,p.ownerDocument,0),a.empty(c),a.append(b,c,d));return g},
outerHtml:function(c,b,d){var c=a.query(c),p=c.length,q=c[0];if(!q)return null;if(b===g){if(G&&q.nodeType!=a.DOCUMENT_FRAGMENT_NODE)return q.outerHTML;b=l(q.ownerDocument);b.appendChild(a.clone(q,!0));return b.innerHTML}b+="";if(!b.match(/<(?:script|style|link)/i)&&G)for(d=p-1;0<=d;d--)q=c[d],q.nodeType==j.ELEMENT_NODE&&(r(q),r(q.getElementsByTagName("*")),q.outerHTML=b);else b=a.create(b,0,q.ownerDocument,0),a.insertBefore(b,c,d),a.remove(c);return g},remove:function(c,b){var e,p=a.query(c),q,h,
f=d.require("event/dom"),g;for(g=p.length-1;0<=g;g--)e=p[g],!b&&e.nodeType==j.ELEMENT_NODE&&(q=d.makeArray(e.getElementsByTagName("*")),q.push(e),a.removeData(q),f&&f.detach(q)),(h=e.parentNode)&&h.removeChild(e)},clone:function(c,b,d,p){"object"===typeof b&&(p=b.deepWithDataAndEvent,d=b.withDataAndEvent,b=b.deep);var c=a.get(c),q,h=a._fixCloneAttributes,f;if(!c)return null;f=c.nodeType;q=c.cloneNode(b);if(f==j.ELEMENT_NODE||f==j.DOCUMENT_FRAGMENT_NODE)h&&f==j.ELEMENT_NODE&&h(c,q),b&&h&&n(h,c,q);
d&&(e(c,q),b&&p&&n(e,c,q));return q},empty:function(c){var c=a.query(c),b,d;for(d=c.length-1;0<=d;d--)b=c[d],a.remove(b.childNodes)},_nodeListToFragment:f});a.outerHTML=a.outerHtml;var E=a._creators,D=a.create,x={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},z;for(z in x)(function(a){E[z]=function(c,b){return D("<"+a+">"+c+"</"+a+">",null,b)}})(x[z]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(d,a,g){var r=d.Env.host,l="_ks_data_"+d.now(),m={},n={},e={applet:1,object:1,embed:1},f={hasData:function(a,b){if(a)if(b!==g){if(b in a)return!0}else if(!d.isEmptyObject(a))return!0;return!1}},i={hasData:function(a,b){return a==r?i.hasData(n,b):f.hasData(a[l],b)},data:function(a,b,d){if(a==r)return i.data(n,b,d);var e=a[l];if(d!==g)e=a[l]=a[l]||{},e[b]=d;else return b!==g?e&&e[b]:e=a[l]=a[l]||{}},removeData:function(a,b){if(a==r)return i.removeData(n,b);var e=a[l];
if(b!==g)delete e[b],d.isEmptyObject(e)&&i.removeData(a);else try{delete a[l]}catch(f){a[l]=g}}},j={hasData:function(a,b){var d=a[l];return!d?!1:f.hasData(m[d],b)},data:function(a,b,h){if(e[a.nodeName.toLowerCase()])return g;var f=a[l];if(!f){if(b!==g&&h===g)return g;f=a[l]=d.guid()}a=m[f];if(h!==g)a=m[f]=m[f]||{},a[b]=h;else return b!==g?a&&a[b]:a=m[f]=m[f]||{}},removeData:function(a,b){var e=a[l],f;if(e)if(f=m[e],b!==g)delete f[b],d.isEmptyObject(f)&&j.removeData(a);else{delete m[e];try{delete a[l]}catch(i){a[l]=
g}a.removeAttribute&&a.removeAttribute(l)}}};d.mix(a,{__EXPANDO:l,hasData:function(c,b){for(var d=!1,e=a.query(c),f=0;f<e.length&&!(d=e[f],d=d.nodeType?j.hasData(d,b):i.hasData(d,b));f++);return d},data:function(c,b,e){var c=a.query(c),f=c[0];if(d.isPlainObject(b)){for(var k in b)a.data(c,k,b[k]);return g}if(e===g){if(f)return f.nodeType?j.data(f,b):i.data(f,b)}else for(k=c.length-1;0<=k;k--)f=c[k],f.nodeType?j.data(f,b,e):i.data(f,b,e);return g},removeData:function(c,b){var d=a.query(c),e,f;for(f=
d.length-1;0<=f;f--)e=d[f],e.nodeType?j.removeData(e,b):i.removeData(e,b)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(d,a){function g(a,b){var d=[],l,k,v;for(l=0;a[l];l++)if(k=a[l],v=e(k),k.nodeType==m.DOCUMENT_FRAGMENT_NODE)d.push.apply(d,g(f(k.childNodes),b));else if("script"===v&&(!k.type||j.test(k.type)))k.parentNode&&k.parentNode.removeChild(k),b&&b.push(k);else{if(k.nodeType==m.ELEMENT_NODE&&!n.test(v)){v=[];var o,t,s=k.getElementsByTagName("script");for(t=0;t<s.length;t++)o=s[t],(!o.type||j.test(o.type))&&v.push(o);i.apply(a,[l+1,0].concat(v))}d.push(k)}return d}function r(a){a.src?
d.getScript(a.src):(a=d.trim(a.text||a.textContent||a.innerHTML||""))&&d.globalEval(a)}function l(c,b,e,f){c=a.query(c);f&&(f=[]);c=g(c,f);a._fixInsertionChecked&&a._fixInsertionChecked(c);var b=a.query(b),i,v,o,j,s=b.length;if((c.length||f&&f.length)&&s){c=a._nodeListToFragment(c);1<s&&(j=a.clone(c,!0),b=d.makeArray(b));for(i=0;i<s;i++)v=b[i],c&&(o=0<i?a.clone(j,!0):c,e(o,v)),f&&f.length&&d.each(f,r)}}var m=a.NodeType,n=/^(?:button|input|object|select|textarea)$/i,e=a.nodeName,f=d.makeArray,i=[].splice,
j=/\/(java|ecma)script/i;d.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,b,d){l(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},d)},insertAfter:function(a,b,d){l(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},d)},appendTo:function(a,b,d){l(a,b,function(a,b){b.appendChild(a)},d)},prependTo:function(a,b,d){l(a,b,function(a,b){b.insertBefore(a,b.firstChild)},d)},wrapAll:function(c,b){b=a.clone(a.get(b),!0);c=a.query(c);c[0].parentNode&&a.insertBefore(b,
c[0]);for(var d;(d=b.firstChild)&&1==d.nodeType;)b=d;a.appendTo(c,b)},wrap:function(c,b){c=a.query(c);b=a.get(b);d.each(c,function(c){a.wrapAll(c,b)})},wrapInner:function(c,b){c=a.query(c);b=a.get(b);d.each(c,function(c){var d=c.childNodes;d.length?a.wrapAll(d,b):c.appendChild(b)})},unwrap:function(c){c=a.query(c);d.each(c,function(b){b=b.parentNode;a.replaceWith(b,b.childNodes)})},replaceWith:function(c,b){var d=a.query(c),b=a.query(b);a.remove(b,!0);a.insertBefore(b,d);a.remove(d)}});d.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(c,b){a[b]=a[c]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(d,a,g){function r(a){var c,d=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};c=a.getBoundingClientRect();a=c[b];c=c[h];a-=i.clientLeft||d.clientLeft||0;c-=i.clientTop||d.clientTop||0;return{left:a,top:c}}function l(b,c){var d={left:0,top:0},e=j(b),f,g=b,c=c||e;do{if(e==c){var h=g;f=r(h);h=j(h);f.left+=a[A](h);f.top+=a[k](h)}else f=r(g);d.left+=f.left;d.top+=f.top}while(e&&e!=c&&(g=e.frameElement)&&(e=e.parent));return d}var m=d.Env.host,n=
d.UA,e=m.document,f=a.NodeType,i=e&&e.documentElement,j=a.getWindow,c=Math.max,b="left",h="top",A="scrollLeft",k="scrollTop";d.mix(a,{offset:function(b,c,d){if(c===g){var b=a.get(b),e;b&&(e=l(b,d));return e}d=a.query(b);for(e=d.length-1;0<=e;e--){var b=d[e],f=c;"static"===a.css(b,"position")&&(b.style.position="relative");var h=l(b),i={},j=void 0,k=void 0;for(k in f)j=parseFloat(a.css(b,k))||0,i[k]=j+f[k]-h[k];a.css(b,i)}return g},scrollIntoView:function(c,e,i,l){var k,m,n,r;if(n=a.get(c)){e&&(e=
a.get(e));e||(e=n.ownerDocument);e.nodeType==f.DOCUMENT_NODE&&(e=j(e));d.isPlainObject(i)&&(l=i.allowHorizontalScroll,r=i.onlyScrollIfNeeded,i=i.alignWithTop);l=l===g?!0:l;m=d.isWindow(e);var c=a.offset(n),x=a.outerHeight(n);k=a.outerWidth(n);var z,u,J,w;m?(m=e,z=a.height(m),u=a.width(m),w={left:a.scrollLeft(m),top:a.scrollTop(m)},m=c[b]-w[b],n=c[h]-w[h],k=c[b]+k-(w[b]+u),c=c[h]+x-(w[h]+z)):(z=a.offset(e),u=e.clientHeight,J=e.clientWidth,w={left:a.scrollLeft(e),top:a.scrollTop(e)},m=c[b]-(z[b]+(parseFloat(a.css(e,
"borderLeftWidth"))||0)),n=c[h]-(z[h]+(parseFloat(a.css(e,"borderTopWidth"))||0)),k=c[b]+k-(z[b]+J+(parseFloat(a.css(e,"borderRightWidth"))||0)),c=c[h]+x-(z[h]+u+(parseFloat(a.css(e,"borderBottomWidth"))||0)));if(r){if(0>n||0<c)!0===i?a.scrollTop(e,w.top+n):!1===i?a.scrollTop(e,w.top+c):0>n?a.scrollTop(e,w.top+n):a.scrollTop(e,w.top+c)}else(i=i===g?!0:!!i)?a.scrollTop(e,w.top+n):a.scrollTop(e,w.top+c);if(l)if(r){if(0>m||0<k)!0===i?a.scrollLeft(e,w.left+m):!1===i?a.scrollLeft(e,w.left+k):0>m?a.scrollLeft(e,
w.left+m):a.scrollLeft(e,w.left+k)}else(i=i===g?!0:!!i)?a.scrollLeft(e,w.left+m):a.scrollLeft(e,w.left+k)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});d.each(["Left","Top"],function(c,b){var d="scroll"+c;a[d]=function(e,i){if("number"===typeof e)return arguments.callee(m,e);var e=a.get(e),h,k,l,n;e&&e.nodeType==f.ELEMENT_NODE?i!==g?e[d]=parseFloat(i):h=e[d]:(n=j(e),i!==g?(i=parseFloat(i),k="Left"==c?i:a.scrollLeft(n),l="Top"==c?i:a.scrollTop(n),n.scrollTo(k,
l)):(h=n["page"+(b?"Y":"X")+"Offset"],"number"!==typeof h&&(k=n.document,h=k.documentElement[d],"number"!==typeof h&&(h=k.body[d]))));return h}});d.each(["Width","Height"],function(b){a["doc"+b]=function(d){d=a.get(d);d=a.getDocument(d);return c(d.documentElement["scroll"+b],d.body["scroll"+b],a["viewport"+b](d))};a["viewport"+b]=function(c){var c=a.get(c),d=j(c),c=d["inner"+b];if(n.mobile&&c)return c;var c="client"+b,d=d.document,e=d.body,f=d.documentElement[c];return"CSS1Compat"===d.compatMode&&
f||e&&e[c]||f}});return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(d,a,g){function r(a,c){return c.toUpperCase()}function l(a){return a.replace(t,"ms-").replace(z,r)}function m(a,c,b){var d={},e=a.style,f;for(f in c)d[f]=e[f],e[f]=c[f];b.call(a);for(f in c)e[f]=d[f]}function n(a,c,b){var d,e,f;if(3===a.nodeType||8===a.nodeType||!(d=a.style))return g;c=l(c);f=E[c];c=D[c]||c;if(b!==g){null===b||b===s?b=s:!isNaN(Number(b))&&!o[c]&&(b+=G);f&&f.set&&(b=f.set(a,b));if(b!==g){try{d[c]=b}catch(i){}b===s&&d.removeAttribute&&d.removeAttribute(c)}d.cssText||
a.removeAttribute("style");return g}if(!f||!("get"in f&&(e=f.get(a,!1))!==g))e=d[c];return e===g?"":e}function e(a){var c,b=arguments;0!==a.offsetWidth?c=f.apply(g,b):m(a,J,function(){c=f.apply(g,b)});return c}function f(c,b,e){if(d.isWindow(c))return b==k?a.viewportWidth(c):a.viewportHeight(c);if(9==c.nodeType)return b==k?a.docWidth(c):a.docHeight(c);var f=b===k?["Left","Right"]:["Top","Bottom"],g=b===k?c.offsetWidth:c.offsetHeight;if(0<g)return"border"!==e&&d.each(f,function(b){e||(g-=parseFloat(a.css(c,
"padding"+b))||0);g="margin"===e?g+(parseFloat(a.css(c,e+b))||0):g-(parseFloat(a.css(c,"border"+b+"Width"))||0)}),g;g=a._getComputedStyle(c,b);if(null==g||0>Number(g))g=c.style[b]||0;g=parseFloat(g)||0;e&&d.each(f,function(b){g+=parseFloat(a.css(c,"padding"+b))||0;"padding"!==e&&(g+=parseFloat(a.css(c,"border"+b+"Width"))||0);"margin"===e&&(g+=parseFloat(a.css(c,e+b))||0)});return g}var i=d.Env.host,j=d.UA,c=d.Features,b=a.nodeName,h=i.document,A=/^margin/,k="width",v="display"+d.now(),o={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},t=/^-ms-/,s="",G="px",I=/\d(?!px)[a-z%]+$/i,E={},D={"float":"cssFloat"},x={},z=/-([a-z])/ig;if(c.isTransformSupported()){var u;u=D.transform=c.getTransformProperty();D.transformOrigin=u+"Origin"}c.isTransitionSupported()&&(D.transition=c.getTransitionProperty());d.mix(a,{_camelCase:l,_cssHooks:E,_cssProps:D,_getComputedStyle:function(c,b){var d="",e,f,g,i,h;f=c.ownerDocument;b=D[b]||b;if(e=f.defaultView.getComputedStyle(c,null))d=
e.getPropertyValue(b)||e[b];d===""&&!a.contains(f,c)&&(d=c.style[b]);if(a._RE_NUM_NO_PX.test(d)&&A.test(b)){h=c.style;f=h.width;g=h.minWidth;i=h.maxWidth;h.minWidth=h.maxWidth=h.width=d;d=e.width;h.width=f;h.minWidth=g;h.maxWidth=i}return d},style:function(c,b,e){var c=a.query(c),f,h=c[0];if(d.isPlainObject(b)){for(f in b)for(h=c.length-1;h>=0;h--)n(c[h],f,b[f]);return g}if(e===g){f="";h&&(f=n(h,b,e));return f}for(h=c.length-1;h>=0;h--)n(c[h],b,e);return g},css:function(c,b,e){var c=a.query(c),f=
c[0],h;if(d.isPlainObject(b)){for(h in b)for(f=c.length-1;f>=0;f--)n(c[f],h,b[h]);return g}b=l(b);h=E[b];if(e===g){e="";if(f&&(!h||!("get"in h&&(e=h.get(f,true))!==g)))e=a._getComputedStyle(f,b);return typeof e=="undefined"?"":e}for(f=c.length-1;f>=0;f--)n(c[f],b,e);return g},show:function(c){var c=a.query(c),b,d,e;for(e=c.length-1;e>=0;e--){d=c[e];d.style.display=a.data(d,v)||s;if(a.css(d,"display")==="none"){b=d.tagName.toLowerCase();var f=void 0,g=x[b],i=void 0;if(!x[b]){f=h.body||h.documentElement;
i=h.createElement(b);a.prepend(i,f);g=a.css(i,"display");f.removeChild(i);x[b]=g}b=g;a.data(d,v,b);d.style.display=b}}},hide:function(c){var c=a.query(c),b,d;for(d=c.length-1;d>=0;d--){b=c[d];var e=b.style,f=e.display;if(f!=="none"){f&&a.data(b,v,f);e.display="none"}}},toggle:function(c){var c=a.query(c),b,d;for(d=c.length-1;d>=0;d--){b=c[d];a.css(b,"display")==="none"?a.show(b):a.hide(b)}},addStyleSheet:function(c,b,d){if(typeof c=="string"){d=b;b=c;c=i}var c=a.getDocument(c),e;if(d&&(d=d.replace("#",
s)))e=a.get("#"+d,c);if(!e){e=a.create("<style>",{id:d},c);a.get("head",c).appendChild(e);e.styleSheet?e.styleSheet.cssText=b:e.appendChild(c.createTextNode(b))}},unselectable:function(c){var c=a.query(c),e,f,g=0,h,i;for(f=c.length-1;f>=0;f--){e=c[f];i=e.style;i.UserSelect="none";if(j.gecko)i.MozUserSelect="none";else if(j.webkit)i.WebkitUserSelect="none";else if(j.ie||j.opera){i=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(h=["iframe","textarea","input","select"];e=i[g++];)d.inArray(b(e),
h)||e.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});d.each([k,"height"],function(c){a["inner"+d.ucfirst(c)]=function(b){return(b=a.get(b))&&e(b,c,"padding")};a["outer"+d.ucfirst(c)]=function(b,d){var f=a.get(b);return f&&e(f,c,d?"margin":"border")};a[c]=function(b,d){var e=a.css(b,c,d);e&&(e=parseFloat(e));return e};E[c]={get:function(a,b){var d;b&&(d=e(a,c)+"px");return d}}});var J={position:"absolute",visibility:"hidden",display:"block"};
d.each(["left","top"],function(c){E[c]={get:function(b,d){var e,f,g;if(d){g=a.css(b,"position");if(g==="static")return"auto";e=a._getComputedStyle(b,c);if((f=e==="auto")&&g==="relative")return"0px";if(f||I.test(e)){g={top:0,left:0};if(a.css(b,"position")=="fixed")f=b.getBoundingClientRect();else{for(e=b.offsetParent||(b.ownerDocument||h).body;e&&!w.test(e.nodeName)&&a.css(e,"position")==="static";)e=e.offsetParent;f=a.offset(b);g=a.offset(e);g.top=g.top+(parseFloat(a.css(e,"borderTopWidth"))||0);
g.left=g.left+(parseFloat(a.css(e,"borderLeftWidth"))||0)}f.top=f.top-(parseFloat(a.css(b,"marginTop"))||0);f.left=f.left-(parseFloat(a.css(b,"marginLeft"))||0);e={top:f.top-g.top,left:f.left-g.left}[c]+"px"}}return e}}});var w=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(d,a,g){function r(a){var c=this.length,b;for(b=0;b<c&&!1!==a(this[b],b);b++);}function l(b){return function(e){var d=c.getElementById(b);return d&&a._contains(e,d)?[d]:[]}}function m(a){return function(c){return c.getElementsByClassName(a)}}function n(a){return function(c){return c.getElementsByTagName(a)}}function e(b,f){var h,i,j="string"==typeof b,B=f!==g?e(f):(i=1)&&[c],t=B.length;if(b)if(j){b=z(b);if(i)if("body"==b)h=[c.body];else if(G.test(b)&&A)h=c.getElementsByClassName(RegExp.$1);
else if(D.test(b))h=(i=c.getElementById(RegExp.$2))&&i.nodeName.toLowerCase()==RegExp.$1?[i]:[];else if(I.test(b))h=(i=c.getElementById(b.substr(1)))?[i]:[];else if(E.test(b))h=c.getElementsByTagName(b);else if(!b.match(/,|\+|=|~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+#[\w-]+/)&&A){h=b.split(/\s+/);var y=B,C,x;i=0;for(j=h.length;i<j;i++){C=h;x=i;var F;F=h[i];var H=F.charAt(0);F="#"==H?l(F.substr(1)):"."==H?m(F.substr(1)):n(F);C[x]=F}i=0;for(j=h.length;i<j;i++){F=h[i];var H=[],L;C=0;for(x=
y.length;C<x;C++)L=F(y[C]),H.push.apply(H,d.makeArray(L));y=H;if(!y.length)break}h=y&&1<y.length?a.unique(y):y}if(!h){h=[];for(i=0;i<t;i++)s.apply(h,a._selectInternal(b,B[i]));1<h.length&&1<t&&a.unique(h)}}else{if(h=b.nodeType||b.setTimeout?[b]:b.getDOMNodes?b.getDOMNodes():k(b)?b:o(b)?v(b):[b],!i){j=h;C=j.length;h=[];for(i=0;i<C;i++)for(y=0;y<t;y++)if(a._contains(B[y],j[i])){h.push(j[i]);break}}}else h=[];h.each=r;return h}function f(b,a){var c=b&&(b.className||i(b,"class"));return c&&-1<(t+c+t).indexOf(t+
a+t)}function i(b,a){var c=b&&b.getAttributeNode(a);return c&&c.specified?c.nodeValue:g}function j(b,a){return"*"==a||b.nodeName.toLowerCase()===a.toLowerCase()}var c=d.Env.host.document,b=c.documentElement,h=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.oMatchesSelector||b.msMatchesSelector,A="getElementsByClassName"in c,k=d.isArray,v=d.makeArray,o=a.isDomNodeList,t=" ",s=Array.prototype.push,G=/^\.([\w-]+)$/,I=/^#([\w-]+)$/,E=/^([\w-])+$/,D=/^([\w-]+)#([\w-]+)$/,x=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,
z=d.trim;d.mix(a,{_compareNodeOrder:function(b,a){return!b.compareDocumentPosition||!a.compareDocumentPosition?b.compareDocumentPosition?-1:1:b.compareDocumentPosition(a)&4?-1:1},_getSimpleAttr:i,_isTag:j,_hasSingleClass:f,_matchesInternal:function(b,a){for(var c=[],e=0,d,f=a.length;e<f;e++)d=a[e],h.call(d,b)&&c.push(d);return c},_selectInternal:function(b,a){return v(a.querySelectorAll(b))},query:e,get:function(b,a){return e(b,a)[0]||null},unique:function(){function b(e,d){return e==d?(c=!0,0):a._compareNodeOrder(e,
d)}var c,e=!0;[0,0].sort(function(){e=!1;return 0});return function(a){c=e;a.sort(b);if(c)for(var d=1,f=a.length;d<f;)a[d]===a[d-1]?(a.splice(d,1),--f):d++;return a}}(),filter:function(b,c,h){var b=e(b,h),g,k,l,m,h=[];if("string"==typeof c&&(c=z(c))&&(l=x.exec(c)))g=l[1],k=l[2],m=l[3],g?g&&!k&&!m&&(c=function(b){return i(b,"id")==g}):c=function(b){var a=!0,c=!0;k&&(a=j(b,k));m&&(c=f(b,m));return c&&a};return h="function"===typeof c?d.filter(b,c):a._matchesInternal(c,b)},test:function(b,c,d){b=e(b,
d);return b.length&&a.filter(b,c,d).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(d,a,g){function r(e,f,i,j,c,b,h){if(!(e=a.get(e)))return null;if(0===f)return e;b||(e=e[i]);if(!e)return null;c=c&&a.get(c)||null;f===g&&(f=1);var b=[],m=d.isArray(f),k,r;"number"===typeof f&&(k=0,r=f,f=function(){return++k===r});for(;e&&e!=c;){if((e.nodeType==n.ELEMENT_NODE||e.nodeType==n.TEXT_NODE&&h)&&l(e,f)&&(!j||j(e)))if(b.push(e),!m)break;e=e[i]}return m?b:b[0]||null}function l(e,f){if(!f)return!0;if(d.isArray(f)){var g,j=f.length;if(!j)return!0;for(g=
0;g<j;g++)if(a.test(e,f[g]))return!0}else if(a.test(e,f))return!0;return!1}function m(e,f,g,j){var c=[],b,h;if((b=e=a.get(e))&&g)b=e.parentNode;if(b){g=d.makeArray(b.childNodes);for(b=0;b<g.length;b++)h=g[b],(j||h.nodeType==n.ELEMENT_NODE)&&h!=e&&c.push(h);f&&(c=a.filter(c,f))}return c}var n=a.NodeType;d.mix(a,{_contains:function(a,d){return!!(a.compareDocumentPosition(d)&16)},closest:function(a,d,g,j){return r(a,d,"parentNode",function(a){return a.nodeType!=n.DOCUMENT_FRAGMENT_NODE},g,!0,j)},parent:function(a,
d,i){return r(a,d,"parentNode",function(a){return a.nodeType!=n.DOCUMENT_FRAGMENT_NODE},i,g)},first:function(d,f,i){d=a.get(d);return r(d&&d.firstChild,f,"nextSibling",g,g,!0,i)},last:function(d,f,i){d=a.get(d);return r(d&&d.lastChild,f,"previousSibling",g,g,!0,i)},next:function(a,d,i){return r(a,d,"nextSibling",g,g,g,i)},prev:function(a,d,i){return r(a,d,"previousSibling",g,g,g,i)},siblings:function(a,d,g){return m(a,d,!0,g)},children:function(a,d){return m(a,d,g)},contents:function(a,d){return m(a,
d,g,1)},contains:function(d,f){d=a.get(d);f=a.get(f);return d&&f?a._contains(d,f):!1},index:function(e,f){var g=a.query(e),j,c=0;j=g[0];if(!f){g=j&&j.parentNode;if(!g)return-1;for(;j=j.previousSibling;)j.nodeType==n.ELEMENT_NODE&&c++;return c}c=a.query(f);return"string"===typeof f?d.indexOf(j,c):d.indexOf(c[0],g)},equals:function(d,f){d=a.query(d);f=a.query(f);if(d.length!=f.length)return!1;for(var g=d.length;0<=g;g--)if(d[g]!=f[g])return!1;return!0}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(d,a){d.mix(d,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
