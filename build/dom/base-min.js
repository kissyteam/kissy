/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 3 13:50
*/
KISSY.add("dom/base/api",function(d){var a=d.Env.host||{},h=a.document,o=d.UA,j={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},m={isCustomDomain:function(d){var d=d||a,d=m.get(d),g=d.document.domain,d=d.location.hostname;return g!=d&&g!="["+d+"]"},getEmptyIframeSrc:function(d){d=d||a;d=m.get(d);return o.ie&&m.isCustomDomain(d)?
"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+d.document.domain+"';document.close();")+"}())":""},NodeType:j,getWindow:function(h){if(!h)return a;h=m.get(h);if(d.isWindow(h))return h;var g=h;g.nodeType!==j.DOCUMENT_NODE&&(g=h.ownerDocument);return g.defaultView||g.parentWindow},getDocument:function(a){if(!a)return h;a=m.get(a);return d.isWindow(a)?a.document:a.nodeType==j.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&!a.nodeType&&a.item&&
!a.setTimeout},nodeName:function(a){var d=m.get(a),a=d.nodeName.toLowerCase();o.ie&&(d=d.scopeName)&&"HTML"!=d&&(a=d.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};d.mix(m,j);return m});
KISSY.add("dom/base/attr",function(d,a,h){function o(a,f){var f=p[f]||f,c=u[f];return c&&c.get?c.get(a,f):a[f]}var j=d.Env.host.document,m=a.NodeType,j=j&&j.documentElement,r=a.nodeName,g=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,l=/^(?:button|input|object|select|textarea)$/i,i=/^a(?:rea)?$/i,t=/:|^on/,c=/\r/g,b={},k={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},v={tabindex:{get:function(a){var f=
a.getAttributeNode("tabindex");return f&&f.specified?parseInt(f.value,10):l.test(a.nodeName)||i.test(a.nodeName)&&a.href?0:h}}},p={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},x={get:function(c,f){return a.prop(c,f)?f.toLowerCase():h},set:function(c,f,b){!1===f?
a.removeAttr(c,b):(f=p[b]||b,f in c&&(c[f]=!0),c.setAttribute(b,b.toLowerCase()));return b}},u={},e={},n={select:{get:function(c){var f=c.selectedIndex,b=c.options,e;if(0>f)return null;if("select-one"===""+c.type)return a.val(b[f]);c=[];f=0;for(e=b.length;f<e;++f)b[f].selected&&c.push(a.val(b[f]));return c},set:function(c,f){var b=d.makeArray(f);d.each(c.options,function(f){f.selected=d.inArray(a.val(f),b)});b.length||(c.selectedIndex=-1);return b}}};d.each(["radio","checkbox"],function(c){n[c]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(c,b){return d.isArray(b)?c.checked=d.inArray(a.val(c),b):h}}});v.style={get:function(a){return a.style.cssText}};d.mix(a,{_valHooks:n,_propFix:p,_attrHooks:v,_propHooks:u,_attrNodeHook:e,_attrFix:b,prop:function(c,f,b){var e=a.query(c),k,q;if(d.isPlainObject(f))return d.each(f,function(c,f){a.prop(e,f,c)}),h;f=p[f]||f;q=u[f];if(b!==h)for(c=e.length-1;0<=c;c--)k=e[c],q&&q.set?q.set(k,b,f):k[f]=b;else if(e.length)return o(e[0],f);return h},hasProp:function(c,
f){var b=a.query(c),e,d=b.length,q;for(e=0;e<d;e++)if(q=b[e],o(q,f)!==h)return!0;return!1},removeProp:function(c,f){var f=p[f]||f,b=a.query(c),e,d;for(e=b.length-1;0<=e;e--){d=b[e];try{d[f]=h,delete d[f]}catch(q){}}},attr:function(c,f,n,l){var i=a.query(c),q=i[0];if(d.isPlainObject(f)){var l=n,w;for(w in f)a.attr(i,w,f[w],l);return h}if(l&&k[f])return a[f](c,n);f=f.toLowerCase();if(l&&k[f])return a[f](c,n);f=b[f]||f;c=g.test(f)?x:t.test(f)?e:v[f];if(n===h){if(q&&q.nodeType===m.ELEMENT_NODE){"form"==
r(q)&&(c=e);if(c&&c.get)return c.get(q,f);n=q.getAttribute(f);return""===n&&(f=q.getAttributeNode(f),!f||!f.specified)?h:null===n?h:n}}else for(l=i.length-1;0<=l;l--)if((q=i[l])&&q.nodeType===m.ELEMENT_NODE)"form"==r(q)&&(c=e),c&&c.set?c.set(q,n,f):q.setAttribute(f,""+n);return h},removeAttr:function(c,f){var f=f.toLowerCase(),f=b[f]||f,e=a.query(c),d,n,q;for(q=e.length-1;0<=q;q--)if(n=e[q],n.nodeType==m.ELEMENT_NODE&&(n.removeAttribute(f),g.test(f)&&(d=p[f]||f)in n))n[d]=!1},hasAttr:j&&!j.hasAttribute?
function(c,f){var f=f.toLowerCase(),b=a.query(c),e,d;for(e=0;e<b.length;e++)if(d=b[e],(d=d.getAttributeNode(f))&&d.specified)return!0;return!1}:function(c,b){var e=a.query(c),d,n=e.length;for(d=0;d<n;d++)if(e[d].hasAttribute(b))return!0;return!1},val:function(b,e){var k,l,i,q,w;if(e===h){if(i=a.get(b)){if((k=n[r(i)]||n[i.type])&&"get"in k&&(l=k.get(i,"value"))!==h)return l;l=i.value;return"string"===typeof l?l.replace(c,""):null==l?"":l}return h}l=a.query(b);for(q=l.length-1;0<=q;q--){i=l[q];if(1!==
i.nodeType)break;w=e;null==w?w="":"number"===typeof w?w+="":d.isArray(w)&&(w=d.map(w,function(a){return a==null?"":a+""}));k=n[r(i)]||n[i.type];if(!k||!("set"in k)||k.set(i,w,"value")===h)i.value=w}return h},text:function(c,b){var e,d,n,q;if(b===h)return e=a.get(c),a._getText(e);d=a.query(c);for(n=d.length-1;0<=n;n--)if(e=d[n],q=e.nodeType,q==m.ELEMENT_NODE)a.empty(e),e.appendChild(e.ownerDocument.createTextNode(b));else if(q==m.TEXT_NODE||q==m.CDATA_SECTION_NODE)e.nodeValue=b;return h},_getText:function(a){return a.textContent}});
return a},{requires:["./api"]});
KISSY.add("dom/base/class",function(d,a){function h(a){for(var a=d.trim(a||""),a=a.split(g),i=[],h,c=a.length,b=0;b<c;b++)(h=a[b])&&i.push(h);return i}function o(a){return function(d,h){var c,b,k,g=d.classList,p=m.call(arguments,2);c=0;for(b=h.length;c<b;c++)(k=h[c])&&g[a].apply(g,[k].concat(p))}}function j(d){return function(i,g){var c=h(g),b=m.call(arguments,2);a.query(i).each(function(k){k.nodeType==r.ELEMENT_NODE&&a[d].apply(a,[k,c].concat(b))})}}var m=[].slice,r=a.NodeType,g=/[\.\s]\s*\.?/;d.mix(a,
{_hasClass:function(a,d){var h,c,b,k=a.classList;if(k.length){h=0;for(c=d.length;h<c;h++)if((b=d[h])&&!k.contains(b))return!1;return!0}return!1},_addClass:o("add"),_removeClass:o("remove"),_toggleClass:o("toggle"),hasClass:function(d,i){var g=a.get(d);return g&&g.nodeType==r.ELEMENT_NODE&&a._hasClass(g,h(i))},replaceClass:function(d,h,g){a.removeClass(d,h);a.addClass(d,g)},addClass:j("_addClass"),removeClass:j("_removeClass"),toggleClass:j("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(d,a,h){function o(c){var b=d.require("event/dom");b&&b.detach(c);a.removeData(c)}function j(a,e){var f=e&&e!=l?e.createElement(c):b;f.innerHTML="m<div>"+a+"</div>";return f.lastChild}function m(a,c,b){var e=c.nodeType;if(e==i.DOCUMENT_FRAGMENT_NODE){c=c.childNodes;b=b.childNodes;for(e=0;c[e];)b[e]&&m(a,c[e],b[e]),e++}else if(e==i.ELEMENT_NODE){c=c.getElementsByTagName("*");b=b.getElementsByTagName("*");for(e=0;c[e];)b[e]&&a(c[e],b[e]),e++}}function r(c,e){var b=
d.require("event/dom"),f,s;if(e.nodeType!=i.ELEMENT_NODE||a.hasData(c)){f=a.data(c);for(s in f)a.data(e,s,f[s]);b&&b.clone(c,e)}}function g(a){var c=null,e,b;if(a&&(a.push||a.item)&&a[0]){c=a[0].ownerDocument;c=c.createDocumentFragment();a=d.makeArray(a);e=0;for(b=a.length;e<b;e++)c.appendChild(a[e])}return c}var l=d.Env.host.document,i=a.NodeType,t=d.UA.ie,c="div",b=l&&l.createElement(c),k=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,v=/<([\w:]+)/,p=/^\s+/,x=/\s+$/,u=
t&&9>t,e=/<|&#?\w+;/,n=l&&"outerHTML"in l.documentElement,A=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;d.mix(a,{create:function(b,f,n,y){var s=null;if(!b)return s;if(b.nodeType)return a.clone(b);if("string"!=typeof b)return s;y===h&&(y=!0);y&&(b=d.trim(b));var y=a._creators,C,D,n=n||l,E,F=c;if(e.test(b))if(E=A.exec(b))s=n.createElement(E[1]);else{b=b.replace(k,"<$1></$2>");if((E=v.exec(b))&&(C=E[1]))F=C.toLowerCase();C=(y[F]||j)(b,n);u&&(D=b.match(p))&&C.insertBefore(n.createTextNode(D[0]),C.firstChild);u&&/\S/.test(b)&&
(D=b.match(x))&&C.appendChild(n.createTextNode(D[0]));b=C.childNodes;1===b.length?s=b[0].parentNode.removeChild(b[0]):b.length&&(s=g(b))}else s=n.createTextNode(b);d.isPlainObject(f)&&(s.nodeType==i.ELEMENT_NODE?a.attr(s,f,!0):s.nodeType==i.DOCUMENT_FRAGMENT_NODE&&a.attr(s.childNodes,f,!0));return s},_fixCloneAttributes:function(c,b){"textarea"===a.nodeName(c)&&(b.defaultValue=c.defaultValue,b.value=c.value)},_creators:{div:j},_defaultCreator:j,html:function(c,b,e){var c=a.query(c),f=c[0],d=!1,n,
k;if(!f)return null;if(b===h)return f.nodeType==i.ELEMENT_NODE?f.innerHTML:null;b+="";if(!b.match(/<(?:script|style|link)/i)&&(!u||!b.match(p))&&!z[(b.match(v)||["",""])[1].toLowerCase()])try{for(n=c.length-1;0<=n;n--)k=c[n],k.nodeType==i.ELEMENT_NODE&&(o(k.getElementsByTagName("*")),k.innerHTML=b);d=!0}catch(g){}d||(b=a.create(b,0,f.ownerDocument,0),a.empty(c),a.append(b,c,e));return h},outerHtml:function(e,f,d){var k=a.query(e),s=k.length,e=k[0];if(!e)return null;if(f===h){if(n)return e.outerHTML;
f=(f=e.ownerDocument)&&f!=l?f.createElement(c):b;f.innerHTML="";f.appendChild(a.clone(e,!0));f.appendChild(a.clone(e,!0));return f.innerHTML}f+="";if(!f.match(/<(?:script|style|link)/i)&&n)for(d=s-1;0<=d;d--)e=k[d],e.nodeType==i.ELEMENT_NODE&&(o(e),o(e.getElementsByTagName("*")),e.outerHTML=f);else e=a.create(f,0,e.ownerDocument,0),a.insertBefore(e,k,d),a.remove(k);return h},remove:function(c,b){var e,f=a.query(c),s,n,k=d.require("event/dom"),h;for(h=f.length-1;0<=h;h--)e=f[h],!b&&e.nodeType==i.ELEMENT_NODE&&
(s=d.makeArray(e.getElementsByTagName("*")),s.push(e),a.removeData(s),k&&k.detach(s)),(n=e.parentNode)&&n.removeChild(e)},clone:function(c,b,e,f){"object"===typeof b&&(f=b.deepWithDataAndEvent,e=b.withDataAndEvent,b=b.deep);var c=a.get(c),d,n=a._fixCloneAttributes,k;if(!c)return null;k=c.nodeType;d=c.cloneNode(b);if(k==i.ELEMENT_NODE||k==i.DOCUMENT_FRAGMENT_NODE)n&&k==i.ELEMENT_NODE&&n(c,d),b&&n&&m(n,c,d);e&&(r(c,d),b&&f&&m(r,c,d));return d},empty:function(c){var c=a.query(c),b,e;for(e=c.length-1;0<=
e;e--)b=c[e],a.remove(b.childNodes)},_nodeListToFragment:g});a.outerHTML=a.outerHtml;var f=a._creators,y=a.create,z={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},B;for(B in z)(function(a){f[B]=function(c,b){return y("<"+a+">"+c+"</"+a+">",null,b)}})(z[B]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(d,a,h){var o=d.Env.host,j="_ks_data_"+d.now(),m={},r={},g={applet:1,object:1,embed:1},l={hasData:function(a,b){if(a)if(b!==h){if(b in a)return!0}else if(!d.isEmptyObject(a))return!0;return!1}},i={hasData:function(a,b){return a==o?i.hasData(r,b):l.hasData(a[j],b)},data:function(a,b,d){if(a==o)return i.data(r,b,d);var g=a[j];if(d!==h)g=a[j]=a[j]||{},g[b]=d;else return b!==h?g&&g[b]:g=a[j]=a[j]||{}},removeData:function(a,b){if(a==o)return i.removeData(r,b);var k=a[j];
if(b!==h)delete k[b],d.isEmptyObject(k)&&i.removeData(a);else try{delete a[j]}catch(g){a[j]=h}}},t={hasData:function(a,b){var d=a[j];return!d?!1:l.hasData(m[d],b)},data:function(a,b,k){if(g[a.nodeName.toLowerCase()])return h;var i=a[j];if(!i){if(b!==h&&k===h)return h;i=a[j]=d.guid()}a=m[i];if(k!==h)a=m[i]=m[i]||{},a[b]=k;else return b!==h?a&&a[b]:a=m[i]=m[i]||{}},removeData:function(a,b){var k=a[j],g;if(k)if(g=m[k],b!==h)delete g[b],d.isEmptyObject(g)&&t.removeData(a);else{delete m[k];try{delete a[j]}catch(i){a[j]=
h}a.removeAttribute&&a.removeAttribute(j)}}};d.mix(a,{__EXPANDO:j,hasData:function(c,b){for(var d=!1,h=a.query(c),g=0;g<h.length&&!(d=h[g],d=d.nodeType?t.hasData(d,b):i.hasData(d,b));g++);return d},data:function(c,b,g){var c=a.query(c),l=c[0];if(d.isPlainObject(b)){for(var p in b)a.data(c,p,b[p]);return h}if(g===h){if(l)return l.nodeType?t.data(l,b):i.data(l,b)}else for(p=c.length-1;0<=p;p--)l=c[p],l.nodeType?t.data(l,b,g):i.data(l,b,g);return h},removeData:function(c,b){var d=a.query(c),g,h;for(h=
d.length-1;0<=h;h--)g=d[h],g.nodeType?t.removeData(g,b):i.removeData(g,b)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(d,a){function h(a,b){var d=[],j,p,o;for(j=0;a[j];j++)if(p=a[j],o=g(p),p.nodeType==m.DOCUMENT_FRAGMENT_NODE)d.push.apply(d,h(l(p.childNodes),b));else if("script"===o&&(!p.type||t.test(p.type)))p.parentNode&&p.parentNode.removeChild(p),b&&b.push(p);else{if(p.nodeType==m.ELEMENT_NODE&&!r.test(o)){o=[];var u,e,n=p.getElementsByTagName("script");for(e=0;e<n.length;e++)u=n[e],(!u.type||t.test(u.type))&&o.push(u);i.apply(a,[j+1,0].concat(o))}d.push(p)}return d}function o(a){a.src?
d.getScript(a.src):(a=d.trim(a.text||a.textContent||a.innerHTML||""))&&d.globalEval(a)}function j(c,b,g,i){c=a.query(c);i&&(i=[]);c=h(c,i);a._fixInsertionChecked&&a._fixInsertionChecked(c);var b=a.query(b),l,j,u,e,n=b.length;if((c.length||i&&i.length)&&n){c=a._nodeListToFragment(c);1<n&&(e=a.clone(c,!0),b=d.makeArray(b));for(l=0;l<n;l++)j=b[l],c&&(u=0<l?a.clone(e,!0):c,g(u,j)),i&&i.length&&d.each(i,o)}}var m=a.NodeType,r=/^(?:button|input|object|select|textarea)$/i,g=a.nodeName,l=d.makeArray,i=[].splice,
t=/\/(java|ecma)script/i;d.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,b,d){j(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},d)},insertAfter:function(a,b,d){j(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},d)},appendTo:function(a,b,d){j(a,b,function(a,b){b.appendChild(a)},d)},prependTo:function(a,b,d){j(a,b,function(a,b){b.insertBefore(a,b.firstChild)},d)},wrapAll:function(d,b){b=a.clone(a.get(b),!0);d=a.query(d);d[0].parentNode&&a.insertBefore(b,
d[0]);for(var g;(g=b.firstChild)&&1==g.nodeType;)b=g;a.appendTo(d,b)},wrap:function(c,b){c=a.query(c);b=a.get(b);d.each(c,function(d){a.wrapAll(d,b)})},wrapInner:function(c,b){c=a.query(c);b=a.get(b);d.each(c,function(d){var c=d.childNodes;c.length?a.wrapAll(c,b):d.appendChild(b)})},unwrap:function(c){c=a.query(c);d.each(c,function(b){b=b.parentNode;a.replaceWith(b,b.childNodes)})},replaceWith:function(d,b){var g=a.query(d),b=a.query(b);a.remove(b,!0);a.insertBefore(b,g);a.remove(g)}});d.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(d,b){a[b]=a[d]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(d,a,h){function o(a){var e,d=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};e=a.getBoundingClientRect();a=e[b];e=e[k];a-=i.clientLeft||d.clientLeft||0;e-=i.clientTop||d.clientTop||0;return{left:a,top:e}}function j(b,e){var d={left:0,top:0},c=t(b),f,g=b,e=e||c;do{if(c==e){var h=g;f=o(h);h=t(h);f.left+=a[p](h);f.top+=a[x](h)}else f=o(g);d.left+=f.left;d.top+=f.top}while(c&&c!=e&&(g=c.frameElement)&&(c=c.parent));return d}var m=d.Env.host,r=
d.UA,g=m.document,l=a.NodeType,i=g&&g.documentElement,t=a.getWindow,c=Math.max,b="left",k="top",v=d.isNumber,p="scrollLeft",x="scrollTop";d.mix(a,{offset:function(b,e,d){if(e===h){var b=a.get(b),c;b&&(c=j(b,d));return c}d=a.query(b);for(c=d.length-1;0<=c;c--){var b=d[c],f=e;"static"===a.css(b,"position")&&(b.style.position="relative");var g=j(b),i={},l=void 0,k=void 0;for(k in f)l=parseFloat(a.css(b,k))||0,i[k]=l+f[k]-g[k];a.css(b,i)}return h},scrollIntoView:function(c,e,g,i){var f,j,m,p;if(m=a.get(c)){e&&
(e=a.get(e));e||(e=m.ownerDocument);e.nodeType==l.DOCUMENT_NODE&&(e=t(e));d.isPlainObject(g)&&(i=g.allowHorizontalScroll,p=g.onlyScrollIfNeeded,g=g.alignWithTop);i=i===h?!0:i;j=d.isWindow(e);var c=a.offset(m),q=a.outerHeight(m);f=a.outerWidth(m);var o,r,v,s;j?(j=e,o=a.height(j),r=a.width(j),s={left:a.scrollLeft(j),top:a.scrollTop(j)},j=c[b]-s[b],m=c[k]-s[k],f=c[b]+f-(s[b]+r),c=c[k]+q-(s[k]+o)):(o=a.offset(e),r=e.clientHeight,v=e.clientWidth,s={left:a.scrollLeft(e),top:a.scrollTop(e)},j=c[b]-(o[b]+
(parseFloat(a.css(e,"borderLeftWidth"))||0)),m=c[k]-(o[k]+(parseFloat(a.css(e,"borderTopWidth"))||0)),f=c[b]+f-(o[b]+v+(parseFloat(a.css(e,"borderRightWidth"))||0)),c=c[k]+q-(o[k]+r+(parseFloat(a.css(e,"borderBottomWidth"))||0)));if(p){if(0>m||0<c)!0===g?a.scrollTop(e,s.top+m):!1===g?a.scrollTop(e,s.top+c):0>m?a.scrollTop(e,s.top+m):a.scrollTop(e,s.top+c)}else(g=g===h?!0:!!g)?a.scrollTop(e,s.top+m):a.scrollTop(e,s.top+c);if(i)if(p){if(0>j||0<f)!0===g?a.scrollLeft(e,s.left+j):!1===g?a.scrollLeft(e,
s.left+f):0>j?a.scrollLeft(e,s.left+j):a.scrollLeft(e,s.left+f)}else(g=g===h?!0:!!g)?a.scrollLeft(e,s.left+j):a.scrollLeft(e,s.left+f)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});d.each(["Left","Top"],function(b,e){var d="scroll"+b;a[d]=function(c,f){if(v(c))return arguments.callee(m,c);var c=a.get(c),g,i,k,j;c&&c.nodeType==l.ELEMENT_NODE?f!==h?c[d]=parseFloat(f):g=c[d]:(j=t(c),f!==h?(f=parseFloat(f),i="Left"==b?f:a.scrollLeft(j),k="Top"==b?f:a.scrollTop(j),
j.scrollTo(i,k)):(g=j["page"+(e?"Y":"X")+"Offset"],v(g)||(i=j.document,g=i.documentElement[d],v(g)||(g=i.body[d]))));return g}});d.each(["Width","Height"],function(b){a["doc"+b]=function(e){e=a.get(e);e=a.getDocument(e);return c(e.documentElement["scroll"+b],e.body["scroll"+b],a["viewport"+b](e))};a["viewport"+b]=function(e){var e=a.get(e),d=t(e),e=d["inner"+b];if(r.mobile&&e)return e;var e="client"+b,d=d.document,c=d.body,f=d.documentElement[e];return"CSS1Compat"===d.compatMode&&f||c&&c[e]||f}});
return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(d,a,h){function o(a,b){return b.toUpperCase()}function j(a){return a.replace(e,"ms-").replace(w,o)}function m(a,b,d){var c={},e;for(e in b)c[e]=a[k][e],a[k][e]=b[e];d.call(a);for(e in b)a[k][e]=c[e]}function r(a,b,e){var d,c,g;if(3===a.nodeType||8===a.nodeType||!(d=a[k]))return h;b=j(b);g=z[b];b=B[b]||b;if(e!==h){null===e||e===A?e=A:!isNaN(Number(e))&&!u[b]&&(e+=f);g&&g.set&&(e=g.set(a,e));if(e!==h){try{d[b]=e}catch(i){}e===A&&d.removeAttribute&&d.removeAttribute(b)}d.cssText||
a.removeAttribute("style");return h}if(!g||!("get"in g&&(c=g.get(a,!1))!==h))c=d[b];return c===h?"":c}function g(a){var b,e=arguments;0!==a.offsetWidth?b=l.apply(h,e):m(a,G,function(){b=l.apply(h,e)});return b}function l(b,e,c){if(d.isWindow(b))return e==p?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return e==p?a.docWidth(b):a.docHeight(b);var f=e===p?["Left","Right"]:["Top","Bottom"],g=e===p?b.offsetWidth:b.offsetHeight;if(0<g)return"border"!==c&&d.each(f,function(e){c||(g-=parseFloat(a.css(b,
"padding"+e))||0);g="margin"===c?g+(parseFloat(a.css(b,c+e))||0):g-(parseFloat(a.css(b,"border"+e+"Width"))||0)}),g;g=a._getComputedStyle(b,e);if(null==g||0>Number(g))g=b.style[e]||0;g=parseFloat(g)||0;c&&d.each(f,function(e){g+=parseFloat(a.css(b,"padding"+e))||0;"padding"!==c&&(g+=parseFloat(a.css(b,"border"+e+"Width"))||0);"margin"===c&&(g+=parseFloat(a.css(b,c+e))||0)});return g}var i=d.Env.host,t=d.UA,c=a.nodeName,b=i.document,k="style",v=/^margin/,p="width",x="display"+d.now(),u={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},e=/^-ms-/,n=/([A-Z]|^ms)/g,A="",f="px",y=/\d(?!px)[a-z%]+$/i,z={},B={"float":"cssFloat"},q={},w=/-([a-z])/ig;d.mix(a,{_camelCase:j,_CUSTOM_STYLES:z,_cssProps:B,_getComputedStyle:function(b,e){var c="",d,f,g,h,i;f=b.ownerDocument;e=e.replace(n,"-$1").toLowerCase();if(d=f.defaultView.getComputedStyle(b,null))c=d.getPropertyValue(e)||d[e];""===c&&!a.contains(f,b)&&(e=B[e]||e,c=b[k][e]);a._RE_NUM_NO_PX.test(c)&&v.test(e)&&(i=b.style,
f=i.width,g=i.minWidth,h=i.maxWidth,i.minWidth=i.maxWidth=i.width=c,c=d.width,i.width=f,i.minWidth=g,i.maxWidth=h);return c},style:function(b,e,c){var b=a.query(b),f,g=b[0];if(d.isPlainObject(e)){for(f in e)for(g=b.length-1;0<=g;g--)r(b[g],f,e[f]);return h}if(c===h)return f="",g&&(f=r(g,e,c)),f;for(g=b.length-1;0<=g;g--)r(b[g],e,c);return h},css:function(b,e,c){var b=a.query(b),f=b[0],g;if(d.isPlainObject(e)){for(g in e)for(f=b.length-1;0<=f;f--)r(b[f],g,e[g]);return h}e=j(e);g=z[e];if(c===h){c="";
if(f&&(!g||!("get"in g&&(c=g.get(f,!0))!==h)))c=a._getComputedStyle(f,e);return"undefined"==typeof c?"":c}for(f=b.length-1;0<=f;f--)r(b[f],e,c);return h},show:function(e){var e=a.query(e),c,d,f;for(f=e.length-1;0<=f;f--)if(d=e[f],d[k].display=a.data(d,x)||A,"none"===a.css(d,"display")){c=d.tagName.toLowerCase();var g=void 0,i=q[c],h=void 0;q[c]||(g=b.body||b.documentElement,h=b.createElement(c),a.prepend(h,g),i=a.css(h,"display"),g.removeChild(h),q[c]=i);c=i;a.data(d,x,c);d[k].display=c}},hide:function(b){var b=
a.query(b),e,c;for(c=b.length-1;0<=c;c--){e=b[c];var d=e[k],f=d.display;"none"!==f&&(f&&a.data(e,x,f),d.display="none")}},toggle:function(b){var b=a.query(b),e,c;for(c=b.length-1;0<=c;c--)e=b[c],"none"===a.css(e,"display")?a.show(e):a.hide(e)},addStyleSheet:function(b,e,c){"string"==typeof b&&(c=e,e=b,b=i);var b=a.getDocument(b),d;if(c&&(c=c.replace("#",A)))d=a.get("#"+c,b);d||(d=a.create("<style>",{id:c},b),a.get("head",b).appendChild(d),d.styleSheet?d.styleSheet.cssText=e:d.appendChild(b.createTextNode(e)))},
unselectable:function(b){var b=a.query(b),e,f,g=0,i,h;for(f=b.length-1;0<=f;f--)if(e=b[f],h=e[k],h.UserSelect="none",t.gecko)h.MozUserSelect="none";else if(t.webkit)h.WebkitUserSelect="none";else if(t.ie||t.opera){h=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(i=["iframe","textarea","input","select"];e=h[g++];)d.inArray(c(e),i)||e.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});d.each([p,"height"],function(b){a["inner"+
d.ucfirst(b)]=function(e){return(e=a.get(e))&&g(e,b,"padding")};a["outer"+d.ucfirst(b)]=function(e,c){var d=a.get(e);return d&&g(d,b,c?"margin":"border")};a[b]=function(e,c){var d=a.css(e,b,c);d&&(d=parseFloat(d));return d};z[b]={get:function(a,e){var c;e&&(c=g(a,b)+"px");return c}}});var G={position:"absolute",visibility:"hidden",display:"block"};d.each(["left","top"],function(e){z[e]={get:function(c,d){var f,g,i;if(d){i=a.css(c,"position");if("static"===i)return"auto";f=a._getComputedStyle(c,e);
if((g="auto"===f)&&"relative"===i)return"0px";if(g||y.test(f)){i={top:0,left:0};if("fixed"==a.css(c,"position"))g=c.getBoundingClientRect();else{for(f=c.offsetParent||(c.ownerDocument||b).body;f&&!H.test(f.nodeName)&&"static"===a.css(f,"position");)f=f.offsetParent;g=a.offset(c);i=a.offset(f);i.top+=parseFloat(a.css(f,"borderTopWidth"))||0;i.left+=parseFloat(a.css(f,"borderLeftWidth"))||0}g.top-=parseFloat(a.css(c,"marginTop"))||0;g.left-=parseFloat(a.css(c,"marginLeft"))||0;f={top:g.top-i.top,left:g.left-
i.left}[e]+"px"}}return f}}});var H=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(d,a,h){function o(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function j(e,d){var g,f;g="string"==typeof e;var i=d!==h?j(d):(f=1)&&[l],m=i.length;if(e)if(g)if(e=u(e),f&&"body"==e)g=[l.body];else{g=[];for(f=0;f<m;f++)p.apply(g,a._selectInternal(e,i[f]));1<g.length&&1<m&&a.unique(g)}else{if(g=e.nodeType||e.setTimeout?[e]:e.getDOMNodes?e.getDOMNodes():c(e)?e:k(e)?b(e):[e],!f){var t=g,q,r=t.length;g=[];for(f=0;f<r;f++)for(q=0;q<m;q++)if(a._contains(i[q],
t[f])){g.push(t[f]);break}}}else g=[];g.each=o;return g}function m(a,b){var c=a&&(a.className||r(a,"class"));return c&&-1<(v+c+v).indexOf(v+b+v)}function r(a,b){var c=a&&a.getAttributeNode(b);return c&&c.specified?c.nodeValue:h}function g(a,b){return"*"==b||a.nodeName.toLowerCase()===b.toLowerCase()}var l=d.Env.host.document,i=l.documentElement,t=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.oMatchesSelector||i.msMatchesSelector,c=d.isArray,b=d.makeArray,k=a.isDomNodeList,v=" ",p=Array.prototype.push,
x=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,u=d.trim;d.mix(a,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getSimpleAttr:r,_isTag:g,_hasSingleClass:m,_matchesInternal:function(a,b){for(var c=[],d=0,g,i=b.length;d<i;d++)g=b[d],t.call(g,a)&&c.push(g);return c},_selectInternal:function(a,c){return b(c.querySelectorAll(a))},query:j,get:function(a,b){return j(a,b)[0]||null},unique:function(){function b(e,
d){return e==d?(c=!0,0):a._compareNodeOrder(e,d)}var c,d=!0;[0,0].sort(function(){d=!1;return 0});return function(a){c=d;a.sort(b);if(c)for(var g=1,i=a.length;g<i;)a[g]===a[g-1]?(a.splice(g,1),--i):g++;return a}}(),filter:function(b,c,i){var b=j(b,i),f,h,l,k,i=[];if("string"==typeof c&&(c=u(c))&&(l=x.exec(c)))f=l[1],h=l[2],k=l[3],f?f&&!h&&!k&&(c=function(a){return r(a,"id")==f}):c=function(a){var b=!0,c=!0;h&&(b=g(a,h));k&&(c=m(a,k));return c&&b};return i=d.isFunction(c)?d.filter(b,c):a._matchesInternal(c,
b)},test:function(b,c,d){b=j(b,d);return b.length&&a.filter(b,c,d).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(d,a,h){function o(g,l,i,m,c,b,k){if(!(g=a.get(g)))return null;if(0===l)return g;b||(g=g[i]);if(!g)return null;c=c&&a.get(c)||null;l===h&&(l=1);var b=[],o=d.isArray(l),p,x;d.isNumber(l)&&(p=0,x=l,l=function(){return++p===x});for(;g&&g!=c;){if((g.nodeType==r.ELEMENT_NODE||g.nodeType==r.TEXT_NODE&&k)&&j(g,l)&&(!m||m(g)))if(b.push(g),!o)break;g=g[i]}return o?b:b[0]||null}function j(g,h){if(!h)return!0;if(d.isArray(h)){var i,j=h.length;if(!j)return!0;for(i=0;i<j;i++)if(a.test(g,
h[i]))return!0}else if(a.test(g,h))return!0;return!1}function m(g,h,i,j){var c=[],b,k;if((b=g=a.get(g))&&i)b=g.parentNode;if(b){i=d.makeArray(b.childNodes);for(b=0;b<i.length;b++)k=i[b],(j||k.nodeType==r.ELEMENT_NODE)&&k!=g&&c.push(k);h&&(c=a.filter(c,h))}return c}var r=a.NodeType;d.mix(a,{_contains:function(a,d){return!!(a.compareDocumentPosition(d)&16)},closest:function(a,d,i,h){return o(a,d,"parentNode",function(a){return a.nodeType!=r.DOCUMENT_FRAGMENT_NODE},i,!0,h)},parent:function(a,d,i){return o(a,
d,"parentNode",function(a){return a.nodeType!=r.DOCUMENT_FRAGMENT_NODE},i,h)},first:function(d,l,i){d=a.get(d);return o(d&&d.firstChild,l,"nextSibling",h,h,!0,i)},last:function(d,l,i){d=a.get(d);return o(d&&d.lastChild,l,"previousSibling",h,h,!0,i)},next:function(a,d,i){return o(a,d,"nextSibling",h,h,h,i)},prev:function(a,d,i){return o(a,d,"previousSibling",h,h,h,i)},siblings:function(a,d,i){return m(a,d,!0,i)},children:function(a,d){return m(a,d,h)},contents:function(a,d){return m(a,d,h,1)},contains:function(d,
h){d=a.get(d);h=a.get(h);return d&&h?a._contains(d,h):!1},index:function(g,h){var i=a.query(g),j,c=0;j=i[0];if(!h){i=j&&j.parentNode;if(!i)return-1;for(;j=j.previousSibling;)j.nodeType==r.ELEMENT_NODE&&c++;return c}c=a.query(h);return"string"===typeof h?d.indexOf(j,c):d.indexOf(c[0],i)},equals:function(d,h){d=a.query(d);h=a.query(h);if(d.length!=h.length)return!1;for(var i=d.length;0<=i;i--)if(d[i]!=h[i])return!1;return!0}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(d,a){d.mix(d,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
