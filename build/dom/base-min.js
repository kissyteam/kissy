/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 10 14:13
*/
KISSY.add("dom/base/api",function(b){var a=b.Env.host||{},h=a.document,s=b.UA,m={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},p={isCustomDomain:function(b){var b=b||a,b=p.get(b),f=b.document.domain,b=b.location.hostname;return f!=b&&f!="["+b+"]"},getEmptyIframeSrc:function(b){b=b||a;b=p.get(b);return s.ie&&p.isCustomDomain(b)?
"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+b.document.domain+"';document.close();")+"}())":""},NodeType:m,getWindow:function(h){if(!h)return a;h=p.get(h);if(b.isWindow(h))return h;var f=h;f.nodeType!==m.DOCUMENT_NODE&&(f=h.ownerDocument);return f.defaultView||f.parentWindow},getDocument:function(a){if(!a)return h;a=p.get(a);return b.isWindow(a)?a.document:a.nodeType==m.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&!a.nodeType&&a.item&&
!a.setTimeout},nodeName:function(a){var b=p.get(a),a=b.nodeName.toLowerCase();s.ie&&(b=b.scopeName)&&"HTML"!=b&&(a=b.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};b.mix(p,m);return p});
KISSY.add("dom/base/attr",function(b,a,h){function s(a,d){var d=n[d]||d,e=u[d];return e&&e.get?e.get(a,d):a[d]}var m=b.Env.host.document,p=a.NodeType,m=m&&m.documentElement,t=a.nodeName,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,k=/^(?:button|input|object|select|textarea)$/i,j=/^a(?:rea)?$/i,r=/:|^on/,e=/\r/g,c={},l={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},z={tabindex:{get:function(a){var d=
a.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):k.test(a.nodeName)||j.test(a.nodeName)&&a.href?0:h}}},n={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},B={get:function(e,d){return a.prop(e,d)?d.toLowerCase():h},set:function(e,d,i){!1===d?
a.removeAttr(e,i):(d=n[i]||i,d in e&&(e[d]=!0),e.setAttribute(i,i.toLowerCase()));return i}},u={},y={},w={select:{get:function(e){var d=e.selectedIndex,i=e.options,g;if(0>d)return null;if("select-one"===""+e.type)return a.val(i[d]);e=[];d=0;for(g=i.length;d<g;++d)i[d].selected&&e.push(a.val(i[d]));return e},set:function(e,d){var i=b.makeArray(d);b.each(e.options,function(d){d.selected=b.inArray(a.val(d),i)});i.length||(e.selectedIndex=-1);return i}}};b.each(["radio","checkbox"],function(e){w[e]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(d,e){return b.isArray(e)?d.checked=b.inArray(a.val(d),e):h}}});z.style={get:function(a){return a.style.cssText}};b.mix(a,{_valHooks:w,_propFix:n,_attrHooks:z,_propHooks:u,_attrNodeHook:y,_attrFix:c,prop:function(e,d,c){var g=a.query(e),x,o;if(b.isPlainObject(d))return b.each(d,function(d,e){a.prop(g,e,d)}),h;d=n[d]||d;o=u[d];if(c!==h)for(e=g.length-1;0<=e;e--)x=g[e],o&&o.set?o.set(x,c,d):x[d]=c;else if(g.length)return s(g[0],d);return h},hasProp:function(e,
d){var c=a.query(e),g,b=c.length,o;for(g=0;g<b;g++)if(o=c[g],s(o,d)!==h)return!0;return!1},removeProp:function(e,d){var d=n[d]||d,c=a.query(e),g,b;for(g=c.length-1;0<=g;g--){b=c[g];try{b[d]=h,delete b[d]}catch(o){}}},attr:function(e,d,i,g){var x=a.query(e),o=x[0];if(b.isPlainObject(d)){var g=i,v;for(v in d)a.attr(x,v,d[v],g);return h}if(g&&l[d])return a[d](e,i);d=d.toLowerCase();if(g&&l[d])return a[d](e,i);d=c[d]||d;e=f.test(d)?B:r.test(d)?y:z[d];if(i===h){if(o&&o.nodeType===p.ELEMENT_NODE){"form"==
t(o)&&(e=y);if(e&&e.get)return e.get(o,d);i=o.getAttribute(d);return""===i&&(d=o.getAttributeNode(d),!d||!d.specified)?h:null===i?h:i}}else for(g=x.length-1;0<=g;g--)if((o=x[g])&&o.nodeType===p.ELEMENT_NODE)"form"==t(o)&&(e=y),e&&e.set?e.set(o,i,d):o.setAttribute(d,""+i);return h},removeAttr:function(e,d){var d=d.toLowerCase(),d=c[d]||d,i=a.query(e),g,b,o;for(o=i.length-1;0<=o;o--)if(b=i[o],b.nodeType==p.ELEMENT_NODE&&(b.removeAttribute(d),f.test(d)&&(g=n[d]||d)in b))b[g]=!1},hasAttr:m&&!m.hasAttribute?
function(e,d){var d=d.toLowerCase(),c=a.query(e),g,b;for(g=0;g<c.length;g++)if(b=c[g],(b=b.getAttributeNode(d))&&b.specified)return!0;return!1}:function(e,d){var c=a.query(e),g,b=c.length;for(g=0;g<b;g++)if(c[g].hasAttribute(d))return!0;return!1},val:function(c,d){var i,g,l,o,v;if(d===h){if(l=a.get(c)){if((i=w[t(l)]||w[l.type])&&"get"in i&&(g=i.get(l,"value"))!==h)return g;g=l.value;return"string"===typeof g?g.replace(e,""):null==g?"":g}return h}g=a.query(c);for(o=g.length-1;0<=o;o--){l=g[o];if(1!==
l.nodeType)break;v=d;null==v?v="":"number"===typeof v?v+="":b.isArray(v)&&(v=b.map(v,function(a){return a==null?"":a+""}));i=w[t(l)]||w[l.type];if(!i||!("set"in i)||i.set(l,v,"value")===h)l.value=v}return h},text:function(e,d){var c,g,b,o;if(d===h)return c=a.get(e),a._getText(c);g=a.query(e);for(b=g.length-1;0<=b;b--)if(c=g[b],o=c.nodeType,o==p.ELEMENT_NODE)a.empty(c),c.appendChild(c.ownerDocument.createTextNode(d));else if(o==p.TEXT_NODE||o==p.CDATA_SECTION_NODE)c.nodeValue=d;return h},_getText:function(a){return a.textContent}});
return a},{requires:["./api"]});
KISSY.add("dom/base/class",function(b,a){function h(a){for(var a=b.trim(a||""),a=a.split(f),h=[],r,e=a.length,c=0;c<e;c++)(r=a[c])&&h.push(r);return h}function s(a){return function(b,h){var e,c,l,f=b.classList,n=p.call(arguments,2);e=0;for(c=h.length;e<c;e++)(l=h[e])&&f[a].apply(f,[l].concat(n))}}function m(b){return function(f,r){var e=h(r),c=p.call(arguments,2);a.query(f).each(function(l){l.nodeType==t.ELEMENT_NODE&&a[b].apply(a,[l,e].concat(c))})}}var p=[].slice,t=a.NodeType,f=/[\.\s]\s*\.?/;b.mix(a,
{_hasClass:function(a,b){var h,e,c,l=a.classList;if(l.length){h=0;for(e=b.length;h<e;h++)if((c=b[h])&&!l.contains(c))return!1;return!0}return!1},_addClass:s("add"),_removeClass:s("remove"),_toggleClass:s("toggle"),hasClass:function(b,f){var r=a.get(b);return r&&r.nodeType==t.ELEMENT_NODE&&a._hasClass(r,h(f))},replaceClass:function(b,h,f){a.removeClass(b,h);a.addClass(b,f)},addClass:m("_addClass"),removeClass:m("_removeClass"),toggleClass:m("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(b,a,h){function s(e){var d=b.require("event/dom");d&&d.detach(e);a.removeData(e)}function m(a,d){var b=d&&d!=k?d.createElement(e):c;b.innerHTML="m<div>"+a+"</div>";return b.lastChild}function p(a,e,d){var c=e.nodeType;if(c==j.DOCUMENT_FRAGMENT_NODE){e=e.childNodes;d=d.childNodes;for(c=0;e[c];)d[c]&&p(a,e[c],d[c]),c++}else if(c==j.ELEMENT_NODE){e=e.getElementsByTagName("*");d=d.getElementsByTagName("*");for(c=0;e[c];)d[c]&&a(e[c],d[c]),c++}}function t(e,d){var c=
b.require("event/dom"),g,q;if(d.nodeType!=j.ELEMENT_NODE||a.hasData(e)){g=a.data(e);for(q in g)a.data(d,q,g[q]);c&&c.clone(e,d)}}function f(a){var e=null,d,c;if(a&&(a.push||a.item)&&a[0]){e=a[0].ownerDocument;e=e.createDocumentFragment();a=b.makeArray(a);d=0;for(c=a.length;d<c;d++)e.appendChild(a[d])}return e}var k=b.Env.host.document,j=a.NodeType,r=b.UA.ie,e="div",c=k&&k.createElement(e),l=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,z=/<([\w:]+)/,n=/^\s+/,B=/\s+$/,u=
r&&9>r,y=/<|&#?\w+;/,w=k&&"outerHTML"in k.documentElement,C=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;b.mix(a,{create:function(d,c,g,i){var q=null;if(!d)return q;if(d.nodeType)return a.clone(d);if("string"!=typeof d)return q;i===h&&(i=!0);i&&(d=b.trim(d));var i=a._creators,A,E,g=g||k,D,F=e;if(y.test(d))if(D=C.exec(d))q=g.createElement(D[1]);else{d=d.replace(l,"<$1></$2>");if((D=z.exec(d))&&(A=D[1]))F=A.toLowerCase();A=(i[F]||m)(d,g);u&&(E=d.match(n))&&A.insertBefore(g.createTextNode(E[0]),A.firstChild);u&&/\S/.test(d)&&
(E=d.match(B))&&A.appendChild(g.createTextNode(E[0]));d=A.childNodes;1===d.length?q=d[0].parentNode.removeChild(d[0]):d.length&&(q=f(d))}else q=g.createTextNode(d);b.isPlainObject(c)&&(q.nodeType==j.ELEMENT_NODE?a.attr(q,c,!0):q.nodeType==j.DOCUMENT_FRAGMENT_NODE&&a.attr(q.childNodes,c,!0));return q},_fixCloneAttributes:function(d,e){"textarea"===a.nodeName(d)&&(e.defaultValue=d.defaultValue,e.value=d.value)},_creators:{div:m},_defaultCreator:m,html:function(d,e,c){var d=a.query(d),b=d[0],q=!1,A,
i;if(!b)return null;if(e===h)return b.nodeType==j.ELEMENT_NODE?b.innerHTML:null;e+="";if(!e.match(/<(?:script|style|link)/i)&&(!u||!e.match(n))&&!g[(e.match(z)||["",""])[1].toLowerCase()])try{for(A=d.length-1;0<=A;A--)i=d[A],i.nodeType==j.ELEMENT_NODE&&(s(i.getElementsByTagName("*")),i.innerHTML=e);q=!0}catch(l){}q||(e=a.create(e,0,b.ownerDocument,0),a.empty(d),a.append(e,d,c));return h},outerHtml:function(d,b,g){var i=a.query(d),q=i.length,d=i[0];if(!d)return null;if(b===h){if(w)return d.outerHTML;
b=(b=d.ownerDocument)&&b!=k?b.createElement(e):c;b.innerHTML="";b.appendChild(a.clone(d,!0));b.appendChild(a.clone(d,!0));return b.innerHTML}b+="";if(!b.match(/<(?:script|style|link)/i)&&w)for(g=q-1;0<=g;g--)d=i[g],d.nodeType==j.ELEMENT_NODE&&(s(d),s(d.getElementsByTagName("*")),d.outerHTML=b);else d=a.create(b,0,d.ownerDocument,0),a.insertBefore(d,i,g),a.remove(i);return h},remove:function(d,e){var c,g=a.query(d),q,i,h=b.require("event/dom"),l;for(l=g.length-1;0<=l;l--)c=g[l],!e&&c.nodeType==j.ELEMENT_NODE&&
(q=b.makeArray(c.getElementsByTagName("*")),q.push(c),a.removeData(q),h&&h.detach(q)),(i=c.parentNode)&&i.removeChild(c)},clone:function(d,e,c,b){"object"===typeof e&&(b=e.deepWithDataAndEvent,c=e.withDataAndEvent,e=e.deep);var d=a.get(d),g,i=a._fixCloneAttributes,l;if(!d)return null;l=d.nodeType;g=d.cloneNode(e);if(l==j.ELEMENT_NODE||l==j.DOCUMENT_FRAGMENT_NODE)i&&l==j.ELEMENT_NODE&&i(d,g),e&&i&&p(i,d,g);c&&(t(d,g),e&&b&&p(t,d,g));return g},empty:function(d){var d=a.query(d),e,c;for(c=d.length-1;0<=
c;c--)e=d[c],a.remove(e.childNodes)},_nodeListToFragment:f});a.outerHTML=a.outerHtml;var d=a._creators,i=a.create,g={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},x;for(x in g)(function(a){d[x]=function(d,e){return i("<"+a+">"+d+"</"+a+">",null,e)}})(g[x]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(b,a,h){var s=b.Env.host,m="_ks_data_"+b.now(),p={},t={},f={applet:1,object:1,embed:1},k={hasData:function(a,c){if(a)if(c!==h){if(c in a)return!0}else if(!b.isEmptyObject(a))return!0;return!1}},j={hasData:function(a,c){return a==s?j.hasData(t,c):k.hasData(a[m],c)},data:function(a,c,b){if(a==s)return j.data(t,c,b);var f=a[m];if(b!==h)f=a[m]=a[m]||{},f[c]=b;else return c!==h?f&&f[c]:f=a[m]=a[m]||{}},removeData:function(a,c){if(a==s)return j.removeData(t,c);var l=a[m];
if(c!==h)delete l[c],b.isEmptyObject(l)&&j.removeData(a);else try{delete a[m]}catch(f){a[m]=h}}},r={hasData:function(a,c){var b=a[m];return!b?!1:k.hasData(p[b],c)},data:function(a,c,l){if(f[a.nodeName.toLowerCase()])return h;var k=a[m];if(!k){if(c!==h&&l===h)return h;k=a[m]=b.guid()}a=p[k];if(l!==h)a=p[k]=p[k]||{},a[c]=l;else return c!==h?a&&a[c]:a=p[k]=p[k]||{}},removeData:function(a,c){var l=a[m],f;if(l)if(f=p[l],c!==h)delete f[c],b.isEmptyObject(f)&&r.removeData(a);else{delete p[l];try{delete a[m]}catch(k){a[m]=
h}a.removeAttribute&&a.removeAttribute(m)}}};b.mix(a,{__EXPANDO:m,hasData:function(e,c){for(var b=!1,h=a.query(e),f=0;f<h.length&&!(b=h[f],b=b.nodeType?r.hasData(b,c):j.hasData(b,c));f++);return b},data:function(e,c,f){var e=a.query(e),k=e[0];if(b.isPlainObject(c)){for(var n in c)a.data(e,n,c[n]);return h}if(f===h){if(k)return k.nodeType?r.data(k,c):j.data(k,c)}else for(n=e.length-1;0<=n;n--)k=e[n],k.nodeType?r.data(k,c,f):j.data(k,c,f);return h},removeData:function(e,c){var b=a.query(e),f,h;for(h=
b.length-1;0<=h;h--)f=b[h],f.nodeType?r.removeData(f,c):j.removeData(f,c)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(b,a){function h(a,c){var b=[],m,n,s;for(m=0;a[m];m++)if(n=a[m],s=f(n),n.nodeType==p.DOCUMENT_FRAGMENT_NODE)b.push.apply(b,h(k(n.childNodes),c));else if("script"===s&&(!n.type||r.test(n.type)))n.parentNode&&n.parentNode.removeChild(n),c&&c.push(n);else{if(n.nodeType==p.ELEMENT_NODE&&!t.test(s)){s=[];var u,y,w=n.getElementsByTagName("script");for(y=0;y<w.length;y++)u=w[y],(!u.type||r.test(u.type))&&s.push(u);j.apply(a,[m+1,0].concat(s))}b.push(n)}return b}function s(a){a.src?
b.getScript(a.src):(a=b.trim(a.text||a.textContent||a.innerHTML||""))&&b.globalEval(a)}function m(e,c,f,k){e=a.query(e);k&&(k=[]);e=h(e,k);a._fixInsertionChecked&&a._fixInsertionChecked(e);var c=a.query(c),j,m,u,y,w=c.length;if((e.length||k&&k.length)&&w){e=a._nodeListToFragment(e);1<w&&(y=a.clone(e,!0),c=b.makeArray(c));for(j=0;j<w;j++)m=c[j],e&&(u=0<j?a.clone(y,!0):e,f(u,m)),k&&k.length&&b.each(k,s)}}var p=a.NodeType,t=/^(?:button|input|object|select|textarea)$/i,f=a.nodeName,k=b.makeArray,j=[].splice,
r=/\/(java|ecma)script/i;b.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,c,b){m(a,c,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c)},b)},insertAfter:function(a,c,b){m(a,c,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c.nextSibling)},b)},appendTo:function(a,c,b){m(a,c,function(a,c){c.appendChild(a)},b)},prependTo:function(a,c,b){m(a,c,function(a,c){c.insertBefore(a,c.firstChild)},b)},wrapAll:function(b,c){c=a.clone(a.get(c),!0);b=a.query(b);b[0].parentNode&&a.insertBefore(c,
b[0]);for(var f;(f=c.firstChild)&&1==f.nodeType;)c=f;a.appendTo(b,c)},wrap:function(e,c){e=a.query(e);c=a.get(c);b.each(e,function(b){a.wrapAll(b,c)})},wrapInner:function(e,c){e=a.query(e);c=a.get(c);b.each(e,function(b){var e=b.childNodes;e.length?a.wrapAll(e,c):b.appendChild(c)})},unwrap:function(e){e=a.query(e);b.each(e,function(b){b=b.parentNode;a.replaceWith(b,b.childNodes)})},replaceWith:function(b,c){var f=a.query(b),c=a.query(c);a.remove(c,!0);a.insertBefore(c,f);a.remove(f)}});b.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(b,c){a[c]=a[b]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(b,a,h){function s(a){var b,e=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};b=a.getBoundingClientRect();a=b[c];b=b[l];a-=j.clientLeft||e.clientLeft||0;b-=j.clientTop||e.clientTop||0;return{left:a,top:b}}function m(b,c){var e={left:0,top:0},f=r(b),d,i=b,c=c||f;do{if(f==c){var g=i;d=s(g);g=r(g);d.left+=a[n](g);d.top+=a[B](g)}else d=s(i);e.left+=d.left;e.top+=d.top}while(f&&f!=c&&(i=f.frameElement)&&(f=f.parent));return e}var p=b.Env.host,t=
b.UA,f=p.document,k=a.NodeType,j=f&&f.documentElement,r=a.getWindow,e=Math.max,c="left",l="top",z=b.isNumber,n="scrollLeft",B="scrollTop";b.mix(a,{offset:function(b,c,e){if(c===h){var b=a.get(b),f;b&&(f=m(b,e));return f}e=a.query(b);for(f=e.length-1;0<=f;f--){var b=e[f],d=c;"static"===a.css(b,"position")&&(b.style.position="relative");var i=m(b),g={},k=void 0,o=void 0;for(o in d)k=parseFloat(a.css(b,o))||0,g[o]=k+d[o]-i[o];a.css(b,g)}return h},scrollIntoView:function(e,f,j,m){var d,i,g,x;if(g=a.get(e)){f&&
(f=a.get(f));f||(f=g.ownerDocument);f.nodeType==k.DOCUMENT_NODE&&(f=r(f));b.isPlainObject(j)&&(m=j.allowHorizontalScroll,x=j.onlyScrollIfNeeded,j=j.alignWithTop);m=m===h?!0:m;i=b.isWindow(f);var e=a.offset(g),o=a.outerHeight(g);d=a.outerWidth(g);var v,n,p,q;i?(i=f,v=a.height(i),n=a.width(i),q={left:a.scrollLeft(i),top:a.scrollTop(i)},i=e[c]-q[c],g=e[l]-q[l],d=e[c]+d-(q[c]+n),e=e[l]+o-(q[l]+v)):(v=a.offset(f),n=f.clientHeight,p=f.clientWidth,q={left:a.scrollLeft(f),top:a.scrollTop(f)},i=e[c]-(v[c]+
(parseFloat(a.css(f,"borderLeftWidth"))||0)),g=e[l]-(v[l]+(parseFloat(a.css(f,"borderTopWidth"))||0)),d=e[c]+d-(v[c]+p+(parseFloat(a.css(f,"borderRightWidth"))||0)),e=e[l]+o-(v[l]+n+(parseFloat(a.css(f,"borderBottomWidth"))||0)));if(x){if(0>g||0<e)!0===j?a.scrollTop(f,q.top+g):!1===j?a.scrollTop(f,q.top+e):0>g?a.scrollTop(f,q.top+g):a.scrollTop(f,q.top+e)}else(j=j===h?!0:!!j)?a.scrollTop(f,q.top+g):a.scrollTop(f,q.top+e);if(m)if(x){if(0>i||0<d)!0===j?a.scrollLeft(f,q.left+i):!1===j?a.scrollLeft(f,
q.left+d):0>i?a.scrollLeft(f,q.left+i):a.scrollLeft(f,q.left+d)}else(j=j===h?!0:!!j)?a.scrollLeft(f,q.left+i):a.scrollLeft(f,q.left+d)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});b.each(["Left","Top"],function(b,e){var c="scroll"+b;a[c]=function(f,d){if(z(f))return arguments.callee(p,f);var f=a.get(f),i,g,j,o;f&&f.nodeType==k.ELEMENT_NODE?d!==h?f[c]=parseFloat(d):i=f[c]:(o=r(f),d!==h?(d=parseFloat(d),g="Left"==b?d:a.scrollLeft(o),j="Top"==b?d:a.scrollTop(o),
o.scrollTo(g,j)):(i=o["page"+(e?"Y":"X")+"Offset"],z(i)||(g=o.document,i=g.documentElement[c],z(i)||(i=g.body[c]))));return i}});b.each(["Width","Height"],function(b){a["doc"+b]=function(c){c=a.get(c);c=a.getDocument(c);return e(c.documentElement["scroll"+b],c.body["scroll"+b],a["viewport"+b](c))};a["viewport"+b]=function(c){var c=a.get(c),e=r(c),c=e["inner"+b];if(t.mobile&&c)return c;var c="client"+b,e=e.document,f=e.body,d=e.documentElement[c];return"CSS1Compat"===e.compatMode&&d||f&&f[c]||d}});
return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(b,a,h){function s(a,d){return d.toUpperCase()}function m(a){return a.replace(y,"ms-").replace(v,s)}function p(a,d,b){var c={},e;for(e in d)c[e]=a[l][e],a[l][e]=d[e];b.call(a);for(e in d)a[l][e]=c[e]}function t(a,b,c){var e,f,i;if(3===a.nodeType||8===a.nodeType||!(e=a[l]))return h;b=m(b);i=g[b];b=x[b]||b;if(c!==h){null===c||c===C?c=C:!isNaN(Number(c))&&!u[b]&&(c+=d);i&&i.set&&(c=i.set(a,c));if(c!==h){try{e[b]=c}catch(k){}c===C&&e.removeAttribute&&e.removeAttribute(b)}e.cssText||
a.removeAttribute("style");return h}if(!i||!("get"in i&&(f=i.get(a,!1))!==h))f=e[b];return f===h?"":f}function f(a){var d,b=arguments;0!==a.offsetWidth?d=k.apply(h,b):p(a,G,function(){d=k.apply(h,b)});return d}function k(d,c,e){if(b.isWindow(d))return c==n?a.viewportWidth(d):a.viewportHeight(d);if(9==d.nodeType)return c==n?a.docWidth(d):a.docHeight(d);var f=c===n?["Left","Right"]:["Top","Bottom"],g=c===n?d.offsetWidth:d.offsetHeight;if(0<g)return"border"!==e&&b.each(f,function(b){e||(g-=parseFloat(a.css(d,
"padding"+b))||0);g="margin"===e?g+(parseFloat(a.css(d,e+b))||0):g-(parseFloat(a.css(d,"border"+b+"Width"))||0)}),g;g=a._getComputedStyle(d,c);if(null==g||0>Number(g))g=d.style[c]||0;g=parseFloat(g)||0;e&&b.each(f,function(b){g+=parseFloat(a.css(d,"padding"+b))||0;"padding"!==e&&(g+=parseFloat(a.css(d,"border"+b+"Width"))||0);"margin"===e&&(g+=parseFloat(a.css(d,e+b))||0)});return g}var j=b.Env.host,r=b.UA,e=a.nodeName,c=j.document,l="style",z=/^margin/,n="width",B="display"+b.now(),u={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},y=/^-ms-/,w=/([A-Z]|^ms)/g,C="",d="px",i=/\d(?!px)[a-z%]+$/i,g={},x={"float":"cssFloat"},o={},v=/-([a-z])/ig;b.mix(a,{_camelCase:m,_CUSTOM_STYLES:g,_cssProps:x,_getComputedStyle:function(d,b){var c="",e,f,g,i,h;f=d.ownerDocument;b=b.replace(w,"-$1").toLowerCase();if(e=f.defaultView.getComputedStyle(d,null))c=e.getPropertyValue(b)||e[b];""===c&&!a.contains(f,d)&&(b=x[b]||b,c=d[l][b]);a._RE_NUM_NO_PX.test(c)&&z.test(b)&&(h=d.style,
f=h.width,g=h.minWidth,i=h.maxWidth,h.minWidth=h.maxWidth=h.width=c,c=e.width,h.width=f,h.minWidth=g,h.maxWidth=i);return c},style:function(d,c,e){var d=a.query(d),f,g=d[0];if(b.isPlainObject(c)){for(f in c)for(g=d.length-1;0<=g;g--)t(d[g],f,c[f]);return h}if(e===h)return f="",g&&(f=t(g,c,e)),f;for(g=d.length-1;0<=g;g--)t(d[g],c,e);return h},css:function(d,c,e){var d=a.query(d),f=d[0],i;if(b.isPlainObject(c)){for(i in c)for(f=d.length-1;0<=f;f--)t(d[f],i,c[i]);return h}c=m(c);i=g[c];if(e===h){e="";
if(f&&(!i||!("get"in i&&(e=i.get(f,!0))!==h)))e=a._getComputedStyle(f,c);return"undefined"==typeof e?"":e}for(f=d.length-1;0<=f;f--)t(d[f],c,e);return h},show:function(d){var d=a.query(d),b,e,f;for(f=d.length-1;0<=f;f--)if(e=d[f],e[l].display=a.data(e,B)||C,"none"===a.css(e,"display")){b=e.tagName.toLowerCase();var g=void 0,i=o[b],h=void 0;o[b]||(g=c.body||c.documentElement,h=c.createElement(b),a.prepend(h,g),i=a.css(h,"display"),g.removeChild(h),o[b]=i);b=i;a.data(e,B,b);e[l].display=b}},hide:function(d){var d=
a.query(d),b,c;for(c=d.length-1;0<=c;c--){b=d[c];var e=b[l],f=e.display;"none"!==f&&(f&&a.data(b,B,f),e.display="none")}},toggle:function(d){var d=a.query(d),b,c;for(c=d.length-1;0<=c;c--)b=d[c],"none"===a.css(b,"display")?a.show(b):a.hide(b)},addStyleSheet:function(d,b,c){"string"==typeof d&&(c=b,b=d,d=j);var d=a.getDocument(d),e;if(c&&(c=c.replace("#",C)))e=a.get("#"+c,d);e||(e=a.create("<style>",{id:c},d),a.get("head",d).appendChild(e),e.styleSheet?e.styleSheet.cssText=b:e.appendChild(d.createTextNode(b)))},
unselectable:function(d){var d=a.query(d),c,f,g=0,i,h;for(f=d.length-1;0<=f;f--)if(c=d[f],h=c[l],h.UserSelect="none",r.gecko)h.MozUserSelect="none";else if(r.webkit)h.WebkitUserSelect="none";else if(r.ie||r.opera){h=c.getElementsByTagName("*");c.setAttribute("unselectable","on");for(i=["iframe","textarea","input","select"];c=h[g++];)b.inArray(e(c),i)||c.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});b.each([n,"height"],function(d){a["inner"+
b.ucfirst(d)]=function(b){return(b=a.get(b))&&f(b,d,"padding")};a["outer"+b.ucfirst(d)]=function(b,c){var e=a.get(b);return e&&f(e,d,c?"margin":"border")};a[d]=function(b,c){var e=a.css(b,d,c);e&&(e=parseFloat(e));return e};g[d]={get:function(a,b){var c;b&&(c=f(a,d)+"px");return c}}});var G={position:"absolute",visibility:"hidden",display:"block"};b.each(["left","top"],function(d){g[d]={get:function(b,e){var f,g,h;if(e){h=a.css(b,"position");if("static"===h)return"auto";f=a._getComputedStyle(b,d);
if((g="auto"===f)&&"relative"===h)return"0px";if(g||i.test(f)){h={top:0,left:0};if("fixed"==a.css(b,"position"))g=b.getBoundingClientRect();else{for(f=b.offsetParent||(b.ownerDocument||c).body;f&&!H.test(f.nodeName)&&"static"===a.css(f,"position");)f=f.offsetParent;g=a.offset(b);h=a.offset(f);h.top+=parseFloat(a.css(f,"borderTopWidth"))||0;h.left+=parseFloat(a.css(f,"borderLeftWidth"))||0}g.top-=parseFloat(a.css(b,"marginTop"))||0;g.left-=parseFloat(a.css(b,"marginLeft"))||0;f={top:g.top-h.top,left:g.left-
h.left}[d]+"px"}}return f}}});var H=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(b,a,h){function s(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function m(a){return function(){var b=document.getElementById(a);return b?[b]:[]}}function p(a){return function(b){return b.getElementsByClassName(a)}}function t(a){return function(b){return b.getElementsByTagName(a)}}function f(d,c){var g,k;g="string"==typeof d;var j=c!==h?f(c):(k=1)&&[e],l=j.length;if(d)if(g)if(d=C(d),k&&"body"==d)g=[e.body];else{a:{k=d;g=[/\+/,/\=/,/\~/,/\[/,/\]/,
/:/,/>/,/\|/,/\$/,/\^/,/\*/,/\(/,/\)/,/\w\.\w/i,/\w\#\w/i];for(var r=0;r<g.length;r++)if(k.match(g[r])){k=!1;break a}k=!0}if(k){l=d.split(/\s+/);k=0;for(g=l.length;k<g;k++)l[k]="#"==l[k].charAt(0)?m(l[k].substr(1)):"."==l[k].charAt(0)?p(l[k].substr(1)):t(l[k].substr(0));k=0;for(r=l.length;k<r;k++){var u=l[k],q=[],w=0;for(g=j.length;w<g;w++)for(var E=u(j[w]),D=0,F=E.length;D<F;D++)q[q.length++]=E[D];j=q}console.log("speedup");g=j?j:[]}else if("querySelectorAll"in document&&1===l)console.log("simple querySelector"),
g=b.makeArray(j[0].querySelectorAll(d));else{g=[];for(k=0;k<l;k++)"querySelectorAll"in document?(console.log("chain's querySelector"),g=g.concat(b.makeArray(j[k].querySelectorAll(d)))):y.apply(g,a._selectInternal(d,j[k]));1<g.length&&1<l&&a.unique(g);console.log("normal")}}else{if(g=d.nodeType||d.setTimeout?[d]:d.getDOMNodes?d.getDOMNodes():z(d)?d:B(d)?n(d):[d],!k){r=g;q=r.length;g=[];for(k=0;k<q;k++)for(u=0;u<l;u++)if(a._contains(j[u],r[k])){g.push(r[k]);break}}}else g=[];g.each=s;return g}function k(a,
b){var c=a&&(a.className||j(a,"class"));return c&&-1<(u+c+u).indexOf(u+b+u)}function j(a,b){var c=a&&a.getAttributeNode(b);return c&&c.specified?c.nodeValue:h}function r(a,b){return"*"==b||a.nodeName.toLowerCase()===b.toLowerCase()}var e=b.Env.host.document,c=e.documentElement,l=c.matches||c.webkitMatchesSelector||c.mozMatchesSelector||c.oMatchesSelector||c.msMatchesSelector,z=b.isArray,n=b.makeArray,B=a.isDomNodeList,u=" ",y=Array.prototype.push,w=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,C=
b.trim;b.mix(a,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getSimpleAttr:j,_isTag:r,_hasSingleClass:k,_matchesInternal:function(a,b){for(var c=[],e=0,f,h=b.length;e<h;e++)f=b[e],l.call(f,a)&&c.push(f);return c},_selectInternal:function(a,b){return n(b.querySelectorAll(a))},query:f,get:function(a,b){return f(a,b)[0]||null},unique:function(){function b(d,e){return d==e?(c=!0,0):a._compareNodeOrder(d,
e)}var c,e=!0;[0,0].sort(function(){e=!1;return 0});return function(a){c=e;a.sort(b);if(c)for(var f=1,h=a.length;f<h;)a[f]===a[f-1]?(a.splice(f,1),--h):f++;return a}}(),filter:function(d,c,e){var d=f(d,e),h,l,m,n,e=[];if("string"==typeof c&&(c=C(c))&&(m=w.exec(c)))h=m[1],l=m[2],n=m[3],h?h&&!l&&!n&&(c=function(a){return j(a,"id")==h}):c=function(a){var b=!0,c=!0;l&&(b=r(a,l));n&&(c=k(a,n));return c&&b};return e=b.isFunction(c)?b.filter(d,c):a._matchesInternal(c,d)},test:function(b,c,e){b=f(b,e);return b.length&&
a.filter(b,c,e).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(b,a,h){function s(f,k,j,r,e,c,l){if(!(f=a.get(f)))return null;if(0===k)return f;c||(f=f[j]);if(!f)return null;e=e&&a.get(e)||null;k===h&&(k=1);var c=[],p=b.isArray(k),n,s;b.isNumber(k)&&(n=0,s=k,k=function(){return++n===s});for(;f&&f!=e;){if((f.nodeType==t.ELEMENT_NODE||f.nodeType==t.TEXT_NODE&&l)&&m(f,k)&&(!r||r(f)))if(c.push(f),!p)break;f=f[j]}return p?c:c[0]||null}function m(f,h){if(!h)return!0;if(b.isArray(h)){var j,m=h.length;if(!m)return!0;for(j=0;j<m;j++)if(a.test(f,
h[j]))return!0}else if(a.test(f,h))return!0;return!1}function p(f,h,j,m){var e=[],c,l;if((c=f=a.get(f))&&j)c=f.parentNode;if(c){j=b.makeArray(c.childNodes);for(c=0;c<j.length;c++)l=j[c],(m||l.nodeType==t.ELEMENT_NODE)&&l!=f&&e.push(l);h&&(e=a.filter(e,h))}return e}var t=a.NodeType;b.mix(a,{_contains:function(a,b){return!!(a.compareDocumentPosition(b)&16)},closest:function(a,b,h,m){return s(a,b,"parentNode",function(a){return a.nodeType!=t.DOCUMENT_FRAGMENT_NODE},h,!0,m)},parent:function(a,b,j){return s(a,
b,"parentNode",function(a){return a.nodeType!=t.DOCUMENT_FRAGMENT_NODE},j,h)},first:function(b,k,j){b=a.get(b);return s(b&&b.firstChild,k,"nextSibling",h,h,!0,j)},last:function(b,k,j){b=a.get(b);return s(b&&b.lastChild,k,"previousSibling",h,h,!0,j)},next:function(a,b,j){return s(a,b,"nextSibling",h,h,h,j)},prev:function(a,b,j){return s(a,b,"previousSibling",h,h,h,j)},siblings:function(a,b,h){return p(a,b,!0,h)},children:function(a,b){return p(a,b,h)},contents:function(a,b){return p(a,b,h,1)},contains:function(b,
h){b=a.get(b);h=a.get(h);return b&&h?a._contains(b,h):!1},index:function(f,h){var j=a.query(f),m,e=0;m=j[0];if(!h){j=m&&m.parentNode;if(!j)return-1;for(;m=m.previousSibling;)m.nodeType==t.ELEMENT_NODE&&e++;return e}e=a.query(h);return"string"===typeof h?b.indexOf(m,e):b.indexOf(e[0],j)},equals:function(b,h){b=a.query(b);h=a.query(h);if(b.length!=h.length)return!1;for(var j=b.length;0<=j;j--)if(b[j]!=h[j])return!1;return!0}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(b,a){b.mix(b,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
