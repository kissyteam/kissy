/*
Copyright 2013, KISSY v1.40dev
MIT Licensed
build time: Sep 16 19:20
*/
KISSY.add("dom/base/api",function(c){var a=c.Env.host||{},g=a.document,s=c.UA,l={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},n={isCustomDomain:function(c){var c=c||a,c=n.get(c),e=c.document.domain,c=c.location.hostname;return e!=c&&e!="["+c+"]"},getEmptyIframeSrc:function(c){c=c||a;c=n.get(c);return s.ie&&n.isCustomDomain(c)?
"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+c.document.domain+"';document.close();")+"}())":""},NodeType:l,getWindow:function(g){if(!g)return a;g=n.get(g);if(c.isWindow(g))return g;var e=g;e.nodeType!==l.DOCUMENT_NODE&&(e=g.ownerDocument);return e.defaultView||e.parentWindow},getDocument:function(a){if(!a)return g;a=n.get(a);return c.isWindow(a)?a.document:a.nodeType==l.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&!a.nodeType&&a.item&&
!a.setTimeout},nodeName:function(a){var c=n.get(a),a=c.nodeName.toLowerCase();s.ie&&(c=c.scopeName)&&"HTML"!=c&&(a=c.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};c.mix(n,l);return n});
KISSY.add("dom/base/attr",function(c,a,g){function s(a,d){var d=k[d]||d,b=p[d];return b&&b.get?b.get(a,d):a[d]}var l=c.Env.host.document,n=a.NodeType,l=l&&l.documentElement,r=a.nodeName,e=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:button|input|object|select|textarea)$/i,i=/^a(?:rea)?$/i,j=/:|^on/,d=/\r/g,b={},h={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},m={tabindex:{get:function(a){var d=
a.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):f.test(a.nodeName)||i.test(a.nodeName)&&a.href?0:g}}},k={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},v={get:function(d,b){return a.prop(d,b)?b.toLowerCase():g},set:function(d,b,c){!1===b?
a.removeAttr(d,c):(b=k[c]||c,b in d&&(d[b]=!0),d.setAttribute(c,c.toLowerCase()));return c}},p={},y={},q={select:{get:function(d){var b=d.selectedIndex,c=d.options,g;if(0>b)return null;if("select-one"===""+d.type)return a.val(c[b]);d=[];b=0;for(g=c.length;b<g;++b)c[b].selected&&d.push(a.val(c[b]));return d},set:function(d,b){var g=c.makeArray(b);c.each(d.options,function(d){d.selected=c.inArray(a.val(d),g)});g.length||(d.selectedIndex=-1);return g}}};c.each(["radio","checkbox"],function(d){q[d]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(d,b){return c.isArray(b)?d.checked=c.inArray(a.val(d),b):g}}});m.style={get:function(a){return a.style.cssText}};c.mix(a,{_valHooks:q,_propFix:k,_attrHooks:m,_propHooks:p,_attrNodeHook:y,_attrFix:b,prop:function(d,b,h){var e=a.query(d),f,m;if(c.isPlainObject(b))return c.each(b,function(d,b){a.prop(e,b,d)}),g;b=k[b]||b;m=p[b];if(h!==g)for(d=e.length-1;0<=d;d--)f=e[d],m&&m.set?m.set(f,h,b):f[b]=h;else if(e.length)return s(e[0],b);return g},hasProp:function(d,
b){var c=a.query(d),h,e=c.length,f;for(h=0;h<e;h++)if(f=c[h],s(f,b)!==g)return!0;return!1},removeProp:function(d,b){var b=k[b]||b,c=a.query(d),h,e;for(h=c.length-1;0<=h;h--){e=c[h];try{e[b]=g,delete e[b]}catch(f){}}},attr:function(d,f,p,i){var k=a.query(d),q=k[0];if(c.isPlainObject(f)){var i=p,l;for(l in f)a.attr(k,l,f[l],i);return g}if(i&&h[f])return a[f](d,p);f=f.toLowerCase();if(i&&h[f])return a[f](d,p);f=b[f]||f;d=e.test(f)?v:j.test(f)?y:m[f];if(p===g){if(q&&q.nodeType===n.ELEMENT_NODE){"form"==
r(q)&&(d=y);if(d&&d.get)return d.get(q,f);p=q.getAttribute(f);return""===p&&(f=q.getAttributeNode(f),!f||!f.specified)?g:null===p?g:p}}else for(i=k.length-1;0<=i;i--)if((q=k[i])&&q.nodeType===n.ELEMENT_NODE)"form"==r(q)&&(d=y),d&&d.set?d.set(q,p,f):q.setAttribute(f,""+p);return g},removeAttr:function(d,c){var c=c.toLowerCase(),c=b[c]||c,f=a.query(d),h,g,p;for(p=f.length-1;0<=p;p--)if(g=f[p],g.nodeType==n.ELEMENT_NODE&&(g.removeAttribute(c),e.test(c)&&(h=k[c]||c)in g))g[h]=!1},hasAttr:l&&!l.hasAttribute?
function(d,b){var b=b.toLowerCase(),c=a.query(d),f,h;for(f=0;f<c.length;f++)if(h=c[f],(h=h.getAttributeNode(b))&&h.specified)return!0;return!1}:function(d,b){var c=a.query(d),f,h=c.length;for(f=0;f<h;f++)if(c[f].hasAttribute(b))return!0;return!1},val:function(b,f){var h,e,p,m,i;if(f===g){if(p=a.get(b)){if((h=q[r(p)]||q[p.type])&&"get"in h&&(e=h.get(p,"value"))!==g)return e;e=p.value;return"string"===typeof e?e.replace(d,""):null==e?"":e}return g}e=a.query(b);for(m=e.length-1;0<=m;m--){p=e[m];if(1!==
p.nodeType)break;i=f;null==i?i="":"number"===typeof i?i+="":c.isArray(i)&&(i=c.map(i,function(a){return a==null?"":a+""}));h=q[r(p)]||q[p.type];if(!h||!("set"in h)||h.set(p,i,"value")===g)p.value=i}return g},text:function(d,b){var c,f,h,e;if(b===g)return c=a.get(d),a._getText(c);f=a.query(d);for(h=f.length-1;0<=h;h--)if(c=f[h],e=c.nodeType,e==n.ELEMENT_NODE)a.empty(c),c.appendChild(c.ownerDocument.createTextNode(b));else if(e==n.TEXT_NODE||e==n.CDATA_SECTION_NODE)c.nodeValue=b;return g},_getText:function(a){return a.textContent}});
return a},{requires:["./api"]});
KISSY.add("dom/base/class",function(c,a){function g(a){for(var a=c.trim(a||""),a=a.split(e),g=[],j,d=a.length,b=0;b<d;b++)(j=a[b])&&g.push(j);return g}function s(a){return function(c,e){var d,b,h,g=c.classList,k=n.call(arguments,2);d=0;for(b=e.length;d<b;d++)(h=e[d])&&g[a].apply(g,[h].concat(k))}}function l(c){return function(e,j){var d=g(j),b=n.call(arguments,2);a.query(e).each(function(h){h.nodeType==r.ELEMENT_NODE&&a[c].apply(a,[h,d].concat(b))})}}var n=[].slice,r=a.NodeType,e=/[\.\s]\s*\.?/;c.mix(a,
{_hasClass:function(a,c){var e,d,b,h=a.classList;if(h.length){e=0;for(d=c.length;e<d;e++)if((b=c[e])&&!h.contains(b))return!1;return!0}return!1},_addClass:s("add"),_removeClass:s("remove"),_toggleClass:s("toggle"),hasClass:function(c,e){var j=a.get(c);return j&&j.nodeType==r.ELEMENT_NODE&&a._hasClass(j,g(e))},replaceClass:function(c,e,g){a.removeClass(c,e);a.addClass(c,g)},addClass:l("_addClass"),removeClass:l("_removeClass"),toggleClass:l("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(c,a,g){function s(d){var o=c.require("event/dom");o&&o.detach(d);a.removeData(d)}function l(a){a=a&&a!=j?a.createElement(h):m;a===m&&(a.innerHTML="");return a}function n(a,d){var u=l(d);u.innerHTML="m<div>"+a+"</div>";return u.lastChild}function r(a,d){if(d)if(q&&d.canHaveChildren&&"removeNode"in a){if(a.firstChild)a:{try{a.innerHTML="";break a}catch(u){}for(var b;b=a.lastChild;)r(b,a)}a.removeNode(!1)}else d.removeChild(a)}function e(a,o,b){var c=o.nodeType;if(c==
d.DOCUMENT_FRAGMENT_NODE){o=o.childNodes;b=b.childNodes;for(c=0;o[c];)b[c]&&e(a,o[c],b[c]),c++}else if(c==d.ELEMENT_NODE){o=o.getElementsByTagName("*");b=b.getElementsByTagName("*");for(c=0;o[c];)b[c]&&a(o[c],b[c]),c++}}function f(b,o){var u=c.require("event/dom"),D,h;if(o.nodeType!=d.ELEMENT_NODE||a.hasData(b)){D=a.data(b);for(h in D)a.data(o,h,D[h]);u&&u.clone(b,o)}}function i(a){var d=null,b,h;if(a&&(a.push||a.item)&&a[0]){d=a[0].ownerDocument;d=d.createDocumentFragment();a=c.makeArray(a);b=0;
for(h=a.length;b<h;b++)d.appendChild(a[b])}else"Unable to convert "+a+" to fragment.";return d}var j=c.Env.host.document,d=a.NodeType,b=c.UA,b=document.documentMode||b.ie,h="div",m=j&&j.createElement(h),k=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,v=/<([\w:]+)/,p=/^\s+/,y=/\s+$/,q=!!(b&&9>b),G=q,I=/<|&#?\w+;/,B=j&&"outerHTML"in j.documentElement,C=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;c.mix(a,{create:function(b,o,u,D){var e=null;if(!b)return e;if(b.nodeType)return a.clone(b);
if("string"!=typeof b)return e;D===g&&(D=!0);D&&(b=c.trim(b));var D=a._creators,f,t,u=u||j,m,A=h;if(I.test(b))if(m=C.exec(b))e=u.createElement(m[1]);else{b=b.replace(k,"<$1></$2>");if((m=v.exec(b))&&(f=m[1]))A=f.toLowerCase();f=(D[A]||n)(b,u);G&&(t=b.match(p))&&f.insertBefore(u.createTextNode(t[0]),f.firstChild);G&&/\S/.test(b)&&(t=b.match(y))&&f.appendChild(u.createTextNode(t[0]));t=f.childNodes;1===t.length?e=t[0].parentNode.removeChild(t[0]):t.length?e=i(t):b+" : create node error"}else e=u.createTextNode(b);
b=e;c.isPlainObject(o)&&(b.nodeType==d.ELEMENT_NODE?a.attr(b,o,!0):b.nodeType==d.DOCUMENT_FRAGMENT_NODE&&a.attr(b.childNodes,o,!0));return b},_fixCloneAttributes:function(b,d){"textarea"===a.nodeName(b)&&(d.defaultValue=b.defaultValue,d.value=b.value)},_creators:{div:n},_defaultCreator:n,html:function(b,o,c){var b=a.query(b),h=b[0],e=!1,f,t;if(!h)return null;if(o===g)return h.nodeType==d.ELEMENT_NODE?h.innerHTML:h.nodeType==d.DOCUMENT_FRAGMENT_NODE?(c=l(h.ownerDocument),c.appendChild(h),c.innerHTML):
null;o+="";if(!o.match(/<(?:script|style|link)/i)&&(!G||!o.match(p))&&!x[(o.match(v)||["",""])[1].toLowerCase()])try{for(f=b.length-1;0<=f;f--)t=b[f],t.nodeType==d.ELEMENT_NODE&&(s(t.getElementsByTagName("*")),t.innerHTML=o);e=!0}catch(m){}e||(o=a.create(o,0,h.ownerDocument,0),a.empty(b),a.append(o,b,c));return g},outerHtml:function(b,o,c){var b=a.query(b),h=b.length,e=b[0];if(!e)return null;if(o===g){if(B&&e.nodeType!=a.DOCUMENT_FRAGMENT_NODE)return e.outerHTML;o=l(e.ownerDocument);o.appendChild(a.clone(e,
!0));return o.innerHTML}o+="";if(!o.match(/<(?:script|style|link)/i)&&B)for(c=h-1;0<=c;c--)e=b[c],e.nodeType==d.ELEMENT_NODE&&(s(e),s(e.getElementsByTagName("*")),e.outerHTML=o);else o=a.create(o,0,e.ownerDocument,0),a.insertBefore(o,b,c),a.remove(b);return g},remove:function(b,o){var u,e=a.query(b),h,f=c.require("event/dom"),g;for(g=e.length-1;0<=g;g--)u=e[g],!o&&u.nodeType==d.ELEMENT_NODE&&(h=c.makeArray(u.getElementsByTagName("*")),h.push(u),a.removeData(h),f&&f.detach(h)),r(u,u.parentNode)},clone:function(b,
o,c,h){"object"===typeof o&&(h=o.deepWithDataAndEvent,c=o.withDataAndEvent,o=o.deep);var b=a.get(b),g,p=a._fixCloneAttributes,m;if(!b)return null;m=b.nodeType;g=b.cloneNode(o);if(m==d.ELEMENT_NODE||m==d.DOCUMENT_FRAGMENT_NODE)p&&m==d.ELEMENT_NODE&&p(b,g),o&&p&&e(p,b,g);c&&(f(b,g),o&&h&&e(f,b,g));return g},empty:function(b){var b=a.query(b),d,c;for(c=b.length-1;0<=c;c--)d=b[c],a.remove(d.childNodes)},_nodeListToFragment:i});a.outerHTML=a.outerHtml;var H=a._creators,z=a.create,x={area:"map",thead:"table",
td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},A;for(A in x)(function(a){H[A]=function(b,d){return z("<"+a+">"+b+"</"+a+">",g,d)}})(x[A]);x.option=x.optgroup=function(a,b){return z('<select multiple="multiple">'+a+"</select>",g,b)};return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(c,a,g){var s=c.Env.host,l="_ks_data_"+c.now(),n={},r={},e={applet:1,object:1,embed:1},f={hasData:function(a,b){if(a)if(b!==g){if(b in a)return!0}else if(!c.isEmptyObject(a))return!0;return!1}},i={hasData:function(a,b){return a==s?i.hasData(r,b):f.hasData(a[l],b)},data:function(a,b,c){if(a==s)return i.data(r,b,c);var e=a[l];if(c!==g)e=a[l]=a[l]||{},e[b]=c;else return b!==g?e&&e[b]:e=a[l]=a[l]||{}},removeData:function(a,b){if(a==s)return i.removeData(r,b);var e=a[l];
if(b!==g)delete e[b],c.isEmptyObject(e)&&i.removeData(a);else try{delete a[l]}catch(f){a[l]=g}}},j={hasData:function(a,b){var c=a[l];return!c?!1:f.hasData(n[c],b)},data:function(a,b,h){if(e[a.nodeName.toLowerCase()])return g;var f=a[l];if(!f){if(b!==g&&h===g)return g;f=a[l]=c.guid()}a=n[f];if(h!==g)a=n[f]=n[f]||{},a[b]=h;else return b!==g?a&&a[b]:a=n[f]=n[f]||{}},removeData:function(a,b){var e=a[l],f;if(e)if(f=n[e],b!==g)delete f[b],c.isEmptyObject(f)&&j.removeData(a);else{delete n[e];try{delete a[l]}catch(i){a[l]=
g}a.removeAttribute&&a.removeAttribute(l)}}};c.mix(a,{__EXPANDO:l,hasData:function(c,b){for(var e=!1,f=a.query(c),g=0;g<f.length&&!(e=f[g],e=e.nodeType?j.hasData(e,b):i.hasData(e,b));g++);return e},data:function(d,b,e){var d=a.query(d),f=d[0];if(c.isPlainObject(b)){for(var k in b)a.data(d,k,b[k]);return g}if(e===g){if(f)return f.nodeType?j.data(f,b):i.data(f,b)}else for(k=d.length-1;0<=k;k--)f=d[k],f.nodeType?j.data(f,b,e):i.data(f,b,e);return g},removeData:function(c,b){var e=a.query(c),f,g;for(g=
e.length-1;0<=g;g--)f=e[g],f.nodeType?j.removeData(f,b):i.removeData(f,b)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(c,a){function g(a,b){var c=[],m,k,v;for(m=0;a[m];m++)if(k=a[m],v=e(k),k.nodeType==n.DOCUMENT_FRAGMENT_NODE)c.push.apply(c,g(f(k.childNodes),b));else if("script"===v&&(!k.type||j.test(k.type)))k.parentNode&&k.parentNode.removeChild(k),b&&b.push(k);else{if(k.nodeType==n.ELEMENT_NODE&&!r.test(v)){v=[];var p,y,q=k.getElementsByTagName("script");for(y=0;y<q.length;y++)p=q[y],(!p.type||j.test(p.type))&&v.push(p);i.apply(a,[m+1,0].concat(v))}c.push(k)}return c}function s(a){a.src?
c.getScript(a.src):(a=c.trim(a.text||a.textContent||a.innerHTML||""))&&c.globalEval(a)}function l(d,b,e,f){d=a.query(d);f&&(f=[]);d=g(d,f);a._fixInsertionChecked&&a._fixInsertionChecked(d);var b=a.query(b),i,v,p,j,q=b.length;if((d.length||f&&f.length)&&q){d=a._nodeListToFragment(d);1<q&&(j=a.clone(d,!0),b=c.makeArray(b));for(i=0;i<q;i++)v=b[i],d&&(p=0<i?a.clone(j,!0):d,e(p,v)),f&&f.length&&c.each(f,s)}}var n=a.NodeType,r=/^(?:button|input|object|select|textarea)$/i,e=a.nodeName,f=c.makeArray,i=[].splice,
j=/\/(java|ecma)script/i;c.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,b,c){l(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},c)},insertAfter:function(a,b,c){l(a,b,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)},c)},appendTo:function(a,b,c){l(a,b,function(a,b){b.appendChild(a)},c)},prependTo:function(a,b,c){l(a,b,function(a,b){b.insertBefore(a,b.firstChild)},c)},wrapAll:function(c,b){b=a.clone(a.get(b),!0);c=a.query(c);c[0].parentNode&&a.insertBefore(b,
c[0]);for(var e;(e=b.firstChild)&&1==e.nodeType;)b=e;a.appendTo(c,b)},wrap:function(e,b){e=a.query(e);b=a.get(b);c.each(e,function(c){a.wrapAll(c,b)})},wrapInner:function(e,b){e=a.query(e);b=a.get(b);c.each(e,function(c){var e=c.childNodes;e.length?a.wrapAll(e,b):c.appendChild(b)})},unwrap:function(e){e=a.query(e);c.each(e,function(b){b=b.parentNode;a.replaceWith(b,b.childNodes)})},replaceWith:function(c,b){var e=a.query(c),b=a.query(b);a.remove(b,!0);a.insertBefore(b,e);a.remove(e)}});c.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(c,b){a[b]=a[c]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(c,a,g){function s(a){var c,e=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};c=a.getBoundingClientRect();a=c[b];c=c[h];a-=i.clientLeft||e.clientLeft||0;c-=i.clientTop||e.clientTop||0;return{left:a,top:c}}function l(b,c){var e={left:0,top:0},f=j(b),d,g=b,c=c||f;do{if(f==c){var h=g;d=s(h);h=j(h);d.left+=a[m](h);d.top+=a[k](h)}else d=s(g);e.left+=d.left;e.top+=d.top}while(f&&f!=c&&(g=f.frameElement)&&(f=f.parent));return e}var n=c.Env.host,r=
c.UA,e=n.document,f=a.NodeType,i=e&&e.documentElement,j=a.getWindow,d=Math.max,b="left",h="top",m="scrollLeft",k="scrollTop";c.mix(a,{offset:function(b,c,e){if(c===g){var b=a.get(b),f;b&&(f=l(b,e));return f}e=a.query(b);for(f=e.length-1;0<=f;f--){var b=e[f],d=c;"static"===a.css(b,"position")&&(b.style.position="relative");var h=l(b),i={},j=void 0,k=void 0;for(k in d)j=parseFloat(a.css(b,k))||0,i[k]=j+d[k]-h[k];a.css(b,i)}return g},scrollIntoView:function(e,d,i,q){var l,k,n,m;if(n=a.get(e)){d&&(d=
a.get(d));d||(d=n.ownerDocument);d.nodeType==f.DOCUMENT_NODE&&(d=j(d));c.isPlainObject(i)&&(q=i.allowHorizontalScroll,m=i.onlyScrollIfNeeded,i=i.alignWithTop);q=q===g?!0:q;k=c.isWindow(d);var e=a.offset(n),s=a.outerHeight(n);l=a.outerWidth(n);var r,x,A,w;k?(k=d,r=a.height(k),x=a.width(k),w={left:a.scrollLeft(k),top:a.scrollTop(k)},k=e[b]-w[b],n=e[h]-w[h],l=e[b]+l-(w[b]+x),e=e[h]+s-(w[h]+r)):(r=a.offset(d),x=d.clientHeight,A=d.clientWidth,w={left:a.scrollLeft(d),top:a.scrollTop(d)},k=e[b]-(r[b]+(parseFloat(a.css(d,
"borderLeftWidth"))||0)),n=e[h]-(r[h]+(parseFloat(a.css(d,"borderTopWidth"))||0)),l=e[b]+l-(r[b]+A+(parseFloat(a.css(d,"borderRightWidth"))||0)),e=e[h]+s-(r[h]+x+(parseFloat(a.css(d,"borderBottomWidth"))||0)));if(m){if(0>n||0<e)!0===i?a.scrollTop(d,w.top+n):!1===i?a.scrollTop(d,w.top+e):0>n?a.scrollTop(d,w.top+n):a.scrollTop(d,w.top+e)}else(i=i===g?!0:!!i)?a.scrollTop(d,w.top+n):a.scrollTop(d,w.top+e);if(q)if(m){if(0>k||0<l)!0===i?a.scrollLeft(d,w.left+k):!1===i?a.scrollLeft(d,w.left+l):0>k?a.scrollLeft(d,
w.left+k):a.scrollLeft(d,w.left+l)}else(i=i===g?!0:!!i)?a.scrollLeft(d,w.left+k):a.scrollLeft(d,w.left+l)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});c.each(["Left","Top"],function(b,c){var e="scroll"+b;a[e]=function(d,h){if("number"===typeof d)return arguments.callee(n,d);var d=a.get(d),i,k,l,m;d&&d.nodeType==f.ELEMENT_NODE?h!==g?d[e]=parseFloat(h):i=d[e]:(m=j(d),h!==g?(h=parseFloat(h),k="Left"==b?h:a.scrollLeft(m),l="Top"==b?h:a.scrollTop(m),m.scrollTo(k,
l)):(i=m["page"+(c?"Y":"X")+"Offset"],"number"!==typeof i&&(k=m.document,i=k.documentElement[e],"number"!==typeof i&&(i=k.body[e]))));return i}});c.each(["Width","Height"],function(b){a["doc"+b]=function(c){c=a.get(c);c=a.getDocument(c);return d(c.documentElement["scroll"+b],c.body["scroll"+b],a["viewport"+b](c))};a["viewport"+b]=function(c){var c=a.get(c),e=j(c),c=e["inner"+b];if(r.mobile&&c)return c;var c="client"+b,e=e.document,d=e.body,f=e.documentElement[c];return"CSS1Compat"===e.compatMode&&
f||d&&d[c]||f}});return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(c,a,g){function s(a,b){return b.toUpperCase()}function l(a){return a.replace(y,"ms-").replace(z,s)}function n(a,b,c){var e={},d=a.style,f;for(f in b)e[f]=d[f],d[f]=b[f];c.call(a);for(f in b)d[f]=e[f]}function r(a,b,c){var e,d,f;if(3===a.nodeType||8===a.nodeType||!(e=a.style))return g;b=l(b);f=B[b];b=C[b]||b;if(c!==g){null===c||c===q?c=q:!isNaN(Number(c))&&!p[b]&&(c+=G);f&&f.set&&(c=f.set(a,c));if(c!==g){try{e[b]=c}catch(h){"css set error:"+h}c===q&&e.removeAttribute&&
e.removeAttribute(b)}e.cssText||a.removeAttribute("style");return g}if(!f||!("get"in f&&(d=f.get(a,!1))!==g))d=e[b];return d===g?"":d}function e(a){var b,c=arguments;0!==a.offsetWidth?b=f.apply(g,c):n(a,A,function(){b=f.apply(g,c)});return b}function f(b,e,d){if(c.isWindow(b))return e==k?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return e==k?a.docWidth(b):a.docHeight(b);var f=e===k?["Left","Right"]:["Top","Bottom"],g=e===k?b.offsetWidth:b.offsetHeight;if(0<g)return"border"!==d&&c.each(f,
function(c){d||(g-=parseFloat(a.css(b,"padding"+c))||0);g="margin"===d?g+(parseFloat(a.css(b,d+c))||0):g-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),g;g=a._getComputedStyle(b,e);if(null==g||0>Number(g))g=b.style[e]||0;g=parseFloat(g)||0;d&&c.each(f,function(c){g+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==d&&(g+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===d&&(g+=parseFloat(a.css(b,d+c))||0)});return g}var i=c.Env.host,j=c.UA,d=c.Features,b=a.nodeName,h=i.document,m=/^margin/,k=
"width",v="display"+c.now(),p={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},y=/^-ms-/,q="",G="px",I=/\d(?!px)[a-z%]+$/i,B={},C={"float":"cssFloat"},H={},z=/-([a-z])/ig;if(d.isTransformSupported()){var x;x=C.transform=d.getTransformProperty();C.transformOrigin=x+"Origin"}d.isTransitionSupported()&&(C.transition=d.getTransitionProperty());c.mix(a,{_camelCase:l,_cssHooks:B,_cssProps:C,_getComputedStyle:function(b,c){var e="",d,f,g,h,i;f=b.ownerDocument;c=C[c]||
c;if(d=f.defaultView.getComputedStyle(b,null))e=d.getPropertyValue(c)||d[c];e===""&&!a.contains(f,b)&&(e=b.style[c]);if(a._RE_NUM_NO_PX.test(e)&&m.test(c)){i=b.style;f=i.width;g=i.minWidth;h=i.maxWidth;i.minWidth=i.maxWidth=i.width=e;e=d.width;i.width=f;i.minWidth=g;i.maxWidth=h}return e},style:function(b,e,d){var b=a.query(b),f,h=b[0];if(c.isPlainObject(e)){for(f in e)for(h=b.length-1;h>=0;h--)r(b[h],f,e[f]);return g}if(d===g){f="";h&&(f=r(h,e,d));return f}for(h=b.length-1;h>=0;h--)r(b[h],e,d);return g},
css:function(b,e,d){var b=a.query(b),f=b[0],h;if(c.isPlainObject(e)){for(h in e)for(f=b.length-1;f>=0;f--)r(b[f],h,e[h]);return g}e=l(e);h=B[e];if(d===g){d="";if(f&&(!h||!("get"in h&&(d=h.get(f,true))!==g)))d=a._getComputedStyle(f,e);return typeof d=="undefined"?"":d}for(f=b.length-1;f>=0;f--)r(b[f],e,d);return g},show:function(b){var b=a.query(b),c,e,d;for(d=b.length-1;d>=0;d--){e=b[d];e.style.display=a.data(e,v)||q;if(a.css(e,"display")==="none"){c=e.tagName.toLowerCase();var f=void 0,g=H[c],i=
void 0;if(!H[c]){f=h.body||h.documentElement;i=h.createElement(c);a.prepend(i,f);g=a.css(i,"display");f.removeChild(i);H[c]=g}c=g;a.data(e,v,c);e.style.display=c}}},hide:function(b){var b=a.query(b),c,e;for(e=b.length-1;e>=0;e--){c=b[e];var d=c.style,f=d.display;if(f!=="none"){f&&a.data(c,v,f);d.display="none"}}},toggle:function(b){var b=a.query(b),c,e;for(e=b.length-1;e>=0;e--){c=b[e];a.css(c,"display")==="none"?a.show(c):a.hide(c)}},addStyleSheet:function(b,c,e){if(typeof b=="string"){e=c;c=b;b=
i}var b=a.getDocument(b),d;if(e&&(e=e.replace("#",q)))d=a.get("#"+e,b);if(!d){d=a.create("<style>",{id:e},b);a.get("head",b).appendChild(d);d.styleSheet?d.styleSheet.cssText=c:d.appendChild(b.createTextNode(c))}},unselectable:function(e){var e=a.query(e),d,f,g=0,h,i;for(f=e.length-1;f>=0;f--){d=e[f];i=d.style;i.UserSelect="none";if(j.gecko)i.MozUserSelect="none";else if(j.webkit)i.WebkitUserSelect="none";else if(j.ie||j.opera){i=d.getElementsByTagName("*");d.setAttribute("unselectable","on");for(h=
["iframe","textarea","input","select"];d=i[g++];)c.inArray(b(d),h)||d.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});c.each([k,"height"],function(b){a["inner"+c.ucfirst(b)]=function(c){return(c=a.get(c))&&e(c,b,"padding")};a["outer"+c.ucfirst(b)]=function(c,d){var f=a.get(c);return f&&e(f,b,d?"margin":"border")};a[b]=function(c,e){var d=a.css(c,b,e);d&&(d=parseFloat(d));return d};B[b]={get:function(a,c){var d;c&&(d=e(a,b)+"px");return d}}});
var A={position:"absolute",visibility:"hidden",display:"block"};c.each(["left","top"],function(b){B[b]={get:function(c,e){var d,f,g;if(e){g=a.css(c,"position");if(g==="static")return"auto";d=a._getComputedStyle(c,b);if((f=d==="auto")&&g==="relative")return"0px";if(f||I.test(d)){g={top:0,left:0};if(a.css(c,"position")=="fixed")f=c.getBoundingClientRect();else{for(d=c.offsetParent||(c.ownerDocument||h).body;d&&!w.test(d.nodeName)&&a.css(d,"position")==="static";)d=d.offsetParent;f=a.offset(c);g=a.offset(d);
g.top=g.top+(parseFloat(a.css(d,"borderTopWidth"))||0);g.left=g.left+(parseFloat(a.css(d,"borderLeftWidth"))||0)}f.top=f.top-(parseFloat(a.css(c,"marginTop"))||0);f.left=f.left-(parseFloat(a.css(c,"marginLeft"))||0);d={top:f.top-g.top,left:f.left-g.left}[b]+"px"}}return d}}});var w=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(c,a,g){function s(a){var b=this.length,c;for(c=0;c<b&&!1!==a(this[c],c);c++);}function l(a){a=a.substr(1);if(!a)throw Error("An invalid or illegal string was specified for selector.");return a}function n(c){return function(e){var d=a._getElementById(c,b);return d&&a._contains(e,d)?[d]:[]}}function r(a){return function(b){return b.getElementsByClassName(a)}}function e(a){return function(b){return b.getElementsByTagName(a)}}function f(d,h){var i,j,m="string"==
typeof d,q=h!==g?f(h):(j=1)&&[b],K=q.length;if(d)if(m){d=x(d);if(j)if("body"==d)i=[b.body];else if(I.test(d)&&k)i=b.getElementsByClassName(RegExp.$1);else if(H.test(d))i=(j=a._getElementById(RegExp.$2,b))&&j.nodeName.toLowerCase()==RegExp.$1?[j]:[];else if(B.test(d))i=(j=a._getElementById(d.substr(1),b))?[j]:[];else if(C.test(d))i=b.getElementsByTagName(d);else if(!d.match(/,|\+|=|~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+#[\w-]+/)&&k){i=d.split(/\s+/);var t=q,F,J;j=0;for(m=i.length;j<m;j++){F=
i;J=j;var E;E=i[j];var z=E.charAt(0);E="#"==z?n(l(E)):"."==z?r(l(E)):e(E);F[J]=E}j=0;for(m=i.length;j<m;j++){E=i[j];var z=[],L;F=0;for(J=t.length;F<J;F++)L=E(t[F]),z.push.apply(z,c.makeArray(L));t=z;if(!t.length)break}i=t&&1<t.length?a.unique(t):t}if(!i){i=[];for(j=0;j<K;j++)G.apply(i,a._selectInternal(d,q[j]));1<i.length&&1<K&&a.unique(i)}}else{if(i=d.nodeType||d.setTimeout?[d]:d.getDOMNodes?d.getDOMNodes():v(d)?d:y(d)?p(d):[d],!j){m=i;F=m.length;i=[];for(j=0;j<F;j++)for(t=0;t<K;t++)if(a._contains(q[t],
m[j])){i.push(m[j]);break}}}else i=[];i.each=s;return i}function i(a,b){var c=a&&(a.className||j(a,"class"));return c&&(c=c.replace(/[\r\t\n]/g,q))&&-1<(q+c+q).indexOf(q+b+q)}function j(a,b){var c=a&&a.getAttributeNode(b);return c&&c.specified?c.nodeValue:g}function d(a,b){return"*"==b||a.nodeName.toLowerCase()===b.toLowerCase()}var b=c.Env.host.document,h=b.documentElement,m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector,k="getElementsByClassName"in
b,v=c.isArray,p=c.makeArray,y=a.isDomNodeList,q=" ",G=Array.prototype.push,I=/^\.([\w-]+)$/,B=/^#([\w-]+)$/,C=/^([\w-])+$/,H=/^([\w-]+)#([\w-]+)$/,z=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,x=c.trim;c.mix(a,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getElementsByTagName:function(a,b){return c.makeArray(b.querySelectorAll(a))},_getElementById:function(a,b){return b.getElementById(a)},
_getSimpleAttr:j,_isTag:d,_hasSingleClass:i,_matchesInternal:function(a,b){for(var c=[],d=0,e,f=b.length;d<f;d++)e=b[d],m.call(e,a)&&c.push(e);return c},_selectInternal:function(a,b){return p(b.querySelectorAll(a))},query:f,get:function(a,b){return f(a,b)[0]||null},unique:function(){function b(d,e){return d==e?(c=!0,0):a._compareNodeOrder(d,e)}var c,d=!0;[0,0].sort(function(){d=!1;return 0});return function(a){c=d;a.sort(b);if(c)for(var e=1,f=a.length;e<f;)a[e]===a[e-1]?(a.splice(e,1),--f):e++;return a}}(),
filter:function(b,e,g){var b=f(b,g),h,k,l,m,g=[];if("string"==typeof e&&(e=x(e))&&(l=z.exec(e)))h=l[1],k=l[2],m=l[3],h?h&&!k&&!m&&(e=function(a){return j(a,"id")==h}):e=function(a){var b=!0,c=!0;k&&(b=d(a,k));m&&(c=i(a,m));return c&&b};return g="function"===typeof e?c.filter(b,e):a._matchesInternal(e,b)},test:function(b,c,e){b=f(b,e);return b.length&&a.filter(b,c,e).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(c,a,g){function s(e,f,i,j,d,b,h){if(!(e=a.get(e)))return null;if(0===f)return e;b||(e=e[i]);if(!e)return null;d=d&&a.get(d)||null;f===g&&(f=1);var b=[],m=c.isArray(f),k,n;"number"===typeof f&&(k=0,n=f,f=function(){return++k===n});for(;e&&e!=d;){if((e.nodeType==r.ELEMENT_NODE||e.nodeType==r.TEXT_NODE&&h)&&l(e,f)&&(!j||j(e)))if(b.push(e),!m)break;e=e[i]}return m?b:b[0]||null}function l(e,f){if(!f)return!0;if(c.isArray(f)){var g,j=f.length;if(!j)return!0;for(g=
0;g<j;g++)if(a.test(e,f[g]))return!0}else if(a.test(e,f))return!0;return!1}function n(e,f,g,j){var d=[],b,h;if((b=e=a.get(e))&&g)b=e.parentNode;if(b){g=c.makeArray(b.childNodes);for(b=0;b<g.length;b++)h=g[b],(j||h.nodeType==r.ELEMENT_NODE)&&h!=e&&d.push(h);f&&(d=a.filter(d,f))}return d}var r=a.NodeType;c.mix(a,{_contains:function(a,c){return!!(a.compareDocumentPosition(c)&16)},closest:function(a,c,g,j){return s(a,c,"parentNode",function(a){return a.nodeType!=r.DOCUMENT_FRAGMENT_NODE},g,!0,j)},parent:function(a,
c,i){return s(a,c,"parentNode",function(a){return a.nodeType!=r.DOCUMENT_FRAGMENT_NODE},i,g)},first:function(c,f,i){c=a.get(c);return s(c&&c.firstChild,f,"nextSibling",g,g,!0,i)},last:function(c,f,i){c=a.get(c);return s(c&&c.lastChild,f,"previousSibling",g,g,!0,i)},next:function(a,c,i){return s(a,c,"nextSibling",g,g,g,i)},prev:function(a,c,i){return s(a,c,"previousSibling",g,g,g,i)},siblings:function(a,c,g){return n(a,c,!0,g)},children:function(a,c){return n(a,c,g)},contents:function(a,c){return n(a,
c,g,1)},contains:function(c,f){c=a.get(c);f=a.get(f);return c&&f?a._contains(c,f):!1},index:function(e,f){var g=a.query(e),j,d=0;j=g[0];if(!f){g=j&&j.parentNode;if(!g)return-1;for(;j=j.previousSibling;)j.nodeType==r.ELEMENT_NODE&&d++;return d}d=a.query(f);return"string"===typeof f?c.indexOf(j,d):c.indexOf(d[0],g)},equals:function(c,f){c=a.query(c);f=a.query(f);if(c.length!=f.length)return!1;for(var g=c.length;0<=g;g--)if(c[g]!=f[g])return!1;return!0}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(c,a){c.mix(c,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
