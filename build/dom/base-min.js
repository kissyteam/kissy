/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Apr 1 12:50
*/
KISSY.add("dom/base/api",function(b){var a=b.Env.host,h=b.UA,n={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},i={isCustomDomain:function(b){var b=b||a,h=b.document.domain,b=b.location.hostname;return h!=b&&h!="["+b+"]"},getEmptyIframeSrc:function(b){b=b||a;return h.ie&&i.isCustomDomain(b)?"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+b.document.domain+"';document.close();")+"}())":""},NodeType:n,getWindow:function(b){return!b?a:"scrollTo"in b&&b.document?b:b.nodeType==n.DOCUMENT_NODE?b.defaultView||b.parentWindow:!1},_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(a){var b=i.get(a),a=b.nodeName.toLowerCase();h.ie&&(b=b.scopeName)&&"HTML"!=b&&(a=b.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+
")(?!px)[a-z%]+$","i")};b.mix(i,n);return i});
KISSY.add("dom/base/attr",function(b,a,h){function n(a,d){var d=e[d]||d,c=r[d];return c&&c.get?c.get(a,d):a[d]}var i=b.Env.host.document,l=a.NodeType,i=i&&i.documentElement,p=a.nodeName,j=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:button|input|object|select|textarea)$/i,g=/^a(?:rea)?$/i,t=/:|^on/,d=/\r/g,c={},u={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},q={tabindex:{get:function(a){var d=
a.getAttributeNode("tabindex");return d&&d.specified?parseInt(d.value,10):f.test(a.nodeName)||g.test(a.nodeName)&&a.href?0:h}}},e={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},s={get:function(d,c){return a.prop(d,c)?c.toLowerCase():h},set:function(d,c,b){!1===c?
a.removeAttr(d,b):(c=e[b]||b,c in d&&(d[c]=!0),d.setAttribute(b,b.toLowerCase()));return b}},r={},m={},k={select:{get:function(d){var c=d.selectedIndex,b=d.options,e;if(0>c)return null;if("select-one"===""+d.type)return a.val(b[c]);d=[];c=0;for(e=b.length;c<e;++c)b[c].selected&&d.push(a.val(b[c]));return d},set:function(d,c){var e=b.makeArray(c);b.each(d.options,function(d){d.selected=b.inArray(a.val(d),e)});e.length||(d.selectedIndex=-1);return e}}};b.each(["radio","checkbox"],function(d){k[d]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(d,c){return b.isArray(c)?d.checked=b.inArray(a.val(d),c):h}}});q.style={get:function(a){return a.style.cssText}};b.mix(a,{_valHooks:k,_propFix:e,_attrHooks:q,_propHooks:r,_attrNodeHook:m,_attrFix:c,prop:function(d,c,k){var m=a.query(d),g,o;if(b.isPlainObject(c))return b.each(c,function(d,c){a.prop(m,c,d)}),h;c=e[c]||c;o=r[c];if(k!==h)for(d=m.length-1;0<=d;d--)g=m[d],o&&o.set?o.set(g,k,c):g[c]=k;else if(m.length)return n(m[0],c);return h},hasProp:function(d,
c){var b=a.query(d),e,k=b.length,o;for(e=0;e<k;e++)if(o=b[e],n(o,c)!==h)return!0;return!1},removeProp:function(d,c){var c=e[c]||c,b=a.query(d),k,m;for(k=b.length-1;0<=k;k--){m=b[k];try{m[c]=h,delete m[c]}catch(o){}}},attr:function(d,e,k,g){var f=a.query(d),o=f[0];if(b.isPlainObject(e)){var g=k,y;for(y in e)a.attr(f,y,e[y],g);return h}if(g&&u[e])return a[e](d,k);e=e.toLowerCase();if(g&&u[e])return a[e](d,k);e=c[e]||e;d=j.test(e)?s:t.test(e)?m:q[e];if(k===h){if(o&&o.nodeType===l.ELEMENT_NODE){"form"==
p(o)&&(d=m);if(d&&d.get)return d.get(o,e);e=o.getAttribute(e);return null===e?h:e}}else for(g=f.length-1;0<=g;g--)if((o=f[g])&&o.nodeType===l.ELEMENT_NODE)"form"==p(o)&&(d=m),d&&d.set?d.set(o,k,e):o.setAttribute(e,""+k);return h},removeAttr:function(d,b){var b=b.toLowerCase(),b=c[b]||b,k=a.query(d),m,g,o;for(o=k.length-1;0<=o;o--)if(g=k[o],g.nodeType==l.ELEMENT_NODE&&(g.removeAttribute(b),j.test(b)&&(m=e[b]||b)in g))g[m]=!1},hasAttr:i&&!i.hasAttribute?function(d,c){var c=c.toLowerCase(),e=a.query(d),
b,k;for(b=0;b<e.length;b++)if(k=e[b],(k=k.getAttributeNode(c))&&k.specified)return!0;return!1}:function(d,c){var e=a.query(d),b,k=e.length;for(b=0;b<k;b++)if(e[b].hasAttribute(c))return!0;return!1},val:function(c,e){var g,m,f,o,y;if(e===h){if(f=a.get(c)){if((g=k[p(f)]||k[f.type])&&"get"in g&&(m=g.get(f,"value"))!==h)return m;m=f.value;return"string"===typeof m?m.replace(d,""):null==m?"":m}return h}m=a.query(c);for(o=m.length-1;0<=o;o--){f=m[o];if(1!==f.nodeType)break;y=e;null==y?y="":"number"===typeof y?
y+="":b.isArray(y)&&(y=b.map(y,function(a){return a==null?"":a+""}));g=k[p(f)]||k[f.type];if(!g||!("set"in g)||g.set(f,y,"value")===h)f.value=y}return h},text:function(d,c){var e,b,k,o;if(c===h)return e=a.get(d),a._getText(e);b=a.query(d);for(k=b.length-1;0<=k;k--)if(e=b[k],o=e.nodeType,o==l.ELEMENT_NODE)a.empty(e),e.appendChild(e.ownerDocument.createTextNode(c));else if(o==l.TEXT_NODE||o==l.CDATA_SECTION_NODE)e.nodeValue=c;return h},_getText:function(a){return a.textContent}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(b,a){b.mix(b,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});
KISSY.add("dom/base/class",function(b,a){function h(a){for(var a=b.trim(a||""),a=a.split(j),g=[],h,d=a.length,c=0;c<d;c++)(h=a[c])&&g.push(h);return g}function n(a){return function(b,h){var d,c,u,q=b.classList,e=l.call(arguments,2);d=0;for(c=h.length;d<c;d++)(u=h[d])&&q[a].apply(q,[u].concat(e))}}function i(b){return function(g,j){var d=h(j),c=l.call(arguments,2);a.query(g).each(function(g){g.nodeType==p.ELEMENT_NODE&&a[b].apply(a,[g,d].concat(c))})}}var l=[].slice,p=a.NodeType,j=/[\.\s]\s*\.?/;b.mix(a,
{_hasClass:function(a,b){var h,d,c,u=a.classList;if(u.length){h=0;for(d=b.length;h<d;h++)if((c=b[h])&&!u.contains(c))return!1;return!0}return!1},_addClass:n("add"),_removeClass:n("remove"),_toggleClass:n("toggle"),hasClass:function(b,g){var j=a.get(b);return j&&j.nodeType==p.ELEMENT_NODE&&a._hasClass(j,h(g))},replaceClass:function(b,g,h){a.removeClass(b,g);a.addClass(b,h)},addClass:i("_addClass"),removeClass:i("_removeClass"),toggleClass:i("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(b,a,h){function n(d){var c=b.require("event/dom/base");c&&c.detach(d);a.removeData(d)}function i(a,b){var e=b&&b!=f?b.createElement(d):c;e.innerHTML="m<div>"+a+"</div>";return e.lastChild}function l(a,d,c){var b=d.nodeType;if(b==g.DOCUMENT_FRAGMENT_NODE){d=d.childNodes;c=c.childNodes;for(b=0;d[b];)c[b]&&l(a,d[b],c[b]),b++}else if(b==g.ELEMENT_NODE){d=d.getElementsByTagName("*");c=c.getElementsByTagName("*");for(b=0;d[b];)c[b]&&a(d[b],c[b]),b++}}function p(d,c){var e=
b.require("event/dom"),x,v;if(c.nodeType!=g.ELEMENT_NODE||a.hasData(d)){x=a.data(d);for(v in x)a.data(c,v,x[v]);e&&(e._DOMUtils.removeData(c),e._clone(d,c))}}function j(a){var d=null,c,e;if(a&&(a.push||a.item)&&a[0]){d=a[0].ownerDocument;d=d.createDocumentFragment();a=b.makeArray(a);c=0;for(e=a.length;c<e;c++)d.appendChild(a[c])}return d}var f=b.Env.host.document,g=a.NodeType,t=b.UA.ie,d="div",c=f&&f.createElement(d),u=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,q=/<([\w:]+)/,
e=/^\s+/,s=/\s+$/,r=t&&9>t,m=/<|&#?\w+;/,k=f&&"outerHTML"in f.documentElement,B=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;b.mix(a,{create:function(c,k,z,x){var v=null;if(!c)return v;if(c.nodeType)return a.clone(c);if("string"!=typeof c)return v;x===h&&(x=!0);x&&(c=b.trim(c));var x=a._creators,w,E,z=z||f,F,D=d;if(m.test(c))if(F=B.exec(c))v=z.createElement(F[1]);else{c=c.replace(u,"<$1></$2>");if((F=q.exec(c))&&(w=F[1]))D=w.toLowerCase();w=(x[D]||i)(c,z);r&&(E=c.match(e))&&w.insertBefore(z.createTextNode(E[0]),
w.firstChild);r&&/\S/.test(c)&&(E=c.match(s))&&w.appendChild(z.createTextNode(E[0]));c=w.childNodes;1===c.length?v=c[0].parentNode.removeChild(c[0]):c.length&&(v=j(c))}else v=z.createTextNode(c);b.isPlainObject(k)&&(v.nodeType==g.ELEMENT_NODE?a.attr(v,k,!0):v.nodeType==g.DOCUMENT_FRAGMENT_NODE&&a.attr(v.childNodes,k,!0));return v},_fixCloneAttributes:null,_creators:{div:i},_defaultCreator:i,html:function(d,c,b,k){var d=a.query(d),v=d[0],m=!1,f,j;if(v){if(c===h)return v.nodeType==g.ELEMENT_NODE?v.innerHTML:
null;c+="";if(!c.match(/<(?:script|style|link)/i)&&(!r||!c.match(e))&&!A[(c.match(q)||["",""])[1].toLowerCase()])try{for(f=d.length-1;0<=f;f--)j=d[f],j.nodeType==g.ELEMENT_NODE&&(n(j.getElementsByTagName("*")),j.innerHTML=c);m=!0}catch(u){}m||(c=a.create(c,0,v.ownerDocument,0),a.empty(d),a.append(c,d,b));k&&k()}},outerHTML:function(b,e,m){var x=a.query(b),v=x.length;if(b=x[0]){if(e===h){if(k)return b.outerHTML;e=(e=b.ownerDocument)&&e!=f?e.createElement(d):c;e.innerHTML="";e.appendChild(a.clone(b,
!0));e.appendChild(a.clone(b,!0));return e.innerHTML}e+="";if(!e.match(/<(?:script|style|link)/i)&&k)for(m=v-1;0<=m;m--)b=x[m],b.nodeType==g.ELEMENT_NODE&&(n(b),n(b.getElementsByTagName("*")),b.outerHTML=e);else b=a.create(e,0,b.ownerDocument,0),a.insertBefore(b,x,m),a.remove(x)}},remove:function(d,c){var e,k=a.query(d),v,m,h=b.require("event/dom/base"),f;for(f=k.length-1;0<=f;f--)e=k[f],!c&&e.nodeType==g.ELEMENT_NODE&&(v=b.makeArray(e.getElementsByTagName("*")),v.push(e),a.removeData(v),h&&h.detach(v)),
(m=e.parentNode)&&m.removeChild(e)},clone:function(d,c,b,e){"object"===typeof c&&(e=c.deepWithDataAndEvent,b=c.withDataAndEvent,c=c.deep);var d=a.get(d),k,m=a._fixCloneAttributes,h;if(!d)return null;h=d.nodeType;k=d.cloneNode(c);if(h==g.ELEMENT_NODE||h==g.DOCUMENT_FRAGMENT_NODE)m&&h==g.ELEMENT_NODE&&m(d,k),c&&m&&l(m,d,k);b&&(p(d,k),c&&e&&l(p,d,k));return k},empty:function(d){var d=a.query(d),c,b;for(b=d.length-1;0<=b;b--)c=d[b],a.remove(c.childNodes)},_nodeListToFragment:j});var D=a._creators,z=a.create,
A={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},C;for(C in A)(function(a){D[C]=function(d,c){return z("<"+a+">"+d+"</"+a+">",null,c)}})(A[C]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(b,a,h){var n=b.Env.host,i="__ks_data_"+b.now(),l={},p={},j={applet:1,object:1,embed:1},f={hasData:function(a,c){if(a)if(c!==h){if(c in a)return!0}else if(!b.isEmptyObject(a))return!0;return!1}},g={hasData:function(a,c){return a==n?g.hasData(p,c):f.hasData(a[i],c)},data:function(a,c,b){if(a==n)return g.data(p,c,b);var f=a[i];if(b!==h)f=a[i]=a[i]||{},f[c]=b;else return c!==h?f&&f[c]:f=a[i]=a[i]||{}},removeData:function(a,c){if(a==n)return g.removeData(p,c);var f=a[i];
if(c!==h)delete f[c],b.isEmptyObject(f)&&g.removeData(a);else try{delete a[i]}catch(j){a[i]=h}}},t={hasData:function(a,c){var b=a[i];return!b?!1:f.hasData(l[b],c)},data:function(a,c,g){if(j[a.nodeName.toLowerCase()])return h;var f=a[i];if(!f){if(c!==h&&g===h)return h;f=a[i]=b.guid()}a=l[f];if(g!==h)a=l[f]=l[f]||{},a[c]=g;else return c!==h?a&&a[c]:a=l[f]=l[f]||{}},removeData:function(a,c){var g=a[i],f;if(g)if(f=l[g],c!==h)delete f[c],b.isEmptyObject(f)&&t.removeData(a);else{delete l[g];try{delete a[i]}catch(e){a[i]=
h}a.removeAttribute&&a.removeAttribute(i)}}};b.mix(a,{__EXPANDO:i,hasData:function(d,c){for(var b=!1,f=a.query(d),e=0;e<f.length&&!(b=f[e],b=b.nodeType?t.hasData(b,c):g.hasData(b,c));e++);return b},data:function(d,c,f){var d=a.query(d),j=d[0];if(b.isPlainObject(c)){for(var e in c)a.data(d,e,c[e]);return h}if(f===h){if(j)return j.nodeType?t.data(j,c):g.data(j,c)}else for(e=d.length-1;0<=e;e--)j=d[e],j.nodeType?t.data(j,c,f):g.data(j,c,f);return h},removeData:function(d,c){var b=a.query(d),f,e;for(e=
b.length-1;0<=e;e--)f=b[e],f.nodeType?t.removeData(f,c):g.removeData(f,c)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(b,a){function h(a,c){var b=[],q,e,s;for(q=0;a[q];q++)if(e=a[q],s=j(e),e.nodeType==l.DOCUMENT_FRAGMENT_NODE)b.push.apply(b,h(f(e.childNodes),c));else if("script"===s&&(!e.type||t.test(e.type)))e.parentNode&&e.parentNode.removeChild(e),c&&c.push(e);else{if(e.nodeType==l.ELEMENT_NODE&&!p.test(s)){s=[];var r,m,k=e.getElementsByTagName("script");for(m=0;m<k.length;m++)r=k[m],(!r.type||t.test(r.type))&&s.push(r);g.apply(a,[q+1,0].concat(s))}b.push(e)}return b}function n(a){a.src?
b.getScript(a.src):(a=b.trim(a.text||a.textContent||a.innerHTML||""))&&b.globalEval(a)}function i(d,c,f,g){d=a.query(d);g&&(g=[]);d=h(d,g);a._fixInsertionChecked&&a._fixInsertionChecked(d);var c=a.query(c),e,j,r,m,k=c.length;if((d.length||g&&g.length)&&k){d=a._nodeListToFragment(d);1<k&&(m=a.clone(d,!0),c=b.makeArray(c));for(e=0;e<k;e++)j=c[e],d&&(r=0<e?a.clone(m,!0):d,f(r,j)),g&&g.length&&b.each(g,n)}}var l=a.NodeType,p=/^(?:button|input|object|select|textarea)$/i,j=a.nodeName,f=b.makeArray,g=[].splice,
t=/\/(java|ecma)script/i;b.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,c,b){i(a,c,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c)},b)},insertAfter:function(a,c,b){i(a,c,function(a,c){c.parentNode&&c.parentNode.insertBefore(a,c.nextSibling)},b)},appendTo:function(a,c,b){i(a,c,function(a,c){c.appendChild(a)},b)},prependTo:function(a,c,b){i(a,c,function(a,c){c.insertBefore(a,c.firstChild)},b)},wrapAll:function(b,c){c=a.clone(a.get(c),!0);b=a.query(b);b[0].parentNode&&a.insertBefore(c,
b[0]);for(var f;(f=c.firstChild)&&1==f.nodeType;)c=f;a.appendTo(b,c)},wrap:function(d,c){d=a.query(d);c=a.get(c);b.each(d,function(b){a.wrapAll(b,c)})},wrapInner:function(d,c){d=a.query(d);c=a.get(c);b.each(d,function(b){var d=b.childNodes;d.length?a.wrapAll(d,c):b.appendChild(c)})},unwrap:function(d){d=a.query(d);b.each(d,function(c){c=c.parentNode;a.replaceWith(c,c.childNodes)})},replaceWith:function(b,c){var f=a.query(b),c=a.query(c);a.remove(c,!0);a.insertBefore(c,f);a.remove(f)}});b.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(b,c){a[c]=a[b]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(b,a,h){function n(a){var c,b=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};c=a.getBoundingClientRect();a=c[u];c=c[q];a-=f.clientLeft||b.clientLeft||0;c-=f.clientTop||b.clientTop||0;return{left:a,top:c}}function i(b,d){var e={left:0,top:0},f=g(b[c]),h,j=b,d=d||f;do{if(f==d){var i=j;h=n(i);i=g(i[c]);h.left+=a[s](i);h.top+=a[r](i)}else h=n(j);e.left+=h.left;e.top+=h.top}while(f&&f!=d&&(j=f.frameElement)&&(f=f.parent));return e}var l=b.Env.host,
p=l.document,j=a.NodeType,f=p&&p.documentElement,g=a.getWindow,t=Math.max,d=parseInt,c="ownerDocument",u="left",q="top",e=b.isNumber,s="scrollLeft",r="scrollTop";b.mix(a,{offset:function(c,b,e){if(b===h){var c=a.get(c),f;c&&(f=i(c,e));return f}e=a.query(c);for(f=e.length-1;0<=f;f--){var c=e[f],g=b;"static"===a.css(c,"position")&&(c.style.position="relative");var j=i(c),r={},s=void 0,l=void 0;for(l in g)s=d(a.css(c,l),10)||0,r[l]=s+g[l]-j[l];a.css(c,r)}return h},scrollIntoView:function(c,e,f,r){var s,
i,l,o;if(l=a.get(c)){e&&(e=a.get(e));e||(e=l.ownerDocument);e.nodeType==j.DOCUMENT_NODE&&(e=g(e));b.isPlainObject(f)&&(r=f.allowHorizontalScroll,o=f.onlyScrollIfNeeded,f=f.alignWithTop);r=r===h?!0:r;i=!!g(e);var c=a.offset(l),n=a.outerHeight(l);s=a.outerWidth(l);var t,x,v,w;i?(i=e,t=a.height(i),x=a.width(i),w={left:a.scrollLeft(i),top:a.scrollTop(i)},i=c[u]-w[u],l=c[q]-w[q],s=c[u]+s-(w[u]+x),c=c[q]+n-(w[q]+t)):(t=a.offset(e),x=e.clientHeight,v=e.clientWidth,w={left:a.scrollLeft(e),top:a.scrollTop(e)},
i=c[u]-(t[u]+(d(a.css(e,"borderLeftWidth"))||0)),l=c[q]-(t[q]+(d(a.css(e,"borderTopWidth"))||0)),s=c[u]+s-(t[u]+v+(d(a.css(e,"borderRightWidth"))||0)),c=c[q]+n-(t[q]+x+(d(a.css(e,"borderBottomWidth"))||0)));if(o){if(0>l||0<c)!0===f?a.scrollTop(e,w.top+l):!1===f?a.scrollTop(e,w.top+c):0>l?a.scrollTop(e,w.top+l):a.scrollTop(e,w.top+c)}else(f=f===h?!0:!!f)?a.scrollTop(e,w.top+l):a.scrollTop(e,w.top+c);if(r)if(o){if(0>i||0<s)!0===f?a.scrollLeft(e,w.left+i):!1===f?a.scrollLeft(e,w.left+s):0>i?a.scrollLeft(e,
w.left+i):a.scrollLeft(e,w.left+s)}else(f=f===h?!0:!!f)?a.scrollLeft(e,w.left+i):a.scrollLeft(e,w.left+s)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});b.each(["Left","Top"],function(c,b){var d="scroll"+c;a[d]=function(f,i){if(e(f))return arguments.callee(l,f);var f=a.get(f),r,s,t,n=g(f);n?i!==h?(i=parseFloat(i),s="Left"==c?i:a.scrollLeft(n),t="Top"==c?i:a.scrollTop(n),n.scrollTo(s,t)):(r=n["page"+(b?"Y":"X")+"Offset"],e(r)||(s=n.document,r=s.documentElement[d],
e(r)||(r=s.body[d]))):f.nodeType==j.ELEMENT_NODE&&(i!==h?f[d]=parseFloat(i):r=f[d]);return r}});b.each(["Width","Height"],function(c){a["doc"+c]=function(b){b=a.get(b);b=g(b).document;return t(b.documentElement["scroll"+c],b.body["scroll"+c],a["viewport"+c](b))};a["viewport"+c]=function(b){var b=a.get(b),e="client"+c,b=g(b).document,d=b.body,f=b.documentElement[e];return"CSS1Compat"===b.compatMode&&f||d&&d[e]||f}});return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(b,a){function h(a){var c=this.length,b;for(b=0;b<c&&!1!==a(this[b],b);b++);}function n(b,d){var i,m;i="string"==typeof b;var k=d?n(d):(m=1)&&[j],l=k.length;if(b)if(i)if(b=q(b),m&&"body"==b)i=[j.body];else{i=[];for(m=0;m<l;m++)c.apply(i,a._selectInternal(b,k[m]));1<i.length&&1<l&&a.unique(i)}else{if(i=b.nodeType||b.setTimeout?[b]:b.getDOMNodes?b.getDOMNodes():f(b)?b:t(b)?g(b):[b],!m){var p=i,u,A=p.length;i=[];for(m=0;m<A;m++)for(u=0;u<l;u++)if(a._contains(k[u],
p[m])){i.push(p[m]);break}}}else i=[];i.each=h;return i}function i(a,c){var b=a&&(a.className||l(a,"class"));return b&&-1<(d+b+d).indexOf(d+c+d)}function l(a,c){var b=a&&a.getAttributeNode(c);if(b&&b.specified)return b.nodeValue}function p(a,c){return"*"==c||a.nodeName.toLowerCase()===c.toLowerCase()}var j=b.Env.host.document,f=b.isArray,g=b.makeArray,t=a._isNodeList,d=" ",c=Array.prototype.push,u=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,q=b.trim;b.mix(a,{_compareNodeOrder:function(a,c){return!a.compareDocumentPosition||
!c.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(c)&4?-1:1},_isTag:p,_getAttr:l,_hasSingleClass:i,_matchesInternal:function(a,c){for(var b=[],d=0,f=g(j.querySelectorAll(a)),h,i=c.length;d<i;d++)h=c[d],-1!=f.indexOf(h)&&b.push(h);return b},_selectInternal:function(a,c){return g(c.querySelectorAll(a))},query:n,get:function(a,c){return n(a,c)[0]||null},unique:function(){function c(d,e){return d==e?(b=!0,0):a._compareNodeOrder(d,e)}var b,d=!0;[0,0].sort(function(){d=
!1;return 0});return function(a){b=d;a.sort(c);if(b)for(var f=1,g=a.length;f<g;)a[f]===a[f-1]?(a.splice(f,1),--g):f++;return a}}(),filter:function(c,d,f){var c=n(c,f),g,h,j,t,f=[];if("string"==typeof d&&(d=q(d))&&(j=u.exec(d)))g=j[1],h=j[2],t=j[3],g?g&&!h&&!t&&(d=function(a){return l(a,"id")==g}):d=function(a){var c=!0,b=!0;h&&(c=p(a,h));t&&(b=i(a,t));return b&&c};return f=b.isFunction(d)?b.filter(c,d):a._matchesInternal(d,c)},test:function(c,b,d){c=n(c,d);return c.length&&a.filter(c,b,d).length===
c.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(b,a,h){function n(a){return a.replace(m,"ms-").replace(o,y)}function i(a,b,d){var f={},e;for(e in b)f[e]=a[c][e],a[c][e]=b[e];d.call(a);for(e in b)a[c][e]=f[e]}function l(a,b,d){var e,f,g;if(3===a.nodeType||8===a.nodeType||!(e=a[c]))return h;b=n(b);g=z[b];b=A[b]||b;if(d!==h){null===d||d===B?d=B:!isNaN(Number(d))&&!r[b]&&(d+=D);g&&g.set&&(d=g.set(a,d));if(d!==h){try{e[b]=d}catch(j){}d===B&&e.removeAttribute&&e.removeAttribute(b)}e.cssText||a.removeAttribute("style");
return h}if(!g||!("get"in g&&(f=g.get(a,!1))!==h))f=e[b];return f===h?"":f}function p(a){var c,b=arguments;0!==a.offsetWidth?c=j.apply(h,b):i(a,G,function(){c=j.apply(h,b)});return c}function j(c,d,e){if(b.isWindow(c))return d==q?a.viewportWidth(c):a.viewportHeight(c);if(9==c.nodeType)return d==q?a.docWidth(c):a.docHeight(c);var f=d===q?["Left","Right"]:["Top","Bottom"],g=d===q?c.offsetWidth:c.offsetHeight;if(0<g)return"border"!==e&&b.each(f,function(b){e||(g-=parseFloat(a.css(c,"padding"+b))||0);
g="margin"===e?g+(parseFloat(a.css(c,e+b))||0):g-(parseFloat(a.css(c,"border"+b+"Width"))||0)}),g;g=a._getComputedStyle(c,d);if(null==g||0>Number(g))g=c.style[d]||0;g=parseFloat(g)||0;e&&b.each(f,function(b){g+=parseFloat(a.css(c,"padding"+b))||0;"padding"!==e&&(g+=parseFloat(a.css(c,"border"+b+"Width"))||0);"margin"===e&&(g+=parseFloat(a.css(c,e+b))||0)});return g}var f=b.Env.host,g=b.UA,t=a.nodeName,d=f.document,c="style",u=/^margin/,q="width",e="display"+b.now(),s=parseInt,r={fillOpacity:1,fontWeight:1,
lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},m=/^-ms-/,k=/([A-Z]|^ms)/g,B="",D="px",z={},A={"float":"cssFloat"},C={},o=/-([a-z])/ig,y=function(a,c){return c.toUpperCase()};b.mix(a,{_camelCase:n,_CUSTOM_STYLES:z,_cssProps:A,_getComputedStyle:function(b,d){var e="",f,g,h,j,i;g=b.ownerDocument;d=d.replace(k,"-$1").toLowerCase();if(f=g.defaultView.getComputedStyle(b,null))e=f.getPropertyValue(d)||f[d];""===e&&!a.contains(g,b)&&(d=A[d]||d,e=b[c][d]);a._RE_NUM_NO_PX.test(e)&&u.test(d)&&(i=
b.style,g=i.width,h=i.minWidth,j=i.maxWidth,i.minWidth=i.maxWidth=i.width=e,e=f.width,i.width=g,i.minWidth=h,i.maxWidth=j);return e},style:function(c,d,e){var c=a.query(c),f,g=c[0];if(b.isPlainObject(d)){for(f in d)for(g=c.length-1;0<=g;g--)l(c[g],f,d[f]);return h}if(e===h)return f="",g&&(f=l(g,d,e)),f;for(g=c.length-1;0<=g;g--)l(c[g],d,e);return h},css:function(c,d,e){var c=a.query(c),f=c[0],g;if(b.isPlainObject(d)){for(g in d)for(f=c.length-1;0<=f;f--)l(c[f],g,d[g]);return h}d=n(d);g=z[d];if(e===
h){e="";if(f&&(!g||!("get"in g&&(e=g.get(f,!0))!==h)))e=a._getComputedStyle(f,d);return e===h?"":e}for(f=c.length-1;0<=f;f--)l(c[f],d,e);return h},show:function(b){var b=a.query(b),f,g,h;for(h=b.length-1;0<=h;h--)if(g=b[h],g[c].display=a.data(g,e)||B,"none"===a.css(g,"display")){f=g.tagName.toLowerCase();var j=void 0,i=C[f],k=void 0;C[f]||(j=d.body||d.documentElement,k=d.createElement(f),a.prepend(k,j),i=a.css(k,"display"),j.removeChild(k),C[f]=i);f=i;a.data(g,e,f);g[c].display=f}},hide:function(b){var b=
a.query(b),d,f;for(f=b.length-1;0<=f;f--){d=b[f];var g=d[c],h=g.display;"none"!==h&&(h&&a.data(d,e,h),g.display="none")}},toggle:function(c){var c=a.query(c),b,d;for(d=c.length-1;0<=d;d--)b=c[d],"none"===a.css(b,"display")?a.show(b):a.hide(b)},addStyleSheet:function(c,b,d){c=c||f;"string"==typeof c&&(d=b,b=c,c=f);var c=a.get(c),c=a.getWindow(c).document,e;if(d&&(d=d.replace("#",B)))e=a.get("#"+d,c);e||(e=a.create("<style>",{id:d},c),a.get("head",c).appendChild(e),e.styleSheet?e.styleSheet.cssText=
b:e.appendChild(c.createTextNode(b)))},unselectable:function(d){var d=a.query(d),e,f,h=0,j,i;for(f=d.length-1;0<=f;f--)if(e=d[f],i=e[c],i.UserSelect="none",g.gecko)i.MozUserSelect="none";else if(g.webkit)i.WebkitUserSelect="none";else if(g.ie||g.opera){i=e.getElementsByTagName("*");e.setAttribute("unselectable","on");for(j=["iframe","textarea","input","select"];e=i[h++];)b.inArray(t(e),j)||e.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});
b.each([q,"height"],function(c){a["inner"+b.ucfirst(c)]=function(b){return(b=a.get(b))&&p(b,c,"padding")};a["outer"+b.ucfirst(c)]=function(b,d){var e=a.get(b);return e&&p(e,c,d?"margin":"border")};a[c]=function(b,d){var e=a.css(b,c,d);e&&(e=parseFloat(e));return e}});var G={position:"absolute",visibility:"hidden",display:"block"};b.each(["height","width"],function(a){z[a]={get:function(c,b){if(b)return p(c,a)+"px"}}});b.each(["left","top"],function(c){z[c]={get:function(e,f){if(f){var h=a._getComputedStyle(e,
c);if("auto"===h){h=0;if(b.inArray(a.css(e,"position"),["absolute","fixed"])){h=e["left"===c?"offsetLeft":"offsetTop"];if(g.ie&&9>(d.documentMode||0)||g.opera)h-=e.offsetParent&&e.offsetParent["client"+("left"==c?"Left":"Top")]||0;h-=s(a.css(e,"margin-"+c))||0}h+="px"}return h}}}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(b,a,h){function n(j,f,g,l,d,c,n){if(!(j=a.get(j)))return null;if(0===f)return j;c||(j=j[g]);if(!j)return null;d=d&&a.get(d)||null;f===h&&(f=1);var c=[],q=b.isArray(f),e,s;b.isNumber(f)&&(e=0,s=f,f=function(){return++e===s});for(;j&&j!=d;){if((j.nodeType==p.ELEMENT_NODE||j.nodeType==p.TEXT_NODE&&n)&&i(j,f)&&(!l||l(j)))if(c.push(j),!q)break;j=j[g]}return q?c:c[0]||null}function i(h,f){if(!f)return!0;if(b.isArray(f)){var g,i=f.length;if(!i)return!0;for(g=0;g<i;g++)if(a.test(h,
f[g]))return!0}else if(a.test(h,f))return!0;return!1}function l(h,f,g,i){var d=[],c,l;if((c=h=a.get(h))&&g)c=h.parentNode;if(c){g=b.makeArray(c.childNodes);for(c=0;c<g.length;c++)l=g[c],(i||l.nodeType==p.ELEMENT_NODE)&&l!=h&&d.push(l);f&&(d=a.filter(d,f))}return d}var p=a.NodeType;b.mix(a,{_contains:function(a,b){return!!(a.compareDocumentPosition(b)&16)},closest:function(a,b,g,h){return n(a,b,"parentNode",function(a){return a.nodeType!=p.DOCUMENT_FRAGMENT_NODE},g,!0,h)},parent:function(a,b,g){return n(a,
b,"parentNode",function(a){return a.nodeType!=p.DOCUMENT_FRAGMENT_NODE},g,h)},first:function(b,f,g){b=a.get(b);return n(b&&b.firstChild,f,"nextSibling",h,h,!0,g)},last:function(b,f,g){b=a.get(b);return n(b&&b.lastChild,f,"previousSibling",h,h,!0,g)},next:function(a,b,g){return n(a,b,"nextSibling",h,h,h,g)},prev:function(a,b,g){return n(a,b,"previousSibling",h,h,h,g)},siblings:function(a,b,g){return l(a,b,!0,g)},children:function(a,b){return l(a,b,h)},contents:function(a,b){return l(a,b,h,1)},contains:function(b,
f){b=a.get(b);f=a.get(f);return b&&f?a._contains(b,f):!1},index:function(h,f){var g=a.query(h),i,d=0;i=g[0];if(!f){g=i&&i.parentNode;if(!g)return-1;for(;i=i.previousSibling;)i.nodeType==p.ELEMENT_NODE&&d++;return d}d=a.query(f);return"string"===typeof f?b.indexOf(i,d):b.indexOf(d[0],g)},equals:function(b,f){b=a.query(b);f=a.query(f);if(b.length!=f.length)return!1;for(var g=b.length;0<=g;g--)if(b[g]!=f[g])return!1;return!0}});return a},{requires:["./api"]});
