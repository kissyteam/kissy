/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Jul 11 12:30
*/
KISSY.add("dom/base/api",function(b){var a=b.Env.host||{},g=a.document,s=b.UA,l={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},q={isCustomDomain:function(b){var b=b||a,b=q.get(b),f=b.document.domain,b=b.location.hostname;return f!=b&&f!="["+b+"]"},getEmptyIframeSrc:function(b){b=b||a;b=q.get(b);return s.ie&&q.isCustomDomain(b)?
"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+b.document.domain+"';document.close();")+"}())":""},NodeType:l,getWindow:function(g){if(!g)return a;g=q.get(g);if(b.isWindow(g))return g;var f=g;f.nodeType!==l.DOCUMENT_NODE&&(f=g.ownerDocument);return f.defaultView||f.parentWindow},getDocument:function(a){if(!a)return g;a=q.get(a);return b.isWindow(a)?a.document:a.nodeType==l.DOCUMENT_NODE?a:a.ownerDocument},isDomNodeList:function(a){return a&&!a.nodeType&&a.item&&
!a.setTimeout},nodeName:function(a){var b=q.get(a),a=b.nodeName.toLowerCase();s.ie&&(b=b.scopeName)&&"HTML"!=b&&(a=b.toLowerCase()+":"+a);return a},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};b.mix(q,l);return q});
KISSY.add("dom/base/attr",function(b,a,g){function s(a,c){var c=n[c]||c,e=u[c];return e&&e.get?e.get(a,c):a[c]}var l=b.Env.host.document,q=a.NodeType,l=l&&l.documentElement,t=a.nodeName,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,j=/^(?:button|input|object|select|textarea)$/i,k=/^a(?:rea)?$/i,r=/:|^on/,e=/\r/g,d={},m={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},A={tabindex:{get:function(a){var c=
a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):j.test(a.nodeName)||k.test(a.nodeName)&&a.href?0:g}}},n={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},B={get:function(e,c){return a.prop(e,c)?c.toLowerCase():g},set:function(e,c,i){!1===c?
a.removeAttr(e,i):(c=n[i]||i,c in e&&(e[c]=!0),e.setAttribute(i,i.toLowerCase()));return i}},u={},z={},v={select:{get:function(e){var c=e.selectedIndex,i=e.options,h;if(0>c)return null;if("select-one"===""+e.type)return a.val(i[c]);e=[];c=0;for(h=i.length;c<h;++c)i[c].selected&&e.push(a.val(i[c]));return e},set:function(e,c){var i=b.makeArray(c);b.each(e.options,function(c){c.selected=b.inArray(a.val(c),i)});i.length||(e.selectedIndex=-1);return i}}};b.each(["radio","checkbox"],function(e){v[e]={get:function(a){return null===
a.getAttribute("value")?"on":a.value},set:function(c,e){return b.isArray(e)?c.checked=b.inArray(a.val(c),e):g}}});A.style={get:function(a){return a.style.cssText}};b.mix(a,{_valHooks:v,_propFix:n,_attrHooks:A,_propHooks:u,_attrNodeHook:z,_attrFix:d,prop:function(e,c,d){var h=a.query(e),y,o;if(b.isPlainObject(c))return b.each(c,function(c,e){a.prop(h,e,c)}),g;c=n[c]||c;o=u[c];if(d!==g)for(e=h.length-1;0<=e;e--)y=h[e],o&&o.set?o.set(y,d,c):y[c]=d;else if(h.length)return s(h[0],c);return g},hasProp:function(e,
c){var d=a.query(e),h,b=d.length,o;for(h=0;h<b;h++)if(o=d[h],s(o,c)!==g)return!0;return!1},removeProp:function(e,c){var c=n[c]||c,d=a.query(e),h,b;for(h=d.length-1;0<=h;h--){b=d[h];try{b[c]=g,delete b[c]}catch(o){}}},attr:function(e,c,i,h){var y=a.query(e),o=y[0];if(b.isPlainObject(c)){var h=i,w;for(w in c)a.attr(y,w,c[w],h);return g}if(h&&m[c])return a[c](e,i);c=c.toLowerCase();if(h&&m[c])return a[c](e,i);c=d[c]||c;e=f.test(c)?B:r.test(c)?z:A[c];if(i===g){if(o&&o.nodeType===q.ELEMENT_NODE){"form"==
t(o)&&(e=z);if(e&&e.get)return e.get(o,c);i=o.getAttribute(c);return""===i&&(c=o.getAttributeNode(c),!c||!c.specified)?g:null===i?g:i}}else for(h=y.length-1;0<=h;h--)if((o=y[h])&&o.nodeType===q.ELEMENT_NODE)"form"==t(o)&&(e=z),e&&e.set?e.set(o,i,c):o.setAttribute(c,""+i);return g},removeAttr:function(e,c){var c=c.toLowerCase(),c=d[c]||c,i=a.query(e),h,b,o;for(o=i.length-1;0<=o;o--)if(b=i[o],b.nodeType==q.ELEMENT_NODE&&(b.removeAttribute(c),f.test(c)&&(h=n[c]||c)in b))b[h]=!1},hasAttr:l&&!l.hasAttribute?
function(e,c){var c=c.toLowerCase(),d=a.query(e),h,b;for(h=0;h<d.length;h++)if(b=d[h],(b=b.getAttributeNode(c))&&b.specified)return!0;return!1}:function(e,c){var d=a.query(e),h,b=d.length;for(h=0;h<b;h++)if(d[h].hasAttribute(c))return!0;return!1},val:function(d,c){var i,h,m,o,w;if(c===g){if(m=a.get(d)){if((i=v[t(m)]||v[m.type])&&"get"in i&&(h=i.get(m,"value"))!==g)return h;h=m.value;return"string"===typeof h?h.replace(e,""):null==h?"":h}return g}h=a.query(d);for(o=h.length-1;0<=o;o--){m=h[o];if(1!==
m.nodeType)break;w=c;null==w?w="":"number"===typeof w?w+="":b.isArray(w)&&(w=b.map(w,function(a){return a==null?"":a+""}));i=v[t(m)]||v[m.type];if(!i||!("set"in i)||i.set(m,w,"value")===g)m.value=w}return g},text:function(e,c){var d,h,b,o;if(c===g)return d=a.get(e),a._getText(d);h=a.query(e);for(b=h.length-1;0<=b;b--)if(d=h[b],o=d.nodeType,o==q.ELEMENT_NODE)a.empty(d),d.appendChild(d.ownerDocument.createTextNode(c));else if(o==q.TEXT_NODE||o==q.CDATA_SECTION_NODE)d.nodeValue=c;return g},_getText:function(a){return a.textContent}});
return a},{requires:["./api"]});
KISSY.add("dom/base/class",function(b,a){function g(a){for(var a=b.trim(a||""),a=a.split(f),g=[],r,e=a.length,d=0;d<e;d++)(r=a[d])&&g.push(r);return g}function s(a){return function(b,g){var e,d,m,f=b.classList,n=q.call(arguments,2);e=0;for(d=g.length;e<d;e++)(m=g[e])&&f[a].apply(f,[m].concat(n))}}function l(b){return function(f,r){var e=g(r),d=q.call(arguments,2);a.query(f).each(function(m){m.nodeType==t.ELEMENT_NODE&&a[b].apply(a,[m,e].concat(d))})}}var q=[].slice,t=a.NodeType,f=/[\.\s]\s*\.?/;b.mix(a,
{_hasClass:function(a,b){var g,e,d,m=a.classList;if(m.length){g=0;for(e=b.length;g<e;g++)if((d=b[g])&&!m.contains(d))return!1;return!0}return!1},_addClass:s("add"),_removeClass:s("remove"),_toggleClass:s("toggle"),hasClass:function(b,f){var r=a.get(b);return r&&r.nodeType==t.ELEMENT_NODE&&a._hasClass(r,g(f))},replaceClass:function(b,g,f){a.removeClass(b,g);a.addClass(b,f)},addClass:l("_addClass"),removeClass:l("_removeClass"),toggleClass:l("_toggleClass")});return a},{requires:["./api"]});
KISSY.add("dom/base/create",function(b,a,g){function s(e){var c=b.require("event/dom");c&&c.detach(e);a.removeData(e)}function l(a,c){var b=c&&c!=j?c.createElement(e):d;b.innerHTML="m<div>"+a+"</div>";return b.lastChild}function q(a,c,e){var d=c.nodeType;if(d==k.DOCUMENT_FRAGMENT_NODE){c=c.childNodes;e=e.childNodes;for(d=0;c[d];)e[d]&&q(a,c[d],e[d]),d++}else if(d==k.ELEMENT_NODE){c=c.getElementsByTagName("*");e=e.getElementsByTagName("*");for(d=0;c[d];)e[d]&&a(c[d],e[d]),d++}}function t(c,e){var d=
b.require("event/dom"),h,p;if(e.nodeType!=k.ELEMENT_NODE||a.hasData(c)){h=a.data(c);for(p in h)a.data(e,p,h[p]);d&&d.clone(c,e)}}function f(a){var c=null,e,d;if(a&&(a.push||a.item)&&a[0]){c=a[0].ownerDocument;c=c.createDocumentFragment();a=b.makeArray(a);e=0;for(d=a.length;e<d;e++)c.appendChild(a[e])}return c}var j=b.Env.host.document,k=a.NodeType,r=b.UA.ie,e="div",d=j&&j.createElement(e),m=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,A=/<([\w:]+)/,n=/^\s+/,B=/\s+$/,u=
r&&9>r,z=/<|&#?\w+;/,v=j&&"outerHTML"in j.documentElement,C=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;b.mix(a,{create:function(c,d,h,i){var p=null;if(!c)return p;if(c.nodeType)return a.clone(c);if("string"!=typeof c)return p;i===g&&(i=!0);i&&(c=b.trim(c));var i=a._creators,x,E,h=h||j,D,F=e;if(z.test(c))if(D=C.exec(c))p=h.createElement(D[1]);else{c=c.replace(m,"<$1></$2>");if((D=A.exec(c))&&(x=D[1]))F=x.toLowerCase();x=(i[F]||l)(c,h);u&&(E=c.match(n))&&x.insertBefore(h.createTextNode(E[0]),x.firstChild);u&&/\S/.test(c)&&
(E=c.match(B))&&x.appendChild(h.createTextNode(E[0]));c=x.childNodes;1===c.length?p=c[0].parentNode.removeChild(c[0]):c.length&&(p=f(c))}else p=h.createTextNode(c);b.isPlainObject(d)&&(p.nodeType==k.ELEMENT_NODE?a.attr(p,d,!0):p.nodeType==k.DOCUMENT_FRAGMENT_NODE&&a.attr(p.childNodes,d,!0));return p},_fixCloneAttributes:function(c,e){"textarea"===a.nodeName(c)&&(e.defaultValue=c.defaultValue,e.value=c.value)},_creators:{div:l},_defaultCreator:l,html:function(c,e,d){var c=a.query(c),b=c[0],p=!1,x,
i;if(!b)return null;if(e===g)return b.nodeType==k.ELEMENT_NODE?b.innerHTML:null;e+="";if(!e.match(/<(?:script|style|link)/i)&&(!u||!e.match(n))&&!h[(e.match(A)||["",""])[1].toLowerCase()])try{for(x=c.length-1;0<=x;x--)i=c[x],i.nodeType==k.ELEMENT_NODE&&(s(i.getElementsByTagName("*")),i.innerHTML=e);p=!0}catch(m){}p||(e=a.create(e,0,b.ownerDocument,0),a.empty(c),a.append(e,c,d));return g},outerHtml:function(c,b,h){var i=a.query(c),p=i.length,c=i[0];if(!c)return null;if(b===g){if(v)return c.outerHTML;
b=(b=c.ownerDocument)&&b!=j?b.createElement(e):d;b.innerHTML="";b.appendChild(a.clone(c,!0));b.appendChild(a.clone(c,!0));return b.innerHTML}b+="";if(!b.match(/<(?:script|style|link)/i)&&v)for(h=p-1;0<=h;h--)c=i[h],c.nodeType==k.ELEMENT_NODE&&(s(c),s(c.getElementsByTagName("*")),c.outerHTML=b);else c=a.create(b,0,c.ownerDocument,0),a.insertBefore(c,i,h),a.remove(i);return g},remove:function(c,e){var d,h=a.query(c),p,x,i=b.require("event/dom"),g;for(g=h.length-1;0<=g;g--)d=h[g],!e&&d.nodeType==k.ELEMENT_NODE&&
(p=b.makeArray(d.getElementsByTagName("*")),p.push(d),a.removeData(p),i&&i.detach(p)),(x=d.parentNode)&&x.removeChild(d)},clone:function(c,e,d,b){"object"===typeof e&&(b=e.deepWithDataAndEvent,d=e.withDataAndEvent,e=e.deep);var c=a.get(c),h,i=a._fixCloneAttributes,g;if(!c)return null;g=c.nodeType;h=c.cloneNode(e);if(g==k.ELEMENT_NODE||g==k.DOCUMENT_FRAGMENT_NODE)i&&g==k.ELEMENT_NODE&&i(c,h),e&&i&&q(i,c,h);d&&(t(c,h),e&&b&&q(t,c,h));return h},empty:function(c){var c=a.query(c),e,d;for(d=c.length-1;0<=
d;d--)e=c[d],a.remove(e.childNodes)},_nodeListToFragment:f});a.outerHTML=a.outerHtml;var c=a._creators,i=a.create,h={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},y;for(y in h)(function(a){c[y]=function(c,e){return i("<"+a+">"+c+"</"+a+">",null,e)}})(h[y]);return a},{requires:["./api"]});
KISSY.add("dom/base/data",function(b,a,g){var s=b.Env.host,l="_ks_data_"+b.now(),q={},t={},f={applet:1,object:1,embed:1},j={hasData:function(a,d){if(a)if(d!==g){if(d in a)return!0}else if(!b.isEmptyObject(a))return!0;return!1}},k={hasData:function(a,d){return a==s?k.hasData(t,d):j.hasData(a[l],d)},data:function(a,d,b){if(a==s)return k.data(t,d,b);var f=a[l];if(b!==g)f=a[l]=a[l]||{},f[d]=b;else return d!==g?f&&f[d]:f=a[l]=a[l]||{}},removeData:function(a,d){if(a==s)return k.removeData(t,d);var f=a[l];
if(d!==g)delete f[d],b.isEmptyObject(f)&&k.removeData(a);else try{delete a[l]}catch(j){a[l]=g}}},r={hasData:function(a,d){var b=a[l];return!b?!1:j.hasData(q[b],d)},data:function(a,d,m){if(f[a.nodeName.toLowerCase()])return g;var j=a[l];if(!j){if(d!==g&&m===g)return g;j=a[l]=b.guid()}a=q[j];if(m!==g)a=q[j]=q[j]||{},a[d]=m;else return d!==g?a&&a[d]:a=q[j]=q[j]||{}},removeData:function(a,d){var f=a[l],j;if(f)if(j=q[f],d!==g)delete j[d],b.isEmptyObject(j)&&r.removeData(a);else{delete q[f];try{delete a[l]}catch(n){a[l]=
g}a.removeAttribute&&a.removeAttribute(l)}}};b.mix(a,{__EXPANDO:l,hasData:function(e,d){for(var b=!1,g=a.query(e),f=0;f<g.length&&!(b=g[f],b=b.nodeType?r.hasData(b,d):k.hasData(b,d));f++);return b},data:function(e,d,f){var e=a.query(e),j=e[0];if(b.isPlainObject(d)){for(var n in d)a.data(e,n,d[n]);return g}if(f===g){if(j)return j.nodeType?r.data(j,d):k.data(j,d)}else for(n=e.length-1;0<=n;n--)j=e[n],j.nodeType?r.data(j,d,f):k.data(j,d,f);return g},removeData:function(e,d){var b=a.query(e),g,f;for(f=
b.length-1;0<=f;f--)g=b[f],g.nodeType?r.removeData(g,d):k.removeData(g,d)}});return a},{requires:["./api"]});
KISSY.add("dom/base/insertion",function(b,a){function g(a,d){var b=[],l,n,s;for(l=0;a[l];l++)if(n=a[l],s=f(n),n.nodeType==q.DOCUMENT_FRAGMENT_NODE)b.push.apply(b,g(j(n.childNodes),d));else if("script"===s&&(!n.type||r.test(n.type)))n.parentNode&&n.parentNode.removeChild(n),d&&d.push(n);else{if(n.nodeType==q.ELEMENT_NODE&&!t.test(s)){s=[];var u,z,v=n.getElementsByTagName("script");for(z=0;z<v.length;z++)u=v[z],(!u.type||r.test(u.type))&&s.push(u);k.apply(a,[l+1,0].concat(s))}b.push(n)}return b}function s(a){a.src?
b.getScript(a.src):(a=b.trim(a.text||a.textContent||a.innerHTML||""))&&b.globalEval(a)}function l(e,d,f,j){e=a.query(e);j&&(j=[]);e=g(e,j);a._fixInsertionChecked&&a._fixInsertionChecked(e);var d=a.query(d),k,l,u,z,v=d.length;if((e.length||j&&j.length)&&v){e=a._nodeListToFragment(e);1<v&&(z=a.clone(e,!0),d=b.makeArray(d));for(k=0;k<v;k++)l=d[k],e&&(u=0<k?a.clone(z,!0):e,f(u,l)),j&&j.length&&b.each(j,s)}}var q=a.NodeType,t=/^(?:button|input|object|select|textarea)$/i,f=a.nodeName,j=b.makeArray,k=[].splice,
r=/\/(java|ecma)script/i;b.mix(a,{_fixInsertionChecked:null,insertBefore:function(a,d,b){l(a,d,function(a,d){d.parentNode&&d.parentNode.insertBefore(a,d)},b)},insertAfter:function(a,d,b){l(a,d,function(a,d){d.parentNode&&d.parentNode.insertBefore(a,d.nextSibling)},b)},appendTo:function(a,d,b){l(a,d,function(a,d){d.appendChild(a)},b)},prependTo:function(a,d,b){l(a,d,function(a,d){d.insertBefore(a,d.firstChild)},b)},wrapAll:function(b,d){d=a.clone(a.get(d),!0);b=a.query(b);b[0].parentNode&&a.insertBefore(d,
b[0]);for(var g;(g=d.firstChild)&&1==g.nodeType;)d=g;a.appendTo(b,d)},wrap:function(e,d){e=a.query(e);d=a.get(d);b.each(e,function(b){a.wrapAll(b,d)})},wrapInner:function(e,d){e=a.query(e);d=a.get(d);b.each(e,function(b){var e=b.childNodes;e.length?a.wrapAll(e,d):b.appendChild(d)})},unwrap:function(e){e=a.query(e);b.each(e,function(b){b=b.parentNode;a.replaceWith(b,b.childNodes)})},replaceWith:function(b,d){var g=a.query(b),d=a.query(d);a.remove(d,!0);a.insertBefore(d,g);a.remove(g)}});b.each({prepend:"prependTo",
append:"appendTo",before:"insertBefore",after:"insertAfter"},function(b,d){a[d]=a[b]});return a},{requires:["./api"]});
KISSY.add("dom/base/offset",function(b,a,g){function s(a){var b,e=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};b=a.getBoundingClientRect();a=b[d];b=b[m];a-=k.clientLeft||e.clientLeft||0;b-=k.clientTop||e.clientTop||0;return{left:a,top:b}}function l(b,d){var e={left:0,top:0},g=r(b),c,i=b,d=d||g;do{if(g==d){var h=i;c=s(h);h=r(h);c.left+=a[n](h);c.top+=a[B](h)}else c=s(i);e.left+=c.left;e.top+=c.top}while(g&&g!=d&&(i=g.frameElement)&&(g=g.parent));return e}var q=b.Env.host,t=
b.UA,f=q.document,j=a.NodeType,k=f&&f.documentElement,r=a.getWindow,e=Math.max,d="left",m="top",A=b.isNumber,n="scrollLeft",B="scrollTop";b.mix(a,{offset:function(b,d,e){if(d===g){var b=a.get(b),f;b&&(f=l(b,e));return f}e=a.query(b);for(f=e.length-1;0<=f;f--){var b=e[f],c=d;"static"===a.css(b,"position")&&(b.style.position="relative");var i=l(b),h={},j=void 0,o=void 0;for(o in c)j=parseFloat(a.css(b,o))||0,h[o]=j+c[o]-i[o];a.css(b,h)}return g},scrollIntoView:function(e,f,k,l){var c,i,h,y;if(h=a.get(e)){f&&
(f=a.get(f));f||(f=h.ownerDocument);f.nodeType==j.DOCUMENT_NODE&&(f=r(f));b.isPlainObject(k)&&(l=k.allowHorizontalScroll,y=k.onlyScrollIfNeeded,k=k.alignWithTop);l=l===g?!0:l;i=b.isWindow(f);var e=a.offset(h),o=a.outerHeight(h);c=a.outerWidth(h);var w,n,q,p;i?(i=f,w=a.height(i),n=a.width(i),p={left:a.scrollLeft(i),top:a.scrollTop(i)},i=e[d]-p[d],h=e[m]-p[m],c=e[d]+c-(p[d]+n),e=e[m]+o-(p[m]+w)):(w=a.offset(f),n=f.clientHeight,q=f.clientWidth,p={left:a.scrollLeft(f),top:a.scrollTop(f)},i=e[d]-(w[d]+
(parseFloat(a.css(f,"borderLeftWidth"))||0)),h=e[m]-(w[m]+(parseFloat(a.css(f,"borderTopWidth"))||0)),c=e[d]+c-(w[d]+q+(parseFloat(a.css(f,"borderRightWidth"))||0)),e=e[m]+o-(w[m]+n+(parseFloat(a.css(f,"borderBottomWidth"))||0)));if(y){if(0>h||0<e)!0===k?a.scrollTop(f,p.top+h):!1===k?a.scrollTop(f,p.top+e):0>h?a.scrollTop(f,p.top+h):a.scrollTop(f,p.top+e)}else(k=k===g?!0:!!k)?a.scrollTop(f,p.top+h):a.scrollTop(f,p.top+e);if(l)if(y){if(0>i||0<c)!0===k?a.scrollLeft(f,p.left+i):!1===k?a.scrollLeft(f,
p.left+c):0>i?a.scrollLeft(f,p.left+i):a.scrollLeft(f,p.left+c)}else(k=k===g?!0:!!k)?a.scrollLeft(f,p.left+i):a.scrollLeft(f,p.left+c)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});b.each(["Left","Top"],function(b,e){var d="scroll"+b;a[d]=function(f,c){if(A(f))return arguments.callee(q,f);var f=a.get(f),i,h,k,o;f&&f.nodeType==j.ELEMENT_NODE?c!==g?f[d]=parseFloat(c):i=f[d]:(o=r(f),c!==g?(c=parseFloat(c),h="Left"==b?c:a.scrollLeft(o),k="Top"==b?c:a.scrollTop(o),
o.scrollTo(h,k)):(i=o["page"+(e?"Y":"X")+"Offset"],A(i)||(h=o.document,i=h.documentElement[d],A(i)||(i=h.body[d]))));return i}});b.each(["Width","Height"],function(b){a["doc"+b]=function(d){d=a.get(d);d=a.getDocument(d);return e(d.documentElement["scroll"+b],d.body["scroll"+b],a["viewport"+b](d))};a["viewport"+b]=function(d){var d=a.get(d),e=r(d),d=e["inner"+b];if(t.mobile&&d)return d;var d="client"+b,e=e.document,f=e.body,c=e.documentElement[d];return"CSS1Compat"===e.compatMode&&c||f&&f[d]||c}});
return a},{requires:["./api"]});
KISSY.add("dom/base/style",function(b,a,g){function s(a,c){return c.toUpperCase()}function l(a){return a.replace(z,"ms-").replace(w,s)}function q(a,c,b){var d={},e;for(e in c)d[e]=a[m][e],a[m][e]=c[e];b.call(a);for(e in c)a[m][e]=d[e]}function t(a,b,d){var e,f,i;if(3===a.nodeType||8===a.nodeType||!(e=a[m]))return g;b=l(b);i=h[b];b=y[b]||b;if(d!==g){null===d||d===C?d=C:!isNaN(Number(d))&&!u[b]&&(d+=c);i&&i.set&&(d=i.set(a,d));if(d!==g){try{e[b]=d}catch(j){}d===C&&e.removeAttribute&&e.removeAttribute(b)}e.cssText||
a.removeAttribute("style");return g}if(!i||!("get"in i&&(f=i.get(a,!1))!==g))f=e[b];return f===g?"":f}function f(a){var c,b=arguments;0!==a.offsetWidth?c=j.apply(g,b):q(a,G,function(){c=j.apply(g,b)});return c}function j(c,d,e){if(b.isWindow(c))return d==n?a.viewportWidth(c):a.viewportHeight(c);if(9==c.nodeType)return d==n?a.docWidth(c):a.docHeight(c);var f=d===n?["Left","Right"]:["Top","Bottom"],h=d===n?c.offsetWidth:c.offsetHeight;if(0<h)return"border"!==e&&b.each(f,function(b){e||(h-=parseFloat(a.css(c,
"padding"+b))||0);h="margin"===e?h+(parseFloat(a.css(c,e+b))||0):h-(parseFloat(a.css(c,"border"+b+"Width"))||0)}),h;h=a._getComputedStyle(c,d);if(null==h||0>Number(h))h=c.style[d]||0;h=parseFloat(h)||0;e&&b.each(f,function(b){h+=parseFloat(a.css(c,"padding"+b))||0;"padding"!==e&&(h+=parseFloat(a.css(c,"border"+b+"Width"))||0);"margin"===e&&(h+=parseFloat(a.css(c,e+b))||0)});return h}var k=b.Env.host,r=b.UA,e=a.nodeName,d=k.document,m="style",A=/^margin/,n="width",B="display"+b.now(),u={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},z=/^-ms-/,v=/([A-Z]|^ms)/g,C="",c="px",i=/\d(?!px)[a-z%]+$/i,h={},y={"float":"cssFloat"},o={},w=/-([a-z])/ig;b.mix(a,{_camelCase:l,_CUSTOM_STYLES:h,_cssProps:y,_getComputedStyle:function(c,b){var d="",e,h,f,i,g;h=c.ownerDocument;b=b.replace(v,"-$1").toLowerCase();if(e=h.defaultView.getComputedStyle(c,null))d=e.getPropertyValue(b)||e[b];""===d&&!a.contains(h,c)&&(b=y[b]||b,d=c[m][b]);a._RE_NUM_NO_PX.test(d)&&A.test(b)&&(g=c.style,
h=g.width,f=g.minWidth,i=g.maxWidth,g.minWidth=g.maxWidth=g.width=d,d=e.width,g.width=h,g.minWidth=f,g.maxWidth=i);return d},style:function(c,d,e){var c=a.query(c),h,f=c[0];if(b.isPlainObject(d)){for(h in d)for(f=c.length-1;0<=f;f--)t(c[f],h,d[h]);return g}if(e===g)return h="",f&&(h=t(f,d,e)),h;for(f=c.length-1;0<=f;f--)t(c[f],d,e);return g},css:function(c,d,e){var c=a.query(c),f=c[0],i;if(b.isPlainObject(d)){for(i in d)for(f=c.length-1;0<=f;f--)t(c[f],i,d[i]);return g}d=l(d);i=h[d];if(e===g){e="";
if(f&&(!i||!("get"in i&&(e=i.get(f,!0))!==g)))e=a._getComputedStyle(f,d);return"undefined"==typeof e?"":e}for(f=c.length-1;0<=f;f--)t(c[f],d,e);return g},show:function(c){var c=a.query(c),b,e,f;for(f=c.length-1;0<=f;f--)if(e=c[f],e[m].display=a.data(e,B)||C,"none"===a.css(e,"display")){b=e.tagName.toLowerCase();var h=void 0,i=o[b],g=void 0;o[b]||(h=d.body||d.documentElement,g=d.createElement(b),a.prepend(g,h),i=a.css(g,"display"),h.removeChild(g),o[b]=i);b=i;a.data(e,B,b);e[m].display=b}},hide:function(c){var c=
a.query(c),b,d;for(d=c.length-1;0<=d;d--){b=c[d];var e=b[m],f=e.display;"none"!==f&&(f&&a.data(b,B,f),e.display="none")}},toggle:function(c){var c=a.query(c),b,d;for(d=c.length-1;0<=d;d--)b=c[d],"none"===a.css(b,"display")?a.show(b):a.hide(b)},addStyleSheet:function(c,b,d){"string"==typeof c&&(d=b,b=c,c=k);var c=a.getDocument(c),e;if(d&&(d=d.replace("#",C)))e=a.get("#"+d,c);e||(e=a.create("<style>",{id:d},c),a.get("head",c).appendChild(e),e.styleSheet?e.styleSheet.cssText=b:e.appendChild(c.createTextNode(b)))},
unselectable:function(c){var c=a.query(c),d,f,h=0,g,i;for(f=c.length-1;0<=f;f--)if(d=c[f],i=d[m],i.UserSelect="none",r.gecko)i.MozUserSelect="none";else if(r.webkit)i.WebkitUserSelect="none";else if(r.ie||r.opera){i=d.getElementsByTagName("*");d.setAttribute("unselectable","on");for(g=["iframe","textarea","input","select"];d=i[h++];)b.inArray(e(d),g)||d.setAttribute("unselectable","on")}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});b.each([n,"height"],function(c){a["inner"+
b.ucfirst(c)]=function(b){return(b=a.get(b))&&f(b,c,"padding")};a["outer"+b.ucfirst(c)]=function(b,d){var e=a.get(b);return e&&f(e,c,d?"margin":"border")};a[c]=function(b,d){var e=a.css(b,c,d);e&&(e=parseFloat(e));return e};h[c]={get:function(a,b){var d;b&&(d=f(a,c)+"px");return d}}});var G={position:"absolute",visibility:"hidden",display:"block"};b.each(["left","top"],function(c){h[c]={get:function(b,e){var f,h,g;if(e){g=a.css(b,"position");if("static"===g)return"auto";f=a._getComputedStyle(b,c);
if((h="auto"===f)&&"relative"===g)return"0px";if(h||i.test(f)){g={top:0,left:0};if("fixed"==a.css(b,"position"))h=b.getBoundingClientRect();else{for(f=b.offsetParent||(b.ownerDocument||d).body;f&&!H.test(f.nodeName)&&"static"===a.css(f,"position");)f=f.offsetParent;h=a.offset(b);g=a.offset(f);g.top+=parseFloat(a.css(f,"borderTopWidth"))||0;g.left+=parseFloat(a.css(f,"borderLeftWidth"))||0}h.top-=parseFloat(a.css(b,"marginTop"))||0;h.left-=parseFloat(a.css(b,"marginLeft"))||0;f={top:h.top-g.top,left:h.left-
g.left}[c]+"px"}}return f}}});var H=/^(?:body|html)$/i;return a},{requires:["./api"]});
KISSY.add("dom/base/selector",function(b,a,g){function s(a){var b=this.length,d;for(d=0;d<b&&!1!==a(this[d],d);d++);}function l(a){return function(){var b=document.getElementById(a);return b?[b]:[]}}function q(a){return function(b){return b.getElementsByClassName(a)}}function t(a){return function(b){return b.getElementsByTagName(a)}}function f(c,d){var h,j;h="string"==typeof c;var k=d!==g?f(d):(j=1)&&[e],m=k.length,r=/^\.([\w-]+)$/,u=/^#([\w-]*)$/,p=/^([\w-])+$/,x=/^[\w-]+#([\w-])+$/,v=/^[\w-]+\.[\w-]+$/;
if(c)if(h)if(c=C(c),j&&"body"==c)h=[e.body];else if(j&&r.test(c)&&"getElementsByClassName"in document)h=k[0].getElementsByClassName(RegExp.$1);else if(j&&v.test(c))h=k[0].querySelectorAll(c);else if(j&&x.test(c))h=(j=e.getElementById(c.replace(/^.+#/,"")))?[j]:[];else if(j&&u.test(c))h=(j=e.getElementById(c.substr(1)))?[j]:[];else if(j&&p.test(c)&&"getElementsByTagName"in document)h=k[0].getElementsByTagName(c);else if(!(j=c.match(/(\+|\=|\~|\[|\]|:|>|\||\$|\^|\*|\(|\)|[\w-]+\.[\w-]+|[\w-]+\#[\w-]+)/)?
!1:!0)&&"querySelectorAll"in document&&1===m)h=k[0].querySelectorAll(c);else if("getElementsByTagName"in document&&"getElementsByClassName"in document&&j){m=c.split(/\s+/);j=0;for(h=m.length;j<h;j++)m[j]="#"==m[j].charAt(0)?l(m[j].substr(1)):"."==m[j].charAt(0)?q(m[j].substr(1)):t(m[j].substr(0));j=0;for(r=m.length;j<r;j++){u=m[j];p=[];x=0;for(h=k.length;x<h;x++)for(var v=u(k[x]),D=0,F=v.length;D<F;D++)p[p.length++]=v[D];k=p}h=k?k:[]}else{h=[];for(j=0;j<m;j++)"querySelectorAll"in document?h=h.concat(b.makeArray(k[j].querySelectorAll(c))):
z.apply(h,a._selectInternal(c,k[j]));1<h.length&&1<m&&a.unique(h)}else{if(h=c.nodeType||c.setTimeout?[c]:c.getDOMNodes?c.getDOMNodes():A(c)?c:B(c)?n(c):[c],!j){r=h;p=r.length;h=[];for(j=0;j<p;j++)for(u=0;u<m;u++)if(a._contains(k[u],r[j])){h.push(r[j]);break}}}else h=[];h.each=s;return h}function j(a,b){var d=a&&(a.className||k(a,"class"));return d&&-1<(u+d+u).indexOf(u+b+u)}function k(a,b){var d=a&&a.getAttributeNode(b);return d&&d.specified?d.nodeValue:g}function r(a,b){return"*"==b||a.nodeName.toLowerCase()===
b.toLowerCase()}var e=b.Env.host.document,d=e.documentElement,m=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector,A=b.isArray,n=b.makeArray,B=a.isDomNodeList,u=" ",z=Array.prototype.push,v=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,C=b.trim;b.mix(a,{_compareNodeOrder:function(a,b){return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1},_getSimpleAttr:k,_isTag:r,_hasSingleClass:j,
_matchesInternal:function(a,b){for(var d=[],e=0,f,g=b.length;e<g;e++)f=b[e],m.call(f,a)&&d.push(f);return d},_selectInternal:function(a,b){return n(b.querySelectorAll(a))},query:f,get:function(a,b){return f(a,b)[0]||null},unique:function(){function b(c,e){return c==e?(d=!0,0):a._compareNodeOrder(c,e)}var d,e=!0;[0,0].sort(function(){e=!1;return 0});return function(a){d=e;a.sort(b);if(d)for(var f=1,g=a.length;f<g;)a[f]===a[f-1]?(a.splice(f,1),--g):f++;return a}}(),filter:function(c,d,e){var c=f(c,
e),g,m,l,n,e=[];if("string"==typeof d&&(d=C(d))&&(l=v.exec(d)))g=l[1],m=l[2],n=l[3],g?g&&!m&&!n&&(d=function(a){return k(a,"id")==g}):d=function(a){var b=!0,c=!0;m&&(b=r(a,m));n&&(c=j(a,n));return c&&b};return e=b.isFunction(d)?b.filter(c,d):a._matchesInternal(d,c)},test:function(b,d,e){b=f(b,e);return b.length&&a.filter(b,d,e).length===b.length}});return a},{requires:["./api"]});
KISSY.add("dom/base/traversal",function(b,a,g){function s(f,j,k,r,e,d,m){if(!(f=a.get(f)))return null;if(0===j)return f;d||(f=f[k]);if(!f)return null;e=e&&a.get(e)||null;j===g&&(j=1);var d=[],q=b.isArray(j),n,s;b.isNumber(j)&&(n=0,s=j,j=function(){return++n===s});for(;f&&f!=e;){if((f.nodeType==t.ELEMENT_NODE||f.nodeType==t.TEXT_NODE&&m)&&l(f,j)&&(!r||r(f)))if(d.push(f),!q)break;f=f[k]}return q?d:d[0]||null}function l(f,g){if(!g)return!0;if(b.isArray(g)){var k,l=g.length;if(!l)return!0;for(k=0;k<l;k++)if(a.test(f,
g[k]))return!0}else if(a.test(f,g))return!0;return!1}function q(f,g,k,l){var e=[],d,m;if((d=f=a.get(f))&&k)d=f.parentNode;if(d){k=b.makeArray(d.childNodes);for(d=0;d<k.length;d++)m=k[d],(l||m.nodeType==t.ELEMENT_NODE)&&m!=f&&e.push(m);g&&(e=a.filter(e,g))}return e}var t=a.NodeType;b.mix(a,{_contains:function(a,b){return!!(a.compareDocumentPosition(b)&16)},closest:function(a,b,g,l){return s(a,b,"parentNode",function(a){return a.nodeType!=t.DOCUMENT_FRAGMENT_NODE},g,!0,l)},parent:function(a,b,k){return s(a,
b,"parentNode",function(a){return a.nodeType!=t.DOCUMENT_FRAGMENT_NODE},k,g)},first:function(b,j,k){b=a.get(b);return s(b&&b.firstChild,j,"nextSibling",g,g,!0,k)},last:function(b,j,k){b=a.get(b);return s(b&&b.lastChild,j,"previousSibling",g,g,!0,k)},next:function(a,b,k){return s(a,b,"nextSibling",g,g,g,k)},prev:function(a,b,k){return s(a,b,"previousSibling",g,g,g,k)},siblings:function(a,b,g){return q(a,b,!0,g)},children:function(a,b){return q(a,b,g)},contents:function(a,b){return q(a,b,g,1)},contains:function(b,
g){b=a.get(b);g=a.get(g);return b&&g?a._contains(b,g):!1},index:function(f,g){var k=a.query(f),l,e=0;l=k[0];if(!g){k=l&&l.parentNode;if(!k)return-1;for(;l=l.previousSibling;)l.nodeType==t.ELEMENT_NODE&&e++;return e}e=a.query(g);return"string"===typeof g?b.indexOf(l,e):b.indexOf(e[0],k)},equals:function(b,g){b=a.query(b);g=a.query(g);if(b.length!=g.length)return!1;for(var k=b.length;0<=k;k--)if(b[k]!=g[k])return!1;return!0}});return a},{requires:["./api"]});
KISSY.add("dom/base",function(b,a){b.mix(b,{DOM:a,get:a.get,query:a.query});return a},{requires:"./base/api,./base/attr,./base/class,./base/create,./base/data,./base/insertion,./base/offset,./base/style,./base/selector,./base/traversal".split(",")});KISSY.use("dom/base",{sync:!0});
