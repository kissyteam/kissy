/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("dom/attr",function(l,a,v,s){function B(d,c){c=t[c]||c;var m=b[c];if(!d)return s;return m&&m.get?m.get(d,c):d[c]}v=document.documentElement;var A=!v.hasAttribute,x=v.textContent!==s?"textContent":"innerText",j=a._isElementNode,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,r=/^(?:button|input|object|select|textarea)$/i,w=/^a(?:rea)?$/i,h=/:|^on/,q=/\r/g,p={},g={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1},k={tabindex:{get:function(d){var c=d.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):r.test(d.nodeName)||w.test(d.nodeName)&&d.href?0:null}},style:{get:function(d){return d.style.cssText},set:function(d,c){d.style.cssText=c}}},t={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
o={get:function(d,c){return a.prop(d,c)?c.toLowerCase():null},set:function(d,c,m){if(c===false)a.removeAttr(d,m);else{c=t[m]||m;if(c in d)d[c]=true;d.setAttribute(m,m.toLowerCase())}return m}},b={},e={},n={option:{get:function(d){var c=d.attributes.value;return!c||c.specified?d.value:d.text}},select:{get:function(d){var c=d.selectedIndex,m=d.options;d=d.type==="select-one";if(c<0)return null;else if(d)return a.val(m[c]);c=[];d=0;for(var i=m.length;d<i;++d)m[d].selected&&c.push(a.val(m[d]));return c},
set:function(d,c){var m=l.makeArray(c);l.each(d.options,function(i){i.selected=l.inArray(a.val(i),m)});if(!m.length)d.selectedIndex=-1;return m}}};if(A){e={get:function(d,c){var m;return(m=d.getAttributeNode(c))&&m.nodeValue!==""?m.nodeValue:null},set:function(d,c,m){if(d=d.getAttributeNode(m))d.nodeValue=c}};p=t;k.tabIndex=k.tabindex;l.each(["href","src","width","height","colSpan","rowSpan"],function(d){k[d]={get:function(c){c=c.getAttribute(d,2);return c===s?null:c}}});n.button=k.value=e}l.each(["radio",
"checkbox"],function(d){n[d]={get:function(c){return c.getAttribute("value")===null?"on":c.value},set:function(c,m){if(l.isArray(m))return c.checked=l.inArray(a.val(c),m)}}});l.mix(a,{prop:function(d,c,m){if(l.isPlainObject(c))for(var i in c)a.prop(d,i,c[i]);else{d=a.query(d);c=t[c]||c;var u=b[c];if(m!==s)l.each(d,function(y){if(u&&u.set)u.set(y,m,c);else y[c]=m});else{d=d[0];if(!d)return null;d=B(d,c);return d===s?null:d}}},hasProp:function(d,c){var m=a.get(d);return B(m,c)!==s},removeProp:function(d,
c){c=t[c]||c;a.query(d).each(function(m){try{m[c]=s;delete m[c]}catch(i){}})},attr:function(d,c,m,i){if(l.isPlainObject(c)){i=m;for(var u in c)a.attr(d,u,c[u],i)}else if(c=l.trim(c)){c=c.toLowerCase();if(i&&g[c])return a[c](d,m);c=p[c]||c;var y;y=f.test(c)?o:h.test(c)?e:k[c];if(m===s){d=a.get(d);if(!j(d))return null;if(d.nodeName.toLowerCase()=="form")y=e;if(y&&y.get)return y.get(d,c);d=d.getAttribute(c);return d===s?null:d}else l.each(a.query(d),function(z){if(j(z))y&&y.set?y.set(z,m,c):z.setAttribute(c,
""+m)})}},removeAttr:function(d,c){c=c.toLowerCase();c=p[c]||c;l.each(a.query(d),function(m){if(j(m)){var i;m.removeAttribute(c);if(f.test(c)&&(i=t[c]||c)in m)m[i]=false}})},hasAttr:A?function(d,c){c=c.toLowerCase();var m=a.get(d).getAttributeNode(c);return!!(m&&m.specified)}:function(d,c){c=c.toLowerCase();return a.get(d).hasAttribute(c)},val:function(d,c){var m,i;if(c===s){var u=a.get(d);if(u){if((m=n[u.nodeName.toLowerCase()]||n[u.type])&&"get"in m&&(i=m.get(u,"value"))!==s)return i;i=u.value;
return typeof i==="string"?i.replace(q,""):i==null?"":i}return null}a.query(d).each(function(y){if(y.nodeType===1){var z=c;if(z==null)z="";else if(typeof z==="number")z+="";else if(l.isArray(z))z=l.map(z,function(C){return C==null?"":C+""});m=n[y.nodeName.toLowerCase()]||n[y.type];if(!m||!("set"in m)||m.set(y,z,"value")===s)y.value=z}})},text:function(d,c){if(c===s){var m=a.get(d);if(j(m))return m[x]||"";else if(a._nodeTypeIs(m,3))return m.nodeValue;return null}else l.each(a.query(d),function(i){if(j(i))i[x]=
c;else if(a._nodeTypeIs(i,3))i.nodeValue=c})}});return a},{requires:["dom/base","ua"]});KISSY.add("dom/base",function(l,a){function v(s,B){return s&&s.nodeType===B}return{_isElementNode:function(s){return v(s,1)},_getWin:function(s){return s&&"scrollTo"in s&&s.document?s:v(s,9)?s.defaultView||s.parentWindow:s==a?window:false},_nodeTypeIs:v,_isNodeList:function(s){return s&&!s.nodeType&&s.item&&!s.setTimeout}}});
KISSY.add("dom/class",function(l,a,v){function s(x,j,f,r){if(!(j=l.trim(j)))return r?false:v;x=a.query(x);var w=0,h=x.length,q=j.split(B);for(j=[];w<q.length;w++){var p=l.trim(q[w]);p&&j.push(p)}for(w=0;w<h;w++){q=x[w];if(a._isElementNode(q)){q=f(q,j,j.length);if(q!==v)return q}}if(r)return false;return v}var B=/[\.\s]\s*\.?/,A=/[\n\t]/g;l.mix(a,{hasClass:function(x,j){return s(x,j,function(f,r,w){if(f=f.className){f=(" "+f+" ").replace(A," ");for(var h=0,q=true;h<w;h++)if(f.indexOf(" "+r[h]+" ")<
0){q=false;break}if(q)return true}},true)},addClass:function(x,j){s(x,j,function(f,r,w){var h=f.className;if(h){var q=(" "+h+" ").replace(A," ");h=h;for(var p=0;p<w;p++)if(q.indexOf(" "+r[p]+" ")<0)h+=" "+r[p];f.className=l.trim(h)}else f.className=j},v)},removeClass:function(x,j){s(x,j,function(f,r,w){var h=f.className;if(h)if(w){h=(" "+h+" ").replace(A," ");for(var q=0,p;q<w;q++)for(p=" "+r[q]+" ";h.indexOf(p)>=0;)h=h.replace(p," ");f.className=l.trim(h)}else f.className=""},v)},replaceClass:function(x,
j,f){a.removeClass(x,j);a.addClass(x,f)},toggleClass:function(x,j,f){var r=l.isBoolean(f),w;s(x,j,function(h,q,p){for(var g=0,k;g<p;g++){k=q[g];w=r?!f:a.hasClass(h,k);a[w?"removeClass":"addClass"](h,k)}},v)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(l,a,v,s){function B(i,u){if(l.isPlainObject(u))if(h(i))a.attr(i,u,true);else i.nodeType==11&&l.each(i.childNodes,function(y){a.attr(y,u,true)});return i}function A(i,u){var y=null,z,C;if(i&&(i.push||i.item)&&i[0]){u=u||i[0].ownerDocument;y=u.createDocumentFragment();if(i.item)i=l.makeArray(i);z=0;for(C=i.length;z<C;z++)y.appendChild(i[z])}return y}function x(i,u,y,z){if(y){var C=l.guid("ks-tmp-"),F=RegExp(k);u+='<span id="'+C+'"></span>';l.available(C,function(){var E=
a.get("head"),D,I,G,H,K,J;for(F.lastIndex=0;D=F.exec(u);)if((G=(I=D[1])?I.match(o):false)&&G[2]){D=f.createElement("script");D.src=G[2];if((H=I.match(b))&&H[2])D.charset=H[2];D.async=true;E.appendChild(D)}else if((J=D[2])&&J.length>0)l.globalEval(J);(K=f.getElementById(C))&&a.remove(K);l.isFunction(z)&&z()});j(i,u)}else{j(i,u);l.isFunction(z)&&z()}}function j(i,u){u=(u+"").replace(k,"");try{i.innerHTML=u}catch(y){for(;i.firstChild;)i.removeChild(i.firstChild);u&&i.appendChild(a.create(u))}}var f=
document,r=v.ie,w=a._nodeTypeIs,h=a._isElementNode,q=f.createElement("div"),p=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,g=/<(\w+)/,k=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,t=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,o=/\ssrc=(['"])(.*?)\1/i,b=/\scharset=(['"])(.*?)\1/i;l.mix(a,{create:function(i,u,y){if(w(i,1)||w(i,3)){u=i;y=u.cloneNode(true);if(v.ie<8)y.innerHTML=u.innerHTML;return y}if(!(i=l.trim(i)))return null;var z=null;z=a._creators;var C,F="div",E;
if(C=t.exec(i))z=(y||f).createElement(C[1]);else{i=i.replace(p,"<$1></$2>");if((C=g.exec(i))&&(E=C[1])&&l.isFunction(z[E=E.toLowerCase()]))F=E;i=z[F](i,y).childNodes;z=i.length===1?i[0].parentNode.removeChild(i[0]):A(i,y||f)}return B(z,u)},_creators:{div:function(i,u){var y=u?u.createElement("div"):q;y.innerHTML="w<div>"+i+"</div>";return y.lastChild}},html:function(i,u,y,z){if(u===s){i=a.get(i);if(h(i))return i.innerHTML;return null}else l.each(a.query(i),function(C){h(C)&&x(C,u,y,z)})},remove:function(i){l.each(a.query(i),
function(u){u.parentNode&&u.parentNode.removeChild(u)})},_nl2frag:A});if(r||v.gecko||v.webkit){var e=a._creators,n=a.create,d=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,c={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},m;for(m in c)(function(i){e[m]=function(u,y){return n("<"+i+">"+u+"</"+i+">",null,y)}})(c[m]);if(r){e.script=function(i,u){var y=u?u.createElement("div"):q;y.innerHTML="-"+i;y.removeChild(y.firstChild);return y};if(r<8)e.tbody=function(i,
u){var y=n("<table>"+i+"</table>",null,u),z=y.children.tags("tbody")[0];y.children.length>1&&z&&!d.test(i)&&z.parentNode.removeChild(z);return y}}l.mix(e,{optgroup:e.option,th:e.td,thead:e.tbody,tfoot:e.tbody,caption:e.tbody,colgroup:e.tbody})}return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(l,a,v){var s=window,B="_ks_data_"+l.now(),A={},x={},j={};j.applet=1;j.object=1;j.embed=1;var f={hasData:function(h,q){if(h)if(q!==v){if(q in h)return true}else if(!l.isEmptyObject(h))return true;return false}},r={hasData:function(h,q){if(h==s)return r.hasData(x,q);return f.hasData(h[B],q)},data:function(h,q,p){if(h==s)return r.data(x,q,p);h=h[B]=h[B]||{};if(p!==v)h[q]=p;else return q!==v?h[q]===v?null:h[q]:h},removeData:function(h,q){if(h==s)return r.removeData(x,q);
var p=h[B];if(p)if(q!==v){delete p[q];l.isEmptyObject(p)&&r.removeData(h,v)}else delete h[B]}},w={hasData:function(h,q){var p=h[B];if(!p)return false;return f.hasData(A[p],q)},data:function(h,q,p){if(!j[h.nodeName.toLowerCase()]){var g=h[B];g||(g=h[B]=l.guid());h=A[g]=A[g]||{};if(p!==v)h[q]=p;else return q!==v?h[q]===v?null:h[q]:h}},removeData:function(h,q){var p=h[B];if(p){var g=A[p];if(g)if(q!==v){delete g[q];l.isEmptyObject(g)&&w.removeData(h,v)}else{delete A[p];try{delete h[B]}catch(k){}h.removeAttribute&&
h.removeAttribute(B)}}}};l.mix(a,{hasData:function(h,q){var p=false;a.query(h).each(function(g){p=g&&g.nodeType?p||w.hasData(g,q):p||r.hasData(g,q)});return p},data:function(h,q,p){if(l.isPlainObject(q))for(var g in q)a.data(h,g,q[g]);else if(p===v)return(h=a.get(h))&&h.nodeType?w.data(h,q,p):r.data(h,q,p);else a.query(h).each(function(k){k&&k.nodeType?w.data(k,q,p):r.data(k,q,p)})},removeData:function(h,q){a.query(h).each(function(p){p&&p.nodeType?w.removeData(p,q):r.removeData(p,q)})}});return a},
{requires:["./base"]});
KISSY.add("dom/insertion",function(l,a){function v(x,j,f){x=a.query(x);j=a.query(j);if(x=s(x)){var r;if(j.length>1)r=x.cloneNode(true);for(var w=0;w<j.length;w++){var h=j[w],q=w>0?r.cloneNode(true):x;f(q,h)}}}var s=a._nl2frag;l.mix(a,{insertBefore:function(x,j){v(x,j,function(f,r){r.parentNode&&r.parentNode.insertBefore(f,r)})},insertAfter:function(x,j){v(x,j,function(f,r){r.parentNode&&r.parentNode.insertBefore(f,r.nextSibling)})},appendTo:function(x,j){v(x,j,function(f,r){r.appendChild(f)})},prependTo:function(x,
j){v(x,j,function(f,r){r.insertBefore(f,r.firstChild)})}});var B={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},A;for(A in B)a[A]=a[B[A]];return a},{requires:["./create"]});
KISSY.add("dom/offset",function(l,a,v,s){function B(b){var e=0,n=0,d=f(b[q]);if(b[o]){b=b[o]();e=b[p];n=b[g];if(v.mobile!=="apple"){e+=a[k](d);n+=a[t](d)}}return{left:e,top:n}}var A=window,x=a._isElementNode,j=a._nodeTypeIs,f=a._getWin,r=document.compatMode==="CSS1Compat",w=Math.max,h=parseInt,q="ownerDocument",p="left",g="top",k="scrollLeft",t="scrollTop",o="getBoundingClientRect";l.mix(a,{offset:function(b,e){if(!(b=a.get(b))||!b[q])return null;if(e===s)return B(b);var n=b;if(a.css(n,"position")===
"static")n.style.position="relative";var d=B(n),c={},m,i;for(i in e){m=h(a.css(n,i),10)||0;c[i]=m+e[i]-d[i]}a.css(n,c)},scrollIntoView:function(b,e,n,d){if((b=a.get(b))&&b[q]){d=d===s?true:!!d;n=n===s?true:!!n;if(!e||(e=a.get(e))===A)b.scrollIntoView(n);else{if(j(e,9))e=f(e);var c=!!f(e),m=a.offset(b),i=c?{left:a.scrollLeft(e),top:a.scrollTop(e)}:a.offset(e),u={left:m[p]-i[p],top:m[g]-i[g]};m=c?a.viewportHeight(e):e.clientHeight;c=c?a.viewportWidth(e):e.clientWidth;i=a[k](e);var y=a[t](e),z=i+c,C=
y+m,F=b.offsetHeight;b=b.offsetWidth;var E=u.left+i-(h(a.css(e,"borderLeftWidth"))||0);u=u.top+y-(h(a.css(e,"borderTopWidth"))||0);var D=E+b,I=u+F,G,H;if(F>m||u<y||n)G=u;else if(I>C)G=I-m;if(d)if(b>c||E<i||n)H=E;else if(D>z)H=D-c;a[t](e,G);a[k](e,H)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});l.each(["Left","Top"],function(b,e){var n="scroll"+b;a[n]=function(d,c){if(l.isNumber(d))arguments.callee(A,d);else{d=a.get(d);var m=0,i=f(d);if(i){if(c!==s){m=b=="Left"?c:a.scrollLeft(i);var u=
b=="Top"?c:a.scrollTop(i);i.scrollTo(m,u)}m=i.document;m=i[e?"pageYOffset":"pageXOffset"]||m.documentElement[n]||m.body[n]}else if(x(d=a.get(d)))m=c!==s?d[n]=c:d[n];return c===s?m:s}}});l.each(["Width","Height"],function(b){a["doc"+b]=function(e){e=a.get(e);e=f(e).document;return w(r?e.documentElement["scroll"+b]:e.body["scroll"+b],a["viewport"+b](e))};a["viewport"+b]=function(e){e=a.get(e);var n="inner"+b;e=f(e);var d=e.document;return n in e?e[n]:r?d.documentElement["client"+b]:d.body["client"+
b]}});return a},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(l,a,v){function s(g,k){var t,o,b=[],e;o=l.require("sizzle");k=B(k);if(l.isString(g))if(g.indexOf(",")!=-1){t=g.split(",");l.each(t,function(n){b.push.apply(b,l.makeArray(s(n,k)))})}else{g=l.trim(g);if(h.test(g)){if(o=A(g.slice(1),k))b=[o]}else if(t=q.exec(String(g))){o=t[1];e=t[2];t=t[3];if(k=o?A(o,k):k)if(t)if(!o||g.indexOf(w)!==-1)b=l.makeArray(p(t,e,k));else{if((o=A(o,k))&&a.hasClass(o,t))b=[o]}else if(e)b=x(e,k)}else if(o)b=o(g,k);else j(g)}else if(g&&(l.isArray(g)||
r(g)))b=g;else if(g)b=[g];if(r(b))b=l.makeArray(b);b.each=function(n,d){return l.each(b,n,d)};return b}function B(g){if(g===v)g=f;else if(l.isString(g)&&h.test(g))g=A(g.slice(1),f);else if(l.isArray(g)||r(g))g=g[0]||null;else if(g&&g.nodeType!==1&&g.nodeType!==9)g=null;return g}function A(g,k){if(!k)return null;if(k.nodeType!==9)k=k.ownerDocument;return k.getElementById(g)}function x(g,k){return k.getElementsByTagName(g)}function j(g){l.error("Unsupported selector: "+g)}var f=document,r=a._isNodeList,
w=" ",h=/^#[\w-]+$/,q=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var g=f.createElement("div");g.appendChild(f.createComment(""));if(g.getElementsByTagName("*").length>0)x=function(k,t){var o=l.makeArray(t.getElementsByTagName(k));if(k==="*"){for(var b=[],e=0,n=0,d;d=o[e++];)if(d.nodeType===1)b[n++]=d;o=b}return o}})();var p=f.getElementsByClassName?function(g,k,t){t=g=l.makeArray(t.getElementsByClassName(g));var o=0,b=0,e=g.length,n;if(k&&k!=="*"){t=[];for(k=k.toUpperCase();o<e;++o){n=
g[o];if(n.tagName===k)t[b++]=n}}return t}:f.querySelectorAll?function(g,k,t){return t.querySelectorAll((k?k:"")+"."+g)}:function(g,k,t){k=t.getElementsByTagName(k||"*");t=[];var o=0,b=0,e=k.length,n,d;for(g=w+g+w;o<e;++o){n=k[o];if((d=n.className)&&(w+d+w).indexOf(g)>-1)t[b++]=n}return t};l.mix(a,{query:s,get:function(g,k){return s(g,k)[0]||null},filter:function(g,k,t){var o=s(g,t),b=l.require("sizzle"),e,n,d,c=[];if(l.isString(k)&&(e=q.exec(k))&&!e[1]){n=e[2];d=e[3];k=function(m){return!(n&&m.tagName.toLowerCase()!==
n.toLowerCase()||d&&!a.hasClass(m,d))}}if(l.isFunction(k))c=l.filter(o,k);else if(k&&b)c=b._filter(g,k,t);else j(k);return c},test:function(g,k,t){g=s(g,t);return g.length&&a.filter(g,k,t).length===g.length}});return a},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(l,a,v,s,B){if(!v.ie)return a;s=document;var A=s.documentElement,x=a._CUSTOM_STYLES,j=/^-?\d+(?:px)?$/i,f=/^-?\d/,r=/^(?:width|height)$/;try{if(A.style.opacity==B&&A.filters)x.opacity={get:function(p){var g=100;try{g=p.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(k){try{g=p.filters("alpha").opacity}catch(t){if(p=((p.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))g=parseInt(l.trim(p[1]))}}return g/100+""},set:function(p,g){var k=p.style,
t=(p.currentStyle||0).filter||"";k.zoom=1;if(t)t=l.trim(t.replace(/alpha\(opacity[=:][^)]+\),?/ig,""));if(t&&g!=1)t+=", ";k.filter=t+(g!=1?"alpha(opacity="+g*100+")":"")}}}catch(w){}v=v.ie==8;var h={},q={get:function(p,g){var k=p.currentStyle[g]+"";if(k.indexOf("px")<0)k=h[k]?h[k]:0;return k}};h.thin=v?"1px":"2px";h.medium=v?"3px":"4px";h.thick=v?"5px":"6px";l.each(["","Top","Left","Right","Bottom"],function(p){x["border"+p+"Width"]=q});if(!(s.defaultView||{}).getComputedStyle&&A.currentStyle)a._getComputedStyle=
function(p,g){var k=p.style,t=p.currentStyle[g];if(r.test(g))t=a[g](p)+"px";else if(!j.test(t)&&f.test(t)){var o=k.left,b=p.runtimeStyle.left;p.runtimeStyle.left=p.currentStyle.left;k.left=g==="fontSize"?"1em":t||0;t=k.pixelLeft+"px";k.left=o;p.runtimeStyle.left=b}return t};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(l,a,v,s){function B(o,b){var e=a.get(o);if(l.isWindow(e))return b==f?a.viewportWidth(e):a.viewportHeight(e);else if(e.nodeType==9)return b==f?a.docWidth(e):a.docHeight(e);var n=b===f?e.offsetWidth:e.offsetHeight;l.each(b===f?["Left","Right"]:["Top","Bottom"],function(d){n-=parseFloat(a._getComputedStyle(e,"padding"+d))||0;n-=parseFloat(a._getComputedStyle(e,"border"+d+"Width"))||0});return n}function A(o,b,e){var n=e;if(e===r&&h.test(b)){n=0;if(l.inArray(a.css(o,"position"),
["absolute","fixed"])){e=o[b==="left"?"offsetLeft":"offsetTop"];if(v.ie===8||v.opera)e-=w(a.css(o.offsetParent,"border-"+b+"-width"))||0;n=e-(w(a.css(o,"margin-"+b))||0)}}return n}var x=document,j=x.documentElement,f="width",r="auto",w=parseInt,h=/^(?:left|top)/,q=/^(?:width|height|top|left|right|bottom|margin|padding)/i,p=/-([a-z])/ig,g=function(o,b){return b.toUpperCase()},k={},t={};l.mix(a,{_CUSTOM_STYLES:k,_getComputedStyle:function(o,b){var e="",n=o.ownerDocument;if(o.style)e=n.defaultView.getComputedStyle(o,
null)[b];return e},css:function(o,b,e){if(l.isPlainObject(b))for(var n in b)a.css(o,n,b[n]);else{if(b.indexOf("-")>0)b=b.replace(p,g);n=b;b=k[b]||b;if(e===s){o=a.get(o);var d="";if(o&&o.style){d=b.get?b.get(o,n):o.style[b];if(d===""&&!b.get)d=A(o,b,a._getComputedStyle(o,b))}return d===s?"":d}else{if(e===null||e==="")e="";else if(!isNaN(new Number(e))&&q.test(b))e+="px";(b===f||b==="height")&&parseFloat(e)<0||l.each(a.query(o),function(c){if(c&&c.style){b.set?b.set(c,e):c.style[b]=e;if(e==="")c.style.cssText||
c.removeAttribute("style")}})}}},width:function(o,b){if(b===s)return B(o,f);else a.css(o,f,b)},height:function(o,b){if(b===s)return B(o,"height");else a.css(o,"height",b)},show:function(o){a.query(o).each(function(b){if(b){b.style.display=a.data(b,"display")||"";if(a.css(b,"display")==="none"){var e=b.tagName,n=t[e],d;if(!n){d=x.createElement(e);x.body.appendChild(d);n=a.css(d,"display");a.remove(d);t[e]=n}a.data(b,"display",n);b.style.display=n}}})},hide:function(o){a.query(o).each(function(b){if(b){var e=
b.style,n=e.display;if(n!=="none"){n&&a.data(b,"display",n);e.display="none"}}})},toggle:function(o){a.query(o).each(function(b){if(b)a.css(b,"display")==="none"?a.show(b):a.hide(b)})},addStyleSheet:function(o,b,e){if(l.isString(o)){e=b;b=o;o=window}o=a.get(o);o=a._getWin(o).document;var n;if(e&&(e=e.replace("#","")))n=a.get("#"+e,o);if(!n){n=a.create("<style>",{id:e},o);a.get("head",o).appendChild(n);if(n.styleSheet)n.styleSheet.cssText=b;else n.appendChild(o.createTextNode(b))}},unselectable:function(o){a.query(o).each(function(b){if(b)if(v.gecko)b.style.MozUserSelect=
"none";else if(v.webkit)b.style.KhtmlUserSelect="none";else if(v.ie||v.opera){var e=0,n=b.getElementsByTagName("*");for(b.setAttribute("unselectable","on");b=n[e++];)switch(b.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:b.setAttribute("unselectable","on")}}})}});if(j.style.cssFloat!==s)k["float"]="cssFloat";else if(j.style.styleFloat!==s)k["float"]="styleFloat";return a},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(l,a,v){function s(j,f,r,w,h,q){if(!(j=a.get(j)))return null;if(f===0)return j;q||(j=j[r]);if(!j)return null;h=h&&a.get(h)||null;if(f===v)f=1;q=[];var p=l.isArray(f),g,k;if(l.isNumber(f)){g=0;k=f;f=function(){return++g===k}}do if(x(j)&&B(j,f)&&(!w||w(j))){q.push(j);if(!p)break}while(j!=h&&(j=j[r]));return q[0]||null}function B(j,f){if(!f)return true;if(l.isArray(f))for(var r=0;r<f.length;r++){if(a.test(j,f[r]))return true}else if(a.test(j,f))return true;return false}
function A(j,f,r){var w=[];var h=j=a.get(j);if(j&&r)h=j.parentNode;if(h){r=0;for(h=h.firstChild;h;h=h.nextSibling)if(x(h)&&h!==j&&(!f||a.test(h,f)))w[r++]=h}return w}var x=a._isElementNode;l.mix(a,{closest:function(j,f,r){return s(j,f,"parentNode",function(w){return w.nodeType!=11},r,true)},parent:function(j,f,r){return s(j,f,"parentNode",function(w){return w.nodeType!=11},r)},next:function(j,f){return s(j,f,"nextSibling",v)},prev:function(j,f){return s(j,f,"previousSibling",v)},siblings:function(j,
f){return A(j,f,true)},children:function(j,f){return A(j,f,v)},contains:function(j,f){var r=false;if((j=a.get(j))&&(f=a.get(f)))if(j.contains){if(f.nodeType===3){f=f.parentNode;if(f===j)return true}if(f)return j.contains(f)}else if(j.compareDocumentPosition)return!!(j.compareDocumentPosition(f)&16);else for(;!r&&(f=f.parentNode);)r=f==j;return r},equals:function(j,f){j=a.query(j);f=a.query(f);if(j.length!=f.length)return false;for(var r=j.length;r>=0;r--)if(j[r]!=f[r])return false;return true}});
return a},{requires:["./base"]});KISSY.add("dom",function(l,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
