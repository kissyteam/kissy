/*
Copyright 2013, KISSY v1.40dev
MIT Licensed
build time: Sep 16 18:00
*/
KISSY.add("dom/ie/attr",function(h,c){function k(d){var f="",b=d.nodeType;if(b===c.NodeType.ELEMENT_NODE)for(d=d.firstChild;d;d=d.nextSibling)f+=k(d);else if(b==e.TEXT_NODE||b==e.CDATA_SECTION_NODE)f+=d.nodeValue;return f}var g=c._attrHooks,j=c._attrNodeHook,e=c.NodeType,a=c._valHooks,b=c._propFix;8>h.UA.ie&&(g.style.set=function(d,b){d.style.cssText=b},h.mix(j,{get:function(d,b){var a=d.getAttributeNode(b);return a&&(a.specified||a.nodeValue)?a.nodeValue:void 0},set:function(d,b,a){var m=d.getAttributeNode(a),
e;if(m)m.nodeValue=b;else try{e=d.ownerDocument.createAttribute(a),e.value=b,d.setAttributeNode(e)}catch(c){return d.setAttribute(a,b,0)}}}),h.mix(c._attrFix,b),g.tabIndex=g.tabindex,h.each("href,src,width,height,colSpan,rowSpan".split(","),function(d){g[d]={get:function(b){b=b.getAttribute(d,2);return b===null?void 0:b}}}),a.button=g.value=j,g.placeholder={get:function(d,b){return d[b]||j.get(d,b)}},a.option={get:function(b){var a=b.attributes.value;return!a||a.specified?b.value:b.text}});(g.href=
g.href||{}).set=function(b,a,o){for(var m=b.childNodes,p,c=m.length,g=c>0,c=c-1;c>=0;c--)m[c].nodeType!=e.TEXT_NODE&&(g=0);if(g){p=b.ownerDocument.createElement("b");p.style.display="none";b.appendChild(p)}b.setAttribute(o,""+a);p&&b.removeChild(p)};c._getText=k;return c},{requires:["dom/base"]});
KISSY.add("dom/ie/create",function(h,c){c._fixCloneAttributes=function(e,a){a.clearAttributes&&a.clearAttributes();a.mergeAttributes&&a.mergeAttributes(e);var b=a.nodeName.toLowerCase(),d=e.childNodes;if("object"===b&&!a.childNodes.length)for(b=0;b<d.length;b++)a.appendChild(d[b].cloneNode(!0));else if("input"===b&&("checkbox"===e.type||"radio"===e.type)){if(e.checked&&(a.defaultChecked=a.checked=e.checked),a.value!==e.value)a.value=e.value}else if("option"===b)a.selected=e.defaultSelected;else if("input"===
b||"textarea"===b)a.defaultValue=e.defaultValue,a.value=e.value;a.removeAttribute(c.__EXPANDO)};var k=c._creators,g=c._defaultCreator,j=/<tbody/i;8>h.UA.ie&&(k.table=function(e,a){var b=g(e,a);if(j.test(e))return b;var d=b.firstChild,f=h.makeArray(d.childNodes);h.each(f,function(b){"tbody"==c.nodeName(b)&&!b.childNodes.length&&d.removeChild(b)});return b})},{requires:["dom/base"]});
KISSY.add("dom/ie/insertion",function(h,c){8>h.UA.ie&&(c._fixInsertionChecked=function g(h){for(var e=0;e<h.length;e++){var a=h[e];if(a.nodeType==c.NodeType.DOCUMENT_FRAGMENT_NODE)g(a.childNodes);else if("input"==c.nodeName(a)){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}else if(a.nodeType==c.NodeType.ELEMENT_NODE)for(var a=a.getElementsByTagName("input"),b=0;b<a.length;b++)g(a[b])}})},{requires:["dom/base"]});
KISSY.add("dom/ie/style",function(h,c){var k=c._cssProps,g=h.UA,j=h.Env.host.document,j=j&&j.documentElement,e=/^(top|right|bottom|left)$/,a=c._cssHooks,b=/opacity\s*=\s*([^)]*)/,d=/alpha\([^)]*\)/i;k["float"]="styleFloat";a.backgroundPosition={get:function(b,a){return a?b.currentStyle.backgroundPositionX+" "+b.currentStyle.backgroundPositionY:b.style.backgroundPosition}};try{null==j.style.opacity&&(a.opacity={get:function(a,d){return b.test((d&&a.currentStyle?a.currentStyle.filter:a.style.filter)||
"")?parseFloat(RegExp.$1)/100+"":d?"1":""},set:function(b,a){var a=parseFloat(a),f=b.style,e=b.currentStyle,c=isNaN(a)?"":"alpha(opacity="+100*a+")",o=h.trim(e&&e.filter||f.filter||"");f.zoom=1;if((1<=a||!c)&&!h.trim(o.replace(d,"")))if(f.removeAttribute("filter"),!c||e&&!e.filter)return;f.filter=d.test(o)?o.replace(d,c):o+(o?", ":"")+c}})}catch(f){"IE filters ActiveX is disabled. ex = "+f}var g=8==g.ie,o={};o.thin=g?"1px":"2px";o.medium=g?"3px":"4px";o.thick=g?"5px":"6px";h.each(["","Top","Left",
"Right","Bottom"],function(b){var d="border"+b+"Width",f="border"+b+"Style";a[d]={get:function(b,a){var e=a?b.currentStyle:0,c=e&&""+e[d]||void 0;c&&0>c.indexOf("px")&&(c=o[c]&&"none"!==e[f]?o[c]:0);return c}}});c._getComputedStyle=function(b,a){var a=k[a]||a,d=b.currentStyle&&b.currentStyle[a];if(c._RE_NUM_NO_PX.test(d)&&!e.test(a)){var f=b.style,o=f.left,g=b.runtimeStyle.left;b.runtimeStyle.left=b.currentStyle.left;f.left="fontSize"===a?"1em":d||0;d=f.pixelLeft+"px";f.left=o;b.runtimeStyle.left=
g}return""===d?"auto":d}},{requires:["dom/base"]});
KISSY.add("dom/ie/traversal",function(h,c){c._contains=function(e,a){e.nodeType==c.NodeType.DOCUMENT_NODE&&(e=e.documentElement);a=a.parentNode;return e==a?!0:a&&a.nodeType==c.NodeType.ELEMENT_NODE?e.contains&&e.contains(a):!1};var k=document.createElement("div");k.appendChild(document.createComment(""));var g;g=k.getElementsByTagName("*").length?function(e,a){var b=a.getElementsByTagName(e),d="*"==e;if(d||"number"!=typeof b.length){for(var f=[],c=0,g;g=b[c++];)(!d||1===g.nodeType)&&f.push(g);return f}return b}:
function(e,a){return a.getElementsByTagName(e)};c._getElementsByTagName=g;var j=c._getSimpleAttr;c._getElementById=function(e,a){var b=a.getElementById(e);if(b&&j(b,"id")!==e)for(var d=g("*",a),f=0,c=d.length;f<c;f++)if(j(d[f],"id")==e)return d[f];return b}},{requires:["dom/base"]});
KISSY.add("dom/ie/transform",function(h,c){function k(a){return[[a[0],a[2],a[4]],[a[1],a[3],a[5]],[0,0,1]]}function g(a,b){if(2<arguments.length){for(var d=a,f=1;f<arguments.length;f++)d=g(d,arguments[f]);return d}for(var d=[],c=a.length,e=b.length,h=b[0].length,f=0;f<c;f++)for(var j=0;j<h;j++){for(var k=0,q=0;q<e;q++)k+=a[f][q]*b[q][j];var q=d,n=f,i=j;q[n]||(q[n]=[]);q[n][i]=k}return d}function j(a){return-1<a.indexOf("deg")?parseInt(a,10)*(2*Math.PI/360):parseFloat(a)}var e=/progid:DXImageTransform.Microsoft.Matrix\(([^)]*)\)/;
c._cssHooks.transform={get:function(a,b){var d=a[b?"currentStyle":"style"];if(d&&e.test(d.filter)){var d=RegExp.$1.split(","),f=0,c=0,g=d[4]&&d[4].split("="),h=d[5]&&d[5].split("=");g&&"dx"==g[0].toLowerCase()&&(f=parseFloat(g[1]));h&&"dy"==h[0].toLowerCase()&&(c=parseFloat(h[1]));d=[d[0].split("=")[1],d[2].split("=")[1],d[1].split("=")[1],d[3].split("=")[1],f,c]}else return b?"none":"";return"matrix("+d.join(",")+")"},set:function(a,b){var d=a.style,f=a.currentStyle,c,m={width:a.clientWidth,height:a.clientHeight};
c=m.width/2;var p=m.height/2,r=a.style.transformOrigin,r=(r||"50% 50%").split(/\s+/);1==r.length&&(r[1]=r[0]);for(var s=0;s<r.length;s++){var q=parseFloat(r[s]);r[s]=h.endsWith(r[s],"%")?q*m[s?"height":"width"]/100:q}m=r;d.zoom=1;if(b){var n;n=b.split(")");for(var r=h.trim,s=-1,q=n.length-1,i,u,t=k([1,0,0,1,0,0]),l;++s<q;){i=n[s].split("(");u=r(i[0]);i=i[1];l=[1,0,0,1,0,0];switch(u){case "translateX":l[4]=parseInt(i,10);break;case "translateY":l[5]=parseInt(i,10);break;case "translate":i=i.split(",");
l[4]=parseInt(i[0],10);l[5]=parseInt(i[1]||0,10);break;case "rotate":i=j(i);l[0]=Math.cos(i);l[1]=Math.sin(i);l[2]=-Math.sin(i);l[3]=Math.cos(i);break;case "scaleX":l[0]=+i;break;case "scaleY":l[3]=+i;break;case "scale":i=i.split(",");l[0]=+i[0];l[3]=1<i.length?+i[1]:+i[0];break;case "skewX":l[2]=Math.tan(j(i));break;case "skewY":l[1]=Math.tan(j(i));break;case "matrix":i=i.split(","),l[0]=+i[0],l[1]=+i[1],l[2]=+i[2],l[3]=+i[3],l[4]=parseInt(i[4],10),l[5]=parseInt(i[5],10)}t=g(t,k(l))}b=t;n=m[0];m=
m[1];n=g([[1,0,n],[0,1,m],[0,0,1]],b,[[1,0,-n],[0,1,-m],[0,0,1]],[[c],[p],[1]]);n.x=n[0][0];n.y=n[1][0];c=["progid:DXImageTransform.Microsoft.Matrix(M11="+b[0][0],"M12="+b[0][1],"M21="+b[1][0],"M22="+b[1][1],"Dx="+b[0][2],"Dy="+b[1][2],'SizingMethod="auto expand"'].join()+")"}else c="";p=f&&f.filter||d.filter||"";if(!c&&!h.trim(p.replace(e,""))&&(d.removeAttribute("filter"),!c||f&&!f.filter))return;d.filter=e.test(p)?p.replace(e,c):p+(p?", ":"")+c;c?(f=a.offsetHeight/2,d.marginLeft=n.x-a.offsetWidth/
2+"px",d.marginTop=n.y-f+"px"):d.marginLeft=d.marginTop=0}}},{requires:["dom/base"]});
KISSY.add("dom/ie/input-selection",function(h,c){function k(b,a){var c=0,h=0,m=b.ownerDocument.selection.createRange(),j=g(b);j.inRange(m)&&(j.setEndPoint("EndToStart",m),c=e(b,j).length,a&&(h=c+e(b,m).length));return[c,h]}function g(b){if("textarea"==b.type){var a=b.document.body.createTextRange();a.moveToElementText(b);return a}return b.createTextRange()}function j(b,a,c){var e=Math.min(a,c),g=Math.max(a,c);return e==g?0:"textarea"==b.type?(b=b.value.substring(e,g).replace(/\r\n/g,"\n").length,
a>c&&(b=-b),b):c-a}function e(b,a){if("textarea"==b.type){var c=a.text,e=a.duplicate();if(0==e.compareEndPoints("StartToEnd",e))return c;e.moveEnd("character",-1);e.text==c&&(c+="\r\n");return c}return a.text}var a=c._propHooks;a.selectionStart={set:function(b,a){var c=b.ownerDocument.selection.createRange();if(g(b).inRange(c)){var e=k(b,1)[1],h=j(b,a,e);c.collapse(!1);c.moveStart("character",-h);a>e&&c.collapse(!0);c.select()}},get:function(b){return k(b)[0]}};a.selectionEnd={set:function(b,a){var c=
b.ownerDocument.selection.createRange();if(g(b).inRange(c)){var e=k(b)[0],h=j(b,e,a);c.collapse(!0);c.moveEnd("character",h);e>a&&c.collapse(!1);c.select()}},get:function(a){return k(a,1)[1]}}},{requires:["dom/base"]});KISSY.add("dom/ie",function(h,c){return c},{requires:"./ie/attr,./ie/create,./ie/insertion,./ie/style,./ie/traversal,./ie/transform,./ie/input-selection".split(",")});
