/*
Copyright 2012, KISSY UI Library v1.40dev
MIT Licensed
build time: Nov 28 01:53
*/
KISSY.add("dom/ie/attr",function(g,c){var e=c._attrHooks,f=c._attrNodeHook,i=c.NodeType,d=c._valHooks,a=c._propFix;8>g.UA.ie&&(e.style.set=function(b,h){b.style.cssText=h},g.mix(f,{get:function(b,h){var a=b.getAttributeNode(h);return a&&(a.specified||a.nodeValue)?a.nodeValue:void 0},set:function(b,h,a){var d=b.getAttributeNode(a),j;if(d)d.nodeValue=h;else try{j=b.ownerDocument.createAttribute(a),j.value=h,b.setAttributeNode(j)}catch(c){return b.setAttribute(a,h,0)}}}),g.mix(c._attrFix,a),e.tabIndex=
e.tabindex,g.each("href,src,width,height,colSpan,rowSpan".split(","),function(b){e[b]={get:function(a){a=a.getAttribute(b,2);return a===null?void 0:a}}}),d.button=e.value=f,d.option={get:function(b){var a=b.attributes.value;return!a||a.specified?b.value:b.text}});(e.href=e.href||{}).set=function(b,a,d){for(var c=b.childNodes,j,f=c.length,e=f>0,f=f-1;f>=0;f--)c[f].nodeType!=i.TEXT_NODE&&(e=0);if(e){j=b.ownerDocument.createElement("b");j.style.display="none";b.appendChild(j)}b.setAttribute(d,""+a);
j&&b.removeChild(j)};return c},{requires:["dom/base"]});
KISSY.add("dom/ie/create",function(g,c){c._fixCloneAttributes=function(d,a){a.clearAttributes&&a.clearAttributes();a.mergeAttributes&&a.mergeAttributes(d);var b=a.nodeName.toLowerCase(),h=d.childNodes;if("object"===b&&!a.childNodes.length)for(b=0;b<h.length;b++)a.appendChild(h[b].cloneNode(!0));else if("input"===b&&("checkbox"===d.type||"radio"===d.type)){if(d.checked&&(a.defaultChecked=a.checked=d.checked),a.value!==d.value)a.value=d.value}else if("option"===b)a.selected=d.defaultSelected;else if("input"===
b||"textarea"===b)a.defaultValue=d.defaultValue;a.removeAttribute(c.__EXPANDO)};var e=c._creators,f=c._defaultCreator,i=/<tbody/i;8>g.UA.ie&&(e.table=function(d,a){var b=f(d,a);if(i.test(d))return b;var h=b.firstChild,e=g.makeArray(h.childNodes);g.each(e,function(b){"tbody"==c.nodeName(b)&&!b.childNodes.length&&h.removeChild(b)});return b})},{requires:["dom/base"]});KISSY.add("dom/ie",function(g,c){return c},{requires:"./ie/attr,./ie/create,./ie/insertion,./ie/selector,./ie/style,./ie/traversal,./ie/input-selection".split(",")});
KISSY.add("dom/ie/input-selection",function(g,c){function e(b,a){var c=0,e=0,j=b.ownerDocument.selection.createRange(),i=f(b);i.inRange(j)&&(i.setEndPoint("EndToStart",j),c=d(b,i).length,a&&(e=c+d(b,j).length));return[c,e]}function f(b){if("textarea"==b.type){var a=b.document.body.createTextRange();a.moveToElementText(b);return a}return b.createTextRange()}function i(b,a,c){var d=Math.min(a,c),f=Math.max(a,c);return d==f?0:"textarea"==b.type?(b=b.value.substring(d,f).replace(/\r\n/g,"\n").length,
a>c&&(b=-b),b):c-a}function d(b,a){if("textarea"==b.type){var c=a.text,d=a.duplicate();if(0==d.compareEndPoints("StartToEnd",d))return c;d.moveEnd("character",-1);d.text==c&&(c+="\r\n");return c}return a.text}var a=c._propHooks;a.selectionStart={set:function(b,a){var c=b.ownerDocument.selection.createRange();if(f(b).inRange(c)){var d=e(b,1)[1],j=i(b,a,d);c.collapse(!1);c.moveStart("character",-j);a>d&&c.collapse(!0);c.select()}},get:function(b){return e(b)[0]}};a.selectionEnd={set:function(b,a){var c=
b.ownerDocument.selection.createRange();if(f(b).inRange(c)){var d=e(b)[0],j=i(b,d,a);c.collapse(!0);c.moveEnd("character",j);d>a&&c.collapse(!1);c.select()}},get:function(a){return e(a,1)[1]}}},{requires:["dom/base"]});
KISSY.add("dom/ie/insertion",function(g,c){8>g.UA.ie&&(c._fixInsertionChecked=function f(i){for(var d=0;d<i.length;d++){var a=i[d];if(a.nodeType==c.NodeType.DOCUMENT_FRAGMENT_NODE)f(a.childNodes);else if("input"==c.nodeName(a)){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}else if(a.nodeType==c.NodeType.ELEMENT_NODE)for(var a=a.getElementsByTagName("input"),b=0;b<a.length;b++)f(a[b])}})},{requires:["dom/base"]});
KISSY.add("dom/ie/selector",function(g,c){var e=g.Env.host.document;c._compareNodeOrder=function(c,e){return c.sourceIndex-e.sourceIndex};e.querySelectorAll||(c._getElementsByClassName=function(f,e,d){if(!d)return[];for(var e=d.getElementsByTagName(e||"*"),d=[],a=0,b=e.length,h;a<b;++a)h=e[a],c.hasClass(h,f)&&d.push(h);return d});c._getElementsByTagName=function(c,e){var d=g.makeArray(e.getElementsByTagName(c)),a,b,h;if(c==="*"){a=[];for(b=0;h=d[b++];)h.nodeType===1&&a.push(h);d=a}return d};c._getElementById=
function(e,g){var d=g.getElementById(e);d&&c.attr(d,"id")!=e&&(d=c.filter("*","#"+e,g)[0]||null);return d}},{requires:["dom/base"]});
KISSY.add("dom/ie/style",function(g,c){var e=c._cssProps,f=g.UA,i=g.Env.host.document,i=i&&i.documentElement,d=/^(top|right|bottom|left)$/,a=c._CUSTOM_STYLES,b=/opacity\s*=\s*([^)]*)/,h=/alpha\([^)]*\)/i;e["float"]="styleFloat";a.backgroundPosition={get:function(a,b){return b?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==i.style.opacity&&(a.opacity={get:function(a,c){return b.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||
"")?parseFloat(RegExp.$1)/100+"":c?"1":""},set:function(a,b){var b=parseFloat(b),c=a.style,d=a.currentStyle,e=isNaN(b)?"":"alpha(opacity="+100*b+")",f=g.trim(d&&d.filter||c.filter||"");c.zoom=1;if((1<=b||!e)&&!g.trim(f.replace(h,"")))if(c.removeAttribute("filter"),!e||d&&!d.filter)return;c.filter=h.test(f)?f.replace(h,e):f+(f?", ":"")+e}})}catch(l){}var f=8==f.ie,k={};k.thin=f?"1px":"2px";k.medium=f?"3px":"4px";k.thick=f?"5px":"6px";g.each(["","Top","Left","Right","Bottom"],function(b){var c="border"+
b+"Width",d="border"+b+"Style";a[c]={get:function(a,b){var e=b?a.currentStyle:0,f=e&&""+e[c]||void 0;f&&0>f.indexOf("px")&&(f=k[f]&&"none"!==e[d]?k[f]:0);return f}}});c._getComputedStyle=function(a,b){var b=e[b]||b,f=a.currentStyle&&a.currentStyle[b];if(c._RE_NUM_NO_PX.test(f)&&!d.test(b)){var g=a.style,h=g.left,i=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;g.left="fontSize"===b?"1em":f||0;f=g.pixelLeft+"px";g.left=h;a.runtimeStyle.left=i}return""===f?"auto":f}},{requires:["dom/base"]});
KISSY.add("dom/ie/traversal",function(g,c){c._contains=function(e,f){e.nodeType==c.NodeType.DOCUMENT_NODE&&(e=e.documentElement);f=f.parentNode;return e==f?!0:f&&f.nodeType==c.NodeType.ELEMENT_NODE?e.contains&&e.contains(f):!1}},{requires:["dom/base"]});
