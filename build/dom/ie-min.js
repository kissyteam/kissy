/*
Copyright 2013, KISSY UI Library v1.40dev
MIT Licensed
build time: Apr 16 12:42
*/
KISSY.add("dom/ie/attr",function(f,b){function i(h){var a="",g=h.nodeType;if(g===b.NodeType.ELEMENT_NODE)for(h=h.firstChild;h;h=h.nextSibling)a+=i(h);else if(g==j.TEXT_NODE||g==j.CDATA_SECTION_NODE)a+=h.nodeValue;return a}var d=b._attrHooks,k=b._attrNodeHook,j=b.NodeType,c=b._valHooks,a=b._propFix;8>f.UA.ie&&(d.style.set=function(a,e){a.style.cssText=e},f.mix(k,{get:function(a,e){var g=a.getAttributeNode(e);return g&&(g.specified||g.nodeValue)?g.nodeValue:void 0},set:function(a,e,g){var c=a.getAttributeNode(g),
m;if(c)c.nodeValue=e;else try{m=a.ownerDocument.createAttribute(g),m.value=e,a.setAttributeNode(m)}catch(b){return a.setAttribute(g,e,0)}}}),f.mix(b._attrFix,a),d.tabIndex=d.tabindex,f.each("href,src,width,height,colSpan,rowSpan".split(","),function(a){d[a]={get:function(e){e=e.getAttribute(a,2);return e===null?void 0:e}}}),c.button=d.value=k,c.option={get:function(a){var e=a.attributes.value;return!e||e.specified?a.value:a.text}});(d.href=d.href||{}).set=function(a,e,c){for(var l=a.childNodes,b,
d=l.length,f=d>0,d=d-1;d>=0;d--)l[d].nodeType!=j.TEXT_NODE&&(f=0);if(f){b=a.ownerDocument.createElement("b");b.style.display="none";a.appendChild(b)}a.setAttribute(c,""+e);b&&a.removeChild(b)};b._getText=i;return b},{requires:["dom/base"]});
KISSY.add("dom/ie/create",function(f,b){b._fixCloneAttributes=function(d,c){c.clearAttributes&&c.clearAttributes();c.mergeAttributes&&c.mergeAttributes(d);var a=c.nodeName.toLowerCase(),h=d.childNodes;if("object"===a&&!c.childNodes.length)for(a=0;a<h.length;a++)c.appendChild(h[a].cloneNode(!0));else if("input"===a&&("checkbox"===d.type||"radio"===d.type)){if(d.checked&&(c.defaultChecked=c.checked=d.checked),c.value!==d.value)c.value=d.value}else if("option"===a)c.selected=d.defaultSelected;else if("input"===
a||"textarea"===a)c.defaultValue=d.defaultValue;c.removeAttribute(b.__EXPANDO)};var i=b._creators,d=b._defaultCreator,k=/<tbody/i;8>f.UA.ie&&(i.table=function(i,c){var a=d(i,c);if(k.test(i))return a;var h=a.firstChild,e=f.makeArray(h.childNodes);f.each(e,function(a){"tbody"==b.nodeName(a)&&!a.childNodes.length&&h.removeChild(a)});return a})},{requires:["dom/base"]});KISSY.add("dom/ie",function(f,b){return b},{requires:"./ie/attr,./ie/create,./ie/insertion,./ie/style,./ie/traversal,./ie/input-selection".split(",")});
KISSY.add("dom/ie/input-selection",function(f,b){function i(a,c){var e=0,b=0,l=a.ownerDocument.selection.createRange(),m=d(a);m.inRange(l)&&(m.setEndPoint("EndToStart",l),e=j(a,m).length,c&&(b=e+j(a,l).length));return[e,b]}function d(a){if("textarea"==a.type){var d=a.document.body.createTextRange();d.moveToElementText(a);return d}return a.createTextRange()}function k(a,d,e){var c=Math.min(d,e),b=Math.max(d,e);return c==b?0:"textarea"==a.type?(a=a.value.substring(c,b).replace(/\r\n/g,"\n").length,
d>e&&(a=-a),a):e-d}function j(a,d){if("textarea"==a.type){var c=d.text,b=d.duplicate();if(0==b.compareEndPoints("StartToEnd",b))return c;b.moveEnd("character",-1);b.text==c&&(c+="\r\n");return c}return d.text}var c=b._propHooks;c.selectionStart={set:function(a,c){var b=a.ownerDocument.selection.createRange();if(d(a).inRange(b)){var g=i(a,1)[1],l=k(a,c,g);b.collapse(!1);b.moveStart("character",-l);c>g&&b.collapse(!0);b.select()}},get:function(a){return i(a)[0]}};c.selectionEnd={set:function(a,c){var b=
a.ownerDocument.selection.createRange();if(d(a).inRange(b)){var g=i(a)[0],l=k(a,g,c);b.collapse(!0);b.moveEnd("character",l);g>c&&b.collapse(!1);b.select()}},get:function(a){return i(a,1)[1]}}},{requires:["dom/base"]});
KISSY.add("dom/ie/insertion",function(f,b){8>f.UA.ie&&(b._fixInsertionChecked=function d(f){for(var j=0;j<f.length;j++){var c=f[j];if(c.nodeType==b.NodeType.DOCUMENT_FRAGMENT_NODE)d(c.childNodes);else if("input"==b.nodeName(c)){if("checkbox"===c.type||"radio"===c.type)c.defaultChecked=c.checked}else if(c.nodeType==b.NodeType.ELEMENT_NODE)for(var c=c.getElementsByTagName("input"),a=0;a<c.length;a++)d(c[a])}})},{requires:["dom/base"]});
KISSY.add("dom/ie/style",function(f,b){var i=b._cssProps,d=f.UA,k=f.Env.host.document,k=k&&k.documentElement,j=/^(top|right|bottom|left)$/,c=b._CUSTOM_STYLES,a=/opacity\s*=\s*([^)]*)/,h=/alpha\([^)]*\)/i;i["float"]="styleFloat";c.backgroundPosition={get:function(a,b){return b?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==k.style.opacity&&(c.opacity={get:function(b,c){return a.test((c&&b.currentStyle?b.currentStyle.filter:b.style.filter)||
"")?parseFloat(RegExp.$1)/100+"":c?"1":""},set:function(a,b){var b=parseFloat(b),c=a.style,d=a.currentStyle,e=isNaN(b)?"":"alpha(opacity="+100*b+")",g=f.trim(d&&d.filter||c.filter||"");c.zoom=1;if((1<=b||!e)&&!f.trim(g.replace(h,"")))if(c.removeAttribute("filter"),!e||d&&!d.filter)return;c.filter=h.test(g)?g.replace(h,e):g+(g?", ":"")+e}})}catch(e){}var d=8==d.ie,g={};g.thin=d?"1px":"2px";g.medium=d?"3px":"4px";g.thick=d?"5px":"6px";f.each(["","Top","Left","Right","Bottom"],function(a){var b="border"+
a+"Width",d="border"+a+"Style";c[b]={get:function(a,c){var e=c?a.currentStyle:0,f=e&&""+e[b]||void 0;f&&0>f.indexOf("px")&&(f=g[f]&&"none"!==e[d]?g[f]:0);return f}}});b._getComputedStyle=function(a,c){var c=i[c]||c,d=a.currentStyle&&a.currentStyle[c];if(b._RE_NUM_NO_PX.test(d)&&!j.test(c)){var e=a.style,f=e.left,g=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;e.left="fontSize"===c?"1em":d||0;d=e.pixelLeft+"px";e.left=f;a.runtimeStyle.left=g}return""===d?"auto":d}},{requires:["dom/base"]});
KISSY.add("dom/ie/traversal",function(f,b){b._contains=function(f,d){f.nodeType==b.NodeType.DOCUMENT_NODE&&(f=f.documentElement);d=d.parentNode;return f==d?!0:d&&d.nodeType==b.NodeType.ELEMENT_NODE?f.contains&&f.contains(d):!1}},{requires:["dom/base"]});
