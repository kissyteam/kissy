/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: May 17 11:36
*/
KISSY.add("uibase/align",function(e,f,a,d){function g(b){var c=b.ownerDocument.body,e=a.css(b,"position");if(!("fixed"==e||"absolute"==e))return"html"==b.nodeName.toLowerCase()?null:b.parentNode;for(b=b.parentNode;b&&b!=c;b=b.parentNode)if(e=a.css(b,"position"),"static"!=e)return b;return null}function i(b){var c,e,h={left:0,right:Infinity,top:0,bottom:Infinity},d;e=b.ownerDocument;c=e.body;for(e=e.documentElement;b=g(b);)if((!f.ie||0!=b.clientWidth)&&b!=c&&b!=e&&"visible"!=a.css(b,"overflow"))d=
a.offset(b),d.left+=b.clientLeft,d.top+=b.clientTop,h.top=Math.max(h.top,d.top),h.right=Math.min(h.right,d.left+b.clientWidth),h.bottom=Math.min(h.bottom,d.top+b.clientHeight),h.left=Math.max(h.left,d.left);b=a.scrollLeft();d=a.scrollTop();h.left=Math.max(h.left,b);h.top=Math.max(h.top,d);c=a.viewportWidth();e=a.viewportHeight();h.right=Math.min(h.right,b+c);h.bottom=Math.min(h.bottom,d+e);return 0<=h.top&&0<=h.left&&h.bottom>h.top&&h.right>h.left?h:null}function c(b,c,e,d){var a,i;a=b.left;i=b.top;
c=m(c,e[0]);b=m(b,e[1]);b=[b.left-c.left,b.top-c.top];return{left:a-b[0]+ +d[0],top:i-b[1]+ +d[1]}}function k(b,c,d){var a=[];e.each(b,function(b){a.push(b.replace(c,function(b){return d[b]}))});return a}function j(){}function l(b){var c,d;e.isWindow(b[0])?(c={left:a.scrollLeft(),top:a.scrollTop()},d=a.viewportWidth(),b=a.viewportHeight()):(c=b.offset(),d=b.outerWidth(),b=b.outerHeight());c.width=d;c.height=b;return c}function m(b,c){var d=c.charAt(0),e=c.charAt(1),a=b.width,i=b.height,k,l;k=b.left;
l=b.top;"c"===d?l+=i/2:"b"===d&&(l+=i);"c"===e?k+=a/2:"r"===e&&(k+=a);return{left:k,top:l}}var n=e.Env.host;j.__getOffsetParent=g;j.__getVisibleRectForElement=i;j.ATTRS={align:{}};j.prototype={_uiSetAlign:function(b){b&&this.align(b.node,b.points,b.offset,b.overflow)},align:function(b,a,m,h){var b=d.one(b||n),m=m&&[].concat(m)||[0,0],h=h||{},j=this.get("el"),f=0,g=i(j[0]),o=l(j),t=l(b),b=c(o,t,a,m),q=e.merge(o,b);if(h.adjustX||h.adjustY){if(b.left<g.left||b.left+o.width>g.right)f=1,a=k(a,/[lr]/ig,
{l:"r",r:"l"}),m[0]=-m[0];if(b.top<g.top||b.top+o.height>g.bottom)f=1,a=k(a,/[tb]/ig,{t:"b",b:"t"}),m[1]=-m[1];f&&(b=c(o,t,a,m),e.mix(q,b));a={};a.adjustX=h.adjustX&&(b.left<g.left||b.left+o.width>g.right);a.adjustY=h.adjustY&&(b.top<g.top||b.top+o.height>g.bottom);if(a.adjustX||a.adjustY)h=e.clone(b),f={width:o.width,height:o.height},a.adjustX&&h.left<g.left&&(h.left=g.left),a.resizeWidth&&h.left>=g.left&&h.left+f.width>g.right&&(f.width-=h.left+f.width-g.right),a.adjustX&&h.left+f.width>g.right&&
(h.left=Math.max(g.right-f.width,g.left)),a.adjustY&&h.top<g.top&&(h.top=g.top),a.resizeHeight&&h.top>=g.top&&h.top+f.height>g.bottom&&(f.height-=h.top+f.height-g.bottom),a.adjustY&&h.top+f.height>g.bottom&&(h.top=Math.max(g.bottom-f.height,g.top)),q=e.mix(h,f)}q.left!=o.left&&this.set("x",q.left);q.top!=o.top&&this.set("y",q.top);q.width!=o.width&&j.width(j.width()+q.width-o.width);q.height!=o.height&&j.height(j.height()+q.height-o.height)},center:function(b){this.set("align",{node:b,points:["cc",
"cc"],offset:[0,0]})}};return j},{requires:["ua","dom","node"]});
KISSY.add("uibase/base",function(e,f,a,d){function g(d){f.apply(this,arguments);for(var k=d,g=this.constructor;g;){if(k&&k[c]&&g.HTML_PARSER&&(k[c]=a.one(k[c]))){var b=k[c],j=g.HTML_PARSER,p=void 0,h=void 0;for(p in j)j.hasOwnProperty(p)&&(h=j[p],e.isFunction(h)?this.__set(p,h.call(this,b)):e.isString(h)?this.__set(p,b.one(h)):e.isArray(h)&&h[0]&&this.__set(p,b.all(h[0])))}g=g.superclass&&g.superclass.constructor}i(this,"initializer","constructor");d&&d.autoRender&&this.render()}function i(c,d,a){for(var b=
c.constructor,e=[],k,g,i,f;b;){f=[];if(i=b.__ks_exts)for(var j=0;j<i.length;j++)if(k=i[j])"constructor"!=a&&(k=k.prototype.hasOwnProperty(a)?k.prototype[a]:null),k&&f.push(k);b.prototype.hasOwnProperty(d)&&(g=b.prototype[d])&&f.push(g);f.length&&e.push.apply(e,f.reverse());b=b.superclass&&b.superclass.constructor}for(j=e.length-1;0<=j;j--)e[j]&&e[j].call(c)}var c="srcNode",k=e.ucfirst,j=e.noop;g.HTML_PARSER={};g.ATTRS={rendered:{value:!1},created:{value:!1}};e.extend(g,f,{create:function(){this.get("created")||
(this._createDom(),this.fire("createDom"),i(this,"createDom","__createDom"),this.fire("afterCreateDom"),this.__set("created",!0))},render:function(){this.get("rendered")||(this.create(),this._renderUI(),this.fire("renderUI"),i(this,"renderUI","__renderUI"),this.fire("afterRenderUI"),this._bindUI(),this.fire("bindUI"),i(this,"bindUI","__bindUI"),this.fire("afterBindUI"),this._syncUI(),this.fire("syncUI"),i(this,"syncUI","__syncUI"),this.fire("afterSyncUI"),this.__set("rendered",!0));return this},createDom:j,
_createDom:j,_renderUI:j,renderUI:j,_bindUI:function(){var c=this,d=c.__attrs,a,b;for(a in d)d.hasOwnProperty(a)&&(b="_uiSet"+k(a),c[b]&&function(b,a){c.on("after"+k(b)+"Change",function(b){c[a](b.newVal,b)})}(a,b))},bindUI:j,_syncUI:function(){var c,a,e=this.__attrs,b;for(b in e)e.hasOwnProperty(b)&&(a=this["_uiSet"+k(b)])&&!1!==e[b].sync&&(c=this.get(b))!==d&&a.call(this,c)},syncUI:j,destroy:function(){for(var c=this.constructor,a,d,b;c;){c.prototype.hasOwnProperty("destructor")&&c.prototype.destructor.apply(this);
if(a=c.__ks_exts)for(b=a.length-1;0<=b;b--)(d=a[b]&&a[b].prototype.__destructor)&&d.apply(this);c=c.superclass&&c.superclass.constructor}this.fire("destroy");this.detach()}},{create:function(c,a,k,b){function i(){g.apply(this,arguments)}var f=e.makeArray(arguments);e.isArray(c)&&(b=k,k=a,a=c,c=g);c=c||g;e.isObject(a)&&(b=k,k=a,a=[]);e.isString(f[f.length-1]);e.extend(i,c,k,b);if(a){i.__ks_exts=a;var j={},f=a.concat(i);e.each(f,function(c){c&&e.each(["ATTRS","HTML_PARSER"],function(b){if(c[b]){j[b]=
j[b]||{};e.mix(j[b],c[b],true,d,true)}})});e.each(j,function(c,b){i[b]=c});var s={};e.each(f,function(c){if(c){var c=c.prototype,b;for(b in c)c.hasOwnProperty(b)&&(s[b]=c[b])}});e.each(s,function(c,b){i.prototype[b]=c})}return i}});return g},{requires:["base","node"]});
KISSY.add("uibase/box",function(e){function f(){}f.ATTRS={html:{view:!0},width:{view:!0},height:{view:!0},elCls:{view:!0},elStyle:{view:!0},elAttrs:{view:!0},elBefore:{view:!0},el:{view:!0},render:{view:!0},visibleMode:{value:"display",view:!0},visible:{view:!0},srcNode:{view:!0}};f.HTML_PARSER={el:function(a){this.decorateInternal&&this.decorateInternal(e.one(a));return a}};f.prototype={_uiSetVisible:function(a){this.fire(a?"show":"hide")},show:function(){this.get("rendered")?this.set("visible",
!0):(this.set("visible",!0),this.render())},hide:function(){this.set("visible",!1)}};return f});
KISSY.add("uibase/boxrender",function(e,f){function a(){}function d(c,a,d,e,i,g,b){a=a||{};b=b||"";"string"!==typeof b&&(b="");d&&(a.width="number"==typeof d?d+"px":d);e&&(a.height="number"==typeof e?e+"px":e);var d="",f;for(f in a)a.hasOwnProperty(f)&&(d+=f+":"+a[f]+";");var a="",p;for(p in g)g.hasOwnProperty(p)&&(a+=" "+p+"='"+g[p]+"' ");return"<"+i+(d?" style='"+d+"' ":"")+a+(c?" class='"+c+"' ":"")+">"+b+"</"+i+">"}var g=e.all,i=e.Env.host.document;a.ATTRS={el:{setter:function(c){return g(c)}},
elCls:{sync:!1},elStyle:{sync:!1},width:{sync:!1},height:{sync:!1},elTagName:{sync:!1,value:"div"},elAttrs:{sync:!1},html:{sync:!1},elBefore:{},render:{},visible:{},visibleMode:{}};a.construct=d;a.HTML_PARSER={html:function(c){return c.html()}};a.prototype={__renderUI:function(){if(this.__boxRenderNew){var c=this.get("render"),a=this.get("el"),d=this.get("elBefore");d?a.insertBefore(d):c?a.appendTo(c):a.appendTo(i.body)}},__createDom:function(){var c=this.get("elCls"),a=this.get("elStyle"),e=this.get("width"),
i=this.get("height"),g=this.get("html"),n=this.get("elAttrs"),b=this.get("el");b?(c&&b.addClass(c),a&&b.css(a),void 0!==e&&b.width(e),void 0!==i&&b.height(i),n&&b.attr(n)):(this.__boxRenderNew=!0,b=new f(d(c,a,e,i,this.get("elTagName"),n,g)),this.__set("el",b))},_uiSetElAttrs:function(c){this.get("el").attr(c)},_uiSetElCls:function(c){this.get("el").addClass(c)},_uiSetElStyle:function(c){this.get("el").css(c)},_uiSetWidth:function(c){this.get("el").width(c)},_uiSetHeight:function(c){this.get("el").height(c)},
_uiSetHtml:function(c){this.get("el").html(c)},_uiSetVisible:function(c){var a=this.get("el");"visibility"==this.get("visibleMode")?a.css("visibility",c?"visible":"hidden"):a.css("display",c?"":"none")},__destructor:function(){var c=this.get("el");c&&c.remove()}};return a},{requires:["node"]});
KISSY.add("uibase/close",function(){function e(){}e.ATTRS={closable:{value:!0,view:!0},closeAction:{value:"hide"}};var f={hide:"hide",destroy:"destroy"};e.prototype={__bindUI:function(){var a=this,d=a.get("view").get("closeBtn");d&&d.on("click",function(d){a[f[a.get("closeAction")]||"hide"]();d.preventDefault()})}};return e});
KISSY.add("uibase/closerender",function(e,f){function a(){}a.ATTRS={closable:{},closeBtn:{}};a.HTML_PARSER={closeBtn:function(a){return a.one("."+this.get("prefixCls")+"ext-close")}};a.prototype={_uiSetClosable:function(a){this.get("closeBtn")[a?"show":"hide"]()},__createDom:function(){var a=this.get("closeBtn"),e=this.get("closable"),i=this.get("el");if(a)a[e?"show":"hide"]();else a=(new f("<a tabindex='0' "+(e?"":"style='display:none'")+"href='javascript:void(\"\u5173\u95ed\")' role='button' class='"+this.get("prefixCls")+
"ext-close'><span class='"+this.get("prefixCls")+"ext-close-x'>\u5173\u95ed</span></a>")).appendTo(i),this.__set("closeBtn",a)},__destructor:function(){var a=this.get("closeBtn");a&&a.detach()}};return a},{requires:["node"]});
KISSY.add("uibase/constrain",function(e,f,a){function d(){}function g(d){var c=null;if(!d)return c;var g=this.get("el");!0!==d?(d=a.one(d),c=d.offset(),e.mix(c,{maxLeft:c.left+d.outerWidth()-g.outerWidth(),maxTop:c.top+d.outerHeight()-g.outerHeight()})):(c={left:f.scrollLeft(),top:f.scrollTop()},e.mix(c,{maxLeft:c.left+f.viewportWidth()-g.outerWidth(),maxTop:c.top+f.viewportHeight()-g.outerHeight()}));return c}d.ATTRS={constrain:{value:!1}};d.prototype={__renderUI:function(){var a=this,c=a.getAttrs(),
d=c.x,c=c.y,e=d.setter,f=c.setter;d.setter=function(c){var d=e&&e.call(a,c);void 0===d&&(d=c);if(!a.get("constrain"))return d;c=g.call(a,a.get("constrain"));return Math.min(Math.max(d,c.left),c.maxLeft)};c.setter=function(c){var d=f&&f.call(a,c);void 0===d&&(d=c);if(!a.get("constrain"))return d;c=g.call(a,a.get("constrain"));return Math.min(Math.max(d,c.top),c.maxTop)};a.addAttr("x",d);a.addAttr("y",c)}};return d},{requires:["dom","node"]});
KISSY.add("uibase/contentbox",function(){function e(){}e.ATTRS={content:{view:!0,sync:!1},contentEl:{view:!0},contentElAttrs:{view:!0},contentElStyle:{view:!0},contentTagName:{view:!0}};return e});
KISSY.add("uibase/contentboxrender",function(e,f,a){function d(){}d.ATTRS={contentEl:{},contentElAttrs:{},contentElCls:{},contentElStyle:{},contentTagName:{value:"div"},content:{sync:!1}};d.HTML_PARSER={content:function(a){return a[0].innerHTML}};var g=a.construct;d.prototype={__renderUI:function(){},__createDom:function(){var a,c=this.get("content"),d=this.get("el");a="";var j=e.makeArray(d[0].childNodes);j.length&&(a=d[0].innerHTML);c==a&&(c="");a=new f(g("ks-contentbox "+(this.get("contentElCls")||
""),this.get("contentElStyle"),void 0,void 0,this.get("contentTagName"),this.get("contentElAttrs"),c));a.appendTo(d);this.__set("contentEl",a);if(c)"string"!==typeof c&&a.append(c);else{c=0;for(d=j.length;c<d;c++)a.append(j[c])}},_uiSetContentElCls:function(a){this.get("contentEl").addClass(a)},_uiSetContentElAttrs:function(a){this.get("contentEl").attr(a)},_uiSetContentElStyle:function(a){this.get("contentEl").css(a)},_uiSetContent:function(a){"string"==typeof a?this.get("contentEl").html(a):this.get("contentEl").empty().append(a)}};
return d},{requires:["node","./boxrender"]});
KISSY.add("uibase/drag",function(e){function f(){}function a(a){this.set("xy",[a.left,a.top])}f.ATTRS={handlers:{value:[]},draggable:{value:!0}};f.prototype={_uiSetHandlers:function(a){var e;a&&0<a.length&&(e=this.__drag)&&e.set("handlers",a)},__bindUI:function(){var d=e.require("dd")||{},f=d.Draggable,i=this,c=i.get("draggable"),k=i.get("el");if(c&&f){!0===c&&(c={});f=i.__drag=new f({node:k,move:c.proxy});if(c.proxy){c.proxy.moveOnEnd=!1;f.on("dragend",function(){var a=j.get("proxyNode").offset();
k.css("visibility","");i.set("x",a.left);i.set("y",a.top)});var j=i.__proxy=new d.Proxy(c.proxy);j.attachDrag(f)}else f.on("drag",a,i);c.scroll&&(i.__scroll=new d.Scroll(c.scroll)).attachDrag(f)}},_uiSetDraggable:function(a){var e=this.__drag;e&&e.set("disabled",!a)},__destructor:function(){var a=this.__proxy,e=this.__scroll,f=this.__drag;f&&f.destroy();e&&e.destroy();a&&a.destroy()}};return f});
KISSY.add("uibase/loading",function(){function e(){}e.prototype={loading:function(){this.get("view").loading()},unloading:function(){this.get("view").unloading()}};return e});
KISSY.add("uibase/loadingrender",function(e,f){function a(){}a.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new f("<div class='"+this.get("prefixCls")+"ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var a=this._loadingExtEl;a&&a.hide()}};return a},{requires:["node"]});
KISSY.add("uibase/mask",function(){function e(){}e.ATTRS={mask:{value:!1}};e.prototype={_uiSetMask:function(e){var a=this.get("view"),d=a._maskExtShow,g=a._maskExtHide;e?(this.on("show",d,a),this.on("hide",g,a)):(this.detach("show",d,a),this.detach("hide",g,a))}};return e},{requires:["ua"]});
KISSY.add("uibase/maskrender",function(e,f,a){function d(){return j?"expression(KISSY.DOM.docWidth())":"100%"}function g(){return j?"expression(KISSY.DOM.docHeight())":"100%"}function i(){k=l("<div  style='width:"+d()+";height:"+g()+";' class='"+this.get("prefixCls")+"ext-mask'/>").prependTo(m.document.body);k.css({position:j?"absolute":"fixed",left:0,top:0});j&&(n=l("<iframe style='position:absolute;left:0px;top:0px;background:red;width:"+d()+";height:"+g()+";filter:alpha(opacity=0);z-index:-1;'/>").insertBefore(k));
k.unselectable();k.on("mousedown click",function(a){a.halt()})}function c(){}var k,j=6===f.ie,l=a.all,m=e.Env.host;l(m.document);var n,b=0;c.prototype={_maskExtShow:function(){k||i.call(this);var a={"z-index":this.get("zIndex")-1},c={display:""};k.css(a);n&&n.css(a);b++;1==b&&(k.css(c),n&&n.css(c))},_maskExtHide:function(){b--;0>=b&&(b=0);if(!b){var a={display:"none"};k&&k.css(a);n&&n.css(a)}},__destructor:function(){this._maskExtHide()}};return c},{requires:["ua","node"]});
KISSY.add("uibase/position",function(e){function f(){}f.ATTRS={x:{view:!0},y:{view:!0},xy:{setter:function(a){var d=e.makeArray(a);d.length&&(d[0]&&this.set("x",d[0]),d[1]&&this.set("y",d[1]));return a},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:!0}};f.prototype={move:function(a,d){e.isArray(a)&&(d=a[1],a=a[0]);this.set("xy",[a,d])}};return f});
KISSY.add("uibase/positionrender",function(){function e(){}e.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};e.prototype={__createDom:function(){this.get("el").addClass(this.get("prefixCls")+"ext-position")},_uiSetZIndex:function(e){this.get("el").css("z-index",e)},_uiSetX:function(e){this.get("el").offset({left:e})},_uiSetY:function(e){this.get("el").offset({top:e})}};
return e});KISSY.add("uibase/resize",function(e){function f(){}f.ATTRS={resize:{value:{}}};f.prototype={__destructor:function(){var a=this.resizer;a&&a.destroy()},_uiSetResize:function(a){var d=e.require("resizable");this.resizer&&this.resizer.destroy();d&&a&&(a.node=this.get("el"),this.resizer=new d(a))}};return f});
KISSY.add("uibase/shimrender",function(){function e(){}e.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return e});
KISSY.add("uibase/stdmod",function(){function e(){}e.ATTRS={header:{view:!0},body:{view:!0},footer:{view:!0},bodyStyle:{view:!0},footerStyle:{view:!0},headerStyle:{view:!0},headerContent:{view:!0},bodyContent:{view:!0},footerContent:{view:!0}};return e});
KISSY.add("uibase/stdmodrender",function(e,f){function a(){}function d(a,d){var g=a.get("contentEl"),l=a.get(d+"Style"),m=a.get(d+"Content"),n=e.isString(m),b=a.get(d);if(b)l&&b.css(l);else{b="";if(l)for(var r in l)l.hasOwnProperty(r)&&(b+=r+":"+l[r]+";");l=b;b=new f("<div class='"+a.get("prefixCls")+i+d+"' "+(l?"style='"+l+"'":"")+" >"+(n?m:"")+"</div>");n||b.append(m);b.appendTo(g);a.__set(d,b)}}function g(a,d,f){d=a.get(d);e.isString(f)?d.html(f):d.html("").append(f)}var i="stdmod-";a.ATTRS={header:{},
body:{},footer:{},bodyStyle:{sync:!1},footerStyle:{sync:!1},headerStyle:{sync:!1},headerContent:{sync:!1},bodyContent:{sync:!1},footerContent:{sync:!1}};a.HTML_PARSER={header:function(a){return a.one("."+this.get("prefixCls")+i+"header")},body:function(a){return a.one("."+this.get("prefixCls")+i+"body")},footer:function(a){return a.one("."+this.get("prefixCls")+i+"footer")}};a.prototype={__createDom:function(){d(this,"header");d(this,"body");d(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},
_uiSetHeaderStyle:function(a){this.get("header").css(a)},_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){g(this,"body",a)},_uiSetHeaderContent:function(a){g(this,"header",a)},_uiSetFooterContent:function(a){g(this,"footer",a)}};return a},{requires:["node"]});
KISSY.add("uibase",function(e,f,a,d,g,i,c,k,j,l,m,n,b,r,p,h,s,u,v,o,t){i.Render=c;n.Render=b;r.Render=p;h.Render=s;o.Render=t;d.Render=g;j.Render=l;e.mix(f,{Align:a,Box:d,Close:i,Constrain:k,ContentBox:j,Drag:m,Loading:n,Mask:r,Position:h,Shim:{Render:u},Resize:v,StdMod:o});return f},{requires:"uibase/base,uibase/align,uibase/box,uibase/boxrender,uibase/close,uibase/closerender,uibase/constrain,uibase/contentbox,uibase/contentboxrender,uibase/drag,uibase/loading,uibase/loadingrender,uibase/mask,uibase/maskrender,uibase/position,uibase/positionrender,uibase/shimrender,uibase/resize,uibase/stdmod,uibase/stdmodrender".split(",")});
