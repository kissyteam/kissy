/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Mar 19 17:07
*/
KISSY.add("uibase/align",function(i,o,f,k){function q(a){var d=a.ownerDocument.body,b=f.css(a,"position"),h=b=="fixed"||b=="absolute";for(a=a.parentNode;a&&a!=d;a=a.parentNode){b=f.css(a,"position");h=h&&b=="static";if(f.css(a,"overflow")!="visible"&&(!h||b=="fixed"||b=="absolute"||b=="relative"))return a}return null}function l(a){for(var d in a)if(d.indexOf("fail")===0)return true;return false}function c(a){var d=a.offset,b=a.node,h=a.points,p,e=this.get("el");d=d||[0,0];p=e.offset();b=m(b,h[0]);
h=m(e,h[1]);h=[h.left-b.left,h.top-b.top];p={left:p.left-h[0]+ +d[0],top:p.top-h[1]+ +d[1]};a:{d=p;p=this.get("el");e={};h={width:p.outerWidth(),height:p.outerHeight()};b=i.clone(h);if(!i.isEmptyObject(a.overflow)){e={left:0,right:Infinity,top:0,bottom:Infinity};for(var n=p[0];n=q(n);){var r=n.clientWidth;if(!o.ie||r!==0){var s=n.clientLeft,t=n.clientTop;r=f.offset(n);s={left:s,top:t};r.left+=s.left;r.top+=s.top;e.top=Math.max(e.top,r.top);e.right=Math.min(e.right,r.left+n.clientWidth);e.bottom=Math.min(e.bottom,
r.top+n.clientHeight);e.left=Math.max(e.left,r.left)}}n=f.scrollLeft();r=f.scrollTop();e.left=Math.max(e.left,n);e.top=Math.max(e.top,r);e.right=Math.min(e.right,n+f.viewportWidth());e.bottom=Math.min(e.bottom,r+f.viewportHeight());e=e.top>=0&&e.left>=0&&e.bottom>e.top&&e.right>e.left?e:null;a=a.overflow||{};n={};if(d.left<e.left&&a.adjustX){d.left=e.left;n.adjustX=1}if(d.left<e.left&&d.left+b.width>e.right&&a.resizeWidth){b.width-=d.left+b.width-e.right;n.resizeWidth=1}if(d.left+b.width>e.right&&
a.adjustX){d.left=Math.max(e.right-b.width,e.left);n.adjustX=1}if(a.failX)n.failX=d.left<e.left||d.left+b.width>e.right;if(d.top<e.top&&a.adjustY){d.top=e.top;n.adjustY=1}if(d.top>=e.top&&d.top+b.height>e.bottom&&a.resizeHeight){b.height-=d.top+b.height-e.bottom;n.resizeHeight=1}if(d.top+b.height>e.bottom&&a.adjustY){d.top=Math.max(e.bottom-b.height,e.top);n.adjustY=1}if(a.failY)n.failY=d.top<e.top||d.top+b.height>e.bottom;e=n;if(l(e)){a=e;break a}}this.set("x",d.left);this.set("y",d.top);if(b.width!=
h.width||b.height!=h.height){p.width(b.width);p.height(b.height)}a=e}return a}function j(a,d,b){var h=[];i.each(a,function(p){h.push(p.replace(d,function(e){return b[e]}))});return h}function g(){}function m(a,d){var b=d.charAt(0),h=d.charAt(1),p,e,n,r;if(a){p=a.offset();e=a.outerWidth();n=a.outerHeight()}else{p={left:f.scrollLeft(),top:f.scrollTop()};e=f.viewportWidth();n=f.viewportHeight()}r=p.left;p=p.top;if(b==="c")p+=n/2;else if(b==="b")p+=n;if(h==="c")r+=e/2;else if(h==="r")r+=e;return{left:r,
top:p}}g.ATTRS={align:{setter:function(a){var d;if(d=a.node)a.node=k.one(d)}}};g.prototype={_uiSetAlign:function(a){this.align(a.node,a.points,a.offset,a.overflow)},align:function(a,d,b,h){var p={};if(a)a=k.one(a);h=i.clone(h||{});b=b&&[].concat(b)||[0,0];if(h.failX)p.failX=1;if(h.failY)p.failY=1;var e=c.call(this,{node:a,points:d,offset:b,overflow:p});if(l(e)){if(e.failX){d=j(d,/[lr]/ig,{l:"r",r:"l"});b=b;b[0]=-b[0];b=b}if(e.failY){d=j(d,/[tb]/ig,{t:"b",b:"t"});e=b;e[1]=-e[1];b=e}}e=c.call(this,
{node:a,points:d,offset:b,overflow:p});if(l(e)){delete h.failX;delete h.failY;c.call(this,{node:a,points:d,offset:b,overflow:h})}},center:function(a){this.set("align",{node:a,points:["cc","cc"],offset:[0,0]})}};return g},{requires:["ua","dom","node"]});
KISSY.add("uibase/base",function(i,o,f){function k(g){return g.charAt(0).toUpperCase()+g.substring(1)}function q(g){o.apply(this,arguments);for(var m=this.constructor;m;){if(g&&g[c]&&m.HTML_PARSER)if(g[c]=f.one(g[c])){var a=g[c],d=m.HTML_PARSER,b=void 0,h=void 0;for(b in d)if(d.hasOwnProperty(b)){h=d[b];if(i.isFunction(h))this.__set(b,h.call(this,a));else if(i.isString(h))this.__set(b,a.one(h));else i.isArray(h)&&h[0]&&this.__set(b,a.all(h[0]))}}m=m.superclass&&m.superclass.constructor}l(this,"initializer",
"constructor");g&&g.autoRender&&this.render()}function l(g,m,a){for(var d=g.constructor,b=[],h,p,e,n;d;){n=[];if(e=d.__ks_exts)for(var r=0;r<e.length;r++)if(h=e[r]){if(a!="constructor")h=h.prototype.hasOwnProperty(a)?h.prototype[a]:null;h&&n.push(h)}if(d.prototype.hasOwnProperty(m)&&(p=d.prototype[m]))n.push(p);n.length&&b.push.apply(b,n.reverse());d=d.superclass&&d.superclass.constructor}for(r=b.length-1;r>=0;r--)b[r]&&b[r].call(g)}var c="srcNode",j=i.noop;q.HTML_PARSER={};q.ATTRS={rendered:{value:false},
created:{value:false}};i.extend(q,o,{create:function(){if(!this.get("created")){this._createDom();this.fire("createDom");l(this,"createDom","__createDom");this.fire("afterCreateDom");this.__set("created",true)}},render:function(){if(!this.get("rendered")){this.create();this._renderUI();this.fire("renderUI");l(this,"renderUI","__renderUI");this.fire("afterRenderUI");this._bindUI();this.fire("bindUI");l(this,"bindUI","__bindUI");this.fire("afterBindUI");this._syncUI();this.fire("syncUI");l(this,"syncUI",
"__syncUI");this.fire("afterSyncUI");this.__set("rendered",true)}return this},_createDom:j,_renderUI:j,renderUI:j,_bindUI:function(){var g=this,m=g.__attrs,a,d;for(a in m)if(m.hasOwnProperty(a)){d="_uiSet"+k(a);g[d]&&function(b,h){g.on("after"+k(b)+"Change",function(p){g[h](p.newVal,p)})}(a,d)}},bindUI:j,_syncUI:function(){var g=this.__attrs,m;for(m in g)if(g.hasOwnProperty(m)){var a="_uiSet"+k(m);this[a]&&g[m].sync!==false&&this.get(m)!==undefined&&this[a](this.get(m))}},syncUI:j,destroy:function(){for(var g=
this.constructor,m,a,d;g;){g.prototype.hasOwnProperty("destructor")&&g.prototype.destructor.apply(this);if(m=g.__ks_exts)for(d=m.length-1;d>=0;d--)(a=m[d]&&m[d].prototype.__destructor)&&a.apply(this);g=g.superclass&&g.superclass.constructor}this.fire("destroy");this.detach()}},{create:function(g,m,a,d){function b(){q.apply(this,arguments)}if(i.isArray(g)){d=a;a=m;m=g;g=q}g=g||q;if(i.isObject(m)){d=a;a=m;m=[]}i.extend(b,g,a,d);if(m){b.__ks_exts=m;var h={};g=m.concat(b);i.each(g,function(e){e&&i.each(["ATTRS",
"HTML_PARSER"],function(n){if(e[n]){h[n]=h[n]||{};i.mix(h[n],e[n],true,undefined,true)}})});i.each(h,function(e,n){b[n]=e});var p={};i.each(g,function(e){if(e){e=e.prototype;for(var n in e)if(e.hasOwnProperty(n))p[n]=e[n]}});i.each(p,function(e,n){b.prototype[n]=e})}return b}});return q},{requires:["base","node"]});
KISSY.add("uibase/box",function(i){function o(){}o.ATTRS={html:{view:true},width:{view:true},height:{view:true},elCls:{view:true},elStyle:{view:true},elAttrs:{view:true},elBefore:{view:true},el:{view:true},render:{view:true},visibleMode:{value:"display",view:true},visible:{view:true},srcNode:{view:true}};o.HTML_PARSER={el:function(f){this.decorateInternal&&this.decorateInternal(i.one(f));return f}};o.prototype={_uiSetVisible:function(f){this.fire(f?"show":"hide")},show:function(){if(this.get("rendered"))this.set("visible",
true);else{this.__set("visible",true);this.render()}},hide:function(){this.set("visible",false)}};return o});
KISSY.add("uibase/boxrender",function(i,o){function f(){}function k(c,j,g,m,a,d,b){j=j||{};b=b||"";if(typeof b!=="string")b="";if(g)j.width=typeof g=="number"?g+"px":g;if(m)j.height=typeof m=="number"?m+"px":m;g="";for(var h in j)if(j.hasOwnProperty(h))g+=h+":"+j[h]+";";j="";for(var p in d)if(d.hasOwnProperty(p))j+=" "+p+"='"+d[p]+"' ";return"<"+a+(g?" style='"+g+"' ":"")+j+(c?" class='"+c+"' ":"")+">"+b+"</"+a+">"}var q=i.all,l=i.Env.host.document;f.ATTRS={el:{setter:function(c){return q(c)}},elCls:{sync:false},
elStyle:{sync:false},width:{sync:false},height:{sync:false},elTagName:{sync:false,value:"div"},elAttrs:{sync:false},html:{sync:false},elBefore:{},render:{},visible:{},visibleMode:{}};f.construct=k;f.HTML_PARSER={html:function(c){return c.html()}};f.prototype={__renderUI:function(){if(this.__boxRenderNew){var c=this.get("render"),j=this.get("el"),g=this.get("elBefore");if(g)j.insertBefore(g);else c?j.appendTo(c):j.appendTo(l.body)}},__createDom:function(){var c=this.get("elCls"),j=this.get("elStyle"),
g=this.get("width"),m=this.get("height"),a=this.get("html"),d=this.get("elAttrs"),b=this.get("el");if(b){c&&b.addClass(c);j&&b.css(j);g!==undefined&&b.width(g);m!==undefined&&b.height(m);d&&b.attr(d)}else{this.__boxRenderNew=true;b=new o(k(c,j,g,m,this.get("elTagName"),d,a));this.__set("el",b)}},_uiSetElAttrs:function(c){this.get("el").attr(c)},_uiSetElCls:function(c){this.get("el").addClass(c)},_uiSetElStyle:function(c){this.get("el").css(c)},_uiSetWidth:function(c){this.get("el").width(c)},_uiSetHeight:function(c){this.get("el").height(c)},
_uiSetHtml:function(c){this.get("el").html(c)},_uiSetVisible:function(c){var j=this.get("el");this.get("visibleMode")=="visibility"?j.css("visibility",c?"visible":"hidden"):j.css("display",c?"":"none")},__destructor:function(){var c=this.get("el");c&&c.remove()}};return f},{requires:["node"]});
KISSY.add("uibase/close",function(){function i(){}i.ATTRS={closable:{view:true},closeAction:{value:"hide"}};var o={hide:"hide",destroy:"destroy"};i.prototype={__bindUI:function(){var f=this,k=f.get("view").get("closeBtn");k&&k.on("click",function(q){f[o[f.get("closeAction")]||"hide"]();q.preventDefault()})}};return i});
KISSY.add("uibase/closerender",function(i,o){function f(){}f.ATTRS={closable:{value:true,sync:false},closeBtn:{}};f.HTML_PARSER={closeBtn:function(k){return k.one("."+this.get("prefixCls")+"ext-close")}};f.prototype={_uiSetClosable:function(k){this.get("closeBtn")[k?"show":"hide"]()},__createDom:function(){var k=this.get("closeBtn"),q=this.get("closable"),l=this.get("el");if(k)k[q?"show":"hide"]();else{k=(new o("<a tabindex='0' "+(q?"":"style='display:none'")+"href='javascript:void(\"\u5173\u95ed\")' role='button' class='"+
this.get("prefixCls")+"ext-close'><span class='"+this.get("prefixCls")+"ext-close-x'>\u5173\u95ed</span></a>")).appendTo(l);this.__set("closeBtn",k)}},__destructor:function(){var k=this.get("closeBtn");k&&k.detach()}};return f},{requires:["node"]});
KISSY.add("uibase/constrain",function(i,o,f){function k(){}function q(l){var c;if(!l)return c;var j=this.get("el");if(l!==true){l=f.one(l);c=l.offset();i.mix(c,{maxLeft:c.left+l.outerWidth()-j.outerWidth(),maxTop:c.top+l.outerHeight()-j.outerHeight()})}else{l=i.Env.host.document.documentElement.clientWidth;c={left:o.scrollLeft(),top:o.scrollTop()};i.mix(c,{maxLeft:c.left+l-j.outerWidth(),maxTop:c.top+o.viewportHeight()-j.outerHeight()})}return c}k.ATTRS={constrain:{value:false}};k.prototype={__renderUI:function(){var l=
this,c=l.getAttrs(),j=c.x;c=c.y;var g=j.setter,m=c.setter;j.setter=function(a){var d=g&&g.call(l,a);if(d===undefined)d=a;if(!l.get("constrain"))return d;a=q.call(l,l.get("constrain"));return Math.min(Math.max(d,a.left),a.maxLeft)};c.setter=function(a){var d=m&&m.call(l,a);if(d===undefined)d=a;if(!l.get("constrain"))return d;a=q.call(l,l.get("constrain"));return Math.min(Math.max(d,a.top),a.maxTop)};l.addAttr("x",j);l.addAttr("y",c)}};return k},{requires:["dom","node"]});
KISSY.add("uibase/contentbox",function(){function i(){}i.ATTRS={content:{view:true,sync:false},contentEl:{view:true},contentElAttrs:{view:true},contentElStyle:{view:true},contentTagName:{view:true}};return i});
KISSY.add("uibase/contentboxrender",function(i,o,f){function k(){}k.ATTRS={contentEl:{},contentElAttrs:{},contentElCls:{},contentElStyle:{},contentTagName:{value:"div"},content:{sync:false}};k.HTML_PARSER={content:function(l){return l[0].innerHTML}};var q=f.construct;k.prototype={__renderUI:function(){},__createDom:function(){var l,c=this.get("content"),j=this.get("el");l="";var g=i.makeArray(j[0].childNodes);if(g.length)l=j[0].innerHTML;if(c==l)c="";l=new o(q(this.get("prefixCls")+"contentbox "+
(this.get("contentElCls")||""),this.get("contentElStyle"),undefined,undefined,this.get("contentTagName"),this.get("contentElAttrs"),c));l.appendTo(j);this.__set("contentEl",l);if(c)typeof c!=="string"&&l.append(c);else{c=0;for(j=g.length;c<j;c++)l.append(g[c])}},_uiSetContentElCls:function(l){this.get("contentEl").addClass(l)},_uiSetContentElAttrs:function(l){this.get("contentEl").attr(l)},_uiSetContentElStyle:function(l){this.get("contentEl").css(l)},_uiSetContent:function(l){typeof l=="string"?
this.get("contentEl").html(l):this.get("contentEl").empty().append(l)}};return k},{requires:["node","./boxrender"]});
KISSY.add("uibase/drag",function(i){function o(){}o.ATTRS={handlers:{value:[]},draggable:{value:true}};o.prototype={_uiSetHandlers:function(f){f&&f.length>0&&this.__drag&&this.__drag.set("handlers",f)},__bindUI:function(){var f=i.require("dd/draggable"),k=this.get("el");if(this.get("draggable")&&f)this.__drag=new f({node:k})},_uiSetDraggable:function(f){var k=this.__drag;if(k)if(f){k.detach("drag");k.on("drag",this._dragExtAction,this)}else k.detach("drag")},_dragExtAction:function(f){this.set("xy",
[f.left,f.top])},__destructor:function(){var f=this.__drag;f&&f.destroy()}};return o});KISSY.add("uibase/loading",function(){function i(){}i.prototype={loading:function(){this.get("view").loading()},unloading:function(){this.get("view").unloading()}};return i});
KISSY.add("uibase/loadingrender",function(i,o){function f(){}f.prototype={loading:function(){if(!this._loadingExtEl)this._loadingExtEl=(new o("<div class='"+this.get("prefixCls")+"ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el"));this._loadingExtEl.show()},unloading:function(){var k=this._loadingExtEl;k&&k.hide()}};return f},{requires:["node"]});
KISSY.add("uibase/mask",function(){function i(){}i.ATTRS={mask:{value:false}};i.prototype={_uiSetMask:function(o){if(o){this.on("show",this.get("view")._maskExtShow,this.get("view"));this.on("hide",this.get("view")._maskExtHide,this.get("view"))}else{this.detach("show",this.get("view")._maskExtShow,this.get("view"));this.detach("hide",this.get("view")._maskExtHide,this.get("view"))}}};return i},{requires:["ua"]});
KISSY.add("uibase/maskrender",function(i,o,f){function k(){return g?b.width()+m:"100%"}function q(){return g?b.height()+m:"100%"}function l(){j=a("<div class='"+this.get("prefixCls")+"ext-mask'/>").prependTo("body");j.css({position:g?"absolute":"fixed",left:0,top:0,width:k(),height:q()});if(g)h=a("<iframe style='position:absolute;left:0px;top:0px;background:red;width:"+k()+";height:"+q()+";filter:alpha(opacity=0);z-index:-1;'/>").insertBefore(j);j.unselectable();j.on("mousedown click",function(n){n.halt()})}
function c(){}var j,g=o.ie===6,m="px",a=f.all;o=i.Env.host;var d=a(i.Env.host),b=a(o.document),h,p=0,e=i.throttle(function(){var n={width:k(),height:q()};j.css(n);h&&h.css(n)},50);c.prototype={_maskExtShow:function(){j||l.call(this);var n={"z-index":this.get("zIndex")-1},r={display:""};j.css(n);h&&h.css(n);p++;if(p==1){j.css(r);h&&h.css(r);g&&d.on("resize scroll",e)}},_maskExtHide:function(){p--;if(p<=0)p=0;if(!p){var n={display:"none"};j&&j.css(n);h&&h.css(n);g&&d.detach("resize scroll",e)}},__destructor:function(){this._maskExtHide()}};
return c},{requires:["ua","node"]});KISSY.add("uibase/position",function(i){function o(){}o.ATTRS={x:{view:true},y:{view:true},xy:{setter:function(f){var k=i.makeArray(f);if(k.length){k[0]&&this.set("x",k[0]);k[1]&&this.set("y",k[1])}return f},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:true}};o.prototype={__bindUI:function(){this.on("hide",function(){this.set("xy",[-9999,-9999])})},move:function(f,k){if(i.isArray(f)){k=f[1];f=f[0]}this.set("xy",[f,k])}};return o});
KISSY.add("uibase/positionrender",function(){function i(){}i.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};i.prototype={__createDom:function(){this.get("el").addClass(this.get("prefixCls")+"ext-position")},_uiSetZIndex:function(o){this.get("el").css("z-index",o)},_uiSetX:function(o){this.get("el").offset({left:o})},_uiSetY:function(o){this.get("el").offset({top:o})}};
return i});KISSY.add("uibase/resize",function(i){function o(){}o.ATTRS={resize:{value:{}}};o.prototype={__destructor:function(){var f=this.resizer;f&&f.destroy()},_uiSetResize:function(f){var k=i.require("resizable");if(k){this.resizer&&this.resizer.destroy();f.node=this.get("el");if(f.handlers)this.resizer=new k(f)}}};return o});
KISSY.add("uibase/shimrender",function(i,o){function f(){}f.ATTRS={shim:{value:true}};f.prototype={_uiSetShim:function(k){var q=this.get("el");if(k&&!this.__shimEl){this.__shimEl=new o("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>");q.prepend(this.__shimEl)}else if(!k&&this.__shimEl){this.__shimEl.remove();delete this.__shimEl}}};return f},
{requires:["node"]});KISSY.add("uibase/stdmod",function(){function i(){}i.ATTRS={header:{view:true},body:{view:true},footer:{view:true},bodyStyle:{view:true},footerStyle:{view:true},headerStyle:{view:true},headerContent:{view:true},bodyContent:{view:true},footerContent:{view:true}};return i});
KISSY.add("uibase/stdmodrender",function(i,o){function f(){}function k(c,j){var g=c.get("contentEl"),m=c.get(j+"Style"),a=c.get(j+"Content"),d=i.isString(a),b=c.get(j);if(b)m&&b.css(m);else{m=m;b="";if(m)for(var h in m)if(m.hasOwnProperty(h))b+=h+":"+m[h]+";";m=b;b=new o("<div class='"+c.get("prefixCls")+l+j+"' "+(m?"style='"+m+"'":"")+" >"+(d?a:"")+"</div>");d||b.append(a);b.appendTo(g);c.__set(j,b)}}function q(c,j,g){j=c.get(j);i.isString(g)?j.html(g):j.html("").append(g)}var l="stdmod-";f.ATTRS=
{header:{},body:{},footer:{},bodyStyle:{sync:false},footerStyle:{sync:false},headerStyle:{sync:false},headerContent:{sync:false},bodyContent:{sync:false},footerContent:{sync:false}};f.HTML_PARSER={header:function(c){return c.one("."+this.get("prefixCls")+l+"header")},body:function(c){return c.one("."+this.get("prefixCls")+l+"body")},footer:function(c){return c.one("."+this.get("prefixCls")+l+"footer")}};f.prototype={__createDom:function(){k(this,"header");k(this,"body");k(this,"footer")},_uiSetBodyStyle:function(c){this.get("body").css(c)},
_uiSetHeaderStyle:function(c){this.get("header").css(c)},_uiSetFooterStyle:function(c){this.get("footer").css(c)},_uiSetBodyContent:function(c){q(this,"body",c)},_uiSetHeaderContent:function(c){q(this,"header",c)},_uiSetFooterContent:function(c){q(this,"footer",c)}};return f},{requires:["node"]});
KISSY.add("uibase",function(i,o,f,k,q,l,c,j,g,m,a,d,b,h,p,e,n,r,s,t,u){l.Render=c;d.Render=b;h.Render=p;e.Render=n;t.Render=u;k.Render=q;g.Render=m;i.mix(o,{Align:f,Box:k,Close:l,Constrain:j,ContentBox:g,Drag:a,Loading:d,Mask:h,Position:e,Shim:{Render:r},Resize:s,StdMod:t});return o},{requires:["uibase/base","uibase/align","uibase/box","uibase/boxrender","uibase/close","uibase/closerender","uibase/constrain","uibase/contentbox","uibase/contentboxrender","uibase/drag","uibase/loading","uibase/loadingrender",
"uibase/mask","uibase/maskrender","uibase/position","uibase/positionrender","uibase/shimrender","uibase/resize","uibase/stdmod","uibase/stdmodrender"]});
