/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: May 9 19:36
*/
KISSY.add("uibase/align",function(c,e,a,g){function h(b){var d=b.ownerDocument.body,c=a.css(b,"position");if(!("fixed"==c||"absolute"==c))return"html"==b.nodeName.toLowerCase()?null:b.parentNode;for(b=b.parentNode;b&&b!=d;b=b.parentNode)if(c=a.css(b,"position"),"static"!=c)return b;return null}function j(b){var d,c,i={left:0,right:Infinity,top:0,bottom:Infinity},f;c=b.ownerDocument;d=c.body;for(c=c.documentElement;b=h(b);)if((!e.ie||0!=b.clientWidth)&&b!=d&&b!=c&&"visible"!=a.css(b,"overflow"))f=
a.offset(b),f.left+=b.clientLeft,f.top+=b.clientTop,i.top=Math.max(i.top,f.top),i.right=Math.min(i.right,f.left+b.clientWidth),i.bottom=Math.min(i.bottom,f.top+b.clientHeight),i.left=Math.max(i.left,f.left);b=a.scrollLeft();f=a.scrollTop();i.left=Math.max(i.left,b);i.top=Math.max(i.top,f);d=a.viewportWidth();c=a.viewportHeight();i.right=Math.min(i.right,b+d);i.bottom=Math.min(i.bottom,f+c);return 0<=i.top&&0<=i.left&&i.bottom>i.top&&i.right>i.left?i:null}function d(b,d,c,a){var f,j;f=b.left;j=b.top;
d=n(d,c[0]);b=n(b,c[1]);b=[b.left-d.left,b.top-d.top];return{left:f-b[0]+ +a[0],top:j-b[1]+ +a[1]}}function f(b,d,a){var f=[];c.each(b,function(b){f.push(b.replace(d,function(b){return a[b]}))});return f}function k(){}function p(b){var d,f;c.isWindow(b[0])?(d={left:a.scrollLeft(),top:a.scrollTop()},f=a.viewportWidth(),b=a.viewportHeight()):(d=b.offset(),f=b.outerWidth(),b=b.outerHeight());d.width=f;d.height=b;return d}function n(b,d){var c=d.charAt(0),f=d.charAt(1),a=b.width,j=b.height,g,l;g=b.left;
l=b.top;"c"===c?l+=j/2:"b"===c&&(l+=j);"c"===f?g+=a/2:"r"===f&&(g+=a);return{left:g,top:l}}var l=c.Env.host;k.__getOffsetParent=h;k.__getVisibleRectForElement=j;k.ATTRS={align:{}};k.prototype={_uiSetAlign:function(b){b&&this.align(b.node,b.points,b.offset,b.overflow)},align:function(b,a,n,i){var b=g.one(b||l),n=n&&[].concat(n)||[0,0],i=i||{},e=this.get("el"),k=0,m=j(e[0]),h=p(e),t=p(b),b=d(h,t,a,n),o=c.merge(h,b);if(i.adjustX||i.adjustY){if(b.left<m.left||b.left+h.width>m.right)k=1,a=f(a,/[lr]/ig,
{l:"r",r:"l"}),n[0]=-n[0];if(b.top<m.top||b.top+h.height>m.bottom)k=1,a=f(a,/[tb]/ig,{t:"b",b:"t"}),n[1]=-n[1];k&&(b=d(h,t,a,n),c.mix(o,b));a={};a.adjustX=i.adjustX&&(b.left<m.left||b.left+h.width>m.right);a.adjustY=i.adjustY&&(b.top<m.top||b.top+h.height>m.bottom);if(a.adjustX||a.adjustY)i=c.clone(b),k={width:h.width,height:h.height},a.adjustX&&i.left<m.left&&(i.left=m.left),a.resizeWidth&&i.left>=m.left&&i.left+k.width>m.right&&(k.width-=i.left+k.width-m.right),a.adjustX&&i.left+k.width>m.right&&
(i.left=Math.max(m.right-k.width,m.left)),a.adjustY&&i.top<m.top&&(i.top=m.top),a.resizeHeight&&i.top>=m.top&&i.top+k.height>m.bottom&&(k.height-=i.top+k.height-m.bottom),a.adjustY&&i.top+k.height>m.bottom&&(i.top=Math.max(m.bottom-k.height,m.top)),o=c.mix(i,k)}o.left!=h.left&&this.set("x",o.left);o.top!=h.top&&this.set("y",o.top);o.width!=h.width&&e.width(e.width()+o.width-h.width);o.height!=h.height&&e.height(e.height()+o.height-h.height)},center:function(b){this.set("align",{node:b,points:["cc",
"cc"],offset:[0,0]})}};return k},{requires:["ua","dom","node"]});
KISSY.add("uibase/base",function(c,e,a,g){function h(f){e.apply(this,arguments);for(var g=f,l=this.constructor;l;){if(g&&g[d]&&l.HTML_PARSER&&(g[d]=a.one(g[d]))){var b=g[d],k=l.HTML_PARSER,h=void 0,i=void 0;for(h in k)k.hasOwnProperty(h)&&(i=k[h],c.isFunction(i)?this.__set(h,i.call(this,b)):c.isString(i)?this.__set(h,b.one(i)):c.isArray(i)&&i[0]&&this.__set(h,b.all(i[0])))}l=l.superclass&&l.superclass.constructor}j(this,"initializer","constructor");f&&f.autoRender&&this.render()}function j(d,a,f){for(var b=
d.constructor,c=[],g,j,k,e;b;){e=[];if(k=b.__ks_exts)for(var h=0;h<k.length;h++)if(g=k[h])"constructor"!=f&&(g=g.prototype.hasOwnProperty(f)?g.prototype[f]:null),g&&e.push(g);b.prototype.hasOwnProperty(a)&&(j=b.prototype[a])&&e.push(j);e.length&&c.push.apply(c,e.reverse());b=b.superclass&&b.superclass.constructor}for(h=c.length-1;0<=h;h--)c[h]&&c[h].call(d)}var d="srcNode",f=c.ucfirst,k=c.noop;h.HTML_PARSER={};h.ATTRS={rendered:{value:!1},created:{value:!1}};c.extend(h,e,{create:function(){this.get("created")||
(this._createDom(),this.fire("createDom"),j(this,"createDom","__createDom"),this.fire("afterCreateDom"),this.__set("created",!0))},render:function(){this.get("rendered")||(this.create(),this._renderUI(),this.fire("renderUI"),j(this,"renderUI","__renderUI"),this.fire("afterRenderUI"),this._bindUI(),this.fire("bindUI"),j(this,"bindUI","__bindUI"),this.fire("afterBindUI"),this._syncUI(),this.fire("syncUI"),j(this,"syncUI","__syncUI"),this.fire("afterSyncUI"),this.__set("rendered",!0));return this},_createDom:k,
_renderUI:k,renderUI:k,_bindUI:function(){var d=this,a=d.__attrs,c,b;for(c in a)a.hasOwnProperty(c)&&(b="_uiSet"+f(c),d[b]&&function(b,a){d.on("after"+f(b)+"Change",function(b){d[a](b.newVal,b)})}(c,b))},bindUI:k,_syncUI:function(){var d,a,c=this.__attrs,b;for(b in c)c.hasOwnProperty(b)&&(a=this["_uiSet"+f(b)])&&!1!==c[b].sync&&(d=this.get(b))!==g&&a.call(this,d)},syncUI:k,destroy:function(){for(var d=this.constructor,a,c,b;d;){d.prototype.hasOwnProperty("destructor")&&d.prototype.destructor.apply(this);
if(a=d.__ks_exts)for(b=a.length-1;0<=b;b--)(c=a[b]&&a[b].prototype.__destructor)&&c.apply(this);d=d.superclass&&d.superclass.constructor}this.fire("destroy");this.detach()}},{create:function(d,a,f,b){function k(){h.apply(this,arguments)}var j=c.makeArray(arguments);c.isArray(d)&&(b=f,f=a,a=d,d=h);d=d||h;c.isObject(a)&&(b=f,f=a,a=[]);c.isString(j[j.length-1]);c.extend(k,d,f,b);if(a){k.__ks_exts=a;var e={},j=a.concat(k);c.each(j,function(b){b&&c.each(["ATTRS","HTML_PARSER"],function(d){if(b[d]){e[d]=
e[d]||{};c.mix(e[d],b[d],true,g,true)}})});c.each(e,function(b,d){k[d]=b});var s={};c.each(j,function(b){if(b){var b=b.prototype,d;for(d in b)b.hasOwnProperty(d)&&(s[d]=b[d])}});c.each(s,function(b,d){k.prototype[d]=b})}return k}});return h},{requires:["base","node"]});
KISSY.add("uibase/box",function(c){function e(){}e.ATTRS={html:{view:!0},width:{view:!0},height:{view:!0},elCls:{view:!0},elStyle:{view:!0},elAttrs:{view:!0},elBefore:{view:!0},el:{view:!0},render:{view:!0},visibleMode:{value:"display",view:!0},visible:{view:!0},srcNode:{view:!0}};e.HTML_PARSER={el:function(a){this.decorateInternal&&this.decorateInternal(c.one(a));return a}};e.prototype={_uiSetVisible:function(a){this.fire(a?"show":"hide")},show:function(){this.get("rendered")?this.set("visible",
!0):(this.set("visible",!0),this.render())},hide:function(){this.set("visible",!1)}};return e});
KISSY.add("uibase/boxrender",function(c,e){function a(){}function g(d,a,c,g,j,e,b){a=a||{};b=b||"";"string"!==typeof b&&(b="");c&&(a.width="number"==typeof c?c+"px":c);g&&(a.height="number"==typeof g?g+"px":g);var c="",h;for(h in a)a.hasOwnProperty(h)&&(c+=h+":"+a[h]+";");var a="",r;for(r in e)e.hasOwnProperty(r)&&(a+=" "+r+"='"+e[r]+"' ");return"<"+j+(c?" style='"+c+"' ":"")+a+(d?" class='"+d+"' ":"")+">"+b+"</"+j+">"}var h=c.all,j=c.Env.host.document;a.ATTRS={el:{setter:function(d){return h(d)}},
elCls:{sync:!1},elStyle:{sync:!1},width:{sync:!1},height:{sync:!1},elTagName:{sync:!1,value:"div"},elAttrs:{sync:!1},html:{sync:!1},elBefore:{},render:{},visible:{},visibleMode:{}};a.construct=g;a.HTML_PARSER={html:function(d){return d.html()}};a.prototype={__renderUI:function(){if(this.__boxRenderNew){var d=this.get("render"),a=this.get("el"),c=this.get("elBefore");c?a.insertBefore(c):d?a.appendTo(d):a.appendTo(j.body)}},__createDom:function(){var d=this.get("elCls"),a=this.get("elStyle"),c=this.get("width"),
j=this.get("height"),h=this.get("html"),l=this.get("elAttrs"),b=this.get("el");b?(d&&b.addClass(d),a&&b.css(a),void 0!==c&&b.width(c),void 0!==j&&b.height(j),l&&b.attr(l)):(this.__boxRenderNew=!0,b=new e(g(d,a,c,j,this.get("elTagName"),l,h)),this.__set("el",b))},_uiSetElAttrs:function(d){this.get("el").attr(d)},_uiSetElCls:function(d){this.get("el").addClass(d)},_uiSetElStyle:function(d){this.get("el").css(d)},_uiSetWidth:function(d){this.get("el").width(d)},_uiSetHeight:function(d){this.get("el").height(d)},
_uiSetHtml:function(d){this.get("el").html(d)},_uiSetVisible:function(d){var a=this.get("el");"visibility"==this.get("visibleMode")?a.css("visibility",d?"visible":"hidden"):a.css("display",d?"":"none")},__destructor:function(){var d=this.get("el");d&&d.remove()}};return a},{requires:["node"]});
KISSY.add("uibase/close",function(){function c(){}c.ATTRS={closable:{view:!0},closeAction:{value:"hide"}};var e={hide:"hide",destroy:"destroy"};c.prototype={__bindUI:function(){var a=this,c=a.get("view").get("closeBtn");c&&c.on("click",function(c){a[e[a.get("closeAction")]||"hide"]();c.preventDefault()})}};return c});
KISSY.add("uibase/closerender",function(c,e){function a(){}a.ATTRS={closable:{value:!0,sync:!1},closeBtn:{}};a.HTML_PARSER={closeBtn:function(a){return a.one("."+this.get("prefixCls")+"ext-close")}};a.prototype={_uiSetClosable:function(a){this.get("closeBtn")[a?"show":"hide"]()},__createDom:function(){var a=this.get("closeBtn"),c=this.get("closable"),j=this.get("el");if(a)a[c?"show":"hide"]();else a=(new e("<a tabindex='0' "+(c?"":"style='display:none'")+"href='javascript:void(\"\u5173\u95ed\")' role='button' class='"+
this.get("prefixCls")+"ext-close'><span class='"+this.get("prefixCls")+"ext-close-x'>\u5173\u95ed</span></a>")).appendTo(j),this.__set("closeBtn",a)},__destructor:function(){var a=this.get("closeBtn");a&&a.detach()}};return a},{requires:["node"]});
KISSY.add("uibase/constrain",function(c,e,a){function g(){}function h(j){var d;if(!j)return d;var f=this.get("el");!0!==j?(j=a.one(j),d=j.offset(),c.mix(d,{maxLeft:d.left+j.outerWidth()-f.outerWidth(),maxTop:d.top+j.outerHeight()-f.outerHeight()})):(j=c.Env.host.document.documentElement.clientWidth,d={left:e.scrollLeft(),top:e.scrollTop()},c.mix(d,{maxLeft:d.left+j-f.outerWidth(),maxTop:d.top+e.viewportHeight()-f.outerHeight()}));return d}g.ATTRS={constrain:{value:!1}};g.prototype={__renderUI:function(){var a=
this,d=a.getAttrs(),c=d.x,d=d.y,g=c.setter,e=d.setter;c.setter=function(d){var c=g&&g.call(a,d);void 0===c&&(c=d);if(!a.get("constrain"))return c;d=h.call(a,a.get("constrain"));return Math.min(Math.max(c,d.left),d.maxLeft)};d.setter=function(d){var c=e&&e.call(a,d);void 0===c&&(c=d);if(!a.get("constrain"))return c;d=h.call(a,a.get("constrain"));return Math.min(Math.max(c,d.top),d.maxTop)};a.addAttr("x",c);a.addAttr("y",d)}};return g},{requires:["dom","node"]});
KISSY.add("uibase/contentbox",function(){function c(){}c.ATTRS={content:{view:!0,sync:!1},contentEl:{view:!0},contentElAttrs:{view:!0},contentElStyle:{view:!0},contentTagName:{view:!0}};return c});
KISSY.add("uibase/contentboxrender",function(c,e,a){function g(){}g.ATTRS={contentEl:{},contentElAttrs:{},contentElCls:{},contentElStyle:{},contentTagName:{value:"div"},content:{sync:!1}};g.HTML_PARSER={content:function(a){return a[0].innerHTML}};var h=a.construct;g.prototype={__renderUI:function(){},__createDom:function(){var a,d=this.get("content"),f=this.get("el");a="";var g=c.makeArray(f[0].childNodes);g.length&&(a=f[0].innerHTML);d==a&&(d="");a=new e(h("ks-contentbox "+(this.get("contentElCls")||
""),this.get("contentElStyle"),void 0,void 0,this.get("contentTagName"),this.get("contentElAttrs"),d));a.appendTo(f);this.__set("contentEl",a);if(d)"string"!==typeof d&&a.append(d);else{d=0;for(f=g.length;d<f;d++)a.append(g[d])}},_uiSetContentElCls:function(a){this.get("contentEl").addClass(a)},_uiSetContentElAttrs:function(a){this.get("contentEl").attr(a)},_uiSetContentElStyle:function(a){this.get("contentEl").css(a)},_uiSetContent:function(a){"string"==typeof a?this.get("contentEl").html(a):this.get("contentEl").empty().append(a)}};
return g},{requires:["node","./boxrender"]});
KISSY.add("uibase/drag",function(c){function e(){}e.ATTRS={handlers:{value:[]},draggable:{value:!0}};e.prototype={_uiSetHandlers:function(a){a&&0<a.length&&this.__drag&&this.__drag.set("handlers",a)},__bindUI:function(){var a=c.require("dd/draggable"),g=this.get("el");this.get("draggable")&&a&&(this.__drag=new a({node:g}))},_uiSetDraggable:function(a){var c=this.__drag;c&&(a?(c.detach("drag"),c.on("drag",this._dragExtAction,this)):c.detach("drag"))},_dragExtAction:function(a){this.set("xy",[a.left,
a.top])},__destructor:function(){var a=this.__drag;a&&a.destroy()}};return e});KISSY.add("uibase/loading",function(){function c(){}c.prototype={loading:function(){this.get("view").loading()},unloading:function(){this.get("view").unloading()}};return c});
KISSY.add("uibase/loadingrender",function(c,e){function a(){}a.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new e("<div class='"+this.get("prefixCls")+"ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var a=this._loadingExtEl;a&&a.hide()}};return a},{requires:["node"]});
KISSY.add("uibase/mask",function(){function c(){}c.ATTRS={mask:{value:!1}};c.prototype={_uiSetMask:function(c){c?(this.on("show",this.get("view")._maskExtShow,this.get("view")),this.on("hide",this.get("view")._maskExtHide,this.get("view"))):(this.detach("show",this.get("view")._maskExtShow,this.get("view")),this.detach("hide",this.get("view")._maskExtHide,this.get("view")))}};return c},{requires:["ua"]});
KISSY.add("uibase/maskrender",function(c,e,a){function g(){return k?"expression(KISSY.DOM.docWidth())":"100%"}function h(){return k?"expression(KISSY.DOM.docHeight())":"100%"}function j(){f=p("<div  style='width:"+g()+";height:"+h()+";' class='"+this.get("prefixCls")+"ext-mask'/>").prependTo(n.document.body);f.css({position:k?"absolute":"fixed",left:0,top:0});k&&(l=p("<iframe style='position:absolute;left:0px;top:0px;background:red;width:"+g()+";height:"+h()+";filter:alpha(opacity=0);z-index:-1;'/>").insertBefore(f));
f.unselectable();f.on("mousedown click",function(a){a.halt()})}function d(){}var f,k=6===e.ie,p=a.all,n=c.Env.host;p(n.document);var l,b=0;d.prototype={_maskExtShow:function(){f||j.call(this);var a={"z-index":this.get("zIndex")-1},d={display:""};f.css(a);l&&l.css(a);b++;1==b&&(f.css(d),l&&l.css(d))},_maskExtHide:function(){b--;0>=b&&(b=0);if(!b){var a={display:"none"};f&&f.css(a);l&&l.css(a)}},__destructor:function(){this._maskExtHide()}};return d},{requires:["ua","node"]});
KISSY.add("uibase/position",function(c){function e(){}e.ATTRS={x:{view:!0},y:{view:!0},xy:{setter:function(a){var e=c.makeArray(a);e.length&&(e[0]&&this.set("x",e[0]),e[1]&&this.set("y",e[1]));return a},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:!0}};e.prototype={move:function(a,e){c.isArray(a)&&(e=a[1],a=a[0]);this.set("xy",[a,e])}};return e});
KISSY.add("uibase/positionrender",function(){function c(){}c.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};c.prototype={__createDom:function(){this.get("el").addClass(this.get("prefixCls")+"ext-position")},_uiSetZIndex:function(c){this.get("el").css("z-index",c)},_uiSetX:function(c){this.get("el").offset({left:c})},_uiSetY:function(c){this.get("el").offset({top:c})}};
return c});KISSY.add("uibase/resize",function(c){function e(){}e.ATTRS={resize:{value:{}}};e.prototype={__destructor:function(){var a=this.resizer;a&&a.destroy()},_uiSetResize:function(a){var e=c.require("resizable");e&&(this.resizer&&this.resizer.destroy(),a.node=this.get("el"),a.handlers&&(this.resizer=new e(a)))}};return e});
KISSY.add("uibase/shimrender",function(){function c(){}c.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return c});
KISSY.add("uibase/stdmod",function(){function c(){}c.ATTRS={header:{view:!0},body:{view:!0},footer:{view:!0},bodyStyle:{view:!0},footerStyle:{view:!0},headerStyle:{view:!0},headerContent:{view:!0},bodyContent:{view:!0},footerContent:{view:!0}};return c});
KISSY.add("uibase/stdmodrender",function(c,e){function a(){}function g(a,f){var h=a.get("contentEl"),g=a.get(f+"Style"),n=a.get(f+"Content"),l=c.isString(n),b=a.get(f);if(b)g&&b.css(g);else{b="";if(g)for(var q in g)g.hasOwnProperty(q)&&(b+=q+":"+g[q]+";");g=b;b=new e("<div class='"+a.get("prefixCls")+j+f+"' "+(g?"style='"+g+"'":"")+" >"+(l?n:"")+"</div>");l||b.append(n);b.appendTo(h);a.__set(f,b)}}function h(a,f,e){f=a.get(f);c.isString(e)?f.html(e):f.html("").append(e)}var j="stdmod-";a.ATTRS={header:{},
body:{},footer:{},bodyStyle:{sync:!1},footerStyle:{sync:!1},headerStyle:{sync:!1},headerContent:{sync:!1},bodyContent:{sync:!1},footerContent:{sync:!1}};a.HTML_PARSER={header:function(a){return a.one("."+this.get("prefixCls")+j+"header")},body:function(a){return a.one("."+this.get("prefixCls")+j+"body")},footer:function(a){return a.one("."+this.get("prefixCls")+j+"footer")}};a.prototype={__createDom:function(){g(this,"header");g(this,"body");g(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},
_uiSetHeaderStyle:function(a){this.get("header").css(a)},_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){h(this,"body",a)},_uiSetHeaderContent:function(a){h(this,"header",a)},_uiSetFooterContent:function(a){h(this,"footer",a)}};return a},{requires:["node"]});
KISSY.add("uibase",function(c,e,a,g,h,j,d,f,k,p,n,l,b,q,r,i,s,v,m,u,t){j.Render=d;l.Render=b;q.Render=r;i.Render=s;u.Render=t;g.Render=h;k.Render=p;c.mix(e,{Align:a,Box:g,Close:j,Constrain:f,ContentBox:k,Drag:n,Loading:l,Mask:q,Position:i,Shim:{Render:v},Resize:m,StdMod:u});return e},{requires:"uibase/base,uibase/align,uibase/box,uibase/boxrender,uibase/close,uibase/closerender,uibase/constrain,uibase/contentbox,uibase/contentboxrender,uibase/drag,uibase/loading,uibase/loadingrender,uibase/mask,uibase/maskrender,uibase/position,uibase/positionrender,uibase/shimrender,uibase/resize,uibase/stdmod,uibase/stdmodrender".split(",")});
