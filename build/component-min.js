/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: May 30 20:25
*/
KISSY.add("component/base",function(f,h,d){function a(){var e=f.makeArray(arguments),g=e[e.length-1];e.unshift(this);g.xclass&&(e.pop(),e.push(g.xclass));e=h.create.apply(h,e);g.xclass&&d.setUIConstructorByCssClass(g.xclass,{ui:e,priority:g.priority});e.extend=a;return e}return{UIStore:d,UIBase:h,define:function(){var e=f.makeArray(arguments),g;g=e.shift();return a.apply(g,e)}}},{requires:["./uibase","./uistore"]});
KISSY.add("component",function(f,h,d,a,e,g,c,k){f.mix(h,{Controller:d,Render:a,Container:e,DelegateChildren:g,DecorateChild:k,DecorateChildren:c});return h},{requires:"component/base,component/controller,component/render,component/container,component/delegateChildren,component/decorateChildren,component/decorateChild".split(",")});KISSY.add("component/container",function(f,h,d,a){return h.extend([d,a],{})},{requires:["./controller","./delegateChildren","./decorateChildren"]});
KISSY.add("component/controller",function(f,h,d,a,e,g,c){function k(j){return function(o){var o=o.newVal,b=this.get("view");b&&b.set(j,o)}}function i(j){return function(b){var e=this.get("view");return b===c?e&&e.get(j):b}}function p(j,b,c){j.create();var e=j.getContentElement(),b=q(b,j);b.__set("parent",j);b.set("render",e);b.set("elBefore",c);j.get("rendered")?b.render():b.create();return b}function l(j,b){var c=j.relatedTarget;return c&&(c===b[0]||b.contains(c))}function q(j,c){j instanceof b||
(c&&!j.prefixCls&&(j.prefixCls=c.get("prefixCls")),j=new (e.getUIConstructorByCssClass(j.xclass))(j));return j}var b=d.define([a.Box],{getCssClassWithPrefix:e.getCssClassWithPrefix,initializer:function(){var j=this.__attrs||{},b;for(b in j)if(j.hasOwnProperty(b)){var c=j[b];c.view&&(this.on("after"+f.ucfirst(b)+"Change",k(b)),c.getter=i(b))}},createDom:function(){var j;if(!(j=this.get("view"))){var a=this.constructor;j={};for(var g;a&&!g;)g=a.DefaultRender,a=a.superclass&&a.superclass.constructor;
if(g){var a=this.__attrs||{},d;for(d in a)if(a.hasOwnProperty(d)){var f;if(a[d].view&&(f=this.get(d))!==c)j[d]=f}j=new g(j)}else j=0}g=j;d=this.constructor;for(f=[];d&&d!=b;)(j=e.getCssClassByUIConstructor(d))&&f.push(j),d=d.superclass&&d.superclass.constructor;g.__componentClasses=f.join(" ");g.create();d=g.getKeyEventTarget();this.get("focusable")?d.attr("tabIndex",0):d.unselectable(c);this.__set("view",g)},renderUI:function(){var j,b;this.get("view").render();var c=this.get("children");for(j=0;j<
c.length;j++)b=c[j],b=p(this,b),c[j]=b,b.render()},bindUI:function(){var b,c,a=this.get("listeners");c=this.get("focusable");var g=this.get("handleMouseEvents"),e=this.getKeyEventTarget();if(c)e.on("focus",this.handleFocus,this).on("blur",this.handleBlur,this).on("keydown",this.handleKeydown,this);g&&(e=this.get("el"),e.on("mouseenter",this.handleMouseEnter,this).on("mouseleave",this.handleMouseLeave,this).on("mousedown",this.handleMouseDown,this).on("mouseup",this.handleMouseUp,this).on("dblclick",
this.handleDblClick,this));for(b in a)c=a[b],this.on(b,c.fn,c.scope)},_uiSetFocused:function(b){b&&this.getKeyEventTarget()[0].focus()},getContentElement:function(){var b=this.get("view");return b&&b.getContentElement()},getKeyEventTarget:function(){var b=this.get("view");return b&&b.getKeyEventTarget()},addChild:function(b,a){var e=this.get("children"),g;a===c&&(a=e.length);g=e[a]&&e[a].get("el")||null;b=p(this,b,g);e.splice(a,0,b)},removeChild:function(b,c){var a=this.get("children"),e=f.indexOf(b,
a);-1!=e&&a.splice(e,1);c&&b.destroy();return b},removeChildren:function(b){var c,a=[].concat(this.get("children"));for(c=0;c<a.length;c++)this.removeChild(a[c],b);this.__set("children",[])},getChildAt:function(b){return this.get("children")[b]||null},handleDblClick:function(b){if(this.get("disabled"))return!0;this.performActionInternal(b)},handleMouseOver:function(b){var c=this.get("el");if(this.get("disabled"))return!0;l(b,c)||this.handleMouseEnter(b)},handleMouseOut:function(b){var c=this.get("el");
if(this.get("disabled"))return!0;l(b,c)||this.handleMouseLeave(b)},handleMouseEnter:function(b){if(this.get("disabled"))return!0;this.set("highlighted",!!b)},handleMouseLeave:function(b){if(this.get("disabled"))return!0;this.set("active",!1);this.set("highlighted",!b)},handleMouseDown:function(b){var c=1==b.which;if(this.get("disabled"))return!0;c&&(c=this.getKeyEventTarget(),this.get("activeable")&&this.set("active",!0),this.get("focusable")?(c[0].focus(),this.set("focused",!0)):(c=(c=b.target.nodeName)&&
c.toLowerCase(),"input"!=c&&"textarea"!=c&&b.preventDefault()))},handleMouseUp:function(b){if(this.get("disabled"))return!0;this.get("active")&&1==b.which&&(this.performActionInternal(b),this.set("active",!1))},handleFocus:function(b){this.set("focused",!!b)},handleBlur:function(b){this.set("focused",!b)},handleKeyEventInternal:function(b){if(b.keyCode==h.KeyCodes.ENTER)return this.performActionInternal(b)},handleKeydown:function(b){if(this.get("disabled"))return!0;this.handleKeyEventInternal(b)&&
b.halt()},performActionInternal:function(){},destructor:function(){var b,c=this.get("children");for(b=0;b<c.length;b++)c[b].destroy();(b=this.get("view"))&&b.destroy()}},{ATTRS:{handleMouseEvents:{value:!0},focusable:{view:!0,value:!0},activeable:{value:!0},focused:{view:!0},active:{view:!0},highlighted:{view:!0},children:{value:[]},prefixCls:{view:!0,value:"ks-"},parent:{},view:{},disabled:{view:!0},listeners:{value:{}}},DefaultRender:g});d.create=q;return b},{requires:["event","./base","./uibase",
"./uistore","./render"]});KISSY.add("component/decorateChild",function(f,h){function d(){}f.augment(d,h,{decorateInternal:function(a){this.set("el",a);var e=this.get("decorateChildCls");if(a=a.one("."+this.getCssClassWithPrefix(e)))(e=this.findUIConstructorByNode(a))?this.decorateChildrenInternal(e,a):this.decorateChildren(a)}});return d},{requires:["./decorateChildren"]});
KISSY.add("component/decorateChildren",function(f,h){function d(){}f.augment(d,{decorateInternal:function(a){this.set("el",a);this.decorateChildren(a)},findUIConstructorByNode:function(a){var a=a.attr("class")||"",e=this.get("prefixCls"),a=a.replace(RegExp("\\b"+e,"ig"),"");return h.getUIConstructorByCssClass(a)},decorateChildrenInternal:function(a,e){this.addChild(new a({srcNode:e,prefixCls:this.get("prefixCls")}))},decorateChildren:function(a){var e=this;a.children().each(function(a){var c=e.findUIConstructorByNode(a);
e.decorateChildrenInternal(c,a)})}});return d},{requires:["./uistore"]});
KISSY.add("component/delegateChildren",function(f){function h(){}function d(a){var e=this.getOwnerControl(a.target);if(e)switch(a.type){case "mousedown":e.handleMouseDown(a);break;case "mouseup":e.handleMouseUp(a);break;case "mouseover":e.handleMouseOver(a);break;case "mouseout":e.handleMouseOut(a);break;case "dblclick":e.handleDblClick(a)}}f.augment(h,{__bindUI:function(){this.get("el").on("mousedown mouseup mouseover mouseout dblclick",d,this)},getOwnerControl:function(a){for(var e=this.get("children"),
g=e.length,c=this.get("el")[0];a&&a!==c;){for(var d=0;d<g;d++)if(e[d].get("el")[0]===a)return e[d];a=a.parentNode}return null}});return h});
KISSY.add("component/render",function(f,h,d,a){return h.define([d.Box.Render],{getComponentCssClassWithState:function(a){var g=this.__componentClasses,a=a||"";return this.getCssClassWithPrefix(g.split(/\s+/).join(a+" ")+a)},getCssClassWithPrefix:a.getCssClassWithPrefix,createDom:function(){this.get("el").addClass(this.getComponentCssClassWithState())},getKeyEventTarget:function(){return this.get("el")},getContentElement:function(){return this.get("contentEl")||this.get("el")},_uiSetHighlighted:function(a){var g=
this.getComponentCssClassWithState("-hover");this.get("el")[a?"addClass":"removeClass"](g)},_uiSetDisabled:function(a){var g=this.getComponentCssClassWithState("-disabled");this.get("el")[a?"addClass":"removeClass"](g).attr("aria-disabled",a);this.get("focusable")&&this.getKeyEventTarget().attr("tabIndex",a?-1:0)},_uiSetActive:function(a){var g=this.getComponentCssClassWithState("-active");this.get("el")[a?"addClass":"removeClass"](g).attr("aria-pressed",!!a)},_uiSetFocused:function(a){var g=this.get("el"),
c=this.getComponentCssClassWithState("-focused");g[a?"addClass":"removeClass"](c)}},{ATTRS:{prefixCls:{},focusable:{},focused:{},active:{},disabled:{},highlighted:{}}})},{requires:["./base","./uibase","./uistore"]});
KISSY.add("component/uibase",function(f,h,d,a,e,g,c,k,i,p,l,q,b,j,o,r,t,v,m,n,u){g.Render=c;q.Render=b;j.Render=o;r.Render=t;n.Render=u;a.Render=e;i.Render=p;f.mix(h,{Align:d,Box:a,Close:g,Constrain:k,ContentBox:i,Drag:l,Loading:q,Mask:j,Position:r,Shim:{Render:v},Resize:m,StdMod:n});return h},{requires:"./uibase/base,./uibase/align,./uibase/box,./uibase/boxrender,./uibase/close,./uibase/closerender,./uibase/constrain,./uibase/contentbox,./uibase/contentboxrender,./uibase/drag,./uibase/loading,./uibase/loadingrender,./uibase/mask,./uibase/maskrender,./uibase/position,./uibase/positionrender,./uibase/shimrender,./uibase/resize,./uibase/stdmod,./uibase/stdmodrender".split(",")});
KISSY.add("component/uibase/align",function(f,h,d,a){function e(b){var c=b.ownerDocument.body,a=d.css(b,"position");if(!("fixed"==a||"absolute"==a))return"html"==b.nodeName.toLowerCase()?null:b.parentNode;for(b=b.parentNode;b&&b!=c;b=b.parentNode)if(a=d.css(b,"position"),"static"!=a)return b;return null}function g(b){var c,a,g={left:0,right:Infinity,top:0,bottom:Infinity},f;a=b.ownerDocument;c=a.body;for(a=a.documentElement;b=e(b);)if((!h.ie||0!=b.clientWidth)&&b!=c&&b!=a&&"visible"!=d.css(b,"overflow"))f=
d.offset(b),f.left+=b.clientLeft,f.top+=b.clientTop,g.top=Math.max(g.top,f.top),g.right=Math.min(g.right,f.left+b.clientWidth),g.bottom=Math.min(g.bottom,f.top+b.clientHeight),g.left=Math.max(g.left,f.left);b=d.scrollLeft();f=d.scrollTop();g.left=Math.max(g.left,b);g.top=Math.max(g.top,f);c=d.viewportWidth();a=d.viewportHeight();g.right=Math.min(g.right,b+c);g.bottom=Math.min(g.bottom,f+a);return 0<=g.top&&0<=g.left&&g.bottom>g.top&&g.right>g.left?g:null}function c(b,c,a,g){var e,d;e=b.left;d=b.top;
c=l(c,a[0]);b=l(b,a[1]);b=[b.left-c.left,b.top-c.top];return{left:e-b[0]+ +g[0],top:d-b[1]+ +g[1]}}function k(b,c,a){var g=[];f.each(b,function(b){g.push(b.replace(c,function(b){return a[b]}))});return g}function i(){}function p(b){var c,a;f.isWindow(b[0])?(c={left:d.scrollLeft(),top:d.scrollTop()},a=d.viewportWidth(),b=d.viewportHeight()):(c=b.offset(),a=b.outerWidth(),b=b.outerHeight());c.width=a;c.height=b;return c}function l(b,c){var a=c.charAt(0),g=c.charAt(1),e=b.width,d=b.height,f,h;f=b.left;
h=b.top;"c"===a?h+=d/2:"b"===a&&(h+=d);"c"===g?f+=e/2:"r"===g&&(f+=e);return{left:f,top:h}}var q=f.Env.host;i.__getOffsetParent=e;i.__getVisibleRectForElement=g;i.ATTRS={align:{}};i.prototype={_uiSetAlign:function(b){b&&this.align(b.node,b.points,b.offset,b.overflow)},align:function(b,e,d,h){var b=a.one(b||q),d=d&&[].concat(d)||[0,0],h=h||{},i=this.get("el"),l=0,m=g(i[0]),n=p(i),u=p(b),b=c(n,u,e,d),s=f.merge(n,b);if(m&&(h.adjustX||h.adjustY)){if(b.left<m.left||b.left+n.width>m.right)l=1,e=k(e,/[lr]/ig,
{l:"r",r:"l"}),d[0]=-d[0];if(b.top<m.top||b.top+n.height>m.bottom)l=1,e=k(e,/[tb]/ig,{t:"b",b:"t"}),d[1]=-d[1];l&&(b=c(n,u,e,d),f.mix(s,b));e={};e.adjustX=h.adjustX&&(b.left<m.left||b.left+n.width>m.right);e.adjustY=h.adjustY&&(b.top<m.top||b.top+n.height>m.bottom);if(e.adjustX||e.adjustY)h=f.clone(b),l={width:n.width,height:n.height},e.adjustX&&h.left<m.left&&(h.left=m.left),e.resizeWidth&&h.left>=m.left&&h.left+l.width>m.right&&(l.width-=h.left+l.width-m.right),e.adjustX&&h.left+l.width>m.right&&
(h.left=Math.max(m.right-l.width,m.left)),e.adjustY&&h.top<m.top&&(h.top=m.top),e.resizeHeight&&h.top>=m.top&&h.top+l.height>m.bottom&&(l.height-=h.top+l.height-m.bottom),e.adjustY&&h.top+l.height>m.bottom&&(h.top=Math.max(m.bottom-l.height,m.top)),s=f.mix(h,l)}s.left!=n.left&&this.set("x",s.left);s.top!=n.top&&this.set("y",s.top);s.width!=n.width&&i.width(i.width()+s.width-n.width);s.height!=n.height&&i.height(i.height()+s.height-n.height);return this},center:function(b){this.set("align",{node:b,
points:["cc","cc"],offset:[0,0]});return this}};return i},{requires:["ua","dom","node"]});
KISSY.add("component/uibase/base",function(f,h,d,a){function e(a){h.apply(this,arguments);for(var e=a,i=this.constructor;i;){if(e&&e[c]&&i.HTML_PARSER&&(e[c]=d.one(e[c]))){var b=e[c],k=i.HTML_PARSER,o=void 0,r=void 0;for(o in k)k.hasOwnProperty(o)&&(r=k[o],f.isFunction(r)?this.__set(o,r.call(this,b)):f.isString(r)?this.__set(o,b.one(r)):f.isArray(r)&&r[0]&&this.__set(o,b.all(r[0])))}i=i.superclass&&i.superclass.constructor}g(this,"initializer","constructor");a&&a.autoRender&&this.render()}function g(c,
a,g){for(var b=c.constructor,e=[],d,f,h,i;b;){i=[];if(h=b.__ks_exts)for(var k=0;k<h.length;k++)if(d=h[k])"constructor"!=g&&(d=d.prototype.hasOwnProperty(g)?d.prototype[g]:null),d&&i.push(d);b.prototype.hasOwnProperty(a)&&(f=b.prototype[a])&&i.push(f);i.length&&e.push.apply(e,i.reverse());b=b.superclass&&b.superclass.constructor}for(k=e.length-1;0<=k;k--)e[k]&&e[k].call(c)}var c="srcNode",k=f.ucfirst,i=f.noop;e.HTML_PARSER={};e.ATTRS={rendered:{value:!1},created:{value:!1}};f.extend(e,h,{create:function(){this.get("created")||
(this._createDom(),this.fire("createDom"),g(this,"createDom","__createDom"),this.fire("afterCreateDom"),this.__set("created",!0));return this},render:function(){this.get("rendered")||(this.create(),this._renderUI(),this.fire("renderUI"),g(this,"renderUI","__renderUI"),this.fire("afterRenderUI"),this._bindUI(),this.fire("bindUI"),g(this,"bindUI","__bindUI"),this.fire("afterBindUI"),this._syncUI(),this.fire("syncUI"),g(this,"syncUI","__syncUI"),this.fire("afterSyncUI"),this.__set("rendered",!0));return this},
createDom:i,_createDom:i,_renderUI:i,renderUI:i,_bindUI:function(){var c=this,a=c.__attrs,g,b;for(g in a)a.hasOwnProperty(g)&&(b="_uiSet"+k(g),c[b]&&function(b,a){c.on("after"+k(b)+"Change",function(b){c[a](b.newVal,b)})}(g,b))},bindUI:i,_syncUI:function(){var c,g,e=this.__attrs,b;for(b in e)e.hasOwnProperty(b)&&(g=this["_uiSet"+k(b)])&&!1!==e[b].sync&&(c=this.get(b))!==a&&g.call(this,c)},syncUI:i,destroy:function(){for(var c=this.constructor,a,g,b;c;){c.prototype.hasOwnProperty("destructor")&&c.prototype.destructor.apply(this);
if(a=c.__ks_exts)for(b=a.length-1;0<=b;b--)(g=a[b]&&a[b].prototype.__destructor)&&g.apply(this);c=c.superclass&&c.superclass.constructor}this.fire("destroy");this.detach();return this}},{create:function(c,g,d,b){function h(){e.apply(this,arguments)}var i=f.makeArray(arguments);f.isArray(c)&&(b=d,d=g,g=c,c=e);c=c||e;f.isObject(g)&&(b=d,d=g,g=[]);f.isString(i[i.length-1]);f.extend(h,c,d,b);if(g){h.__ks_exts=g;var k={},i=g.concat(h);f.each(i,function(b){b&&f.each(["ATTRS","HTML_PARSER"],function(c){if(b[c]){k[c]=
k[c]||{};f.mix(k[c],b[c],true,a,true)}})});f.each(k,function(b,c){h[c]=b});var t={};f.each(i,function(b){if(b){var b=b.prototype,c;for(c in b)b.hasOwnProperty(c)&&(t[c]=b[c])}});f.each(t,function(b,c){h.prototype[c]=b})}return h}});return e},{requires:["base","node"]});
KISSY.add("component/uibase/box",function(f){function h(){}h.ATTRS={html:{view:!0},width:{view:!0},height:{view:!0},elCls:{view:!0},elStyle:{view:!0},elAttrs:{view:!0},elBefore:{view:!0},el:{view:!0},render:{view:!0},visibleMode:{value:"display",view:!0},visible:{view:!0},srcNode:{view:!0}};h.HTML_PARSER={el:function(d){this.decorateInternal&&this.decorateInternal(f.one(d));return d}};h.prototype={_uiSetVisible:function(d){this.fire(d?"show":"hide")},show:function(){this.get("rendered")?this.set("visible",
!0):(this.set("visible",!0),this.render());return this},hide:function(){this.set("visible",!1);return this}};return h});
KISSY.add("component/uibase/boxrender",function(f,h){function d(){}function a(c,a,g,e,d,f,b){a=a||{};b=b||"";"string"!==typeof b&&(b="");g&&(a.width="number"==typeof g?g+"px":g);e&&(a.height="number"==typeof e?e+"px":e);var g="",h;for(h in a)a.hasOwnProperty(h)&&(g+=h+":"+a[h]+";");var a="",o;for(o in f)f.hasOwnProperty(o)&&(a+=" "+o+"='"+f[o]+"' ");return"<"+d+(g?" style='"+g+"' ":"")+a+(c?" class='"+c+"' ":"")+">"+b+"</"+d+">"}var e=f.all,g=f.Env.host.document;d.ATTRS={el:{setter:function(c){return e(c)}},
elCls:{sync:!1},elStyle:{sync:!1},width:{sync:!1},height:{sync:!1},elTagName:{sync:!1,value:"div"},elAttrs:{sync:!1},html:{sync:!1},elBefore:{},render:{},visible:{},visibleMode:{}};d.construct=a;d.HTML_PARSER={html:function(c){return c.html()}};d.prototype={__renderUI:function(){if(this.__boxRenderNew){var c=this.get("render"),a=this.get("el"),e=this.get("elBefore");e?a.insertBefore(e):c?a.appendTo(c):a.appendTo(g.body)}},__createDom:function(){var c=this.get("elCls"),g=this.get("elStyle"),e=this.get("width"),
d=this.get("height"),f=this.get("html"),q=this.get("elAttrs"),b=this.get("el");b?(c&&b.addClass(c),g&&b.css(g),void 0!==e&&b.width(e),void 0!==d&&b.height(d),q&&b.attr(q)):(this.__boxRenderNew=!0,b=new h(a(c,g,e,d,this.get("elTagName"),q,f)),this.__set("el",b))},_uiSetElAttrs:function(c){this.get("el").attr(c)},_uiSetElCls:function(c){this.get("el").addClass(c)},_uiSetElStyle:function(c){this.get("el").css(c)},_uiSetWidth:function(c){this.get("el").width(c)},_uiSetHeight:function(c){this.get("el").height(c)},
_uiSetHtml:function(c){this.get("el").html(c)},_uiSetVisible:function(c){var a=this.get("el");"visibility"==this.get("visibleMode")?a.css("visibility",c?"visible":"hidden"):a.css("display",c?"":"none")},__destructor:function(){var c=this.get("el");c&&c.remove()}};return d},{requires:["node"]});
KISSY.add("component/uibase/close",function(){function f(){}f.ATTRS={closable:{value:!0,view:!0},closeAction:{value:"hide"}};var h={hide:"hide",destroy:"destroy"};f.prototype={__bindUI:function(){var d=this,a=d.get("view").get("closeBtn");a&&a.on("click",function(a){d[h[d.get("closeAction")]||"hide"]();a.preventDefault()})}};return f});
KISSY.add("component/uibase/closerender",function(f,h){function d(){}d.ATTRS={closable:{},closeBtn:{}};d.HTML_PARSER={closeBtn:function(a){return a.one(".ks-ext-close")}};d.prototype={_uiSetClosable:function(a){this.get("closeBtn")[a?"show":"hide"]()},__createDom:function(){var a=this.get("closeBtn"),e=this.get("closable"),g=this.get("el");if(a)a[e?"show":"hide"]();else a=(new h("<a tabindex='0' "+(e?"":"style='display:none'")+"href='javascript:void(\"\u5173\u95ed\")' role='button' class='ks-ext-close'><span class='ks-ext-close-x'>\u5173\u95ed</span></a>")).appendTo(g),
this.__set("closeBtn",a)},__destructor:function(){var a=this.get("closeBtn");a&&a.detach()}};return d},{requires:["node"]});
KISSY.add("component/uibase/constrain",function(f,h,d){function a(){}function e(a){var c=null;if(!a)return c;var e=this.get("el");!0!==a?(a=d.one(a),c=a.offset(),f.mix(c,{maxLeft:c.left+a.outerWidth()-e.outerWidth(),maxTop:c.top+a.outerHeight()-e.outerHeight()})):(c={left:h.scrollLeft(),top:h.scrollTop()},f.mix(c,{maxLeft:c.left+h.viewportWidth()-e.outerWidth(),maxTop:c.top+h.viewportHeight()-e.outerHeight()}));return c}a.ATTRS={constrain:{value:!1}};a.prototype={__renderUI:function(){var a=this,
c=a.getAttrs(),d=c.x,c=c.y,f=d.setter,h=c.setter;d.setter=function(c){var d=f&&f.call(a,c);void 0===d&&(d=c);if(!a.get("constrain"))return d;c=e.call(a,a.get("constrain"));return Math.min(Math.max(d,c.left),c.maxLeft)};c.setter=function(c){var d=h&&h.call(a,c);void 0===d&&(d=c);if(!a.get("constrain"))return d;c=e.call(a,a.get("constrain"));return Math.min(Math.max(d,c.top),c.maxTop)};a.addAttr("x",d);a.addAttr("y",c)}};return a},{requires:["dom","node"]});
KISSY.add("component/uibase/contentbox",function(){function f(){}f.ATTRS={content:{view:!0,sync:!1},contentEl:{view:!0},contentElAttrs:{view:!0},contentElStyle:{view:!0},contentTagName:{view:!0}};return f});
KISSY.add("component/uibase/contentboxrender",function(f,h,d){function a(){}a.ATTRS={contentEl:{},contentElAttrs:{},contentElCls:{},contentElStyle:{},contentTagName:{value:"div"},content:{sync:!1}};a.HTML_PARSER={content:function(a){return a[0].innerHTML}};var e=d.construct;a.prototype={__renderUI:function(){},__createDom:function(){var a,c=this.get("content"),d=this.get("el");a="";var i=f.makeArray(d[0].childNodes);i.length&&(a=d[0].innerHTML);c==a&&(c="");a=new h(e("ks-contentbox "+(this.get("contentElCls")||
""),this.get("contentElStyle"),void 0,void 0,this.get("contentTagName"),this.get("contentElAttrs"),c));a.appendTo(d);this.__set("contentEl",a);if(c)"string"!==typeof c&&a.append(c);else{c=0;for(d=i.length;c<d;c++)a.append(i[c])}},_uiSetContentElCls:function(a){this.get("contentEl").addClass(a)},_uiSetContentElAttrs:function(a){this.get("contentEl").attr(a)},_uiSetContentElStyle:function(a){this.get("contentEl").css(a)},_uiSetContent:function(a){"string"==typeof a?this.get("contentEl").html(a):this.get("contentEl").empty().append(a)}};
return a},{requires:["node","./boxrender"]});
KISSY.add("component/uibase/drag",function(f){function h(){}function d(a){this.set("xy",[a.left,a.top])}h.ATTRS={handlers:{value:[]},draggable:{value:!0}};h.prototype={_uiSetHandlers:function(a){var e;a&&0<a.length&&(e=this.__drag)&&e.set("handlers",a)},__bindUI:function(){var a=f.require("dd")||{},e=a.Draggable,g=this,c=g.get("draggable"),h=g.get("el");if(c&&e){!0===c&&(c={});e=g.__drag=new e({node:h,move:c.proxy});if(c.proxy){c.proxy.moveOnEnd=!1;e.on("dragend",function(){var a=i.get("proxyNode").offset();
h.css("visibility","");g.set("x",a.left);g.set("y",a.top)});var i=g.__proxy=new a.Proxy(c.proxy);i.attachDrag(e)}else e.on("drag",d,g);c.scroll&&(g.__scroll=new a.Scroll(c.scroll)).attachDrag(e)}},_uiSetDraggable:function(a){var e=this.__drag;e&&e.set("disabled",!a)},__destructor:function(){var a=this.__proxy,e=this.__scroll,d=this.__drag;d&&d.destroy();e&&e.destroy();a&&a.destroy()}};return h});
KISSY.add("component/uibase/loading",function(){function f(){}f.prototype={loading:function(){this.get("view").loading();return this},unloading:function(){this.get("view").unloading();return this}};return f});
KISSY.add("component/uibase/loadingrender",function(f,h){function d(){}d.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new h("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var a=this._loadingExtEl;a&&a.hide()}};return d},{requires:["node"]});
KISSY.add("component/uibase/mask",function(){function f(){}f.ATTRS={mask:{value:!1},maskNode:{view:!0},maskShared:{value:!0,view:!0}};f.prototype={__bindUI:function(){var f=this.get("view"),d=f._maskExtShow,a=f._maskExtHide;this.get("mask")&&(this.on("show",d,f),this.on("hide",a,f))}};return f},{requires:["ua"]});
KISSY.add("component/uibase/maskrender",function(f,h,d){function a(a){a=k("<div  style='width:"+(c?"expression(KISSY.DOM.docWidth())":"100%")+";left:0;top:0;height:"+(c?"expression(KISSY.DOM.docHeight())":"100%")+";position:"+(c?"absolute":"fixed")+";' class='"+a+"'>"+(c?"<iframe style='position:absolute;left:0;top:0;background:red;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'></iframe>":"")+"</div>").prependTo("body");
a.unselectable();a.on("mousedown",function(a){a.preventDefault()});return a}function e(){}var g={},c=6===h.ie,k=d.all;e.prototype={_maskExtShow:function(){var c=this.get("prefixCls")+"ext-mask",e=g[c],d=this.get("maskShared"),f=this.get("maskNode");f||(d?e?f=e.node:(f=a(c),e=g[c]={num:0,node:f}):f=a(c),this.__set("maskNode",f));f.css("z-index",this.get("zIndex")-1);d&&e.num++;(!d||1==e.num)&&f.show()},_maskExtHide:function(){var a=this.get("prefixCls")+"ext-mask",a=g[a],c=this.get("maskShared"),e=
this.get("maskNode");c&&a?(a.num=Math.max(a.num-1,0),0==a.num&&e.hide()):e.hide()},__destructor:function(){var a=this.get("maskShared"),c=this.get("maskNode");this.get("mask")&&(a?this.get("visible")&&this._maskExtHide():c.remove())}};return e},{requires:["ua","node"]});
KISSY.add("component/uibase/position",function(f){function h(){}h.ATTRS={x:{view:!0},y:{view:!0},xy:{setter:function(d){var a=f.makeArray(d);a.length&&(a[0]&&this.set("x",a[0]),a[1]&&this.set("y",a[1]));return d},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:!0}};h.prototype={move:function(d,a){f.isArray(d)&&(a=d[1],d=d[0]);this.set("xy",[d,a]);return this}};return h});
KISSY.add("component/uibase/positionrender",function(){function f(){}f.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};f.prototype={__createDom:function(){this.get("el").addClass("ks-ext-position")},_uiSetZIndex:function(f){this.get("el").css("z-index",f)},_uiSetX:function(f){this.get("el").offset({left:f})},_uiSetY:function(f){this.get("el").offset({top:f})}};return f});
KISSY.add("component/uibase/resize",function(f){function h(){}h.ATTRS={resize:{value:{}}};h.prototype={__destructor:function(){var d=this.resizer;d&&d.destroy()},_uiSetResize:function(d){var a=f.require("resizable");this.resizer&&this.resizer.destroy();a&&d&&(d.node=this.get("el"),this.resizer=new a(d))}};return h});
KISSY.add("component/uibase/shimrender",function(){function f(){}f.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return f});
KISSY.add("component/uibase/stdmod",function(){function f(){}f.ATTRS={header:{view:!0},body:{view:!0},footer:{view:!0},bodyStyle:{view:!0},footerStyle:{view:!0},headerStyle:{view:!0},headerContent:{view:!0},bodyContent:{view:!0},footerContent:{view:!0}};return f});
KISSY.add("component/uibase/stdmodrender",function(f,h){function d(){}function a(a,e){var d=a.get("contentEl"),p=a.get(e+"Style"),l=a.get(e+"Content"),q=f.isString(l),b=a.get(e);if(b)p&&b.css(p);else{b="";if(p)for(var j in p)p.hasOwnProperty(j)&&(b+=j+":"+p[j]+";");p=b;b=new h("<div class='"+g+e+"' "+(p?"style='"+p+"'":"")+" >"+(q?l:"")+"</div>");q||b.append(l);b.appendTo(d);a.__set(e,b)}}function e(a,e,d){e=a.get(e);f.isString(d)?e.html(d):e.html("").append(d)}var g="ks-stdmod-";d.ATTRS={header:{},
body:{},footer:{},bodyStyle:{sync:!1},footerStyle:{sync:!1},headerStyle:{sync:!1},headerContent:{sync:!1},bodyContent:{sync:!1},footerContent:{sync:!1}};d.HTML_PARSER={header:function(a){return a.one("."+g+"header")},body:function(a){return a.one("."+g+"body")},footer:function(a){return a.one("."+g+"footer")}};d.prototype={__createDom:function(){a(this,"header");a(this,"body");a(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},
_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){e(this,"body",a)},_uiSetHeaderContent:function(a){e(this,"header",a)},_uiSetFooterContent:function(a){e(this,"footer",a)}};return d},{requires:["node"]});
KISSY.add("component/uistore",function(f){function h(a){for(var a=f.trim(a).split(/\s+/),d=0;d<a.length;d++)a[d]&&(a[d]=this.get("prefixCls")+a[d]);return a.join(" ")}var d={},a={getCssClassWithPrefix:h,getCssClassByUIConstructor:function(a){for(var g in d)if(d[g].ui==a)return g;return 0},getUIConstructorByCssClass:function(a){for(var a=a.split(/\s+/),g=null,c=0;c<a.length;c++){var f=d[a[c]];f&&-1<f.priority&&(g=f.ui)}return g},setUIConstructorByCssClass:function(a,f){d[a]=f}};a.getCssClassWithPrefix=
h;return a});
