/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Jun 18 17:02
*/
KISSY.add("component/base",function(f,g,e){function d(){var b=f.makeArray(arguments),a=b[b.length-1];b.unshift(this);a.xclass&&(b.pop(),b.push(a.xclass));b=g.create.apply(g,b);a.xclass&&e.setConstructorByXClass(a.xclass,{constructor:b,priority:a.priority});b.extend=d;return b}return{Manager:e,UIBase:g,create:function(b,a){var c;if(b&&(c=b.xclass))a&&!b.prefixCls&&(b.prefixCls=a.get("prefixCls")),c=e.getConstructorByXClass(c),b=new c(b);return b},define:function(){var b=f.makeArray(arguments),a;a=
b.shift();return d.apply(a,b)}}},{requires:["./uibase","./manager"]});KISSY.add("component",function(f,g,e,d,b,a,c,j){f.mix(g,{Controller:e,Render:d,Container:b,DelegateChildren:a,DecorateChild:j,DecorateChildren:c});return g},{requires:"component/base,component/controller,component/render,component/container,component/delegateChildren,component/decorateChildren,component/decorateChild".split(",")});
KISSY.add("component/container",function(f,g,e,d){return g.extend([e,d],{})},{requires:["./controller","./delegateChildren","./decorateChildren"]});
KISSY.add("component/controller",function(f,g,e,d,b,a,c){function j(h){return function(o){if(this==o.target){var o=o.newVal,a=this.get("view");a&&a.set(h,o)}}}function n(h){return function(o){var a=this.get("view");return o===c?a&&a.get(h):o}}function q(h,o,a){h.create();var b=h.getContentElement(),o=e.create(o,h);o.__set("parent",h);o.set("render",b);o.set("elBefore",a);h.get("rendered")?o.render():o.create(c);return o}function k(h,o){var a=h.relatedTarget;return a&&(a===o[0]||o.contains(a))}var l=
e.define([d.Box],{getCssClassWithPrefix:b.getCssClassWithPrefix,initializer:function(){this.get("view")},createDom:function(){for(var h=this.get("view"),a=this.constructor,d=[];a&&a!=l;){var i=b.getXClassByConstructor(a);i&&d.push(i);a=a.superclass&&a.superclass.constructor}h.__componentClasses=d.join(" ");h.create();a=h.getKeyEventTarget();this.get("focusable")?a.attr("tabIndex",0):a.unselectable(c);this.__set("view",h)},renderUI:function(){var h,a;this.get("view").render();var c=this.get("children");
for(h=0;h<c.length;h++)a=c[h],a=q(this,a),c[h]=a,a.render()},bindUI:function(){var h=this.get("focusable"),a=this.get("handleMouseEvents"),c=this.getKeyEventTarget();if(h)c.on("focus",this.handleFocus,this).on("blur",this.handleBlur,this).on("keydown",this.handleKeydown,this);a&&(c=this.get("el"),c.on("mouseenter",this.handleMouseEnter,this).on("mouseleave",this.handleMouseLeave,this).on("mousedown",this.handleMouseDown,this).on("mouseup",this.handleMouseUp,this).on("dblclick",this.handleDblClick,
this))},_uiSetFocused:function(h){h&&this.getKeyEventTarget()[0].focus()},getContentElement:function(){var h=this.get("view");return h&&h.getContentElement()},getKeyEventTarget:function(){var h=this.get("view");return h&&h.getKeyEventTarget()},addChild:function(h,a){var b=this.get("children"),d;a===c&&(a=b.length);d=b[a]&&b[a].get("el")||null;h=q(this,h,d);b.splice(a,0,h)},removeChild:function(h,a){var c=this.get("children"),b=f.indexOf(h,c);-1!=b&&c.splice(b,1);a&&h.destroy&&h.destroy();return h},
removeChildren:function(h){var a,c=[].concat(this.get("children"));for(a=0;a<c.length;a++)this.removeChild(c[a],h);this.__set("children",[])},getChildAt:function(a){return this.get("children")[a]||null},handleDblClick:function(a){if(this.get("disabled"))return!0;this.performActionInternal(a)},handleMouseOver:function(a){var c=this.get("el");if(this.get("disabled"))return!0;k(a,c)||this.handleMouseEnter(a)},handleMouseOut:function(a){var c=this.get("el");if(this.get("disabled"))return!0;k(a,c)||this.handleMouseLeave(a)},
handleMouseEnter:function(a){if(this.get("disabled"))return!0;this.set("highlighted",!!a)},handleMouseLeave:function(a){if(this.get("disabled"))return!0;this.set("active",!1);this.set("highlighted",!a)},handleMouseDown:function(a){var c=1==a.which;if(this.get("disabled"))return!0;c&&(c=this.getKeyEventTarget(),this.get("activeable")&&this.set("active",!0),this.get("focusable")?(c[0].focus(),this.set("focused",!0)):(c=(c=a.target.nodeName)&&c.toLowerCase(),"input"!=c&&"textarea"!=c&&a.preventDefault()))},
handleMouseUp:function(a){if(this.get("disabled"))return!0;this.get("active")&&1==a.which&&(this.performActionInternal(a),this.set("active",!1))},handleFocus:function(a){this.set("focused",!!a);this.fire("focus")},handleBlur:function(a){this.set("focused",!a);this.fire("blur")},handleKeyEventInternal:function(a){if(a.keyCode==g.KeyCodes.ENTER)return this.performActionInternal(a)},handleKeydown:function(a){if(this.get("disabled"))return!0;this.handleKeyEventInternal(a)&&a.halt()},performActionInternal:function(){},
destructor:function(){var a,c=this.get("children");for(a=0;a<c.length;a++)c[a].destroy();(a=this.get("view"))&&a.destroy()}},{ATTRS:{handleMouseEvents:{value:!0},focusable:{view:1},activeable:{value:!0},focused:{view:1},active:{view:1},highlighted:{view:1},children:{value:[]},prefixCls:{value:"ks-",view:1},parent:{},view:{valueFn:function(){var a;var b,d,i={},e,g=this.get("xrender");if(g){a=this.getAttrs();for(d in a)if(a.hasOwnProperty(d)&&(b=a[d],b.view)){if((e=this.get(d))!==c)i[d]=e;this.on("after"+
f.ucfirst(d)+"Change",j(d));b.getter=n(d)}a=new g(i)}else a=0;return a}},disabled:{view:1},xrender:{value:a},xclass:{valueFn:function(){return b.getXClassByConstructor(this.constructor)}}}},{xclass:"controller"});return l},{requires:["event","./base","./uibase","./manager","./render"]});
KISSY.add("component/decorateChild",function(f,g){function e(){}f.augment(e,g,{decorateInternal:function(d){this.set("el",d);var b=this.get("decorateChildCls");if(d=d.one("."+b))(b=this.findUIConstructorByNode(d))?this.decorateChildrenInternal(b,d):this.decorateChildren(d)}});return e},{requires:["./decorateChildren"]});
KISSY.add("component/decorateChildren",function(f,g){function e(){}f.augment(e,{decorateInternal:function(d){this.set("el",d);this.decorateChildren(d)},findUIConstructorByNode:function(d){var d=d.attr("class")||"",b=this.get("prefixCls"),d=d.replace(RegExp("\\b"+b,"ig"),"");return g.getConstructorByXClass(d)},decorateChildrenInternal:function(d,b){this.addChild(new d({srcNode:b,prefixCls:this.get("prefixCls")}))},decorateChildren:function(d){var b=this;d.children().each(function(a){var c=b.findUIConstructorByNode(a);
b.decorateChildrenInternal(c,a)})}});return e},{requires:["./manager"]});
KISSY.add("component/delegateChildren",function(f){function g(){}function e(d){var b=this.getOwnerControl(d.target);if(b)switch(d.type){case "mousedown":b.handleMouseDown(d);break;case "mouseup":b.handleMouseUp(d);break;case "mouseover":b.handleMouseOver(d);break;case "mouseout":b.handleMouseOut(d);break;case "dblclick":b.handleDblClick(d)}}f.augment(g,{__bindUI:function(){this.get("el").on("mousedown mouseup mouseover mouseout dblclick",e,this)},getOwnerControl:function(d){for(var b=this.get("children"),
a=b.length,c=this.get("el")[0];d&&d!==c;){for(var e=0;e<a;e++)if(b[e].get("el")[0]===d)return b[e];d=d.parentNode}return null}});return g});
KISSY.add("component/manager",function(f){function g(b){for(var b=f.trim(b).split(/\s+/),a=0;a<b.length;a++)b[a]&&(b[a]=this.get("prefixCls")+b[a]);return b.join(" ")}var e={},d={getCssClassWithPrefix:g,getXClassByConstructor:function(b){for(var a in e)if(e[a].constructor==b)return a;return 0},getConstructorByXClass:function(b){for(var b=b.split(/\s+/),a=-1,c,d=null,f=0;f<b.length;f++){var g=e[b[f]];if(g&&(c=g.priority)>a)a=c,d=g.constructor}return d},setConstructorByXClass:function(b,a){f.isFunction(a)?
e[b]={constructor:a,priority:0}:(a.priority=a.priority||0,e[b]=a)}};d.getCssClassWithPrefix=g;return d});
KISSY.add("component/render",function(f,g,e,d){return g.define([e.Box.Render],{getComponentCssClassWithState:function(b){var a=this.__componentClasses,b=b||"";return this.getCssClassWithPrefix(a.split(/\s+/).join(b+" ")+b)},getCssClassWithPrefix:d.getCssClassWithPrefix,createDom:function(){this.get("el").addClass(this.getComponentCssClassWithState())},getKeyEventTarget:function(){return this.get("el")},_uiSetHighlighted:function(b){var a=this.getComponentCssClassWithState("-hover");this.get("el")[b?
"addClass":"removeClass"](a)},_uiSetDisabled:function(b){var a=this.getComponentCssClassWithState("-disabled");this.get("el")[b?"addClass":"removeClass"](a).attr("aria-disabled",b);this.get("focusable")&&this.getKeyEventTarget().attr("tabIndex",b?-1:0)},_uiSetActive:function(b){var a=this.getComponentCssClassWithState("-active");this.get("el")[b?"addClass":"removeClass"](a).attr("aria-pressed",!!b)},_uiSetFocused:function(b){var a=this.get("el"),c=this.getComponentCssClassWithState("-focused");a[b?
"addClass":"removeClass"](c)},getContentElement:function(){return this.get("contentEl")||this.get("el")}},{ATTRS:{prefixCls:{value:"ks-"},focusable:{value:!0},focused:{},active:{},disabled:{},highlighted:{}}})},{requires:["./base","./uibase","./manager"]});
KISSY.add("component/uibase",function(f,g,e,d,b,a,c,j,n,q,k,l,h,o,u,i,v,p,m,t,s){a.Render=c;l.Render=h;o.Render=u;i.Render=v;t.Render=s;d.Render=b;n.Render=q;f.mix(g,{Align:e,Box:d,Close:a,Constrain:j,ContentBox:n,Drag:k,Loading:l,Mask:o,Position:i,Shim:{Render:p},Resize:m,StdMod:t});return g},{requires:"./uibase/base,./uibase/align,./uibase/box,./uibase/boxrender,./uibase/close,./uibase/closerender,./uibase/constrain,./uibase/contentbox,./uibase/contentboxrender,./uibase/drag,./uibase/loading,./uibase/loadingrender,./uibase/mask,./uibase/maskrender,./uibase/position,./uibase/positionrender,./uibase/shimrender,./uibase/resize,./uibase/stdmod,./uibase/stdmodrender".split(",")});
KISSY.add("component/uibase/align",function(f,g,e,d){function b(a){var c=a.ownerDocument.body,b=e.css(a,"position");if(!("fixed"==b||"absolute"==b))return"html"==a.nodeName.toLowerCase()?null:a.parentNode;for(a=a.parentNode;a&&a!=c;a=a.parentNode)if(b=e.css(a,"position"),"static"!=b)return a;return null}function a(a){var c,d,i={left:0,right:Infinity,top:0,bottom:Infinity},f;d=a.ownerDocument;c=d.body;for(d=d.documentElement;a=b(a);)if((!g.ie||0!=a.clientWidth)&&a!=c&&a!=d&&"visible"!=e.css(a,"overflow"))f=
e.offset(a),f.left+=a.clientLeft,f.top+=a.clientTop,i.top=Math.max(i.top,f.top),i.right=Math.min(i.right,f.left+a.clientWidth),i.bottom=Math.min(i.bottom,f.top+a.clientHeight),i.left=Math.max(i.left,f.left);a=e.scrollLeft();f=e.scrollTop();i.left=Math.max(i.left,a);i.top=Math.max(i.top,f);c=e.viewportWidth();d=e.viewportHeight();i.right=Math.min(i.right,a+c);i.bottom=Math.min(i.bottom,f+d);return 0<=i.top&&0<=i.left&&i.bottom>i.top&&i.right>i.left?i:null}function c(a,c,b,d){var f,e;f=a.left;e=a.top;
c=k(c,b[0]);a=k(a,b[1]);a=[a.left-c.left,a.top-c.top];return{left:f-a[0]+ +d[0],top:e-a[1]+ +d[1]}}function j(a,c,b){var d=[];f.each(a,function(a){d.push(a.replace(c,function(a){return b[a]}))});return d}function n(){}function q(a){var c,b;f.isWindow(a[0])?(c={left:e.scrollLeft(),top:e.scrollTop()},b=e.viewportWidth(),a=e.viewportHeight()):(c=a.offset(),b=a.outerWidth(),a=a.outerHeight());c.width=b;c.height=a;return c}function k(a,c){var b=c.charAt(0),d=c.charAt(1),f=a.width,e=a.height,g,j;g=a.left;
j=a.top;"c"===b?j+=e/2:"b"===b&&(j+=e);"c"===d?g+=f/2:"r"===d&&(g+=f);return{left:g,top:j}}var l=f.Env.host;n.__getOffsetParent=b;n.__getVisibleRectForElement=a;n.ATTRS={align:{value:{}}};n.prototype={_uiSetAlign:function(a){a&&a.points&&this.align(a.node,a.points,a.offset,a.overflow)},align:function(b,e,g,i){var b=d.one(b||l),g=g&&[].concat(g)||[0,0],i=i||{},n=this.get("el"),p=0,m=a(n[0]),k=q(n),s=q(b),b=c(k,s,e,g),r=f.merge(k,b);if(m&&(i.adjustX||i.adjustY)){if(b.left<m.left||b.left+k.width>m.right)p=
1,e=j(e,/[lr]/ig,{l:"r",r:"l"}),g[0]=-g[0];if(b.top<m.top||b.top+k.height>m.bottom)p=1,e=j(e,/[tb]/ig,{t:"b",b:"t"}),g[1]=-g[1];p&&(b=c(k,s,e,g),f.mix(r,b));e={};e.adjustX=i.adjustX&&(b.left<m.left||b.left+k.width>m.right);e.adjustY=i.adjustY&&(b.top<m.top||b.top+k.height>m.bottom);if(e.adjustX||e.adjustY)i=f.clone(b),p={width:k.width,height:k.height},e.adjustX&&i.left<m.left&&(i.left=m.left),e.resizeWidth&&i.left>=m.left&&i.left+p.width>m.right&&(p.width-=i.left+p.width-m.right),e.adjustX&&i.left+
p.width>m.right&&(i.left=Math.max(m.right-p.width,m.left)),e.adjustY&&i.top<m.top&&(i.top=m.top),e.resizeHeight&&i.top>=m.top&&i.top+p.height>m.bottom&&(p.height-=i.top+p.height-m.bottom),e.adjustY&&i.top+p.height>m.bottom&&(i.top=Math.max(m.bottom-p.height,m.top)),r=f.mix(i,p)}r.left!=k.left&&this.set("x",r.left);r.top!=k.top&&this.set("y",r.top);r.width!=k.width&&n.width(n.width()+r.width-k.width);r.height!=k.height&&n.height(n.height()+r.height-k.height);return this},center:function(a){this.set("align",
{node:a,points:["cc","cc"],offset:[0,0]});return this}};return n},{requires:["ua","dom","node"]});
KISSY.add("component/uibase/base",function(f,g,e,d){function b(a){f.each(a,function(c,b){f.isFunction(c)&&(a[b]=new c)})}function a(a,c,b){f.each(c,function(c){if(c[b])c[b](a)})}function c(c){g.apply(this,arguments);for(var h=c,i=this.constructor;i;){if(h&&h[k]&&i.HTML_PARSER&&(h[k]=e.one(h[k]))){var n=h,q=i.HTML_PARSER,m=void 0,l=void 0,s=n[k];for(m in q)q.hasOwnProperty(m)&&n[m]===d&&(l=q[m],f.isFunction(l)?this.__set(m,l.call(this,s)):f.isString(l)?this.__set(m,s.one(l)):f.isArray(l)&&l[0]&&this.__set(m,
s.all(l[0])))}i=i.superclass&&i.superclass.constructor}j(this,"initializer","constructor");var r,i=this.get("plugins"),h=this.get("listeners");b(i);a(this,i,"initializer");for(r in h)i=h[r],this.on(r,i.fn||i,i.scope);c&&c.autoRender&&this.render()}function j(a,c,b){for(var d=a.constructor,e=[],f,g,h,n;d;){n=[];if(h=d.__ks_exts)for(var j=0;j<h.length;j++)if(f=h[j])"constructor"!=b&&(f=f.prototype.hasOwnProperty(b)?f.prototype[b]:null),f&&n.push(f);d.prototype.hasOwnProperty(c)&&(g=d.prototype[c])&&
n.push(g);n.length&&e.push.apply(e,n.reverse());d=d.superclass&&d.superclass.constructor}for(j=e.length-1;0<=j;j--)e[j]&&e[j].call(a)}function n(a){var c=a.getAttrs(),b,d;for(b in c)c.hasOwnProperty(b)&&(d=q+l(b),a[d]&&function(c,b){a.on("after"+l(c)+"Change",function(c){if(c.target===a)a[b](c.newVal,c)})}(b,d))}var q="_uiSet",k="srcNode",l=f.ucfirst,h=f.noop;c.HTML_PARSER={};c.ATTRS={rendered:{value:!1},created:{value:!1},listeners:{value:{}},plugins:{value:[]}};f.extend(c,g,{create:function(){this.get("created")||
(this.fire("beforeCreateDom"),j(this,"createDom","__createDom"),this.__set("created",!0),this.fire("afterCreateDom"),a(this,this.get("plugins"),"createDom"));return this},render:function(){if(!this.get("rendered")){var c=this.get("plugins");this.create(d);this.fire("beforeRenderUI");j(this,"renderUI","__renderUI");this.fire("afterRenderUI");a(this,c,"renderUI");this.fire("beforeBindUI");n(this);j(this,"bindUI","__bindUI");this.fire("afterBindUI");a(this,c,"bindUI");this.fire("beforeSyncUI");var b,
e,f=this.getAttrs(),g;for(g in f)f.hasOwnProperty(g)&&(e=this[q+l(g)])&&!1!==f[g].sync&&(b=this.get(g))!==d&&e.call(this,b);j(this,"syncUI","__syncUI");this.fire("afterSyncUI");a(this,c,"syncUI");this.__set("rendered",!0)}return this},createDom:h,renderUI:h,bindUI:h,syncUI:h,destroy:function(){for(var a=this.constructor,c,b,d;a;){a.prototype.hasOwnProperty("destructor")&&a.prototype.destructor.apply(this);if(c=a.__ks_exts)for(d=c.length-1;0<=d;d--)(b=c[d]&&c[d].prototype.__destructor)&&b.apply(this);
a=a.superclass&&a.superclass.constructor}this.fire("destroy");this.detach();return this}},{create:function(a,b,d,e){function g(){c.apply(this,arguments)}var h=f.makeArray(arguments);f.isArray(a)&&(e=d,d=b,b=a,a=c);a=a||c;f.isObject(b)&&(e=d,d=b,b=[]);f.isString(h[h.length-1]);f.extend(g,a,d,e);if(b){g.__ks_exts=b;var j={},h=b.concat(g);f.each(h,function(a){a&&f.each(["ATTRS","HTML_PARSER"],function(c){if(a[c]){j[c]=j[c]||{};f.mix(j[c],a[c],{deep:true})}})});f.each(j,function(a,c){g[c]=a});var n={};
f.each(h,function(a){if(a){var a=a.prototype,c;for(c in a)a.hasOwnProperty(c)&&(n[c]=a[c])}});f.each(n,function(a,c){g.prototype[c]=a})}return g}});return c},{requires:["base","node"]});
KISSY.add("component/uibase/box",function(f){function g(){}g.ATTRS={content:{view:1,sync:!1},width:{view:1,sync:!1},height:{sync:!1,view:1},elCls:{sync:!1,view:1},elStyle:{sync:!1,view:1},elAttrs:{sync:!1,view:1},elBefore:{sync:!1,view:1},el:{view:1},render:{view:1},visibleMode:{view:1},visible:{view:1},srcNode:{view:1}};g.HTML_PARSER={el:function(e){this.decorateInternal&&this.decorateInternal(f.one(e));return e}};g.prototype={_uiSetVisible:function(e){this.fire(e?"show":"hide")},show:function(){var e;
this.get("rendered")||(this.__set("visible",void 0),(e=this.get("view"))&&e.__set("visible",void 0),this.render());this.set("visible",!0);return this},hide:function(){this.set("visible",!1);return this}};return g});
KISSY.add("component/uibase/boxrender",function(f){function g(){}function e(a,c,b,e,g,k,l){c=c||{};b&&(c.width="number"==typeof b?b+"px":b);e&&(c.height="number"==typeof e?e+"px":e);b=l||"";e="";"string"!=typeof l&&(b="");for(var h in c)c.hasOwnProperty(h)&&(e+=h+":"+c[h]+";");var c="",o;for(o in k)k.hasOwnProperty(o)&&(c+=" "+o+"='"+k[o]+"' ");a=d("<"+g+(e?" style='"+e+"' ":"")+c+(a?" class='"+a+"' ":"")+">"+b+"</"+g+">");l&&!f.isString(l)&&a.append(l);return a}var d=f.all,b=f.Env.host.document;
g.ATTRS={el:{setter:function(a){return d(a)}},elCls:{sync:!1},elStyle:{sync:!1},width:{sync:!1},height:{sync:!1},elTagName:{sync:!1,value:"div"},elAttrs:{sync:!1},content:{sync:!1},elBefore:{},render:{},visible:{},visibleMode:{value:"display"},contentEl:{valueFn:function(){return this.get("el")}}};g.HTML_PARSER={content:function(a){var c=this.get("contentElCls");return(c?a.one("."+c):a).html()}};g.constructEl=e;g.prototype={__renderUI:function(){if(!this.get("srcNode")){var a=this.get("render"),c=
this.get("el"),d=this.get("elBefore");d?c.insertBefore(d,void 0):a?c.appendTo(a,void 0):c.appendTo(b.body,void 0)}},__createDom:function(){if(!this.get("srcNode")){var a=this.get("elCls"),c=this.get("elStyle"),b=this.get("width"),d=this.get("height"),f=this.get("content"),g=this.get("elAttrs"),l=this.get("contentEl");l&&(l.html(f),f="");a=e(a,c,b,d,this.get("elTagName"),g,f);l&&a.append(l);this.__set("el",a);l||this.__set("contentEl",a)}},__syncUI:function(){var a=this;a.get("srcNode")&&(a.get("el"),
a.get("content"),f.each(["elCls","elStyle","width","height","elAttrs"],function(c){var b;if(b=a.get(c))a["_uiSet"+f.ucfirst(c)](b)}))},_uiSetElAttrs:function(a){this.get("el").attr(a)},_uiSetElCls:function(a){this.get("el").addClass(a)},_uiSetElStyle:function(a){this.get("el").css(a)},_uiSetWidth:function(a){this.get("el").width(a)},_uiSetHeight:function(a){this.get("el").height(a)},_uiSetContent:function(a){var c=this.get("contentEl");"string"==typeof a?c.html(a):a&&c.empty().append(a)},_uiSetVisible:function(a){var c=
this.get("el");"visibility"==this.get("visibleMode")?c.css("visibility",a?"visible":"hidden"):c.css("display",a?"":"none")},__destructor:function(){var a=this.get("el");a&&a.remove()}};return g},{requires:["node"]});
KISSY.add("component/uibase/close",function(){function f(){}f.ATTRS={closable:{view:1},closeBtn:{view:1},closeAction:{value:"hide"}};var g={hide:"hide",destroy:"destroy"};f.prototype={_uiSetClosable:function(e){var d=this;e&&!d.__bindCloseEvent&&(d.__bindCloseEvent=1,d.get("closeBtn").on("click",function(b){d[g[d.get("closeAction")]||"hide"]();b.preventDefault()}))},__destructor:function(){var e=this.get("closeBtn");e&&e.detach()}};return f});
KISSY.add("component/uibase/closerender",function(f,g){function e(){}e.ATTRS={closable:{value:!0},closeBtn:{}};e.HTML_PARSER={closeBtn:function(d){return d.one(".ks-ext-close")}};e.prototype={_uiSetClosable:function(d){var b=this.get("closeBtn");d?(b||this.__set("closeBtn",b=new g("<a tabindex='0' href='javascript:void(\"\u5173\u95ed\")' role='button' class='ks-ext-close'><span class='ks-ext-close-x'>\u5173\u95ed</span></a>")),b.appendTo(this.get("el"),void 0)):b&&b.remove()}};return e},{requires:["node"]});
KISSY.add("component/uibase/constrain",function(f,g,e){function d(){}function b(a){var c=null;if(!a)return c;var b=this.get("el");!0!==a?(a=e.one(a),c=a.offset(),f.mix(c,{maxLeft:c.left+a.outerWidth()-b.outerWidth(),maxTop:c.top+a.outerHeight()-b.outerHeight()})):(c={left:g.scrollLeft(),top:g.scrollTop()},f.mix(c,{maxLeft:c.left+g.viewportWidth()-b.outerWidth(),maxTop:c.top+g.viewportHeight()-b.outerHeight()}));return c}d.ATTRS={constrain:{value:!1}};d.prototype={__renderUI:function(){var a=this,
c=a.getAttrs(),d=c.x,c=c.y,e=d.setter,f=c.setter;d.setter=function(c){var d=e&&e.call(a,c);void 0===d&&(d=c);if(!a.get("constrain"))return d;c=b.call(a,a.get("constrain"));return Math.min(Math.max(d,c.left),c.maxLeft)};c.setter=function(c){var d=f&&f.call(a,c);void 0===d&&(d=c);if(!a.get("constrain"))return d;c=b.call(a,a.get("constrain"));return Math.min(Math.max(d,c.top),c.maxTop)};a.addAttr("x",d);a.addAttr("y",c)}};return d},{requires:["dom","node"]});
KISSY.add("component/uibase/contentbox",function(){function f(){}f.ATTRS={contentEl:{view:1},contentElAttrs:{view:1},contentElStyle:{view:1},contentTagName:{view:1}};return f});
KISSY.add("component/uibase/contentboxrender",function(f,g,e,d){function b(){}b.ATTRS={contentEl:{},contentElAttrs:{},contentElStyle:{},contentTagName:{value:"div"}};var a=e.constructEl;b.prototype={__createDom:function(){var c,b=this.get("el");c=b[0].childNodes;c=c.length&&d.nodeListToFragment(c);c=a("ks-contentbox "+(this.get("contentElCls")||""),this.get("contentElStyle"),void 0,void 0,this.get("contentTagName"),this.get("contentElAttrs"),c);b.append(c);this.__set("contentEl",c)},_uiSetContentElCls:function(a){this.get("contentEl").addClass(a)},
_uiSetContentElAttrs:function(a){this.get("contentEl").attr(a)},_uiSetContentElStyle:function(a){this.get("contentEl").css(a)}};return b},{requires:["node","./boxrender","dom"]});
KISSY.add("component/uibase/drag",function(f){function g(){}function e(d){this.set("xy",[d.left,d.top])}g.ATTRS={handlers:{value:[]},draggable:{value:!0}};g.prototype={_uiSetHandlers:function(d){var b;d&&0<d.length&&(b=this.__drag)&&b.set("handlers",d)},__bindUI:function(){var d=f.require("dd")||{},b=d.Draggable,a=this,c=a.get("draggable"),g=a.get("el");if(c&&b){!0===c&&(c={});b=a.__drag=new b({node:g,move:c.proxy});if(c.proxy){c.proxy.moveOnEnd=!1;b.on("dragend",function(){var c=n.get("proxyNode").offset();
g.css("visibility","");a.set("x",c.left);a.set("y",c.top)});var n=a.__proxy=new d.Proxy(c.proxy);n.attachDrag(b)}else b.on("drag",e,a);c.scroll&&(a.__scroll=new d.Scroll(c.scroll)).attachDrag(b)}},_uiSetDraggable:function(d){var b=this.__drag;b&&b.set("disabled",!d)},__destructor:function(){var d=this.__proxy,b=this.__scroll,a=this.__drag;a&&a.destroy();b&&b.destroy();d&&d.destroy()}};return g});
KISSY.add("component/uibase/loading",function(){function f(){}f.prototype={loading:function(){this.get("view").loading();return this},unloading:function(){this.get("view").unloading();return this}};return f});
KISSY.add("component/uibase/loadingrender",function(f,g){function e(){}e.prototype={loading:function(){this._loadingExtEl||(this._loadingExtEl=(new g("<div class='ks-ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el")));this._loadingExtEl.show()},unloading:function(){var d=this._loadingExtEl;d&&d.hide()}};return e},{requires:["node"]});
KISSY.add("component/uibase/mask",function(){function f(){}f.ATTRS={mask:{value:!1},maskNode:{view:1},maskShared:{view:1}};f.prototype={__bindUI:function(){var f=this.get("view"),e=f._maskExtShow,d=f._maskExtHide;this.get("mask")&&(this.on("show",e,f),this.on("hide",d,f))}};return f},{requires:["ua"]});
KISSY.add("component/uibase/maskrender",function(f,g,e){function d(a){a=j("<div  style='width:"+(c?"expression(KISSY.DOM.docWidth())":"100%")+";left:0;top:0;height:"+(c?"expression(KISSY.DOM.docHeight())":"100%")+";position:"+(c?"absolute":"fixed")+";' class='"+a+"'>"+(c?"<iframe style='position:absolute;left:0;top:0;background:red;width: expression(this.parentNode.offsetWidth);height: expression(this.parentNode.offsetHeight);filter:alpha(opacity=0);z-index:-1;'></iframe>":"")+"</div>").prependTo("body");
a.unselectable();a.on("mousedown",function(a){a.preventDefault()});return a}function b(){}var a={},c=6===g.ie,j=e.all;b.ATTRS={maskShared:{value:!0}};b.prototype={_maskExtShow:function(){var c=this.get("prefixCls")+"ext-mask",b=a[c],e=this.get("maskShared"),f=this.get("maskNode");f||(e?b?f=b.node:(f=d(c),b=a[c]={num:0,node:f}):f=d(c),this.__set("maskNode",f));f.css("z-index",this.get("zIndex")-1);e&&b.num++;(!e||1==b.num)&&f.show()},_maskExtHide:function(){var c=this.get("prefixCls")+"ext-mask",c=
a[c],b=this.get("maskShared"),d=this.get("maskNode");b&&c?(c.num=Math.max(c.num-1,0),0==c.num&&d.hide()):d.hide()},__destructor:function(){var a=this.get("maskShared"),c=this.get("maskNode");this.get("maskNode")&&(a?this.get("visible")&&this._maskExtHide():c.remove())}};return b},{requires:["ua","node"]});
KISSY.add("component/uibase/position",function(f){function g(){}g.ATTRS={x:{view:1},y:{view:1},xy:{setter:function(e){var d=f.makeArray(e);d.length&&(d[0]&&this.set("x",d[0]),d[1]&&this.set("y",d[1]));return e},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:1}};g.prototype={move:function(e,d){f.isArray(e)&&(d=e[1],e=e[0]);this.set("xy",[e,d]);return this}};return g});
KISSY.add("component/uibase/positionrender",function(){function f(){}f.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999}};f.prototype={__createDom:function(){this.get("el").addClass("ks-ext-position")},_uiSetZIndex:function(f){this.get("el").css("z-index",f)},_uiSetX:function(f){this.get("el").offset({left:f})},_uiSetY:function(f){this.get("el").offset({top:f})}};return f});
KISSY.add("component/uibase/resize",function(f){function g(){}g.ATTRS={resize:{value:{}}};g.prototype={__destructor:function(){var e=this.resizer;e&&e.destroy()},_uiSetResize:function(e){var d=f.require("resizable");this.resizer&&this.resizer.destroy();d&&e&&(e.node=this.get("el"),this.resizer=new d(e))}};return g});
KISSY.add("component/uibase/shimrender",function(){function f(){}f.prototype={__createDom:function(){this.get("el").prepend("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>")}};return f});
KISSY.add("component/uibase/stdmod",function(){function f(){}f.ATTRS={header:{view:1},body:{view:1},footer:{view:1},bodyStyle:{view:1},footerStyle:{view:1},headerStyle:{view:1},headerContent:{view:1},bodyContent:{view:1},footerContent:{view:1}};return f});
KISSY.add("component/uibase/stdmodrender",function(f,g){function e(){}function d(c,b){var d=c.get("contentEl"),e=c.get(b+"Style"),k=c.get(b+"Content"),l=f.isString(k),h=c.get(b);if(h)e&&h.css(e);else{h="";if(e)for(var o in e)e.hasOwnProperty(o)&&(h+=o+":"+e[o]+";");e=h;h=new g("<div class='"+a+b+"' "+(e?"style='"+e+"'":"")+" >"+(l?k:"")+"</div>");l||h.append(k);h.appendTo(d);c.__set(b,h)}}function b(a,b,d){b=a.get(b);f.isString(d)?b.html(d):b.html("").append(d)}var a="ks-stdmod-";e.ATTRS={header:{},
body:{},footer:{},bodyStyle:{sync:!1},footerStyle:{sync:!1},headerStyle:{sync:!1},headerContent:{sync:!1},bodyContent:{sync:!1},footerContent:{sync:!1}};e.HTML_PARSER={header:function(c){return c.one("."+a+"header")},body:function(c){return c.one("."+a+"body")},footer:function(c){return c.one("."+a+"footer")}};e.prototype={__createDom:function(){d(this,"header");d(this,"body");d(this,"footer")},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},
_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){b(this,"body",a)},_uiSetHeaderContent:function(a){b(this,"header",a)},_uiSetFooterContent:function(a){b(this,"footer",a)}};return e},{requires:["node"]});
