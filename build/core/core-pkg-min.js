/*
Copyright 2011, KISSY UI Library v1.1.8dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("ua",function(a){var p=navigator.userAgent,n="",f="",e,g={},k=function(c){var q=0;return parseFloat(c.replace(/\./g,function(){return q++===0?".":""}))};if((e=p.match(/AppleWebKit\/([\d.]*)/))&&e[1]){g[n="webkit"]=k(e[1]);if((e=p.match(/Chrome\/([\d.]*)/))&&e[1])g[f="chrome"]=k(e[1]);else if((e=p.match(/\/([\d.]*) Safari/))&&e[1])g[f="safari"]=k(e[1]);if(/ Mobile\//.test(p))g.mobile="apple";else if(e=p.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))g.mobile=e[0].toLowerCase()}else if((e=
p.match(/Presto\/([\d.]*)/))&&e[1]){g[n="presto"]=k(e[1]);if((e=p.match(/Opera\/([\d.]*)/))&&e[1]){g[f="opera"]=k(e[1]);if((e=p.match(/Opera\/.* Version\/([\d.]*)/))&&e[1])g[f]=k(e[1]);if((e=p.match(/Opera Mini[^;]*/))&&e)g.mobile=e[0].toLowerCase();else if((e=p.match(/Opera Mobi[^;]*/))&&e)g.mobile=e[0]}}else if((e=p.match(/MSIE\s([^;]*)/))&&e[1]){g[n="trident"]=0.1;g[f="ie"]=k(e[1]);if((e=p.match(/Trident\/([\d.]*)/))&&e[1])g[n]=k(e[1])}else if(e=p.match(/Gecko/)){g[n="gecko"]=0.1;if((e=p.match(/rv:([\d.]*)/))&&
e[1])g[n]=k(e[1]);if((e=p.match(/Firefox\/([\d.]*)/))&&e[1])g[f="firefox"]=k(e[1])}g.core=n;g.shell=f;g._numberify=k;a.UA=g});
KISSY.add("ua-extra",function(a){var p=a.UA,n=navigator.userAgent,f,e,g={},k=p._numberify;if(n.match(/360SE/))g[e="se360"]=3;else if(n.match(/Maxthon/)&&(f=window.external)){e="maxthon";try{g[e]=k(f.max_version)}catch(c){g[e]=0.1}}else if(f=n.match(/TencentTraveler\s([\d.]*)/))g[e="tt"]=f[1]?k(f[1]):0.1;else if(n.match(/TheWorld/))g[e="theworld"]=3;else if(f=n.match(/SE\s([\d.]*)/))g[e="sougou"]=f[1]?k(f[1]):0.1;e&&(g.shell=e);a.mix(p,g)});
KISSY.add("dom",function(a,p){function n(f,e){return f&&f.nodeType===e}a.DOM={_isElementNode:function(f){return n(f,1)},_isKSNode:function(f){return a.Node&&n(f,a.Node.TYPE)},_getWin:function(f){return f&&"scrollTo"in f&&f.document?f:n(f,9)?f.defaultView||f.parentWindow:f===p?window:false},_nodeTypeIs:n}});
KISSY.add("selector",function(a,p){function n(d,b){var i,l,j=[],m;b=f(b);if(a.isString(d)){d=a.trim(d);if(u.test(d)){if(l=e(d.slice(1),b))j=[l]}else if(i=o.exec(d)){l=i[1];m=i[2];i=i[3];if(b=l?e(l,b):b)if(i)if(!l||d.indexOf(r)!==-1)j=k(i,m,b);else{if((l=e(l,b))&&y.hasClass(l,i))j=[l]}else if(m)j=g(m,b)}else if(a.ExternalSelector)return a.ExternalSelector(d,b);else c(d)}else if(d&&(d[z]||d[t]))j=d[z]?[d[z]()]:d[t]();else if(d&&(a.isArray(d)||d&&!d.nodeType&&d.item&&!d.setTimeout))j=d;else if(d)j=[d];
if(j&&!j.nodeType&&j.item&&!j.setTimeout)j=a.makeArray(j);j.each=function(v,h){return a.each(j,v,h)};return j}function f(d){if(d===p)d=q;else if(a.isString(d)&&u.test(d))d=e(d.slice(1),q);else if(d&&d.nodeType!==1&&d.nodeType!==9)d=null;return d}function e(d,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(d)}function g(d,b){return b.getElementsByTagName(d)}function k(d,b,i){i=d=i.getElementsByClassName(d);var l=0,j=0,m=d.length,v;if(b&&b!==x){i=[];for(b=b.toUpperCase();l<m;++l){v=d[l];
if(v.tagName===b)i[j++]=v}}return i}function c(d){a.error("Unsupported selector: "+d)}var q=document,y=a.DOM,r=" ",x="*",z="getDOMNode",t=z+"s",u=/^#[\w-]+$/,o=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var d=q.createElement("div");d.appendChild(q.createComment(""));if(d.getElementsByTagName(x).length>0)g=function(b,i){var l=i.getElementsByTagName(b);if(b===x){for(var j=[],m=0,v=0,h;h=l[m++];)if(h.nodeType===1)j[v++]=h;l=j}return l}})();q.getElementsByClassName||(k=q.querySelectorAll?
function(d,b,i){return i.querySelectorAll((b?b:"")+"."+d)}:function(d,b,i){b=i.getElementsByTagName(b||x);i=[];var l=0,j=0,m=b.length,v,h;for(d=r+d+r;l<m;++l){v=b[l];if((h=v.className)&&(r+h+r).indexOf(d)>-1)i[j++]=v}return i});a.query=n;a.get=function(d,b){return n(d,b)[0]||null};a.mix(y,{query:n,get:a.get,filter:function(d,b){var i=n(d),l,j,m,v=[];if(a.isString(b)&&(l=o.exec(b))&&!l[1]){j=l[2];m=l[3];b=function(h){return!(j&&h.tagName!==j.toUpperCase()||m&&!y.hasClass(h,m))}}if(a.isFunction(b))v=
a.filter(i,b);else if(b&&a.ExternalSelector)v=a.ExternalSelector._filter(d,b+"");else c(b);return v},test:function(d,b){var i=n(d);return i.length&&y.filter(i,b).length===i.length}})});
KISSY.add("dom-data",function(a,p){var n=window,f=a.DOM,e="_ks_data_"+a.now(),g={},k={},c={EMBED:1,OBJECT:1,APPLET:1};a.mix(f,{data:function(q,y,r){if(a.isPlainObject(y))for(var x in y)f.data(q,x,y[x]);else if(r===p){q=a.get(q);var z;if(!(!q||c[q.nodeName])){if(q==n)q=k;z=(x=q&&q.nodeType)?g:q;q=z[x?q[e]:e];if(a.isString(y)&&q)return q[y];return q}}else a.query(q).each(function(t){if(!(!t||c[t.nodeName])){if(t==n)t=k;var u=g,o;if(t&&t.nodeType){if(!(o=t[e]))o=t[e]=a.guid()}else{o=e;u=t}if(y&&r!==
p){u[o]||(u[o]={});u[o][y]=r}}})},removeData:function(q,y){a.query(q).each(function(r){if(r){if(r==n)r=k;var x,z=g,t,u=r&&r.nodeType;if(u)x=r[e];else{z=r;x=e}if(x){t=z[x];if(y){if(t){delete t[y];a.isEmptyObject(t)&&f.removeData(r)}}else{if(u)r.removeAttribute&&r.removeAttribute(e);else try{delete r[e]}catch(o){}u&&delete z[x]}}}})}})});
KISSY.add("dom-class",function(a,p){function n(k,c,q,y){if(!(c=a.trim(c)))return y?false:p;k=a.query(k);var r=0,x=k.length;c=c.split(e);for(var z;r<x;r++){z=k[r];if(f._isElementNode(z)){z=q(z,c,c.length);if(z!==p)return z}}if(y)return false}var f=a.DOM,e=/[\.\s]\s*\.?/,g=/[\n\t]/g;a.mix(f,{hasClass:function(k,c){return n(k,c,function(q,y,r){if(q=q.className){q=" "+q+" ";for(var x=0,z=true;x<r;x++)if(q.indexOf(" "+y[x]+" ")<0){z=false;break}if(z)return true}},true)},addClass:function(k,c){n(k,c,function(q,
y,r){var x=q.className;if(x){var z=" "+x+" ";x=x;for(var t=0;t<r;t++)if(z.indexOf(" "+y[t]+" ")<0)x+=" "+y[t];q.className=a.trim(x)}else q.className=c})},removeClass:function(k,c){n(k,c,function(q,y,r){var x=q.className;if(x)if(r){x=(" "+x+" ").replace(g," ");for(var z=0,t;z<r;z++)for(t=" "+y[z]+" ";x.indexOf(t)>=0;)x=x.replace(t," ");q.className=a.trim(x)}else q.className=""})},replaceClass:function(k,c,q){f.removeClass(k,c);f.addClass(k,q)},toggleClass:function(k,c,q){var y=a.isBoolean(q),r;n(k,
c,function(x,z,t){for(var u=0,o;u<t;u++){o=z[u];r=y?!q:f.hasClass(x,o);f[r?"removeClass":"addClass"](x,o)}})}})});
KISSY.add("dom-attr",function(a,p){var n=a.UA,f=document.documentElement,e=!f.hasAttribute,g=f.textContent!==p?"textContent":"innerText",k=a.DOM,c=k._isElementNode,q=/^(?:href|src|style)/,y=/^(?:href|src|colspan|rowspan)/,r=/\r/g,x=/^(?:radio|checkbox)/,z={readonly:"readOnly"},t={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1},u={tabindex:{getter:function(o){return o.tabIndex},setter:function(o,d){if(isNaN(parseInt(d))){o.removeAttribute("tabindex");o.removeAttribute("tabIndex")}else o.tabIndex=
d}},style:{getter:function(o){return o.style.cssText},setter:function(o,d){o.style.cssText=d}},checked:{setter:function(o,d){o.checked=!!d}},disabled:{setter:function(o,d){o.disabled=!!d}}};e&&a.mix(z,{"for":"htmlFor","class":"className"});a.mix(k,{attr:function(o,d,b,i){if(a.isPlainObject(d)){i=b;for(var l in d)k.attr(o,l,d[l],i)}else if(d=a.trim(d)){d=d.toLowerCase();if(i&&t[d])return k[d](o,b);d=z[d]||d;var j=u[d];if(b===p){o=k.get(o);if(!c(o))return p;if(j&&j.getter)return j.getter(o);var m;q.test(d)||
(m=o[d]);if(m===p)m=o.getAttribute(d);if(e)if(y.test(d))m=o.getAttribute(d,2);return m===null?p:m}a.each(k.query(o),function(v){if(c(v))j&&j.setter?j.setter(v,b):v.setAttribute(d,""+b)})}},removeAttr:function(o,d){a.each(a.query(o),function(b){if(c(b)){k.attr(b,d,"");b.removeAttribute(d)}})},val:function(o,d){if(d===p){var b=a.get(o);if(!c(b))return p;if(b&&b.nodeName.toUpperCase()==="option".toUpperCase())return(b.attributes.value||{}).specified?b.value:b.text;if(b&&b.nodeName.toUpperCase()==="select".toUpperCase()){var i=
b.selectedIndex,l=b.options;if(i<0)return null;else if(b.type==="select-one")return k.val(l[i]);b=[];for(var j=0,m=l.length;j<m;++j)l[j].selected&&b.push(k.val(l[j]));return b}if(n.webkit&&x.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(r,"")}a.each(a.query(o),function(v){if(v&&v.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(d))d+="";var h=a.makeArray(d),s=v.options,w;j=0;for(m=s.length;j<m;++j){w=s[j];w.selected=a.inArray(k.val(w),h)}if(!h.length)v.selectedIndex=
-1}else if(c(v))v.value=d})},text:function(o,d){if(d===p){var b=a.get(o);if(c(b))return b[g]||"";else if(k._nodeTypeIs(b,3))return b.nodeValue}else a.each(a.query(o),function(i){if(c(i))i[g]=d;else if(k._nodeTypeIs(i,3))i.nodeValue=d})}})});
KISSY.add("dom-style",function(a,p){function n(b,i){var l=a.get(b),j=i===q?l.offsetWidth:l.offsetHeight;a.each(i===q?["Left","Right"]:["Top","Bottom"],function(m){j-=parseFloat(e._getComputedStyle(l,"padding"+m))||0;j-=parseFloat(e._getComputedStyle(l,"border"+m+"Width"))||0});return j}function f(b,i,l){var j=l;if(l===y&&x.test(i)){j=0;if(a.inArray(e.css(b,"position"),["absolute","fixed"])){l=b[i==="left"?"offsetLeft":"offsetTop"];if(g.ie===8||g.opera)l-=r(e.css(b.offsetParent,"border-"+i+"-width"))||
0;j=l-(r(e.css(b,"margin-"+i))||0)}}return j}var e=a.DOM,g=a.UA,k=document,c=k.documentElement,q="width",y="auto",r=parseInt,x=/^(?:left|top)/,z=/^(?:width|height|top|left|right|bottom|margin|padding)/i,t=/-([a-z])/ig,u=function(b,i){return i.toUpperCase()},o={},d={};a.mix(e,{_CUSTOM_STYLES:o,_getComputedStyle:function(b,i){var l="",j=b.ownerDocument;if(b.style)l=j.defaultView.getComputedStyle(b,null)[i];return l},css:function(b,i,l){if(a.isPlainObject(i))for(var j in i)e.css(b,j,i[j]);else{if(i.indexOf("-")>
0)i=i.replace(t,u);i=o[i]||i;if(l===p){b=a.get(b);j="";if(b&&b.style){j=i.get?i.get(b):b.style[i];if(j===""&&!i.get)j=f(b,i,e._getComputedStyle(b,i))}return j===p?"":j}else{if(l===null||l==="")l="";else if(!isNaN(new Number(l))&&z.test(i))l+="px";(i===q||i==="height")&&parseFloat(l)<0||a.each(a.query(b),function(m){if(m&&m.style){i.set?i.set(m,l):m.style[i]=l;if(l==="")m.style.cssText||m.removeAttribute("style")}})}}},width:function(b,i){if(i===p)return n(b,q);else e.css(b,q,i)},height:function(b,
i){if(i===p)return n(b,"height");else e.css(b,"height",i)},show:function(b){a.query(b).each(function(i){if(i){i.style.display=e.data(i,"display")||"";if(e.css(i,"display")==="none"){var l=i.tagName,j=d[l],m;if(!j){m=k.createElement(l);k.body.appendChild(m);j=e.css(m,"display");e.remove(m);d[l]=j}e.data(i,"display",j);i.style.display=j}}})},hide:function(b){a.query(b).each(function(i){if(i){var l=i.style,j=l.display;if(j!=="none"){j&&e.data(i,"display",j);l.display="none"}}})},toggle:function(b){a.query(b).each(function(i){if(i)i.style.display===
"none"?e.show(i):e.hide(i)})},addStyleSheet:function(b,i){var l;if(i&&(i=i.replace("#","")))l=a.get("#"+i);if(!l){l=e.create("<style>",{id:i});a.get("head").appendChild(l);if(l.styleSheet)l.styleSheet.cssText=b;else l.appendChild(k.createTextNode(b))}}});if(c.style.cssFloat!==p)o["float"]="cssFloat";else if(c.style.styleFloat!==p)o["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,p){if(a.UA.ie){var n=a.DOM,f=document,e=f.documentElement,g=n._CUSTOM_STYLES,k=/^-?\d+(?:px)?$/i,c=/^-?\d/,q=/^(?:width|height)$/;try{if(e.style.opacity===p&&e.filters)g.opacity={get:function(r){var x=100;try{x=r.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(z){try{x=r.filters("alpha").opacity}catch(t){}}return x/100+""},set:function(r,x){var z=r.style,t=(r.currentStyle||0).filter||"";z.zoom=1;if(t)if(t=t.replace(/alpha\(opacity=.+\)/ig,""))t+=", ";
z.filter=t+"alpha(opacity="+x*100+")"}}}catch(y){}if(!(f.defaultView||{}).getComputedStyle&&e.currentStyle)n._getComputedStyle=function(r,x){var z=r.style,t=r.currentStyle[x];if(q.test(x))t=n[x](r)+"px";else if(!k.test(t)&&c.test(t)){var u=z.left,o=r.runtimeStyle.left;r.runtimeStyle.left=r.currentStyle.left;z.left=x==="fontSize"?"1em":t||0;t=z.pixelLeft+"px";z.left=u;r.runtimeStyle.left=o}return t}}});
KISSY.add("dom-offset",function(a,p){function n(l){var j=0,m=0,v=y(l[t]);if(l[i]){l=l[i]();j=l[u];m=l[o];if(e.mobile!=="apple"){j+=f[d](v);m+=f[b](v)}}return{left:j,top:m}}var f=a.DOM,e=a.UA,g=window,k=document,c=f._isElementNode,q=f._nodeTypeIs,y=f._getWin,r=k.compatMode==="CSS1Compat",x=Math.max,z=parseInt,t="ownerDocument",u="left",o="top",d="scrollLeft",b="scrollTop",i="getBoundingClientRect";a.mix(f,{offset:function(l,j){if(!(l=a.get(l))||!l[t])return null;if(j===p)return n(l);var m=l;if(f.css(m,
"position")==="static")m.style.position="relative";var v=n(m),h={},s,w;for(w in j){s=z(f.css(m,w),10)||0;h[w]=s+j[w]-v[w]}f.css(m,h)},scrollIntoView:function(l,j,m,v){if((l=a.get(l))&&l[t]){v=v===p?true:!!v;m=m===p?true:!!m;if(!j||j===g)return l.scrollIntoView(m);j=a.get(j);if(q(j,9))j=y(j);var h=j&&"scrollTo"in j&&j.document,s=f.offset(l),w=h?{left:f.scrollLeft(j),top:f.scrollTop(j)}:f.offset(j),A={left:s[u]-w[u],top:s[o]-w[o]};s=h?f.viewportHeight(j):j.clientHeight;w=h?f.viewportWidth(j):j.clientWidth;
var B=f[d](j),E=f[b](j),D=B+w,C=E+s,K=l.offsetHeight;l=l.offsetWidth;var J=A.left+B-(z(f.css(j,"borderLeftWidth"))||0);A=A.top+E-(z(f.css(j,"borderTopWidth"))||0);var G=J+l,F=A+K,H,I;if(K>s||A<E||m)H=A;else if(F>C)H=F-s;if(v)if(l>w||J<B||m)I=J;else if(G>D)I=G-w;if(h){if(H!==p||I!==p)j.scrollTo(I,H)}else{if(H!==p)j[b]=H;if(I!==p)j[d]=I}}}});a.each(["Left","Top"],function(l,j){var m="scroll"+l;f[m]=function(v){var h=0,s=y(v),w;if(s&&(w=s.document))h=s[j?"pageYOffset":"pageXOffset"]||w.documentElement[m]||
w.body[m];else if(c(v=a.get(v)))h=v[m];return h}});a.each(["Width","Height"],function(l){f["doc"+l]=function(j){j=j||k;return x(r?j.documentElement["scroll"+l]:j.body["scroll"+l],f["viewport"+l](j))};f["viewport"+l]=function(j){var m="inner"+l;j=y(j);var v=j.document;return m in j?j[m]:r?v.documentElement["client"+l]:v.body["client"+l]}})});
KISSY.add("dom-traversal",function(a,p){function n(k,c,q,y){if(!(k=a.get(k)))return null;if(c===p)c=1;var r=null,x,z;if(a.isNumber(c)&&c>=0){if(c===0)return k;x=0;z=c;c=function(){return++x===z}}for(;k=k[q];)if(g(k)&&(!c||e.test(k,c))&&(!y||y(k))){r=k;break}return r}function f(k,c,q){var y=[];var r=k=a.get(k);if(k&&q)r=k.parentNode;if(r){q=0;for(r=r.firstChild;r;r=r.nextSibling)if(g(r)&&r!==k&&(!c||e.test(r,c)))y[q++]=r}return y}var e=a.DOM,g=e._isElementNode;a.mix(e,{parent:function(k,c){return n(k,
c,"parentNode",function(q){return q.nodeType!=11})},next:function(k,c){return n(k,c,"nextSibling")},prev:function(k,c){return n(k,c,"previousSibling")},siblings:function(k,c){return f(k,c,true)},children:function(k,c){return f(k,c)},contains:function(k,c){var q=false;if((k=a.get(k))&&(c=a.get(c)))if(k.contains){if(c.nodeType===3){c=c.parentNode;if(c===k)return true}if(c)return k.contains(c)}else if(k.compareDocumentPosition)return!!(k.compareDocumentPosition(c)&16);else for(;!q&&(c=c.parentNode);)q=
c==k;return q}})});
KISSY.add("dom-create",function(a,p){function n(h){var s=h.cloneNode(true);if(c.ie<8)s.innerHTML=h.innerHTML;return s}function f(h,s,w,A){if(w){var B=a.guid("ks-tmp-"),E=RegExp(u);s+='<span id="'+B+'"></span>';a.available(B,function(){var D=a.get("head"),C,K,J,G,F,H;for(E.lastIndex=0;C=E.exec(s);)if((J=(K=C[1])?K.match(d):false)&&J[2]){C=g.createElement("script");C.src=J[2];if((G=K.match(b))&&G[2])C.charset=G[2];C.async=true;D.appendChild(C)}else if((H=C[2])&&H.length>0)a.globalEval(H);(F=g.getElementById(B))&&
k.remove(F);a.isFunction(A)&&A()});e(h,s)}else{e(h,s);a.isFunction(A)&&A()}}function e(h,s){s=(s+"").replace(u,"");try{h.innerHTML=s}catch(w){for(;h.firstChild;)h.removeChild(h.firstChild);s&&h.appendChild(k.create(s))}}var g=document,k=a.DOM,c=a.UA,q=c.ie,y=k._nodeTypeIs,r=k._isElementNode,x=k._isKSNode,z=g.createElement("div"),t=/<(\w+)/,u=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,o=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,d=/\ssrc=(['"])(.*?)\1/i,b=/\scharset=(['"])(.*?)\1/i;a.mix(k,{create:function(h,
s,w){if(y(h,1)||y(h,3))return n(h);if(x(h))return n(h[0]);if(!(h=a.trim(h)))return null;var A=null;A=k._creators;var B,E="div",D;if(B=o.exec(h))A=(w||g).createElement(B[1]);else{if((B=t.exec(h))&&(D=B[1])&&a.isFunction(A[D=D.toLowerCase()]))E=D;h=A[E](h,w).childNodes;if(h.length===1)w=h[0].parentNode.removeChild(h[0]);else{h=h;D=w||g;w=null;if(h&&(h.push||h.item)&&h[0]){D=D||h[0].ownerDocument;w=D.createDocumentFragment();if(h.item)h=a.makeArray(h);D=0;for(A=h.length;D<A;D++)w.appendChild(h[D])}w=
w}A=w}w=A;r(w)&&a.isPlainObject(s)&&k.attr(w,s,true);return w},_creators:{div:function(h,s){var w=s?s.createElement("div"):z;w.innerHTML=h;return w}},html:function(h,s,w,A){if(s===p){h=a.get(h);if(r(h))return h.innerHTML}else a.each(a.query(h),function(B){r(B)&&f(B,s,w,A)})},remove:function(h){a.each(a.query(h),function(s){r(s)&&s.parentNode&&s.parentNode.removeChild(s)})}});if(q||c.gecko||c.webkit){var i=k._creators,l=k.create,j=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,m={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},v;for(v in m)(function(h){i[v]=function(s,w){return l("<"+h+">"+s+"</"+h+">",null,w)}})(m[v]);if(q){i.script=function(h,s){var w=s?s.createElement("div"):z;w.innerHTML="-"+h;w.removeChild(w.firstChild);return w};if(q<8)i.tbody=function(h,s){var w=l("<table>"+h+"</table>",null,s),A=w.children.tags("tbody")[0];w.children.length>1&&A&&!j.test(h)&&A.parentNode.removeChild(A);return w}}a.mix(i,{optgroup:i.option,th:i.td,thead:i.tbody,tfoot:i.tbody,
caption:i.tbody,colgroup:i.tbody})}});
KISSY.add("dom-insertion",function(a){var p=a.DOM;a.mix(p,{insertBefore:function(n,f){if((n=a.get(n))&&(f=a.get(f))&&f.parentNode)f.parentNode.insertBefore(n,f);return n},insertAfter:function(n,f){if((n=a.get(n))&&(f=a.get(f))&&f.parentNode)f.nextSibling?f.parentNode.insertBefore(n,f.nextSibling):f.parentNode.appendChild(n);return n},append:function(n,f){if((n=a.get(n))&&(f=a.get(f)))f.appendChild&&f.appendChild(n)},prepend:function(n,f){if((n=a.get(n))&&(f=a.get(f)))f.firstChild?p.insertBefore(n,
f.firstChild):f.appendChild(n)}})});
KISSY.add("event",function(a,p){function n(u,o,d,b,i){if(a.isString(o))o=a.query(o);if(a.isArray(o)){a.each(o,function(l){t[u](l,d,b,i)});return true}if((d=a.trim(d))&&d.indexOf(r)>0){a.each(d.split(r),function(l){t[u](o,l,b,i)});return true}}function f(u){return u&&u.nodeType!==3&&u.nodeType!==8?k.data(u,y):-1}function e(u,o){u&&u.nodeType!==3&&u.nodeType!==8&&k.data(u,y,o)}var g=document,k=a.DOM,c=g.addEventListener?function(u,o,d,b){u.addEventListener&&u.addEventListener(o,d,!!b)}:function(u,o,
d){u.attachEvent&&u.attachEvent("on"+o,d)},q=g.removeEventListener?function(u,o,d,b){u.removeEventListener&&u.removeEventListener(o,d,!!b)}:function(u,o,d){u.detachEvent&&u.detachEvent("on"+o,d)},y="ksEventTargetId",r=" ",x=a.now(),z={},t={EVENT_GUID:y,special:{},add:function(u,o,d,b){if(!n("add",u,o,d,b)){var i=f(u),l,j,m,v,h;if(!(i===-1||!o||!a.isFunction(d))){if(!i){e(u,i=x++);z[i]={target:u,events:{}}}j=z[i].events;if(!j[o]){l=((i=!u.isCustomEventTarget)||u._supportSpecialEvent)&&t.special[o]||
{};m=function(s,w){if(!s||!s.fixed)s=new a.EventObject(u,s,o);if(a.isPlainObject(w)){var A=s.type;a.mix(s,w);s.type=A}l.setup&&l.setup(s);return(l.handle||t._handle)(u,s)};j[o]={handle:m,listeners:[]};v=l.fix||o;h=l.capture;l.init&&l.init.apply(null,a.makeArray(arguments));i&&l.fix!==false&&c(u,v,m,h)}j[o].listeners.push({fn:d,scope:b||u})}}},__getListeners:function(u,o){var d,b=[];if(d=(t.__getEvents(u)||{})[o])b=d.listeners;return b},__getEvents:function(u){var o=f(u),d;if(o!==-1)if(o&&(d=z[o]))if(d.target===
u)return d.events||{}},remove:function(u,o,d,b){if(!n("remove",u,o,d,b)){var i=t.__getEvents(u),l=f(u),j,m,v,h,s,w,A=(!u.isCustomEventTarget||u._supportSpecialEvent)&&t.special[o]||{};if(i!==undefined){b=b||u;if(j=i[o]){m=j.listeners;v=m.length;if(a.isFunction(d)&&v){s=h=0;for(w=[];h<v;++h)if(d!==m[h].fn||b!==m[h].scope)w[s++]=m[h];j.listeners=w;v=w.length}if(d===p||v===0){if(!u.isCustomEventTarget){A=t.special[o]||{};if(A.fix!==false)q(u,A.fix||o,j.handle)}delete i[o]}}A.destroy&&A.destroy.apply(null,
a.makeArray(arguments));if(o===p||a.isEmptyObject(i)){for(o in i)t.remove(u,o);delete z[l];k.removeData(u,y)}}}},_handle:function(u,o){var d=t.__getListeners(u,o.type);d=d.slice(0);for(var b,i,l=0,j=d.length;l<j;++l){b=d[l];b=b.fn.call(b.scope,o);if(i!==false)i=b;if(b!==undefined){o.result=b;b===false&&o.halt()}if(o.isImmediatePropagationStopped)break}return i},_getCache:function(u){return z[u]},__getID:f,_simpleAdd:c,_simpleRemove:q};t.on=t.add;a.Event=t});
KISSY.add("event-object",function(a,p){function n(g,k,c){this.currentTarget=g;this.originalEvent=k||{};if(k){this.type=k.type;this._fix()}else{this.type=c;this.target=g}this.currentTarget=g;this.fixed=true}var f=document,e="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
a.augment(n,{_fix:function(){var g=this.originalEvent,k=e.length,c,q=this.currentTarget;for(q=q.nodeType===9?q:q.ownerDocument||f;k;){c=e[--k];this[c]=g[c]}if(!this.target)this.target=this.srcElement||f;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===p&&this.clientX!==p){g=q.documentElement;k=q.body;this.pageX=this.clientX+(g&&g.scrollLeft||k&&k.scrollLeft||
0)-(g&&g.clientLeft||k&&k.clientLeft||0);this.pageY=this.clientY+(g&&g.scrollTop||k&&k.scrollTop||0)-(g&&g.clientTop||k&&k.clientTop||0)}if(this.which===p)this.which=this.charCode!==p?this.charCode:this.keyCode;if(this.metaKey===p)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==p)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var g=this.originalEvent;if(g.preventDefault)g.preventDefault();else g.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var g=
this.originalEvent;if(g.stopPropagation)g.stopPropagation();else g.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var g=this.originalEvent;g.stopImmediatePropagation?g.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(g){g?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=n});
KISSY.add("event-target",function(a,p){var n=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(f,e){var g=a.DOM.data(this,n.EVENT_GUID)||-1;if((g=((n._getCache(g)||{}).events||{})[f])&&a.isFunction(g.handle))return g.handle(p,e)},on:function(f,e,g){n.add(this,f,e,g);return this},detach:function(f,e,g){n.remove(this,f,e,g);return this}}});
KISSY.add("event-mouseenter",function(a){var p=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(n){p.special[n.name]={fix:n.fix,setup:function(f){f.type=n.name},handle:function(f,e){if(a.DOM._isKSNode(f))f=f[0];var g=e.relatedTarget;try{for(;g&&g!==f;)g=g.parentNode;g!==f&&p._handle(f,e)}catch(k){}}}})});
KISSY.add("event-focusin",function(a){var p=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(n){p.special[n.name]={fix:n.fix,capture:true,setup:function(f){f.type=n.name}}})});
KISSY.add("node",function(a){function p(f,e,g){if(!(this instanceof p))return new p(f,e,g);if(f){if(a.isString(f)){f=n.create(f,e,g);if(f.nodeType===11)return new a.NodeList(f.childNodes)}else if(f instanceof p)return f;else f=f;this[0]=f}else this.length=0}var n=a.DOM;p.TYPE="-ks-Node";a.augment(p,{length:1,getDOMNode:function(){return this[0]},nodeType:p.TYPE});a.one=function(f,e){var g=a.get(f,e);return g?new p(g):null};a.Node=p});
KISSY.add("nodelist",function(a){function p(e){if(!(this instanceof p))return new p(e);n.push.apply(this,a.makeArray(e)||[])}var n=Array.prototype,f=a.DOM._isElementNode;a.mix(p.prototype,{length:0,item:function(e){var g=null,k,c;if(f(e)){k=0;for(c=this.length;k<c;k++)if(e===this[k]){e=k;break}}if(f(this[e]))g=new a.Node(this[e]);return g},getDOMNodes:function(){return n.slice.call(this)},each:function(e,g){var k=this.length,c=0,q;for(q=new a.Node(this[0]);c<k&&e.call(g||q,q,c,this)!==false;q=new a.Node(this[++c]));
return this}});a.all=function(e,g){return new p(a.query(e,g,true))};a.NodeList=p});
KISSY.add("node-attach",function(a,p){function n(m,v,h,s){m=[this[m?b:d]()].concat(a.makeArray(v));if(v[h]===p&&(h!=1||a.isString(v[0])))return s.apply(c,m);s.apply(c,m);return this}function f(m,v){a.each(m,function(h){a.each([u,o],function(s,w){s[h]=function(A){switch(v){case i:return function(){return n.call(this,w,arguments,1,A)};case l:return function(){return n.call(this,w,arguments,0,A)};case j:return function(){var B=this[w?b:d]();return(B=A.apply(c,[B].concat(a.makeArray(arguments))))?new (a[a.isArray(B)?
"NodeList":"Node"])(B):null};default:return function(){var B=this[w?b:d]();B=A.apply(c,[B].concat(a.makeArray(arguments)));return B===p?this:B}}}(c[h])})})}function e(m,v,h){m&&a.each(this,function(s){var w;if(v||a.isString(m))w=c.create(m);else{if(y(m,1)||y(m,3))w=m;if(r(m))w=m[0]}c[h](w,s)});return this}function g(m,v){if((m=a.get(m))&&m.appendChild)a.each(this,function(h){c[v](h,m)});return this}function k(m,v){m.__wrap=m.__wrap||[];m.__wrap.push(v)}var c=a.DOM,q=a.Event,y=c._nodeTypeIs,r=c._isKSNode,
x=a.EventTarget,z=a.Node,t=a.NodeList,u=z.prototype,o=t.prototype,d="getDOMNode",b=d+"s",i=1,l=2,j=4;a.mix(u,{one:function(m){return a.one(m,this[0])},all:function(m){return a.all(m,this[0])}});f(["data","removeData"],i);f(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);f(["attr","removeAttr"],i);f(["val","text"],l);f(["css"],i);f(["width","height"],l);f(["offset"],l);f(["scrollIntoView"]);f(["parent","next","prev","siblings","children"],j);f(["contains"]);f(["html"],l);f(["remove"]);
a.each(["insertBefore","insertAfter"],function(m){u[m]=function(v){c[m].call(c,this[0],v);return this}});a.each([u,o],function(m,v){a.each(["append","prepend"],function(h){m[h]=function(s){return e.call(this,s,v,h)};m[h+"To"]=function(s){return g.call(this,s,h)}})});a.augment(z,x,{fire:null,on:function(m,v,h){function s(A){var B=a.makeArray(arguments);B.shift();A.target=new z(A.target);if(A.relatedTarget)A.relatedTarget=new z(A.relatedTarget);B.unshift(A);return v.apply(h||w,B)}var w=this;q.add(this[0],
m,s,h);k(v,s);return this},detach:function(m,v,h){if(a.isFunction(v)){v=v.__wrap||[];for(var s=0;s<v.length;s++)q.remove(this[0],m,v[s],h)}else q.remove(this[0],m,v,h);return this}});a.augment(t,x,{fire:null});u._supportSpecialEvent=true;a.each({on:"add",detach:"remove"},function(m,v){o[v]=function(h,s,w){for(var A=0;A<this.length;A++)this.item(A).on(h,s,w)}})});if(!this.JSON)this.JSON={};
(function(){function a(y){return y<10?"0"+y:y}function p(y){e.lastIndex=0;return e.test(y)?'"'+y.replace(e,function(r){var x=c[r];return typeof x==="string"?x:"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+y+'"'}function n(y,r){var x,z,t,u,o=g,d,b=r[y];if(b&&typeof b==="object"&&typeof b.toJSON==="function")b=b.toJSON(y);if(typeof q==="function")b=q.call(r,y,b);switch(typeof b){case "string":return p(b);case "number":return isFinite(b)?String(b):"null";case "boolean":case "null":return String(b);
case "object":if(!b)return"null";g+=k;d=[];if(Object.prototype.toString.apply(b)==="[object Array]"){u=b.length;for(x=0;x<u;x+=1)d[x]=n(x,b)||"null";t=d.length===0?"[]":g?"[\n"+g+d.join(",\n"+g)+"\n"+o+"]":"["+d.join(",")+"]";g=o;return t}if(q&&typeof q==="object"){u=q.length;for(x=0;x<u;x+=1){z=q[x];if(typeof z==="string")if(t=n(z,b))d.push(p(z)+(g?": ":":")+t)}}else for(z in b)if(Object.hasOwnProperty.call(b,z))if(t=n(z,b))d.push(p(z)+(g?": ":":")+t);t=d.length===0?"{}":g?"{\n"+g+d.join(",\n"+g)+
"\n"+o+"}":"{"+d.join(",")+"}";g=o;return t}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,k,c={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},q;if(typeof JSON.stringify!=="function")JSON.stringify=function(y,r,x){var z;k=g="";if(typeof x==="number")for(z=0;z<x;z+=1)k+=" ";else if(typeof x==="string")k=x;if((q=r)&&typeof r!=="function"&&(typeof r!=="object"||typeof r.length!=="number"))throw Error("JSON.stringify");return n("",{"":y})};
if(typeof JSON.parse!=="function")JSON.parse=function(y,r){function x(t,u){var o,d,b=t[u];if(b&&typeof b==="object")for(o in b)if(Object.hasOwnProperty.call(b,o)){d=x(b,o);if(d!==undefined)b[o]=d;else delete b[o]}return r.call(t,u,b)}var z;y=String(y);f.lastIndex=0;if(f.test(y))y=y.replace(f,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(y.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){z=eval("("+y+")");return typeof r==="function"?x({"":z},""):z}throw new SyntaxError("JSON.parse");}})();KISSY.add("json",function(a){var p=window.JSON;a.JSON={parse:function(n){if(n==null||n==="")return null;return p.parse(n)},stringify:p.stringify}});
KISSY.add("ajax",function(a,p){function n(h){h=a.merge(v,h);if(h.url){if(h.data&&!a.isString(h.data))h.data=a.param(h.data);h.context=h.context||h;var s,w=b,A,B=h.type.toUpperCase();if(h.dataType===x){s=h.jsonpCallback||x+a.now();h.url=h.url+(h.url.indexOf("?")===-1?"?":"&")+(h.jsonp+"="+s);h.dataType=z;var E=g[s];g[s]=function(G){if(a.isFunction(E))E(G);else{g[s]=p;try{delete g[s]}catch(F){}}f([b,i],G,w,C,h)}}if(h.data&&B===c)h.url=h.url+(h.url.indexOf("?")===-1?"?":"&")+h.data;if(h.dataType===z){e(u,
h);B=a.getScript(h.url,s?null:function(){f([b,i],t,w,C,h)});e(o,h);return B}var D=false,C=h.xhr();e(u,h);C.open(B,h.url,h.async);try{if(h.data||h.contentType)C.setRequestHeader(y,h.contentType);C.setRequestHeader("Accept",h.dataType&&h.accepts[h.dataType]?h.accepts[h.dataType]+", */*; q=0.01":h.accepts._default)}catch(K){}C.onreadystatechange=function(G){if(!C||C.readyState===0||G==="abort"){D||f(i,null,l,C,h);D=true;if(C)C.onreadystatechange=k}else if(!D&&C&&(C.readyState===4||G===j)){D=true;C.onreadystatechange=
k;var F;if(G===j)F=j;else{a:{try{F=C.status>=200&&C.status<300||C.status===304||C.status===1223;break a}catch(H){}F=false}F=F?b:l}w=F;try{F=C;var I=h.dataType,M=t,N,L=F;if(!a.isString(L)){M=F.getResponseHeader(y)||t;L=(N=I==="xml"||!I&&M.indexOf("xml")>=0)?F.responseXML:F.responseText;if(N&&L.documentElement.nodeName===m)throw m;}if(a.isString(L))if(I===r||!I&&M.indexOf(r)>=0)L=a.JSON.parse(L);A=L}catch(O){w=m}f([w===b?b:l,i],A,w,C,h);if(G===j){C.abort();e(d,h)}if(h.async)C=null}};e(o,h);try{C.send(B===
q?h.data:null)}catch(J){f([l,i],A,l,C,h)}h.async||e(i,h);return C}}function f(h,s,w,A,B){if(a.isArray(h))a.each(h,function(E){f(E,s,w,A,B)});else{w===h&&B[h]&&B[h].call(B.context,s,w,A);e(h,B)}}function e(h,s){n.fire(h,{ajaxConfig:s})}var g=window,k=function(){},c="GET",q="POST",y="Content-Type",r="json",x=r+"p",z="script",t="",u="start",o="send",d="stop",b="success",i="complete",l="error",j="timeout",m="parsererror",v={type:c,url:t,contentType:"application/x-www-form-urlencoded",async:true,data:null,
xhr:g.ActiveXObject?function(){if(g.XmlHttpRequest)try{return new g.XMLHttpRequest}catch(h){}try{return new g.ActiveXObject("Microsoft.XMLHTTP")}catch(s){}}:function(){return new g.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};a.mix(n,a.EventTarget);a.mix(n,{get:function(h,s,w,A,B){if(a.isFunction(s)){A=w;w=s}return n({type:B||c,
url:h,data:s,success:function(E,D,C){w&&w.call(this,E,D,C)},dataType:A})},post:function(h,s,w,A){if(a.isFunction(s)){A=w;w=s;s=p}return n.get(h,s,w,A,q)},jsonp:function(h,s,w){if(a.isFunction(s)){w=s;s=null}return n.get(h,s,w,x)}});n.getScript=a.getScript;a.io=a.ajax=n.ajax=n;a.jsonp=n.jsonp;a.IO=n});
KISSY.add("anim-easing",function(a){var p=Math,n=p.PI,f=p.pow,e=p.sin,g=1.70158,k={easeNone:function(c){return c},easeIn:function(c){return c*c},easeOut:function(c){return(2-c)*c},easeBoth:function(c){return(c*=2)<1?0.5*c*c:0.5*(1- --c*(c-2))},easeInStrong:function(c){return c*c*c*c},easeOutStrong:function(c){return 1- --c*c*c*c},easeBothStrong:function(c){return(c*=2)<1?0.5*c*c*c*c:0.5*(2-(c-=2)*c*c*c)},elasticIn:function(c){if(c===0||c===1)return c;return-(f(2,10*(c-=1))*e((c-0.075)*2*n/0.3))},
elasticOut:function(c){if(c===0||c===1)return c;return f(2,-10*c)*e((c-0.075)*2*n/0.3)+1},elasticBoth:function(c){if(c===0||(c*=2)===2)return c;if(c<1)return-0.5*f(2,10*(c-=1))*e((c-0.1125)*2*n/0.45);return f(2,-10*(c-=1))*e((c-0.1125)*2*n/0.45)*0.5+1},backIn:function(c){if(c===1)c-=0.0010;return c*c*((g+1)*c-g)},backOut:function(c){return(c-=1)*c*((g+1)*c+g)+1},backBoth:function(c){if((c*=2)<1)return 0.5*c*c*(((g*=1.525)+1)*c-g);return 0.5*((c-=2)*c*(((g*=1.525)+1)*c+g)+2)},bounceIn:function(c){return 1-
k.bounceOut(1-c)},bounceOut:function(c){return c<1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+0.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+0.9375:7.5625*(c-=2.625/2.75)*c+0.984375},bounceBoth:function(c){if(c<0.5)return k.bounceIn(c*2)*0.5;return k.bounceOut(c*2-1)*0.5+0.5}};k.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=k});
KISSY.add("anim",function(a,p){function n(d,b,i,l,j,m){if(d=a.get(d)){if(!(this instanceof n))return new n(d,b,i,l,j,m);var v=a.isPlainObject(i);b=b;this.domEl=d;if(a.isPlainObject(b))b=a.param(b,";").replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var h={},s=z.length,w;x.innerHTML='<div style="'+b+'"></div>';for(d=x.firstChild.style;s--;)if(w=d[z[s]])h[z[s]]=g(w);this.props=h;this.targetStyle=b;if(v)v=a.merge(o,i);else{v=a.clone(o);if(i)v.duration=r(i)||1;if(a.isString(l)||
a.isFunction(l))v.easing=l;if(a.isFunction(j))v.complete=j;if(m!==p)v.nativeSupport=m}this.config=v;if(v.nativeSupport&&f()&&a.isString(l=v.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(l)||(l=y.NativeTimeFunction[l])){v.easing=l;this.transitionName=f()}a.isFunction(j)&&this.on(u,j)}}function f(){var d="transition",b;if(x.style[d]!==p)b=d;else a.each(["Webkit","Moz","O"],function(i){if(x.style[d=i+"Transition"]!==p){b=d;return false}});f=function(){return b};return b}function e(d,b,i){a.UA.ie&&i.indexOf(t)>
-1&&q.css(d,t,b[t].v);d.style.cssText+=";"+i}function g(d){var b=r(d);d=(d+"").replace(/^[-\d.]+/,"");return isNaN(b)?{v:d,u:"",f:c}:{v:b,u:d,f:k}}function k(d,b,i){return(d+(b-d)*i).toFixed(3)}function c(d,b,i){for(var l=2,j,m,v=[],h=[];j=3,m=arguments[l-1],l--;)if(m.substr(0,4)==="rgb(")for(m=m.match(/\d+/g);j--;)v.push(~~m[j]);else if(m.substr(0,1)==="#"){if(m.length===4)m="#"+m.substr(1,1)+m.substr(1,1)+m.substr(2,1)+m.substr(2,1)+m.substr(3,1)+m.substr(3,1);for(;j--;)v.push(parseInt(m.substr(1+
j*2,2),16))}else return b;for(;j--;){l=~~(v[j+3]+(v[j]-v[j+3])*i);h.push(l<0?0:l>255?255:l)}return"rgb("+h.join(",")+")"}var q=a.DOM,y=a.Easing,r=parseFloat,x=q.create("<div>"),z="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
t="opacity",u="complete",o={duration:1,easing:"easeNone",nativeSupport:true};a.augment(n,a.EventTarget,{run:function(){var d=this,b=d.config,i=d.domEl,l,j,m,v,h=d.props,s={},w;for(w in h)s[w]=g(q.css(i,w));if(d.fire("start")!==false){d.stop();if(d.transitionName)d._nativeRun();else{l=b.duration*1E3;m=a.now();v=m+l;j=b.easing;if(a.isString(j))j=y[j]||y.easeNone;d.timer=a.later(b=function(){var A=a.now(),B=A>v?1:(A-m)/l,E,D,C;for(w in h){E=s[w];D=h[w];if(D.v==0)D.u=E.u;if(E.u!==D.u)E.v=0;q.css(i,w,
D.f(E.v,D.v,j(B))+D.u)}if(d.fire("step")===false||(C=A>v)){d.stop();C&&d.fire(u)}},13,true);b()}return d}},_nativeRun:function(){var d=this,b=d.config,i=d.domEl,l=d.props,j=b.duration*1E3;b=b.easing;var m=d.transitionName,v={};v[m+"Property"]="all";v[m+"Duration"]=j+"ms";v[m+"TimingFunction"]=b;q.css(i,v);a.later(function(){e(i,l,d.targetStyle)},0);a.later(function(){d.stop(true)},j)},stop:function(d){if(this.transitionName)this._nativeStop(d);else{if(this.timer){this.timer.cancel();this.timer=p}if(d){e(this.domEl,
this.props,this.targetStyle);this.fire(u)}}return this},_nativeStop:function(d){var b=this.domEl,i=this.transitionName,l=this.props,j;if(d){q.css(b,i+"Property","none");this.fire(u)}else{for(j in l)q.css(b,j,q._getComputedStyle(b,j));q.css(b,i+"Property","none")}}});n.supportTransition=function(){return!!f()};a.Anim=n});
KISSY.add("anim-node-plugin",function(a,p){function n(t,u,o,d,b){if(u==="toggle"){b=f.css(t,g)===k?1:0;u="show"}if(b)f.css(t,g,f.data(t,g)||"");var i={},l={};a.each(z[u],function(j){if(j===c){i[c]=f.css(t,c);f.css(t,c,q)}else if(j===y){i[y]=f.css(t,y);l.opacity=b?1:0;b&&f.css(t,y,0)}else if(j===r){i[r]=f.css(t,r);l.height=b?f.css(t,r)||t.naturalHeight:0;b&&f.css(t,r,0)}else if(j===x){i[x]=f.css(t,x);l.width=b?f.css(t,x)||t.naturalWidth:0;b&&f.css(t,x,0)}});(new a.Anim(t,l,o,"easeOut",function(){if(!b){var j=
t.style,m=j[g];if(m!==k){m&&f.data(t,g,m);j[g]=k}i[r]&&f.css(t,{height:i[r]});i[x]&&f.css(t,{width:i[x]});i[y]&&f.css(t,{opacity:i[y]});i[c]&&f.css(t,{overflow:i[c]})}d&&a.isFunction(d)&&d()})).run()}var f=a.DOM,e=a.Anim,g="display",k="none",c="overflow",q="hidden",y="opacity",r="height",x="width",z={show:[c,y,r,x],fade:[y],slide:[c,r]};a.each([a.Node.prototype,a.NodeList.prototype],function(t){t.animate=function(){var u=a.makeArray(arguments);a.each(this,function(o){e.apply(p,[o].concat(u)).run()});
return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(u,o){t[o]=function(d,b){f[o]&&arguments.length===0?f[o](this):a.each(this,function(i){n(i,u[0],d,b,u[1])});return this}})})});
KISSY.add("cookie",function(a){var p=document,n=encodeURIComponent,f=decodeURIComponent;a.Cookie={get:function(e){var g;if(a.isString(e)&&e!=="")if(e=p.cookie.match("(?:^| )"+e+"(?:(?:=([^;]*))|;|$)"))g=e[1]?f(e[1]):"";return g},set:function(e,g,k,c,q,y){g=n(g);var r=k;if(typeof r==="number"){r=new Date;r.setTime(r.getTime()+k*864E5)}if(r instanceof Date)g+="; expires="+r.toUTCString();if(a.isString(c)&&c!=="")g+="; domain="+c;if(a.isString(q)&&q!=="")g+="; path="+q;if(y)g+="; secure";p.cookie=e+
"="+g},remove:function(e,g,k,c){this.set(e,"",0,g,k,c)}}});
KISSY.add("attribute",function(a,p){function n(){this.__attrs={};this.__attrVals={}}function f(e){e+="";return e.charAt(0).toUpperCase()+e.substring(1)}a.augment(n,{__getDefAttrs:function(){return a.clone(this.__attrs)},addAttr:function(e,g){this.__attrs[e]=a.clone(g||{});return this},hasAttr:function(e){return e&&this.__attrs.hasOwnProperty(e)},removeAttr:function(e){if(this.hasAttr(e)){delete this.__attrs[e];delete this.__attrVals[e]}return this},set:function(e,g){var k=this.get(e);if(k!==g)if(false!==
this.__fireAttrChange("before",e,k,g)){this.__set(e,g);this.__fireAttrChange("after",e,k,this.__attrVals[e]);return this}},__fireAttrChange:function(e,g,k,c){return this.fire(e+f(g)+"Change",{attrName:g,prevVal:k,newVal:c})},__set:function(e,g){var k,c=this.__attrs[e];if(c=c&&c.setter)k=c.call(this,g);if(k!==p)g=k;this.__attrVals[e]=g},get:function(e){var g;g=(g=this.__attrs[e])&&g.getter;e=e in this.__attrVals?this.__attrVals[e]:this.__getDefAttrVal(e);if(g)e=g.call(this,e);return e},__getDefAttrVal:function(e){e=
this.__attrs[e];var g;if(e){if(g=e.valueFn){g=g.call(this);if(g!==p)e.value=g;delete e.valueFn}return e.value}},reset:function(e){if(this.hasAttr(e))return this.set(e,this.__getDefAttrVal(e));for(e in this.__attrs)this.hasAttr(e)&&this.reset(e);return this}});a.Attribute=n;n.__capitalFirst=f});
KISSY.add("base",function(a){function p(n){a.Attribute.call(this);for(var f=this.constructor;f;){var e=f.ATTRS;if(e){var g=void 0;for(g in e)e.hasOwnProperty(g)&&!this.hasAttr(g)&&this.addAttr(g,e[g])}f=f.superclass?f.superclass.constructor:null}if(n)for(var k in n)n.hasOwnProperty(k)&&this.__set(k,n[k])}a.augment(p,a.EventTarget,a.Attribute);a.Base=p});
