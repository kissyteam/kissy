/*
Copyright 2011, KISSY UI Library v1.1.8dev
MIT Licensed
build time: ${build.time}
*/
(function(a,s,t){var j={mix:function(i,d,u,x){if(!d||!i)return i;if(u===t)u=true;var l,r,v;if(x&&(v=x.length))for(l=0;l<v;l++){r=x[l];if(r in d)if(u||!(r in i))i[r]=d[r]}else for(r in d)if(u||!(r in i))i[r]=d[r];return i}},h=a&&a[s]||{},k=0;a=h.__HOST||(h.__HOST=a||{});s=a[s]=j.mix(h,j,false);s.mix(s,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.1.8dev",merge:function(){var i={},d,u=arguments.length;for(d=0;d<u;d++)s.mix(i,arguments[d]);return i},augment:function(){var i=arguments,
d=i.length-2,u=i[0],x=i[d],l=i[d+1],r=1;if(!s.isArray(l)){x=l;l=t;d++}if(!s.isBoolean(x)){x=t;d++}for(;r<d;r++)s.mix(u.prototype,i[r].prototype||i[r],x,l);return u},extend:function(i,d,u,x){if(!d||!i)return i;var l=Object.create?function(g,p){return Object.create(g,{constructor:{value:p}})}:function(g,p){function e(){}e.prototype=g;var c=new e;c.constructor=p;return c},r=d.prototype,v;v=l(r,i);i.prototype=s.mix(v,i.prototype);i.superclass=l(r,d);u&&s.mix(v,u);x&&s.mix(i,x);return i},__init:function(){this.Config=
this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var i=arguments,d=i.length,u=null,x,l,r,v=i[d-1]===true&&d--;for(x=0;x<d;x++){r=(""+i[x]).split(".");u=v?a:this;for(l=a[r[0]]===u?1:0;l<r.length;++l)u=u[r[l]]=u[r[l]]||{}}return u},app:function(i,d){var u=s.isString(i),x=u?a[i]||{}:i,l=0,r=s.__APP_INIT_METHODS.length;for(s.mix(x,this,true,s.__APP_MEMBERS);l<r;l++)s[s.__APP_INIT_METHODS[l]].call(x);s.mix(x,s.isFunction(d)?d():d);u&&(a[i]=x);return x},log:function(i,
d,u){if(s.Config.debug){if(u)i=u+": "+i;if(a.console!==t&&console.log)console[d&&console[d]?d:"log"](i)}},error:function(i){if(s.Config.debug)throw i;},guid:function(i){return(i||"")+k++}});s.__init();return s})(this,"KISSY");
(function(a,s){var t=a.__HOST,j=Object.prototype.toString,h=Array.prototype.indexOf,k=Array.prototype.lastIndexOf,i=Array.prototype.filter,d=String.prototype.trim,u=/^\s+|\s+$/g,x={};a.mix(a,{type:function(l){return l==null?String(l):x[j.call(l)]||"object"},isNull:function(l){return l===null},isUndefined:function(l){return l===s},isEmptyObject:function(l){for(var r in l)return false;return true},isPlainObject:function(l){return l&&j.call(l)==="[object Object]"&&"isPrototypeOf"in l},clone:function(l,
r,v){var g=l,p,e,c=v||{};if(l&&((p=a.isArray(l))||a.isPlainObject(l))){if(l["__~ks_cloned"])return c[l["__~ks_cloned"]];l["__~ks_cloned"]=g=a.guid();c[g]=l;if(p)g=r?a.filter(l,r):l.concat();else{g={};for(e in l)if(e!=="__~ks_cloned"&&l.hasOwnProperty(e)&&(!r||r.call(l,l[e],e,l)!==false))g[e]=a.clone(l[e],r,c)}}if(!v){a.each(c,function(b){if(b["__~ks_cloned"])try{delete b["__~ks_cloned"]}catch(f){b["__~ks_cloned"]=s}});c=s}return g},trim:d?function(l){return l==s?"":d.call(l)}:function(l){return l==
s?"":l.toString().replace(u,"")},substitute:function(l,r,v){if(!a.isString(l)||!a.isPlainObject(r))return l;return l.replace(v||/\\?\{([^{}]+)\}/g,function(g,p){if(g.charAt(0)==="\\")return g.slice(1);return r[p]!==s?r[p]:""})},each:function(l,r,v){var g,p=0,e=l.length,c=e===s||a.type(l)==="function";v=v||t;if(c)for(g in l){if(r.call(v,l[g],g,l)===false)break}else for(g=l[0];p<e&&r.call(v,g,p,l)!==false;g=l[++p]);return l},indexOf:h?function(l,r){return h.call(r,l)}:function(l,r){for(var v=0,g=r.length;v<
g;++v)if(r[v]===l)return v;return-1},lastIndexOf:k?function(l,r){return k.call(r,l)}:function(l,r){for(var v=r.length-1;v>=0;v--)if(r[v]===l)break;return v},unique:function(l,r){r&&l.reverse();for(var v=l.slice(),g=0,p,e;g<v.length;){for(e=v[g];(p=a.lastIndexOf(e,v))!==g;)v.splice(p,1);g+=1}r&&v.reverse();return v},inArray:function(l,r){return a.indexOf(l,r)>-1},filter:i?function(l,r,v){return i.call(l,r,v||this)}:function(l,r,v){var g=[];a.each(l,function(p,e,c){if(r.call(v||this,p,e,c))g.push(p)});
return g},now:function(){return(new Date).getTime()}});a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(l,r){x["[object "+l+"]"]=r=l.toLowerCase();a["is"+l]=function(v){return a.type(v)==r}})})(KISSY);
(function(a,s){function t(e){var c=typeof e;return e===null||c!=="object"&&c!=="function"}function j(e){return Array.prototype.slice.call(e)}var h=a.__HOST,k=h.document,i=k.documentElement,d=encodeURIComponent("[]"),u=false,x=[],l=false,r=/^#?([\w-]+)$/,v=/^(\w+)\[\]$/,g=/\S/;a.mix(a,{isWindow:function(e){return a.type(e)==="object"&&"setInterval"in e},makeArray:function(e){if(e===null||e===s)return[];if(a.isArray(e))return e;if(typeof e.length!=="number"||a.isString(e)||a.isFunction(e))return[e];
return j(e)},param:function(e,c){if(!a.isPlainObject(e))return"";c=c||"&";var b=[],f,m;for(f in e){m=e[f];f=encodeURIComponent(f);if(t(m))b.push(f,"=",encodeURIComponent(m+""),c);else if(a.isArray(m)&&m.length)for(var n=0,q=m.length;n<q;++n)t(m[n])&&b.push(f,d+"=",encodeURIComponent(m[n]+""),c)}b.pop();return b.join("")},unparam:function(e,c){if(typeof e!=="string"||(e=a.trim(e)).length===0)return{};for(var b={},f=e.split(c||"&"),m,n,q,w,o=0,y=f.length;o<y;++o){m=f[o].split("=");n=decodeURIComponent(m[0]);
try{q=decodeURIComponent(m[1]||"")}catch(z){q=m[1]||""}if((w=n.match(v))&&w[1]){b[w[1]]=b[w[1]]||[];b[w[1]].push(q)}else b[n]=q}return b},globalEval:function(e){if(e&&g.test(e)){var c=k.getElementsByTagName("head")[0]||i,b=k.createElement("script");b.text=e;c.insertBefore(b,c.firstChild);c.removeChild(b)}},later:function(e,c,b,f,m){c=c||0;f=f||{};var n=e,q=a.makeArray(m),w;if(a.isString(e))n=f[e];n||a.error("method undefined");e=function(){n.apply(f,q)};w=b?setInterval(e,c):setTimeout(e,c);return{id:w,
interval:b,cancel:function(){this.interval?clearInterval(w):clearTimeout(w)}}},ready:function(e){l||this._bindReady();u?e.call(h,this):x.push(e);return this},_bindReady:function(){var e=this,c=k.documentElement.doScroll,b=c?"onreadystatechange":"DOMContentLoaded",f=function(){e._fireReady()};l=true;if(k.readyState==="complete")return f();if(k.addEventListener){var m=function(){k.removeEventListener(b,m,false);f()};k.addEventListener(b,m,false);h.addEventListener("load",f,false)}else{var n=function(){if(k.readyState===
"complete"){k.detachEvent(b,n);f()}};k.attachEvent(b,n);h.attachEvent("onload",f);var q=false;try{q=h.frameElement==null}catch(w){}if(c&&q){var o=function(){try{c("left");f()}catch(y){setTimeout(o,1)}};o()}}},_fireReady:function(){if(!u){u=true;if(x){for(var e,c=0;e=x[c++];)e.call(h,this);x=null}}},available:function(e,c){if((e=(e+"").match(r)[1])&&a.isFunction(c))var b=1,f=a.later(function(){if(k.getElementById(e)&&(c()||1)||++b>500)f.cancel()},40,true)}});try{j(i.childNodes)}catch(p){j=function(e){for(var c=
[],b=e.length-1;b>=0;b--)c[b]=e[b];return c}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)a.Config.debug=true})(KISSY);
(function(a,s){var t=a.__HOST.document,j=t.getElementsByTagName("head")[0]||t.documentElement,h=2,k=3,i=4,d=a.mix,u=t.createElement("script").readyState?function(g,p){var e=g.onreadystatechange;g.onreadystatechange=function(){var c=g.readyState;if(c==="loaded"||c==="complete"){g.onreadystatechange=null;e&&e();p.call(this)}}}:function(g,p){g.addEventListener("load",p,false)},x=/\.css(?:\?|$)/i,l;l={add:function(g,p,e){var c=this.Env.mods,b;if(a.isString(g)&&!e&&a.isPlainObject(p)){b={};b[g]=p;g=b}if(a.isPlainObject(g)){a.each(g,
function(f,m){f.name=m;c[m]&&d(f,c[m],false)});d(c,g)}else{e=e||{};b=c[g]||{};g=e.host||b.host||g;b=c[g]||{};d(b,{name:g,status:h});if(!b.fns)b.fns=[];p&&b.fns.push(p);d(c[g]=b,e);b.attach!==false&&this.__isAttached(b.requires)&&this.__attachMod(b)}return this},use:function(g,p,e){g=g.replace(/\s+/g,"").split(",");e=e||{};var c=this,b;e=(e||0).global;var f,m=g.length,n;e&&c.__mixMods(e);if(c.__isAttached(g))p&&p(c);else{for(f=0;f<m&&(b=g[f]);f++)c.__attachModByName(b,function(){if(!n&&c.__isAttached(g)){n=
true;p&&p(c)}},e);return c}},__attachModByName:function(g,p,e){var c=this.Env.mods,b=g.indexOf("+css")!=-1;g=b?g.replace(/\+css/g,""):g;var f=c[g];if(!f){f=this.Config.componentJsName||function(m){return m+"-pkg-min.js?t=20110216163709"};f=a.isFunction(f)?f(g):f;f={path:g+"/"+f,charset:"utf-8"};c[g]=f}if(b){c=this.Config.componentCssName||function(m){return m+"-min.css?t=20110216163709"};c=a.isFunction(c)?c(g):c;f.csspath=g+"/"+c}f.name=g;f&&f.status===i||this.__attach(f,p,e)},__attach:function(g,p,e){function c(){if(!o&&
b.__isAttached(g.requires)){g.status===h&&b.__attachMod(g);if(g.status===i){o=true;p()}}}for(var b=this,f=b.Env.mods,m=(g.requires||[]).concat(),n=0,q=m.length;n<q;n++){var w=f[m[n]];w&&w.status===i||b.__attachModByName(m[n],c,e)}b.__buildPath(g);b.__load(g,function(){for(var y=g.requires||[],z=[],A=y.length-1;A>=0;A--){var B=y[A],E=f[B],D=a.inArray(B,m);E&&E.status===i||D||b.__attachModByName(B,c,e);D||z.push(B)}z.length!=0&&z.unshift(g.name);c()},e);var o=false},__mixMods:function(g){var p=this.Env.mods,
e=g.Env.mods,c;for(c in e)this.__mixMod(p,e,c,g)},__mixMod:function(g,p,e,c){var b=g[e]||{},f=b.status;a.mix(b,a.clone(p[e]));if(f)b.status=f;c&&this.__buildPath(b,c.Config.base);g[e]=b},__attachMod:function(g){var p=this;if(g.fns){a.each(g.fns,function(e){e&&e(p)});g.fns=s}g.status=i},__isAttached:function(g){for(var p=this.Env.mods,e,c=(g=a.makeArray(g)).length-1;c>=0;c--){e=g[c].replace(/\+css/,"");e=p[e]||{};if(e.status!==i)return false}return true},__load:function(g,p,e){function c(){m[f]=h;
if(g.status!==k){e&&b.__mixMod(b.Env.mods,e.Env.mods,g.name,e);if(g.status!==i)g.status=h;p()}}var b=this,f=g.fullpath,m=a.Env._loadQueue,n=m[f];g.status=g.status||0;if(g.status<1&&n)g.status=n.nodeName?1:h;if(a.isString(g.cssfullpath)){b.getScript(g.cssfullpath);g.cssfullpath=h}if(g.status<1&&f){g.status=1;n=b.getScript(f,{success:function(){KISSY.log(g.name+" is loaded.","info");c()},error:function(){g.status=k;m[f]=h},charset:g.charset});x.test(f)||(m[f]=n)}else g.status===1?u(n,c):p()},__buildPath:function(g,
p){function e(b,f){if(!g[f]&&g[b])g[f]=(p||c.base)+g[b];if(g[f]&&c.debug)g[f]=g[f].replace(/-min/g,"")}var c=this.Config;e("path","fullpath");g.cssfullpath!==h&&e("csspath","cssfullpath")},getScript:function(g,p,e){var c=x.test(g),b=t.createElement(c?"link":"script"),f=p,m,n,q;if(a.isPlainObject(f)){p=f.success;m=f.error;n=f.timeout;e=f.charset}if(c){b.href=g;b.rel="stylesheet"}else{b.src=g;b.async=true}if(e)b.charset=e;if(c)a.isFunction(p)&&p.call(b);else u(b,function(){if(q){q.cancel();q=s}a.isFunction(p)&&
p.call(b);j&&b.parentNode&&j.removeChild(b)});if(a.isFunction(m))q=a.later(function(){q=s;m()},(n||this.Config.timeout)*1E3);j.insertBefore(b,j.firstChild);return b}};d(a,l);var r=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,v=/(seed|kissy)(-min)?\.js/;a.__initLoader=function(){var g=t.getElementsByTagName("script");g=g[g.length-1];var p=g.src,e=g.getAttribute("data-combo-prefix")||"??";g=g.getAttribute("data-combo-sep")||",";g=p.split(g);var c=g[0];e=c.indexOf(e);if(e==-1)p=p.replace(r,"$1");else{p=c.substring(0,
e);e=c.substring(e+2,c.length);if(e.match(v))p+=e.replace(r,"$1");else for(e=1;e<g.length;e++){c=g[e];if(c.match(v)){p+=c.replace(r,"$1");break}}}if(p.lastIndexOf("/",0)!=0&&p.lastIndexOf("http://",0)!=0&&p.lastIndexOf("https://",0)!=0)p=window.location.href.replace(/[^/]*$/,"")+p;g=p;this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=g;if(!this.Config.timeout)this.Config.timeout=10};a.__initLoader();a.each(l,function(g,p){a.__APP_MEMBERS.push(p)});a.__APP_INIT_METHODS.push("__initLoader")})(KISSY);
KISSY.add("ua",function(a){var s=navigator.userAgent,t="",j="",h,k={},i=function(d){var u=0;return parseFloat(d.replace(/\./g,function(){return u++===0?".":""}))};if((h=s.match(/AppleWebKit\/([\d.]*)/))&&h[1]){k[t="webkit"]=i(h[1]);if((h=s.match(/Chrome\/([\d.]*)/))&&h[1])k[j="chrome"]=i(h[1]);else if((h=s.match(/\/([\d.]*) Safari/))&&h[1])k[j="safari"]=i(h[1]);if(/ Mobile\//.test(s))k.mobile="apple";else if(h=s.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))k.mobile=h[0].toLowerCase()}else if((h=
s.match(/Presto\/([\d.]*)/))&&h[1]){k[t="presto"]=i(h[1]);if((h=s.match(/Opera\/([\d.]*)/))&&h[1]){k[j="opera"]=i(h[1]);if((h=s.match(/Opera\/.* Version\/([\d.]*)/))&&h[1])k[j]=i(h[1]);if((h=s.match(/Opera Mini[^;]*/))&&h)k.mobile=h[0].toLowerCase();else if((h=s.match(/Opera Mobi[^;]*/))&&h)k.mobile=h[0]}}else if((h=s.match(/MSIE\s([^;]*)/))&&h[1]){k[t="trident"]=0.1;k[j="ie"]=i(h[1]);if((h=s.match(/Trident\/([\d.]*)/))&&h[1])k[t]=i(h[1])}else if(h=s.match(/Gecko/)){k[t="gecko"]=0.1;if((h=s.match(/rv:([\d.]*)/))&&
h[1])k[t]=i(h[1]);if((h=s.match(/Firefox\/([\d.]*)/))&&h[1])k[j="firefox"]=i(h[1])}k.core=t;k.shell=j;k._numberify=i;a.UA=k});
KISSY.add("ua-extra",function(a){var s=a.UA,t=navigator.userAgent,j,h,k={},i=s._numberify;if(t.match(/360SE/))k[h="se360"]=3;else if(t.match(/Maxthon/)&&(j=window.external)){h="maxthon";try{k[h]=i(j.max_version)}catch(d){k[h]=0.1}}else if(j=t.match(/TencentTraveler\s([\d.]*)/))k[h="tt"]=j[1]?i(j[1]):0.1;else if(t.match(/TheWorld/))k[h="theworld"]=3;else if(j=t.match(/SE\s([\d.]*)/))k[h="sougou"]=j[1]?i(j[1]):0.1;h&&(k.shell=h);a.mix(s,k)});
KISSY.add("dom",function(a,s){function t(j,h){return j&&j.nodeType===h}a.DOM={_isElementNode:function(j){return t(j,1)},_isKSNode:function(j){return a.Node&&t(j,a.Node.TYPE)},_getWin:function(j){return j&&"scrollTo"in j&&j.document?j:t(j,9)?j.defaultView||j.parentWindow:j===s?window:false},_nodeTypeIs:t}});
KISSY.add("selector",function(a,s){function t(c,b){var f,m,n=[],q;b=j(b);if(a.isString(c)){c=a.trim(c);if(p.test(c)){if(m=h(c.slice(1),b))n=[m]}else if(f=e.exec(c)){m=f[1];q=f[2];f=f[3];if(b=m?h(m,b):b)if(f)if(!m||c.indexOf(l)!==-1)n=i(f,q,b);else{if((m=h(m,b))&&x.hasClass(m,f))n=[m]}else if(q)n=k(q,b)}else if(a.ExternalSelector)return a.ExternalSelector(c,b);else d(c)}else if(c&&(c[v]||c[g]))n=c[v]?[c[v]()]:c[g]();else if(c&&(a.isArray(c)||c&&!c.nodeType&&c.item&&!c.setTimeout))n=c;else if(c)n=[c];
if(n&&!n.nodeType&&n.item&&!n.setTimeout)n=a.makeArray(n);n.each=function(w,o){return a.each(n,w,o)};return n}function j(c){if(c===s)c=u;else if(a.isString(c)&&p.test(c))c=h(c.slice(1),u);else if(c&&c.nodeType!==1&&c.nodeType!==9)c=null;return c}function h(c,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(c)}function k(c,b){return b.getElementsByTagName(c)}function i(c,b,f){f=c=f.getElementsByClassName(c);var m=0,n=0,q=c.length,w;if(b&&b!==r){f=[];for(b=b.toUpperCase();m<q;++m){w=c[m];
if(w.tagName===b)f[n++]=w}}return f}function d(c){a.error("Unsupported selector: "+c)}var u=document,x=a.DOM,l=" ",r="*",v="getDOMNode",g=v+"s",p=/^#[\w-]+$/,e=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var c=u.createElement("div");c.appendChild(u.createComment(""));if(c.getElementsByTagName(r).length>0)k=function(b,f){var m=f.getElementsByTagName(b);if(b===r){for(var n=[],q=0,w=0,o;o=m[q++];)if(o.nodeType===1)n[w++]=o;m=n}return m}})();u.getElementsByClassName||(i=u.querySelectorAll?
function(c,b,f){return f.querySelectorAll((b?b:"")+"."+c)}:function(c,b,f){b=f.getElementsByTagName(b||r);f=[];var m=0,n=0,q=b.length,w,o;for(c=l+c+l;m<q;++m){w=b[m];if((o=w.className)&&(l+o+l).indexOf(c)>-1)f[n++]=w}return f});a.query=t;a.get=function(c,b){return t(c,b)[0]||null};a.mix(x,{query:t,get:a.get,filter:function(c,b){var f=t(c),m,n,q,w=[];if(a.isString(b)&&(m=e.exec(b))&&!m[1]){n=m[2];q=m[3];b=function(o){return!(n&&o.tagName!==n.toUpperCase()||q&&!x.hasClass(o,q))}}if(a.isFunction(b))w=
a.filter(f,b);else if(b&&a.ExternalSelector)w=a.ExternalSelector._filter(c,b+"");else d(b);return w},test:function(c,b){var f=t(c);return f.length&&x.filter(f,b).length===f.length}})});
KISSY.add("dom-data",function(a,s){var t=window,j=a.DOM,h="_ks_data_"+a.now(),k={},i={},d={EMBED:1,OBJECT:1,APPLET:1};a.mix(j,{data:function(u,x,l){if(a.isPlainObject(x))for(var r in x)j.data(u,r,x[r]);else if(l===s){u=a.get(u);var v;if(!(!u||d[u.nodeName])){if(u==t)u=i;v=(r=u&&u.nodeType)?k:u;u=v[r?u[h]:h];if(a.isString(x)&&u)return u[x];return u}}else a.query(u).each(function(g){if(!(!g||d[g.nodeName])){if(g==t)g=i;var p=k,e;if(g&&g.nodeType){if(!(e=g[h]))e=g[h]=a.guid()}else{e=h;p=g}if(x&&l!==
s){p[e]||(p[e]={});p[e][x]=l}}})},removeData:function(u,x){a.query(u).each(function(l){if(l){if(l==t)l=i;var r,v=k,g,p=l&&l.nodeType;if(p)r=l[h];else{v=l;r=h}if(r){g=v[r];if(x){if(g){delete g[x];a.isEmptyObject(g)&&j.removeData(l)}}else{if(p)l.removeAttribute&&l.removeAttribute(h);else try{delete l[h]}catch(e){}p&&delete v[r]}}}})}})});
KISSY.add("dom-class",function(a,s){function t(i,d,u,x){if(!(d=a.trim(d)))return x?false:s;i=a.query(i);var l=0,r=i.length;d=d.split(h);for(var v;l<r;l++){v=i[l];if(j._isElementNode(v)){v=u(v,d,d.length);if(v!==s)return v}}if(x)return false}var j=a.DOM,h=/[\.\s]\s*\.?/,k=/[\n\t]/g;a.mix(j,{hasClass:function(i,d){return t(i,d,function(u,x,l){if(u=u.className){u=" "+u+" ";for(var r=0,v=true;r<l;r++)if(u.indexOf(" "+x[r]+" ")<0){v=false;break}if(v)return true}},true)},addClass:function(i,d){t(i,d,function(u,
x,l){var r=u.className;if(r){var v=" "+r+" ";r=r;for(var g=0;g<l;g++)if(v.indexOf(" "+x[g]+" ")<0)r+=" "+x[g];u.className=a.trim(r)}else u.className=d})},removeClass:function(i,d){t(i,d,function(u,x,l){var r=u.className;if(r)if(l){r=(" "+r+" ").replace(k," ");for(var v=0,g;v<l;v++)for(g=" "+x[v]+" ";r.indexOf(g)>=0;)r=r.replace(g," ");u.className=a.trim(r)}else u.className=""})},replaceClass:function(i,d,u){j.removeClass(i,d);j.addClass(i,u)},toggleClass:function(i,d,u){var x=a.isBoolean(u),l;t(i,
d,function(r,v,g){for(var p=0,e;p<g;p++){e=v[p];l=x?!u:j.hasClass(r,e);j[l?"removeClass":"addClass"](r,e)}})}})});
KISSY.add("dom-attr",function(a,s){var t=a.UA,j=document.documentElement,h=!j.hasAttribute,k=j.textContent!==s?"textContent":"innerText",i=a.DOM,d=i._isElementNode,u=/^(?:href|src|style)/,x=/^(?:href|src|colspan|rowspan)/,l=/\r/g,r=/^(?:radio|checkbox)/,v={readonly:"readOnly"},g={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1},p={tabindex:{getter:function(e){return e.tabIndex},setter:function(e,c){if(isNaN(parseInt(c))){e.removeAttribute("tabindex");e.removeAttribute("tabIndex")}else e.tabIndex=
c}},style:{getter:function(e){return e.style.cssText},setter:function(e,c){e.style.cssText=c}},checked:{setter:function(e,c){e.checked=!!c}}};h&&a.mix(v,{"for":"htmlFor","class":"className"});a.mix(i,{attr:function(e,c,b,f){if(a.isPlainObject(c)){f=b;for(var m in c)i.attr(e,m,c[m],f)}else if(c=a.trim(c)){c=c.toLowerCase();if(f&&g[c])return i[c](e,b);c=v[c]||c;var n=p[c];if(b===s){e=i.get(e);if(!d(e))return s;if(n&&n.getter)return n.getter(e);var q;u.test(c)||(q=e[c]);if(q===s)q=e.getAttribute(c);
if(h)if(x.test(c))q=e.getAttribute(c,2);return q===null?s:q}a.each(i.query(e),function(w){if(d(w))n&&n.setter?n.setter(w,b):w.setAttribute(c,""+b)})}},removeAttr:function(e,c){a.each(a.query(e),function(b){if(d(b)){i.attr(b,c,"");b.removeAttribute(c)}})},val:function(e,c){if(c===s){var b=a.get(e);if(!d(b))return s;if(b&&b.nodeName.toUpperCase()==="option".toUpperCase())return(b.attributes.value||{}).specified?b.value:b.text;if(b&&b.nodeName.toUpperCase()==="select".toUpperCase()){var f=b.selectedIndex,
m=b.options;if(f<0)return null;else if(b.type==="select-one")return i.val(m[f]);b=[];for(var n=0,q=m.length;n<q;++n)m[n].selected&&b.push(i.val(m[n]));return b}if(t.webkit&&r.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(l,"")}a.each(a.query(e),function(w){if(w&&w.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(c))c+="";var o=a.makeArray(c),y=w.options,z;n=0;for(q=y.length;n<q;++n){z=y[n];z.selected=a.inArray(i.val(z),o)}if(!o.length)w.selectedIndex=
-1}else if(d(w))w.value=c})},text:function(e,c){if(c===s){var b=a.get(e);if(d(b))return b[k]||"";else if(i._nodeTypeIs(b,3))return b.nodeValue}else a.each(a.query(e),function(f){if(d(f))f[k]=c;else if(i._nodeTypeIs(f,3))f.nodeValue=c})}})});
KISSY.add("dom-style",function(a,s){function t(b,f){var m=a.get(b),n=f===u?m.offsetWidth:m.offsetHeight;a.each(f===u?["Left","Right"]:["Top","Bottom"],function(q){n-=parseFloat(h._getComputedStyle(m,"padding"+q))||0;n-=parseFloat(h._getComputedStyle(m,"border"+q+"Width"))||0});return n}function j(b,f,m){var n=m;if(m===x&&r.test(f)){n=0;if(a.inArray(h.css(b,"position"),["absolute","fixed"])){m=b[f==="left"?"offsetLeft":"offsetTop"];if(k.ie===8||k.opera)m-=l(h.css(b.offsetParent,"border-"+f+"-width"))||
0;n=m-(l(h.css(b,"margin-"+f))||0)}}return n}var h=a.DOM,k=a.UA,i=document,d=i.documentElement,u="width",x="auto",l=parseInt,r=/^(?:left|top)/,v=/^(?:width|height|top|left|right|bottom|margin|padding)/i,g=/-([a-z])/ig,p=function(b,f){return f.toUpperCase()},e={},c={};a.mix(h,{_CUSTOM_STYLES:e,_getComputedStyle:function(b,f){var m="",n=b.ownerDocument;if(b.style)m=n.defaultView.getComputedStyle(b,null)[f];return m},css:function(b,f,m){if(a.isPlainObject(f))for(var n in f)h.css(b,n,f[n]);else{if(f.indexOf("-")>
0)f=f.replace(g,p);f=e[f]||f;if(m===s){b=a.get(b);n="";if(b&&b.style){n=f.get?f.get(b):b.style[f];if(n===""&&!f.get)n=j(b,f,h._getComputedStyle(b,f))}return n===s?"":n}else{if(m===null||m==="")m="";else if(!isNaN(new Number(m))&&v.test(f))m+="px";(f===u||f==="height")&&parseFloat(m)<0||a.each(a.query(b),function(q){if(q&&q.style){f.set?f.set(q,m):q.style[f]=m;if(m==="")q.style.cssText||q.removeAttribute("style")}})}}},width:function(b,f){if(f===s)return t(b,u);else h.css(b,u,f)},height:function(b,
f){if(f===s)return t(b,"height");else h.css(b,"height",f)},show:function(b){a.query(b).each(function(f){if(f){f.style.display=h.data(f,"display")||"";if(h.css(f,"display")==="none"){var m=f.tagName,n=c[m],q;if(!n){q=i.createElement(m);i.body.appendChild(q);n=h.css(q,"display");h.remove(q);c[m]=n}h.data(f,"display",n);f.style.display=n}}})},hide:function(b){a.query(b).each(function(f){if(f){var m=f.style,n=m.display;if(n!=="none"){n&&h.data(f,"display",n);m.display="none"}}})},toggle:function(b){a.query(b).each(function(f){if(f)f.style.display===
"none"?h.show(f):h.hide(f)})},addStyleSheet:function(b,f){var m;if(f&&(f=f.replace("#","")))m=a.get("#"+f);if(!m){m=h.create("<style>",{id:f});a.get("head").appendChild(m);if(m.styleSheet)m.styleSheet.cssText=b;else m.appendChild(i.createTextNode(b))}}});if(d.style.cssFloat!==s)e["float"]="cssFloat";else if(d.style.styleFloat!==s)e["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,s){if(a.UA.ie){var t=a.DOM,j=document,h=j.documentElement,k=t._CUSTOM_STYLES,i=/^-?\d+(?:px)?$/i,d=/^-?\d/,u=/^(?:width|height)$/;try{if(h.style.opacity===s&&h.filters)k.opacity={get:function(l){var r=100;try{r=l.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(v){try{r=l.filters("alpha").opacity}catch(g){}}return r/100+""},set:function(l,r){var v=l.style,g=(l.currentStyle||0).filter||"";v.zoom=1;if(g)if(g=g.replace(/alpha\(opacity=.+\)/ig,""))g+=", ";
v.filter=g+"alpha(opacity="+r*100+")"}}}catch(x){}if(!(j.defaultView||{}).getComputedStyle&&h.currentStyle)t._getComputedStyle=function(l,r){var v=l.style,g=l.currentStyle[r];if(u.test(r))g=t[r](l)+"px";else if(!i.test(g)&&d.test(g)){var p=v.left,e=l.runtimeStyle.left;l.runtimeStyle.left=l.currentStyle.left;v.left=r==="fontSize"?"1em":g||0;g=v.pixelLeft+"px";v.left=p;l.runtimeStyle.left=e}return g}}});
KISSY.add("dom-offset",function(a,s){function t(m){var n=0,q=0,w=x(m[g]);if(m[f]){m=m[f]();n=m[p];q=m[e];if(h.mobile!=="apple"){n+=j[c](w);q+=j[b](w)}}return{left:n,top:q}}var j=a.DOM,h=a.UA,k=window,i=document,d=j._isElementNode,u=j._nodeTypeIs,x=j._getWin,l=i.compatMode==="CSS1Compat",r=Math.max,v=parseInt,g="ownerDocument",p="left",e="top",c="scrollLeft",b="scrollTop",f="getBoundingClientRect";a.mix(j,{offset:function(m,n){if(!(m=a.get(m))||!m[g])return null;if(n===s)return t(m);var q=m;if(j.css(q,
"position")==="static")q.style.position="relative";var w=t(q),o={},y,z;for(z in n){y=v(j.css(q,z),10)||0;o[z]=y+n[z]-w[z]}j.css(q,o)},scrollIntoView:function(m,n,q,w){if((m=a.get(m))&&m[g]){w=w===s?true:!!w;q=q===s?true:!!q;if(!n||n===k)return m.scrollIntoView(q);n=a.get(n);if(u(n,9))n=x(n);var o=n&&"scrollTo"in n&&n.document,y=j.offset(m),z=o?{left:j.scrollLeft(n),top:j.scrollTop(n)}:j.offset(n),A={left:y[p]-z[p],top:y[e]-z[e]};y=o?j.viewportHeight(n):n.clientHeight;z=o?j.viewportWidth(n):n.clientWidth;
var B=j[c](n),E=j[b](n),D=B+z,C=E+y,K=m.offsetHeight;m=m.offsetWidth;var J=A.left+B-(v(j.css(n,"borderLeftWidth"))||0);A=A.top+E-(v(j.css(n,"borderTopWidth"))||0);var G=J+m,F=A+K,H,I;if(K>y||A<E||q)H=A;else if(F>C)H=F-y;if(w)if(m>z||J<B||q)I=J;else if(G>D)I=G-z;if(o){if(H!==s||I!==s)n.scrollTo(I,H)}else{if(H!==s)n[b]=H;if(I!==s)n[c]=I}}}});a.each(["Left","Top"],function(m,n){var q="scroll"+m;j[q]=function(w){var o=0,y=x(w),z;if(y&&(z=y.document))o=y[n?"pageYOffset":"pageXOffset"]||z.documentElement[q]||
z.body[q];else if(d(w=a.get(w)))o=w[q];return o}});a.each(["Width","Height"],function(m){j["doc"+m]=function(n){n=n||i;return r(l?n.documentElement["scroll"+m]:n.body["scroll"+m],j["viewport"+m](n))};j["viewport"+m]=function(n){var q="inner"+m;n=x(n);var w=n.document;return q in n?n[q]:l?w.documentElement["client"+m]:w.body["client"+m]}})});
KISSY.add("dom-traversal",function(a,s){function t(i,d,u,x){if(!(i=a.get(i)))return null;if(d===s)d=1;var l=null,r,v;if(a.isNumber(d)&&d>=0){if(d===0)return i;r=0;v=d;d=function(){return++r===v}}for(;i=i[u];)if(k(i)&&(!d||h.test(i,d))&&(!x||x(i))){l=i;break}return l}function j(i,d,u){var x=[];var l=i=a.get(i);if(i&&u)l=i.parentNode;if(l){u=0;for(l=l.firstChild;l;l=l.nextSibling)if(k(l)&&l!==i&&(!d||h.test(l,d)))x[u++]=l}return x}var h=a.DOM,k=h._isElementNode;a.mix(h,{parent:function(i,d){return t(i,
d,"parentNode",function(u){return u.nodeType!=11})},next:function(i,d){return t(i,d,"nextSibling")},prev:function(i,d){return t(i,d,"previousSibling")},siblings:function(i,d){return j(i,d,true)},children:function(i,d){return j(i,d)},contains:function(i,d){var u=false;if((i=a.get(i))&&(d=a.get(d)))if(i.contains){if(d.nodeType===3){d=d.parentNode;if(d===i)return true}if(d)return i.contains(d)}else if(i.compareDocumentPosition)return!!(i.compareDocumentPosition(d)&16);else for(;!u&&(d=d.parentNode);)u=
d==i;return u}})});
KISSY.add("dom-create",function(a,s){function t(o){var y=o.cloneNode(true);if(d.ie<8)y.innerHTML=o.innerHTML;return y}function j(o,y,z,A){if(z){var B=a.guid("ks-tmp-"),E=RegExp(p);y+='<span id="'+B+'"></span>';a.available(B,function(){var D=a.get("head"),C,K,J,G,F,H;for(E.lastIndex=0;C=E.exec(y);)if((J=(K=C[1])?K.match(c):false)&&J[2]){C=k.createElement("script");C.src=J[2];if((G=K.match(b))&&G[2])C.charset=G[2];C.async=true;D.appendChild(C)}else if((H=C[2])&&H.length>0)a.globalEval(H);(F=k.getElementById(B))&&
i.remove(F);a.isFunction(A)&&A()});h(o,y)}else{h(o,y);a.isFunction(A)&&A()}}function h(o,y){y=(y+"").replace(p,"");try{o.innerHTML=y}catch(z){for(;o.firstChild;)o.removeChild(o.firstChild);y&&o.appendChild(i.create(y))}}var k=document,i=a.DOM,d=a.UA,u=d.ie,x=i._nodeTypeIs,l=i._isElementNode,r=i._isKSNode,v=k.createElement("div"),g=/<(\w+)/,p=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,e=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,c=/\ssrc=(['"])(.*?)\1/i,b=/\scharset=(['"])(.*?)\1/i;a.mix(i,{create:function(o,
y,z){if(x(o,1)||x(o,3))return t(o);if(r(o))return t(o[0]);if(!(o=a.trim(o)))return null;var A=null;A=i._creators;var B,E="div",D;if(B=e.exec(o))A=(z||k).createElement(B[1]);else{if((B=g.exec(o))&&(D=B[1])&&a.isFunction(A[D=D.toLowerCase()]))E=D;o=A[E](o,z).childNodes;if(o.length===1)z=o[0].parentNode.removeChild(o[0]);else{o=o;D=z||k;z=null;if(o&&(o.push||o.item)&&o[0]){D=D||o[0].ownerDocument;z=D.createDocumentFragment();if(o.item)o=a.makeArray(o);D=0;for(A=o.length;D<A;D++)z.appendChild(o[D])}z=
z}A=z}z=A;l(z)&&a.isPlainObject(y)&&i.attr(z,y,true);return z},_creators:{div:function(o,y){var z=y?y.createElement("div"):v;z.innerHTML=o;return z}},html:function(o,y,z,A){if(y===s){o=a.get(o);if(l(o))return o.innerHTML}else a.each(a.query(o),function(B){l(B)&&j(B,y,z,A)})},remove:function(o){a.each(a.query(o),function(y){l(y)&&y.parentNode&&y.parentNode.removeChild(y)})}});if(u||d.gecko||d.webkit){var f=i._creators,m=i.create,n=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,q={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},w;for(w in q)(function(o){f[w]=function(y,z){return m("<"+o+">"+y+"</"+o+">",null,z)}})(q[w]);if(u){f.script=function(o,y){var z=y?y.createElement("div"):v;z.innerHTML="-"+o;z.removeChild(z.firstChild);return z};if(u<8)f.tbody=function(o,y){var z=m("<table>"+o+"</table>",null,y),A=z.children.tags("tbody")[0];z.children.length>1&&A&&!n.test(o)&&A.parentNode.removeChild(A);return z}}a.mix(f,{optgroup:f.option,th:f.td,thead:f.tbody,tfoot:f.tbody,
caption:f.tbody,colgroup:f.tbody})}});
KISSY.add("dom-insertion",function(a){var s=a.DOM;a.mix(s,{insertBefore:function(t,j){if((t=a.get(t))&&(j=a.get(j))&&j.parentNode)j.parentNode.insertBefore(t,j);return t},insertAfter:function(t,j){if((t=a.get(t))&&(j=a.get(j))&&j.parentNode)j.nextSibling?j.parentNode.insertBefore(t,j.nextSibling):j.parentNode.appendChild(t);return t},append:function(t,j){if((t=a.get(t))&&(j=a.get(j)))j.appendChild&&j.appendChild(t)},prepend:function(t,j){if((t=a.get(t))&&(j=a.get(j)))j.firstChild?s.insertBefore(t,
j.firstChild):j.appendChild(t)}})});
KISSY.add("event",function(a,s){function t(p,e,c,b,f){if(a.isString(e))e=a.query(e);if(a.isArray(e)){a.each(e,function(m){g[p](m,c,b,f)});return true}if((c=a.trim(c))&&c.indexOf(l)>0){a.each(c.split(l),function(m){g[p](e,m,b,f)});return true}}function j(p){return p&&p.nodeType!==3&&p.nodeType!==8?i.data(p,x):-1}function h(p,e){p&&p.nodeType!==3&&p.nodeType!==8&&i.data(p,x,e)}var k=document,i=a.DOM,d=k.addEventListener?function(p,e,c,b){p.addEventListener&&p.addEventListener(e,c,!!b)}:function(p,e,
c){p.attachEvent&&p.attachEvent("on"+e,c)},u=k.removeEventListener?function(p,e,c,b){p.removeEventListener&&p.removeEventListener(e,c,!!b)}:function(p,e,c){p.detachEvent&&p.detachEvent("on"+e,c)},x="ksEventTargetId",l=" ",r=a.now(),v={},g={EVENT_GUID:x,special:{},add:function(p,e,c,b){if(!t("add",p,e,c,b)){var f=j(p),m,n,q,w,o;if(!(f===-1||!e||!a.isFunction(c))){if(!f){h(p,f=r++);v[f]={target:p,events:{}}}n=v[f].events;if(!n[e]){m=((f=!p.isCustomEventTarget)||p._supportSpecialEvent)&&g.special[e]||
{};q=function(y,z){if(!y||!y.fixed)y=new a.EventObject(p,y,e);if(a.isPlainObject(z)){var A=y.type;a.mix(y,z);y.type=A}m.setup&&m.setup(y);return(m.handle||g._handle)(p,y)};n[e]={handle:q,listeners:[]};w=m.fix||e;o=m.capture;m.init&&m.init.apply(null,a.makeArray(arguments));f&&m.fix!==false&&d(p,w,q,o)}n[e].listeners.push({fn:c,scope:b||p})}}},__getListeners:function(p,e){var c,b=[];if(c=(g.__getEvents(p)||{})[e])b=c.listeners;return b},__getEvents:function(p){var e=j(p),c;if(e!==-1)if(e&&(c=v[e]))if(c.target===
p)return c.events||{}},remove:function(p,e,c,b){if(!t("remove",p,e,c,b)){var f=g.__getEvents(p),m=j(p),n,q,w,o,y,z,A=(!p.isCustomEventTarget||p._supportSpecialEvent)&&g.special[e]||{};if(f!==undefined){b=b||p;if(n=f[e]){q=n.listeners;w=q.length;if(a.isFunction(c)&&w){y=o=0;for(z=[];o<w;++o)if(c!==q[o].fn||b!==q[o].scope)z[y++]=q[o];n.listeners=z;w=z.length}if(c===s||w===0){if(!p.isCustomEventTarget){A=g.special[e]||{};if(A.fix!==false)u(p,A.fix||e,n.handle)}delete f[e]}}A.destroy&&A.destroy.apply(null,
a.makeArray(arguments));if(e===s||a.isEmptyObject(f)){for(e in f)g.remove(p,e);delete v[m];i.removeData(p,x)}}}},_handle:function(p,e){var c=g.__getListeners(p,e.type);c=c.slice(0);for(var b,f=0,m=c.length;f<m;++f){b=c[f];b=b.fn.call(b.scope,e);if(b!==s){e.result=b;b===false&&e.halt()}if(e.isImmediatePropagationStopped)break}return b},_getCache:function(p){return v[p]},__getID:j,_simpleAdd:d,_simpleRemove:u};g.on=g.add;a.Event=g});
KISSY.add("event-object",function(a,s){function t(k,i,d){this.currentTarget=k;this.originalEvent=i||{};if(i){this.type=i.type;this._fix()}else{this.type=d;this.target=k}this.currentTarget=k;this.fixed=true}var j=document,h="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
a.augment(t,{_fix:function(){var k=this.originalEvent,i=h.length,d,u=this.currentTarget;for(u=u.nodeType===9?u:u.ownerDocument||j;i;){d=h[--i];this[d]=k[d]}if(!this.target)this.target=this.srcElement||j;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===s&&this.clientX!==s){k=u.documentElement;i=u.body;this.pageX=this.clientX+(k&&k.scrollLeft||i&&i.scrollLeft||
0)-(k&&k.clientLeft||i&&i.clientLeft||0);this.pageY=this.clientY+(k&&k.scrollTop||i&&i.scrollTop||0)-(k&&k.clientTop||i&&i.clientTop||0)}if(this.which===s)this.which=this.charCode!==s?this.charCode:this.keyCode;if(this.metaKey===s)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==s)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var k=this.originalEvent;if(k.preventDefault)k.preventDefault();else k.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var k=
this.originalEvent;if(k.stopPropagation)k.stopPropagation();else k.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var k=this.originalEvent;k.stopImmediatePropagation?k.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(k){k?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=t});
KISSY.add("event-target",function(a,s){var t=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(j,h){var k=a.DOM.data(this,t.EVENT_GUID)||-1;if((k=((t._getCache(k)||{}).events||{})[j])&&a.isFunction(k.handle))return k.handle(s,h)},on:function(j,h,k){t.add(this,j,h,k);return this},detach:function(j,h,k){t.remove(this,j,h,k);return this}}});
KISSY.add("event-mouseenter",function(a){var s=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(t){s.special[t.name]={fix:t.fix,setup:function(j){j.type=t.name},handle:function(j,h){if(a.DOM._isKSNode(j))j=j[0];var k=h.relatedTarget;try{for(;k&&k!==j;)k=k.parentNode;k!==j&&s._handle(j,h)}catch(i){}}}})});
KISSY.add("event-focusin",function(a){var s=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(t){s.special[t.name]={fix:t.fix,capture:true,setup:function(j){j.type=t.name}}})});
KISSY.add("node",function(a){function s(j,h,k){if(!(this instanceof s))return new s(j,h,k);if(j){if(a.isString(j)){j=t.create(j,h,k);if(j.nodeType===11)return new a.NodeList(j.childNodes)}else if(j instanceof s)return j;else j=j;this[0]=j}else this.length=0}var t=a.DOM;s.TYPE="-ks-Node";a.augment(s,{length:1,getDOMNode:function(){return this[0]},nodeType:s.TYPE});a.one=function(j,h){var k=a.get(j,h);return k?new s(k):null};a.Node=s});
KISSY.add("nodelist",function(a){function s(h){if(!(this instanceof s))return new s(h);t.push.apply(this,a.makeArray(h)||[])}var t=Array.prototype,j=a.DOM._isElementNode;a.mix(s.prototype,{length:0,item:function(h){var k=null,i,d;if(j(h)){i=0;for(d=this.length;i<d;i++)if(h===this[i]){h=i;break}}if(j(this[h]))k=new a.Node(this[h]);return k},getDOMNodes:function(){return t.slice.call(this)},each:function(h,k){var i=this.length,d=0,u;for(u=new a.Node(this[0]);d<i&&h.call(k||u,u,d,this)!==false;u=new a.Node(this[++d]));
return this}});a.all=function(h,k){return new s(a.query(h,k,true))};a.NodeList=s});
KISSY.add("node-attach",function(a,s){function t(q,w,o,y){q=[this[q?b:c]()].concat(a.makeArray(w));if(w[o]===s&&(o!=1||a.isString(w[0])))return y.apply(d,q);y.apply(d,q);return this}function j(q,w){a.each(q,function(o){a.each([p,e],function(y,z){y[o]=function(A){switch(w){case f:return function(){return t.call(this,z,arguments,1,A)};case m:return function(){return t.call(this,z,arguments,0,A)};case n:return function(){var B=this[z?b:c]();return(B=A.apply(d,[B].concat(a.makeArray(arguments))))?new (a[a.isArray(B)?
"NodeList":"Node"])(B):null};default:return function(){var B=this[z?b:c]();B=A.apply(d,[B].concat(a.makeArray(arguments)));return B===s?this:B}}}(d[o])})})}function h(q,w,o){q&&a.each(this,function(y){var z;if(w||a.isString(q))z=d.create(q);else{if(x(q,1)||x(q,3))z=q;if(l(q))z=q[0]}d[o](z,y)});return this}function k(q,w){if((q=a.get(q))&&q.appendChild)a.each(this,function(o){d[w](o,q)});return this}function i(q,w){q.__wrap=q.__wrap||[];q.__wrap.push(w)}var d=a.DOM,u=a.Event,x=d._nodeTypeIs,l=d._isKSNode,
r=a.EventTarget,v=a.Node,g=a.NodeList,p=v.prototype,e=g.prototype,c="getDOMNode",b=c+"s",f=1,m=2,n=4;a.mix(p,{one:function(q){return a.one(q,this[0])},all:function(q){return a.all(q,this[0])}});j(["data","removeData"],f);j(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);j(["attr","removeAttr"],f);j(["val","text"],m);j(["css"],f);j(["width","height"],m);j(["offset"],m);j(["scrollIntoView"]);j(["parent","next","prev","siblings","children"],n);j(["contains"]);j(["html"],m);j(["remove"]);
a.each(["insertBefore","insertAfter"],function(q){p[q]=function(w){d[q].call(d,this[0],w);return this}});a.each([p,e],function(q,w){a.each(["append","prepend"],function(o){q[o]=function(y){return h.call(this,y,w,o)};q[o+"To"]=function(y){return k.call(this,y,o)}})});a.augment(v,r,{fire:null,on:function(q,w,o){function y(A){var B=a.makeArray(arguments);B.shift();A.target=new v(A.target);if(A.relatedTarget)A.relatedTarget=new v(A.relatedTarget);B.unshift(A);return w.apply(o||z,B)}var z=this;u.add(this[0],
q,y,o);i(w,y);return this},detach:function(q,w,o){if(a.isFunction(w)){w=w.__wrap||[];for(var y=0;y<w.length;y++)u.remove(this[0],q,w[y],o)}else u.remove(this[0],q,w,o);return this}});a.augment(g,r,{fire:null});p._supportSpecialEvent=true;a.each({on:"add",detach:"remove"},function(q,w){e[w]=function(o,y,z){for(var A=0;A<this.length;A++)this.item(A).on(o,y,z)}})});if(!this.JSON)this.JSON={};
(function(){function a(x){return x<10?"0"+x:x}function s(x){h.lastIndex=0;return h.test(x)?'"'+x.replace(h,function(l){var r=d[l];return typeof r==="string"?r:"\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+x+'"'}function t(x,l){var r,v,g,p,e=k,c,b=l[x];if(b&&typeof b==="object"&&typeof b.toJSON==="function")b=b.toJSON(x);if(typeof u==="function")b=u.call(l,x,b);switch(typeof b){case "string":return s(b);case "number":return isFinite(b)?String(b):"null";case "boolean":case "null":return String(b);
case "object":if(!b)return"null";k+=i;c=[];if(Object.prototype.toString.apply(b)==="[object Array]"){p=b.length;for(r=0;r<p;r+=1)c[r]=t(r,b)||"null";g=c.length===0?"[]":k?"[\n"+k+c.join(",\n"+k)+"\n"+e+"]":"["+c.join(",")+"]";k=e;return g}if(u&&typeof u==="object"){p=u.length;for(r=0;r<p;r+=1){v=u[r];if(typeof v==="string")if(g=t(v,b))c.push(s(v)+(k?": ":":")+g)}}else for(v in b)if(Object.hasOwnProperty.call(b,v))if(g=t(v,b))c.push(s(v)+(k?": ":":")+g);g=c.length===0?"{}":k?"{\n"+k+c.join(",\n"+k)+
"\n"+e+"}":"{"+c.join(",")+"}";k=e;return g}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var j=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,i,d={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;if(typeof JSON.stringify!=="function")JSON.stringify=function(x,l,r){var v;i=k="";if(typeof r==="number")for(v=0;v<r;v+=1)i+=" ";else if(typeof r==="string")i=r;if((u=l)&&typeof l!=="function"&&(typeof l!=="object"||typeof l.length!=="number"))throw Error("JSON.stringify");return t("",{"":x})};
if(typeof JSON.parse!=="function")JSON.parse=function(x,l){function r(g,p){var e,c,b=g[p];if(b&&typeof b==="object")for(e in b)if(Object.hasOwnProperty.call(b,e)){c=r(b,e);if(c!==undefined)b[e]=c;else delete b[e]}return l.call(g,p,b)}var v;x=String(x);j.lastIndex=0;if(j.test(x))x=x.replace(j,function(g){return"\\u"+("0000"+g.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(x.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){v=eval("("+x+")");return typeof l==="function"?r({"":v},""):v}throw new SyntaxError("JSON.parse");}})();KISSY.add("json",function(a){var s=window.JSON;a.JSON={parse:function(t){if(t==null||t==="")return null;return s.parse(t)},stringify:s.stringify}});
KISSY.add("ajax",function(a,s){function t(o){o=a.merge(w,o);if(o.url){if(o.data&&!a.isString(o.data))o.data=a.param(o.data);o.context=o.context||o;var y,z=b,A,B=o.type.toUpperCase();if(o.dataType===r){y=o.jsonpCallback||r+a.now();o.url=o.url+(o.url.indexOf("?")===-1?"?":"&")+(o.jsonp+"="+y);o.dataType=v;var E=k[y];k[y]=function(G){if(a.isFunction(E))E(G);else{k[y]=s;try{delete k[y]}catch(F){}}j([b,f],G,z,C,o)}}if(o.data&&B===d)o.url=o.url+(o.url.indexOf("?")===-1?"?":"&")+o.data;if(o.dataType===v){h(p,
o);B=a.getScript(o.url,y?null:function(){j([b,f],g,z,C,o)});h(e,o);return B}var D=false,C=o.xhr();h(p,o);C.open(B,o.url,o.async);try{if(o.data||o.contentType)C.setRequestHeader(x,o.contentType);C.setRequestHeader("Accept",o.dataType&&o.accepts[o.dataType]?o.accepts[o.dataType]+", */*; q=0.01":o.accepts._default)}catch(K){}C.onreadystatechange=function(G){if(!C||C.readyState===0||G==="abort"){D||j(f,null,m,C,o);D=true;if(C)C.onreadystatechange=i}else if(!D&&C&&(C.readyState===4||G===n)){D=true;C.onreadystatechange=
i;var F;if(G===n)F=n;else{a:{try{F=C.status>=200&&C.status<300||C.status===304||C.status===1223;break a}catch(H){}F=false}F=F?b:m}z=F;try{F=C;var I=o.dataType,M=g,N,L=F;if(!a.isString(L)){M=F.getResponseHeader(x)||g;L=(N=I==="xml"||!I&&M.indexOf("xml")>=0)?F.responseXML:F.responseText;if(N&&L.documentElement.nodeName===q)throw q;}if(a.isString(L))if(I===l||!I&&M.indexOf(l)>=0)L=a.JSON.parse(L);A=L}catch(O){z=q}j([z===b?b:m,f],A,z,C,o);if(G===n){C.abort();h(c,o)}if(o.async)C=null}};h(e,o);try{C.send(B===
u?o.data:null)}catch(J){j([m,f],A,m,C,o)}o.async||h(f,o);return C}}function j(o,y,z,A,B){if(a.isArray(o))a.each(o,function(E){j(E,y,z,A,B)});else{z===o&&B[o]&&B[o].call(B.context,y,z,A);h(o,B)}}function h(o,y){t.fire(o,{ajaxConfig:y})}var k=window,i=function(){},d="GET",u="POST",x="Content-Type",l="json",r=l+"p",v="script",g="",p="start",e="send",c="stop",b="success",f="complete",m="error",n="timeout",q="parsererror",w={type:d,url:g,contentType:"application/x-www-form-urlencoded",async:true,data:null,
xhr:k.ActiveXObject?function(){if(k.XmlHttpRequest)try{return new k.XMLHttpRequest}catch(o){}try{return new k.ActiveXObject("Microsoft.XMLHTTP")}catch(y){}}:function(){return new k.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};a.mix(t,a.EventTarget);a.mix(t,{get:function(o,y,z,A,B){if(a.isFunction(y)){A=z;z=y}return t({type:B||d,
url:o,data:y,success:function(E,D,C){z&&z.call(this,E,D,C)},dataType:A})},post:function(o,y,z,A){if(a.isFunction(y)){A=z;z=y;y=s}return t.get(o,y,z,A,u)},jsonp:function(o,y,z){if(a.isFunction(y)){z=y;y=null}return t.get(o,y,z,r)}});t.getScript=a.getScript;a.io=a.ajax=t.ajax=t;a.jsonp=t.jsonp;a.IO=t});
KISSY.add("anim-easing",function(a){var s=Math,t=s.PI,j=s.pow,h=s.sin,k=1.70158,i={easeNone:function(d){return d},easeIn:function(d){return d*d},easeOut:function(d){return(2-d)*d},easeBoth:function(d){return(d*=2)<1?0.5*d*d:0.5*(1- --d*(d-2))},easeInStrong:function(d){return d*d*d*d},easeOutStrong:function(d){return 1- --d*d*d*d},easeBothStrong:function(d){return(d*=2)<1?0.5*d*d*d*d:0.5*(2-(d-=2)*d*d*d)},elasticIn:function(d){if(d===0||d===1)return d;return-(j(2,10*(d-=1))*h((d-0.075)*2*t/0.3))},
elasticOut:function(d){if(d===0||d===1)return d;return j(2,-10*d)*h((d-0.075)*2*t/0.3)+1},elasticBoth:function(d){if(d===0||(d*=2)===2)return d;if(d<1)return-0.5*j(2,10*(d-=1))*h((d-0.1125)*2*t/0.45);return j(2,-10*(d-=1))*h((d-0.1125)*2*t/0.45)*0.5+1},backIn:function(d){if(d===1)d-=0.0010;return d*d*((k+1)*d-k)},backOut:function(d){return(d-=1)*d*((k+1)*d+k)+1},backBoth:function(d){if((d*=2)<1)return 0.5*d*d*(((k*=1.525)+1)*d-k);return 0.5*((d-=2)*d*(((k*=1.525)+1)*d+k)+2)},bounceIn:function(d){return 1-
i.bounceOut(1-d)},bounceOut:function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+0.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+0.9375:7.5625*(d-=2.625/2.75)*d+0.984375},bounceBoth:function(d){if(d<0.5)return i.bounceIn(d*2)*0.5;return i.bounceOut(d*2-1)*0.5+0.5}};i.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=i});
KISSY.add("anim",function(a,s){function t(c,b,f,m,n,q){if(c=a.get(c)){if(!(this instanceof t))return new t(c,b,f,m,n,q);var w=a.isPlainObject(f);b=b;this.domEl=c;if(a.isPlainObject(b))b=a.param(b,";").replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var o={},y=v.length,z;r.innerHTML='<div style="'+b+'"></div>';for(c=r.firstChild.style;y--;)if(z=c[v[y]])o[v[y]]=k(z);this.props=o;this.targetStyle=b;if(w)w=a.merge(e,f);else{w=a.clone(e);if(f)w.duration=l(f)||1;if(a.isString(m)||
a.isFunction(m))w.easing=m;if(a.isFunction(n))w.complete=n;if(q!==s)w.nativeSupport=q}this.config=w;if(w.nativeSupport&&j()&&a.isString(m=w.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(m)||(m=x.NativeTimeFunction[m])){w.easing=m;this.transitionName=j()}a.isFunction(n)&&this.on(p,n)}}function j(){var c="transition",b;if(r.style[c]!==s)b=c;else a.each(["Webkit","Moz","O"],function(f){if(r.style[c=f+"Transition"]!==s){b=c;return false}});j=function(){return b};return b}function h(c,b,f){a.UA.ie&&f.indexOf(g)>
-1&&u.css(c,g,b[g].v);c.style.cssText+=";"+f}function k(c){var b=l(c);c=(c+"").replace(/^[-\d.]+/,"");return isNaN(b)?{v:c,u:"",f:d}:{v:b,u:c,f:i}}function i(c,b,f){return(c+(b-c)*f).toFixed(3)}function d(c,b,f){for(var m=2,n,q,w=[],o=[];n=3,q=arguments[m-1],m--;)if(q.substr(0,4)==="rgb(")for(q=q.match(/\d+/g);n--;)w.push(~~q[n]);else if(q.substr(0,1)==="#"){if(q.length===4)q="#"+q.substr(1,1)+q.substr(1,1)+q.substr(2,1)+q.substr(2,1)+q.substr(3,1)+q.substr(3,1);for(;n--;)w.push(parseInt(q.substr(1+
n*2,2),16))}else return b;for(;n--;){m=~~(w[n+3]+(w[n]-w[n+3])*f);o.push(m<0?0:m>255?255:m)}return"rgb("+o.join(",")+")"}var u=a.DOM,x=a.Easing,l=parseFloat,r=u.create("<div>"),v="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
g="opacity",p="complete",e={duration:1,easing:"easeNone",nativeSupport:true};a.augment(t,a.EventTarget,{run:function(){var c=this,b=c.config,f=c.domEl,m,n,q,w,o=c.props,y={},z;for(z in o)y[z]=k(u.css(f,z));if(c.fire("start")!==false){c.stop();if(c.transitionName)c._nativeRun();else{m=b.duration*1E3;q=a.now();w=q+m;n=b.easing;if(a.isString(n))n=x[n]||x.easeNone;c.timer=a.later(b=function(){var A=a.now(),B=A>w?1:(A-q)/m,E,D,C;for(z in o){E=y[z];D=o[z];if(D.v==0)D.u=E.u;if(E.u!==D.u)E.v=0;u.css(f,z,
D.f(E.v,D.v,n(B))+D.u)}if(c.fire("step")===false||(C=A>w)){c.stop();C&&c.fire(p)}},13,true);b()}return c}},_nativeRun:function(){var c=this,b=c.config,f=c.domEl,m=c.props,n=b.duration*1E3;b=b.easing;var q=c.transitionName,w={};w[q+"Property"]="all";w[q+"Duration"]=n+"ms";w[q+"TimingFunction"]=b;u.css(f,w);a.later(function(){h(f,m,c.targetStyle)},0);a.later(function(){c.stop(true)},n)},stop:function(c){if(this.transitionName)this._nativeStop(c);else{if(this.timer){this.timer.cancel();this.timer=s}if(c){h(this.domEl,
this.props,this.targetStyle);this.fire(p)}}return this},_nativeStop:function(c){var b=this.domEl,f=this.transitionName,m=this.props,n;if(c){u.css(b,f+"Property","none");this.fire(p)}else{for(n in m)u.css(b,n,u._getComputedStyle(b,n));u.css(b,f+"Property","none")}}});t.supportTransition=function(){return!!j()};a.Anim=t});
KISSY.add("anim-node-plugin",function(a,s){function t(g,p,e,c,b){if(p==="toggle"){b=j.css(g,k)===i?1:0;p="show"}if(b)j.css(g,k,j.data(g,k)||"");var f={},m={};a.each(v[p],function(n){if(n===d){f[d]=j.css(g,d);j.css(g,d,u)}else if(n===x){f[x]=j.css(g,x);m.opacity=b?1:0;b&&j.css(g,x,0)}else if(n===l){f[l]=j.css(g,l);m.height=b?j.css(g,l)||g.naturalHeight:0;b&&j.css(g,l,0)}else if(n===r){f[r]=j.css(g,r);m.width=b?j.css(g,r)||g.naturalWidth:0;b&&j.css(g,r,0)}});(new a.Anim(g,m,e,"easeOut",function(){if(!b){var n=
g.style,q=n[k];if(q!==i){q&&j.data(g,k,q);n[k]=i}f[l]&&j.css(g,{height:f[l]});f[r]&&j.css(g,{height:f[r]});f[x]&&j.css(g,{height:f[x]});f[d]&&j.css(g,{height:f[d]})}c&&a.isFunction(c)&&c()})).run()}var j=a.DOM,h=a.Anim,k="display",i="none",d="overflow",u="hidden",x="opacity",l="height",r="width",v={show:[d,x,l,r],fade:[x],slide:[d,l]};a.each([a.Node.prototype,a.NodeList.prototype],function(g){g.animate=function(){var p=a.makeArray(arguments);a.each(this,function(e){h.apply(s,[e].concat(p)).run()});
return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(p,e){g[e]=function(c,b){j[e]&&arguments.length===0?j[e](this):a.each(this,function(f){t(f,p[0],c,b,p[1])});return this}})})});
KISSY.add("cookie",function(a){var s=document,t=encodeURIComponent,j=decodeURIComponent;a.Cookie={get:function(h){var k;if(a.isString(h)&&h!=="")if(h=s.cookie.match("(?:^| )"+h+"(?:(?:=([^;]*))|;|$)"))k=h[1]?j(h[1]):"";return k},set:function(h,k,i,d,u,x){k=t(k);var l=i;if(typeof l==="number"){l=new Date;l.setTime(l.getTime()+i*864E5)}if(l instanceof Date)k+="; expires="+l.toUTCString();if(a.isString(d)&&d!=="")k+="; domain="+d;if(a.isString(u)&&u!=="")k+="; path="+u;if(x)k+="; secure";s.cookie=h+
"="+k},remove:function(h,k,i,d){this.set(h,"",0,k,i,d)}}});
KISSY.add("attribute",function(a,s){function t(){this.__attrs={};this.__attrVals={}}function j(h){h+="";return h.charAt(0).toUpperCase()+h.substring(1)}a.augment(t,{__getDefAttrs:function(){return a.clone(this.__attrs)},addAttr:function(h,k){this.__attrs[h]=a.clone(k||{});return this},hasAttr:function(h){return h&&this.__attrs.hasOwnProperty(h)},removeAttr:function(h){if(this.hasAttr(h)){delete this.__attrs[h];delete this.__attrVals[h]}return this},set:function(h,k){var i=this.get(h);if(i!==k)if(false!==
this.__fireAttrChange("before",h,i,k)){this.__set(h,k);this.__fireAttrChange("after",h,i,this.__attrVals[h]);return this}},__fireAttrChange:function(h,k,i,d){return this.fire(h+j(k)+"Change",{attrName:k,prevVal:i,newVal:d})},__set:function(h,k){var i,d=this.__attrs[h];if(d=d&&d.setter)i=d.call(this,k);if(i!==s)k=i;this.__attrVals[h]=k},get:function(h){var k;k=(k=this.__attrs[h])&&k.getter;h=h in this.__attrVals?this.__attrVals[h]:this.__getDefAttrVal(h);if(k)h=k.call(this,h);return h},__getDefAttrVal:function(h){h=
this.__attrs[h];var k;if(h){if(k=h.valueFn){k=k.call(this);if(k!==s)h.value=k;delete h.valueFn}return h.value}},reset:function(h){if(this.hasAttr(h))return this.set(h,this.__getDefAttrVal(h));for(h in this.__attrs)this.hasAttr(h)&&this.reset(h);return this}});a.Attribute=t;t.__capitalFirst=j});
KISSY.add("base",function(a){function s(t){a.Attribute.call(this);for(var j=this.constructor;j;){var h=j.ATTRS;if(h){var k=void 0;for(k in h)h.hasOwnProperty(k)&&!this.hasAttr(k)&&this.addAttr(k,h[k])}j=j.superclass?j.superclass.constructor:null}if(t)for(var i in t)t.hasOwnProperty(i)&&this.__set(i,t[i])}a.augment(s,a.EventTarget,a.Attribute);a.Base=s});KISSY.add("core");
