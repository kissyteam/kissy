/*
Copyright 2011, KISSY UI Library v1.1.8dev
MIT Licensed
build time: ${build.time}
*/
(function(a,s,t){var j={mix:function(i,d,u,x){if(!d||!i)return i;if(u===t)u=true;var l,q,v;if(x&&(v=x.length))for(l=0;l<v;l++){q=x[l];if(q in d)if(u||!(q in i))i[q]=d[q]}else for(q in d)if(u||!(q in i))i[q]=d[q];return i}},h=a&&a[s]||{},k=0;a=h.__HOST||(h.__HOST=a||{});s=a[s]=j.mix(h,j,false);s.mix(s,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.1.8dev",merge:function(){var i={},d,u=arguments.length;for(d=0;d<u;d++)s.mix(i,arguments[d]);return i},augment:function(){var i=arguments,
d=i.length-2,u=i[0],x=i[d],l=i[d+1],q=1;if(!s.isArray(l)){x=l;l=t;d++}if(!s.isBoolean(x)){x=t;d++}for(;q<d;q++)s.mix(u.prototype,i[q].prototype||i[q],x,l);return u},extend:function(i,d,u,x){if(!d||!i)return i;var l=Object.create?function(f,p){return Object.create(f,{constructor:{value:p}})}:function(f,p){function e(){}e.prototype=f;var c=new e;c.constructor=p;return c},q=d.prototype,v;v=l(q,i);i.prototype=s.mix(v,i.prototype);i.superclass=l(q,d);u&&s.mix(v,u);x&&s.mix(i,x);return i},__init:function(){this.Config=
this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var i=arguments,d=i.length,u=null,x,l,q,v=i[d-1]===true&&d--;for(x=0;x<d;x++){q=(""+i[x]).split(".");u=v?a:this;for(l=a[q[0]]===u?1:0;l<q.length;++l)u=u[q[l]]=u[q[l]]||{}}return u},app:function(i,d){var u=s.isString(i),x=u?a[i]||{}:i,l=0,q=s.__APP_INIT_METHODS.length;for(s.mix(x,this,true,s.__APP_MEMBERS);l<q;l++)s[s.__APP_INIT_METHODS[l]].call(x);s.mix(x,s.isFunction(d)?d():d);u&&(a[i]=x);return x},log:function(i,
d,u){if(s.Config.debug){if(u)i=u+": "+i;if(a.console!==t&&console.log)console[d&&console[d]?d:"log"](i)}},error:function(i){if(s.Config.debug)throw i;},guid:function(i){return(i||"")+k++}});s.__init();return s})(this,"KISSY");
(function(a,s){var t=a.__HOST,j=Object.prototype.toString,h=Array.prototype.indexOf,k=Array.prototype.lastIndexOf,i=Array.prototype.filter,d=String.prototype.trim,u=/^\s+|\s+$/g,x={};a.mix(a,{type:function(l){return l==null?String(l):x[j.call(l)]||"object"},isNull:function(l){return l===null},isUndefined:function(l){return l===s},isEmptyObject:function(l){for(var q in l)return false;return true},isPlainObject:function(l){return l&&j.call(l)==="[object Object]"&&"isPrototypeOf"in l},clone:function(l,
q,v){var f=l,p,e,c=v||{};if(l&&((p=a.isArray(l))||a.isPlainObject(l))){if(l["__~ks_cloned"])return c[l["__~ks_cloned"]];l["__~ks_cloned"]=f=a.guid();c[f]=l;if(p)f=q?a.filter(l,q):l.concat();else{f={};for(e in l)if(e!=="__~ks_cloned"&&l.hasOwnProperty(e)&&(!q||q.call(l,l[e],e,l)!==false))f[e]=a.clone(l[e],q,c)}}if(!v){a.each(c,function(b){if(b["__~ks_cloned"])try{delete b["__~ks_cloned"]}catch(g){b["__~ks_cloned"]=s}});c=s}return f},trim:d?function(l){return l==s?"":d.call(l)}:function(l){return l==
s?"":l.toString().replace(u,"")},substitute:function(l,q,v){if(!a.isString(l)||!a.isPlainObject(q))return l;return l.replace(v||/\\?\{([^{}]+)\}/g,function(f,p){if(f.charAt(0)==="\\")return f.slice(1);return q[p]!==s?q[p]:""})},each:function(l,q,v){var f,p=0,e=l.length,c=e===s||a.type(l)==="function";v=v||t;if(c)for(f in l){if(q.call(v,l[f],f,l)===false)break}else for(f=l[0];p<e&&q.call(v,f,p,l)!==false;f=l[++p]);return l},indexOf:h?function(l,q){return h.call(q,l)}:function(l,q){for(var v=0,f=q.length;v<
f;++v)if(q[v]===l)return v;return-1},lastIndexOf:k?function(l,q){return k.call(q,l)}:function(l,q){for(var v=q.length-1;v>=0;v--)if(q[v]===l)break;return v},unique:function(l,q){q&&l.reverse();for(var v=l.slice(),f=0,p,e;f<v.length;){for(e=v[f];(p=a.lastIndexOf(e,v))!==f;)v.splice(p,1);f+=1}q&&v.reverse();return v},inArray:function(l,q){return a.indexOf(l,q)>-1},filter:i?function(l,q,v){return i.call(l,q,v||this)}:function(l,q,v){var f=[];a.each(l,function(p,e,c){if(q.call(v||this,p,e,c))f.push(p)});
return f},now:function(){return(new Date).getTime()}});a.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(l,q){x["[object "+l+"]"]=q=l.toLowerCase();a["is"+l]=function(v){return a.type(v)==q}})})(KISSY);
(function(a,s){function t(e){var c=typeof e;return e===null||c!=="object"&&c!=="function"}function j(e){return Array.prototype.slice.call(e)}var h=a.__HOST,k=h.document,i=k.documentElement,d=encodeURIComponent("[]"),u=false,x=[],l=false,q=/^#?([\w-]+)$/,v=/^(\w+)\[\]$/,f=/\S/;a.mix(a,{isWindow:function(e){return a.type(e)==="object"&&"setInterval"in e},makeArray:function(e){if(e===null||e===s)return[];if(a.isArray(e))return e;if(typeof e.length!=="number"||a.isString(e)||a.isFunction(e))return[e];
return j(e)},param:function(e,c){if(!a.isPlainObject(e))return"";c=c||"&";var b=[],g,m;for(g in e){m=e[g];g=encodeURIComponent(g);if(t(m))b.push(g,"=",encodeURIComponent(m+""),c);else if(a.isArray(m)&&m.length)for(var n=0,r=m.length;n<r;++n)t(m[n])&&b.push(g,d+"=",encodeURIComponent(m[n]+""),c)}b.pop();return b.join("")},unparam:function(e,c){if(typeof e!=="string"||(e=a.trim(e)).length===0)return{};for(var b={},g=e.split(c||"&"),m,n,r,w,o=0,y=g.length;o<y;++o){m=g[o].split("=");n=decodeURIComponent(m[0]);
try{r=decodeURIComponent(m[1]||"")}catch(z){r=m[1]||""}if((w=n.match(v))&&w[1]){b[w[1]]=b[w[1]]||[];b[w[1]].push(r)}else b[n]=r}return b},globalEval:function(e){if(e&&f.test(e)){var c=k.getElementsByTagName("head")[0]||i,b=k.createElement("script");b.text=e;c.insertBefore(b,c.firstChild);c.removeChild(b)}},later:function(e,c,b,g,m){c=c||0;g=g||{};var n=e,r=a.makeArray(m),w;if(a.isString(e))n=g[e];n||a.error("method undefined");e=function(){n.apply(g,r)};w=b?setInterval(e,c):setTimeout(e,c);return{id:w,
interval:b,cancel:function(){this.interval?clearInterval(w):clearTimeout(w)}}},ready:function(e){l||this._bindReady();u?e.call(h,this):x.push(e);return this},_bindReady:function(){var e=this,c=k.documentElement.doScroll,b=c?"onreadystatechange":"DOMContentLoaded",g=function(){e._fireReady()};l=true;if(k.readyState==="complete")return g();if(k.addEventListener){var m=function(){k.removeEventListener(b,m,false);g()};k.addEventListener(b,m,false);h.addEventListener("load",g,false)}else{var n=function(){if(k.readyState===
"complete"){k.detachEvent(b,n);g()}};k.attachEvent(b,n);h.attachEvent("onload",g);var r=false;try{r=h.frameElement==null}catch(w){}if(c&&r){var o=function(){try{c("left");g()}catch(y){setTimeout(o,1)}};o()}}},_fireReady:function(){if(!u){u=true;if(x){for(var e,c=0;e=x[c++];)e.call(h,this);x=null}}},available:function(e,c){if((e=(e+"").match(q)[1])&&a.isFunction(c))var b=1,g=a.later(function(){if(k.getElementById(e)&&(c()||1)||++b>500)g.cancel()},40,true)}});try{j(i.childNodes)}catch(p){j=function(e){for(var c=
[],b=e.length-1;b>=0;b--)c[b]=e[b];return c}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)a.Config.debug=true})(KISSY);
(function(a,s){var t=a.__HOST.document,j=t.getElementsByTagName("head")[0]||t.documentElement,h=2,k=3,i=4,d=a.mix,u=t.createElement("script").readyState?function(f,p){var e=f.onreadystatechange;f.onreadystatechange=function(){var c=f.readyState;if(c==="loaded"||c==="complete"){f.onreadystatechange=null;e&&e();p.call(this)}}}:function(f,p){f.addEventListener("load",p,false)},x=/\.css(?:\?|$)/i,l;l={add:function(f,p,e){var c=this.Env.mods,b;if(a.isString(f)&&!e&&a.isPlainObject(p)){b={};b[f]=p;f=b}if(a.isPlainObject(f)){a.each(f,
function(g,m){g.name=m;c[m]&&d(g,c[m],false)});d(c,f)}else{e=e||{};b=c[f]||{};f=e.host||b.host||f;b=c[f]||{};d(b,{name:f,status:h});if(!b.fns)b.fns=[];p&&b.fns.push(p);d(c[f]=b,e);b.attach!==false&&this.__isAttached(b.requires)&&this.__attachMod(b)}return this},use:function(f,p,e){f=f.replace(/\s+/g,"").split(",");e=e||{};var c=this,b;e=(e||0).global;var g,m=f.length,n;e&&c.__mixMods(e);if(c.__isAttached(f))p&&p(c);else{for(g=0;g<m&&(b=f[g]);g++)c.__attachModByName(b,function(){if(!n&&c.__isAttached(f)){n=
true;p&&p(c)}},e);return c}},__attachModByName:function(f,p,e){var c=this.Env.mods,b=f.indexOf("+css")!=-1;f=b?f.replace(/\+css/g,""):f;var g=c[f];if(!g){g=this.Config.componentJsName||function(m){return m+"-pkg-min.js?t=20110621163812"};g=a.isFunction(g)?g(f):g;g={path:f+"/"+g,charset:"utf-8"};c[f]=g}if(b){c=this.Config.componentCssName||function(m){return m+"-min.css?t=20110621163812"};c=a.isFunction(c)?c(f):c;g.csspath=f+"/"+c}g.name=f;g&&g.status===i||this.__attach(g,p,e)},__attach:function(f,p,e){function c(){if(!o&&
b.__isAttached(f.requires)){f.status===h&&b.__attachMod(f);if(f.status===i){o=true;p()}}}for(var b=this,g=b.Env.mods,m=(f.requires||[]).concat(),n=0,r=m.length;n<r;n++){var w=g[m[n]];w&&w.status===i||b.__attachModByName(m[n],c,e)}b.__buildPath(f);b.__load(f,function(){for(var y=f.requires||[],z=[],A=y.length-1;A>=0;A--){var B=y[A],E=g[B],D=a.inArray(B,m);E&&E.status===i||D||b.__attachModByName(B,c,e);D||z.push(B)}z.length!=0&&z.unshift(f.name);c()},e);var o=false},__mixMods:function(f){var p=this.Env.mods,
e=f.Env.mods,c;for(c in e)this.__mixMod(p,e,c,f)},__mixMod:function(f,p,e,c){var b=f[e]||{},g=b.status;a.mix(b,a.clone(p[e]));if(g)b.status=g;c&&this.__buildPath(b,c.Config.base);f[e]=b},__attachMod:function(f){var p=this;if(f.fns){a.each(f.fns,function(e){e&&e(p)});f.fns=s}f.status=i},__isAttached:function(f){for(var p=this.Env.mods,e,c=(f=a.makeArray(f)).length-1;c>=0;c--){e=f[c].replace(/\+css/,"");e=p[e]||{};if(e.status!==i)return false}return true},__load:function(f,p,e){function c(){m[g]=h;
if(f.status!==k){e&&b.__mixMod(b.Env.mods,e.Env.mods,f.name,e);if(f.status!==i)f.status=h;p()}}var b=this,g=f.fullpath,m=a.Env._loadQueue,n=m[g];f.status=f.status||0;if(f.status<1&&n)f.status=n.nodeName?1:h;if(a.isString(f.cssfullpath)){b.getScript(f.cssfullpath);f.cssfullpath=h}if(f.status<1&&g){f.status=1;n=b.getScript(g,{success:function(){KISSY.log(f.name+" is loaded.","info");c()},error:function(){f.status=k;m[g]=h},charset:f.charset});x.test(g)||(m[g]=n)}else f.status===1?u(n,c):p()},__buildPath:function(f,
p){function e(b,g){if(!f[g]&&f[b])f[g]=(p||c.base)+f[b];if(f[g]&&c.debug)f[g]=f[g].replace(/-min/g,"")}var c=this.Config;e("path","fullpath");f.cssfullpath!==h&&e("csspath","cssfullpath")},getScript:function(f,p,e){var c=x.test(f),b=t.createElement(c?"link":"script"),g=p,m,n,r;if(a.isPlainObject(g)){p=g.success;m=g.error;n=g.timeout;e=g.charset}if(c){b.href=f;b.rel="stylesheet"}else{b.src=f;b.async=true}if(e)b.charset=e;if(c)a.isFunction(p)&&p.call(b);else u(b,function(){if(r){r.cancel();r=s}a.isFunction(p)&&
p.call(b);j&&b.parentNode&&j.removeChild(b)});if(a.isFunction(m))r=a.later(function(){r=s;m()},(n||this.Config.timeout)*1E3);j.insertBefore(b,j.firstChild);return b}};d(a,l);var q=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,v=/(seed|kissy)(-min)?\.js/;a.__initLoader=function(){var f=t.getElementsByTagName("script");f=f[f.length-1];var p=f.src,e=f.getAttribute("data-combo-prefix")||"??";f=f.getAttribute("data-combo-sep")||",";f=p.split(f);var c=f[0];e=c.indexOf(e);if(e==-1)p=p.replace(q,"$1");else{p=c.substring(0,
e);e=c.substring(e+2,c.length);if(e.match(v))p+=e.replace(q,"$1");else for(e=1;e<f.length;e++){c=f[e];if(c.match(v)){p+=c.replace(q,"$1");break}}}if(p.lastIndexOf("/",0)!=0&&!p.match(/^(http(s)?)|(file):/i))p=window.location.href.replace(/[^/]*$/,"")+p;f=p;this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=f;if(!this.Config.timeout)this.Config.timeout=10};a.__initLoader();a.each(l,function(f,p){a.__APP_MEMBERS.push(p)});a.__APP_INIT_METHODS.push("__initLoader")})(KISSY);
KISSY.add("ua",function(a){var s=navigator.userAgent,t="",j="",h,k={},i=function(d){var u=0;return parseFloat(d.replace(/\./g,function(){return u++===0?".":""}))};if((h=s.match(/AppleWebKit\/([\d.]*)/))&&h[1]){k[t="webkit"]=i(h[1]);if((h=s.match(/Chrome\/([\d.]*)/))&&h[1])k[j="chrome"]=i(h[1]);else if((h=s.match(/\/([\d.]*) Safari/))&&h[1])k[j="safari"]=i(h[1]);if(/ Mobile\//.test(s))k.mobile="apple";else if(h=s.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))k.mobile=h[0].toLowerCase()}else if((h=
s.match(/Presto\/([\d.]*)/))&&h[1]){k[t="presto"]=i(h[1]);if((h=s.match(/Opera\/([\d.]*)/))&&h[1]){k[j="opera"]=i(h[1]);if((h=s.match(/Opera\/.* Version\/([\d.]*)/))&&h[1])k[j]=i(h[1]);if((h=s.match(/Opera Mini[^;]*/))&&h)k.mobile=h[0].toLowerCase();else if((h=s.match(/Opera Mobi[^;]*/))&&h)k.mobile=h[0]}}else if((h=s.match(/MSIE\s([^;]*)/))&&h[1]){k[t="trident"]=0.1;k[j="ie"]=i(h[1]);if((h=s.match(/Trident\/([\d.]*)/))&&h[1])k[t]=i(h[1])}else if(h=s.match(/Gecko/)){k[t="gecko"]=0.1;if((h=s.match(/rv:([\d.]*)/))&&
h[1])k[t]=i(h[1]);if((h=s.match(/Firefox\/([\d.]*)/))&&h[1])k[j="firefox"]=i(h[1])}k.core=t;k.shell=j;k._numberify=i;a.UA=k});
KISSY.add("ua-extra",function(a){var s=a.UA,t=navigator.userAgent,j,h,k={},i=s._numberify;if(t.match(/360SE/))k[h="se360"]=3;else if(t.match(/Maxthon/)&&(j=window.external)){h="maxthon";try{k[h]=i(j.max_version)}catch(d){k[h]=0.1}}else if(j=t.match(/TencentTraveler\s([\d.]*)/))k[h="tt"]=j[1]?i(j[1]):0.1;else if(t.match(/TheWorld/))k[h="theworld"]=3;else if(j=t.match(/SE\s([\d.]*)/))k[h="sougou"]=j[1]?i(j[1]):0.1;h&&(k.shell=h);a.mix(s,k)});
KISSY.add("dom",function(a,s){function t(j,h){return j&&j.nodeType===h}a.DOM={_isElementNode:function(j){return t(j,1)},_isKSNode:function(j){return a.Node&&t(j,a.Node.TYPE)},_getWin:function(j){return j&&"scrollTo"in j&&j.document?j:t(j,9)?j.defaultView||j.parentWindow:j===s?window:false},_nodeTypeIs:t}});
KISSY.add("selector",function(a,s){function t(c,b){var g,m,n=[],r;b=j(b);if(a.isString(c)){c=a.trim(c);if(p.test(c)){if(m=h(c.slice(1),b))n=[m]}else if(g=e.exec(c)){m=g[1];r=g[2];g=g[3];if(b=m?h(m,b):b)if(g)if(!m||c.indexOf(l)!==-1)n=i(g,r,b);else{if((m=h(m,b))&&x.hasClass(m,g))n=[m]}else if(r)n=k(r,b)}else if(a.ExternalSelector)return a.ExternalSelector(c,b);else d(c)}else if(c&&(c[v]||c[f]))n=c[v]?[c[v]()]:c[f]();else if(c&&(a.isArray(c)||c&&!c.nodeType&&c.item&&!c.setTimeout))n=c;else if(c)n=[c];
if(n&&!n.nodeType&&n.item&&!n.setTimeout)n=a.makeArray(n);n.each=function(w,o){return a.each(n,w,o)};return n}function j(c){if(c===s)c=u;else if(a.isString(c)&&p.test(c))c=h(c.slice(1),u);else if(c&&c.nodeType!==1&&c.nodeType!==9)c=null;return c}function h(c,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(c)}function k(c,b){return b.getElementsByTagName(c)}function i(c,b,g){g=c=g.getElementsByClassName(c);var m=0,n=0,r=c.length,w;if(b&&b!==q){g=[];for(b=b.toUpperCase();m<r;++m){w=c[m];
if(w.tagName===b)g[n++]=w}}return g}function d(c){a.error("Unsupported selector: "+c)}var u=document,x=a.DOM,l=" ",q="*",v="getDOMNode",f=v+"s",p=/^#[\w-]+$/,e=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var c=u.createElement("div");c.appendChild(u.createComment(""));if(c.getElementsByTagName(q).length>0)k=function(b,g){var m=g.getElementsByTagName(b);if(b===q){for(var n=[],r=0,w=0,o;o=m[r++];)if(o.nodeType===1)n[w++]=o;m=n}return m}})();u.getElementsByClassName||(i=u.querySelectorAll?
function(c,b,g){return g.querySelectorAll((b?b:"")+"."+c)}:function(c,b,g){b=g.getElementsByTagName(b||q);g=[];var m=0,n=0,r=b.length,w,o;for(c=l+c+l;m<r;++m){w=b[m];if((o=w.className)&&(l+o+l).indexOf(c)>-1)g[n++]=w}return g});a.query=t;a.get=function(c,b){return t(c,b)[0]||null};a.mix(x,{query:t,get:a.get,filter:function(c,b){var g=t(c),m,n,r,w=[];if(a.isString(b)&&(m=e.exec(b))&&!m[1]){n=m[2];r=m[3];b=function(o){return!(n&&o.tagName!==n.toUpperCase()||r&&!x.hasClass(o,r))}}if(a.isFunction(b))w=
a.filter(g,b);else if(b&&a.ExternalSelector)w=a.ExternalSelector._filter(c,b+"");else d(b);return w},test:function(c,b){var g=t(c);return g.length&&x.filter(g,b).length===g.length}})});
KISSY.add("dom-data",function(a,s){var t=window,j=a.DOM,h="_ks_data_"+a.now(),k={},i={},d={EMBED:1,OBJECT:1,APPLET:1};a.mix(j,{data:function(u,x,l){if(a.isPlainObject(x))for(var q in x)j.data(u,q,x[q]);else if(l===s){u=a.get(u);var v;if(!(!u||d[u.nodeName])){if(u==t)u=i;v=(q=u&&u.nodeType)?k:u;u=v[q?u[h]:h];if(a.isString(x)&&u)return u[x];return u}}else a.query(u).each(function(f){if(!(!f||d[f.nodeName])){if(f==t)f=i;var p=k,e;if(f&&f.nodeType){if(!(e=f[h]))e=f[h]=a.guid()}else{e=h;p=f}if(x&&l!==
s){p[e]||(p[e]={});p[e][x]=l}}})},removeData:function(u,x){a.query(u).each(function(l){if(l){if(l==t)l=i;var q,v=k,f,p=l&&l.nodeType;if(p)q=l[h];else{v=l;q=h}if(q){f=v[q];if(x){if(f){delete f[x];a.isEmptyObject(f)&&j.removeData(l)}}else{if(p)l.removeAttribute&&l.removeAttribute(h);else try{delete l[h]}catch(e){}p&&delete v[q]}}}})}})});
KISSY.add("dom-class",function(a,s){function t(i,d,u,x){if(!(d=a.trim(d)))return x?false:s;i=a.query(i);var l=0,q=i.length;d=d.split(h);for(var v;l<q;l++){v=i[l];if(j._isElementNode(v)){v=u(v,d,d.length);if(v!==s)return v}}if(x)return false}var j=a.DOM,h=/[\.\s]\s*\.?/,k=/[\n\t]/g;a.mix(j,{hasClass:function(i,d){return t(i,d,function(u,x,l){if(u=u.className){u=" "+u+" ";for(var q=0,v=true;q<l;q++)if(u.indexOf(" "+x[q]+" ")<0){v=false;break}if(v)return true}},true)},addClass:function(i,d){t(i,d,function(u,
x,l){var q=u.className;if(q){var v=" "+q+" ";q=q;for(var f=0;f<l;f++)if(v.indexOf(" "+x[f]+" ")<0)q+=" "+x[f];u.className=a.trim(q)}else u.className=d})},removeClass:function(i,d){t(i,d,function(u,x,l){var q=u.className;if(q)if(l){q=(" "+q+" ").replace(k," ");for(var v=0,f;v<l;v++)for(f=" "+x[v]+" ";q.indexOf(f)>=0;)q=q.replace(f," ");u.className=a.trim(q)}else u.className=""})},replaceClass:function(i,d,u){j.removeClass(i,d);j.addClass(i,u)},toggleClass:function(i,d,u){var x=a.isBoolean(u),l;t(i,
d,function(q,v,f){for(var p=0,e;p<f;p++){e=v[p];l=x?!u:j.hasClass(q,e);j[l?"removeClass":"addClass"](q,e)}})}})});
KISSY.add("dom-attr",function(a,s){var t=a.UA,j=document.documentElement,h=!j.hasAttribute,k=j.textContent!==s?"textContent":"innerText",i=a.DOM,d=i._isElementNode,u=/^(?:href|src|style)/,x=/^(?:href|src|colspan|rowspan)/,l=/\r/g,q=/^(?:radio|checkbox)/,v={readonly:"readOnly"},f={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1},p={tabindex:{getter:function(e){return e.tabIndex},setter:function(e,c){if(isNaN(parseInt(c))){e.removeAttribute("tabindex");e.removeAttribute("tabIndex")}else e.tabIndex=
c}},style:{getter:function(e){return e.style.cssText},setter:function(e,c){e.style.cssText=c}},checked:{setter:function(e,c){e.checked=!!c}},disabled:{setter:function(e,c){e.disabled=!!c}}};h&&a.mix(v,{"for":"htmlFor","class":"className"});a.mix(i,{attr:function(e,c,b,g){if(a.isPlainObject(c)){g=b;for(var m in c)i.attr(e,m,c[m],g)}else if(c=a.trim(c)){c=c.toLowerCase();if(g&&f[c])return i[c](e,b);c=v[c]||c;var n=p[c];if(b===s){e=i.get(e);if(!d(e))return s;if(n&&n.getter)return n.getter(e);var r;u.test(c)||
(r=e[c]);if(r===s)r=e.getAttribute(c);if(h)if(x.test(c))r=e.getAttribute(c,2);return r===null?s:r}a.each(i.query(e),function(w){if(d(w))n&&n.setter?n.setter(w,b):w.setAttribute(c,""+b)})}},removeAttr:function(e,c){a.each(a.query(e),function(b){if(d(b)){i.attr(b,c,"");b.removeAttribute(c)}})},val:function(e,c){if(c===s){var b=a.get(e);if(!d(b))return s;if(b&&b.nodeName.toUpperCase()==="option".toUpperCase())return(b.attributes.value||{}).specified?b.value:b.text;if(b&&b.nodeName.toUpperCase()==="select".toUpperCase()){var g=
b.selectedIndex,m=b.options;if(g<0)return null;else if(b.type==="select-one")return i.val(m[g]);b=[];for(var n=0,r=m.length;n<r;++n)m[n].selected&&b.push(i.val(m[n]));return b}if(t.webkit&&q.test(b.type))return b.getAttribute("value")===null?"on":b.value;return(b.value||"").replace(l,"")}a.each(a.query(e),function(w){if(w&&w.nodeName.toUpperCase()==="select".toUpperCase()){if(a.isNumber(c))c+="";var o=a.makeArray(c),y=w.options,z;n=0;for(r=y.length;n<r;++n){z=y[n];z.selected=a.inArray(i.val(z),o)}if(!o.length)w.selectedIndex=
-1}else if(d(w))w.value=c})},text:function(e,c){if(c===s){var b=a.get(e);if(d(b))return b[k]||"";else if(i._nodeTypeIs(b,3))return b.nodeValue}else a.each(a.query(e),function(g){if(d(g))g[k]=c;else if(i._nodeTypeIs(g,3))g.nodeValue=c})}})});
KISSY.add("dom-style",function(a,s){function t(b,g){var m=a.get(b),n=g===u?m.offsetWidth:m.offsetHeight;a.each(g===u?["Left","Right"]:["Top","Bottom"],function(r){n-=parseFloat(h._getComputedStyle(m,"padding"+r))||0;n-=parseFloat(h._getComputedStyle(m,"border"+r+"Width"))||0});return n}function j(b,g,m){var n=m;if(m===x&&q.test(g)){n=0;if(a.inArray(h.css(b,"position"),["absolute","fixed"])){m=b[g==="left"?"offsetLeft":"offsetTop"];if(k.ie===8||k.opera)m-=l(h.css(b.offsetParent,"border-"+g+"-width"))||
0;n=m-(l(h.css(b,"margin-"+g))||0)}}return n}var h=a.DOM,k=a.UA,i=document,d=i.documentElement,u="width",x="auto",l=parseInt,q=/^(?:left|top)/,v=/^(?:width|height|top|left|right|bottom|margin|padding)/i,f=/-([a-z])/ig,p=function(b,g){return g.toUpperCase()},e={},c={};a.mix(h,{_CUSTOM_STYLES:e,_getComputedStyle:function(b,g){var m="",n=b.ownerDocument;if(b.style)m=n.defaultView.getComputedStyle(b,null)[g];return m},css:function(b,g,m){if(a.isPlainObject(g))for(var n in g)h.css(b,n,g[n]);else{if(g.indexOf("-")>
0)g=g.replace(f,p);g=e[g]||g;if(m===s){b=a.get(b);n="";if(b&&b.style){n=g.get?g.get(b):b.style[g];if(n===""&&!g.get)n=j(b,g,h._getComputedStyle(b,g))}return n===s?"":n}else{if(m===null||m==="")m="";else if(!isNaN(new Number(m))&&v.test(g))m+="px";(g===u||g==="height")&&parseFloat(m)<0||a.each(a.query(b),function(r){if(r&&r.style){g.set?g.set(r,m):r.style[g]=m;if(m==="")r.style.cssText||r.removeAttribute("style")}})}}},width:function(b,g){if(g===s)return t(b,u);else h.css(b,u,g)},height:function(b,
g){if(g===s)return t(b,"height");else h.css(b,"height",g)},show:function(b){a.query(b).each(function(g){if(g){g.style.display=h.data(g,"display")||"";if(h.css(g,"display")==="none"){var m=g.tagName,n=c[m],r;if(!n){r=i.createElement(m);i.body.appendChild(r);n=h.css(r,"display");h.remove(r);c[m]=n}h.data(g,"display",n);g.style.display=n}}})},hide:function(b){a.query(b).each(function(g){if(g){var m=g.style,n=m.display;if(n!=="none"){n&&h.data(g,"display",n);m.display="none"}}})},toggle:function(b){a.query(b).each(function(g){if(g)g.style.display===
"none"?h.show(g):h.hide(g)})},addStyleSheet:function(b,g){var m;if(g&&(g=g.replace("#","")))m=a.get("#"+g);if(!m){m=h.create("<style>",{id:g});a.get("head").appendChild(m);if(m.styleSheet)m.styleSheet.cssText=b;else m.appendChild(i.createTextNode(b))}}});if(d.style.cssFloat!==s)e["float"]="cssFloat";else if(d.style.styleFloat!==s)e["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(a,s){if(a.UA.ie){var t=a.DOM,j=document,h=j.documentElement,k=t._CUSTOM_STYLES,i=/^-?\d+(?:px)?$/i,d=/^-?\d/,u=/^(?:width|height)$/;try{if(h.style.opacity===s&&h.filters)k.opacity={get:function(l){var q=100;try{q=l.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(v){try{q=l.filters("alpha").opacity}catch(f){}}return q/100+""},set:function(l,q){var v=l.style,f=(l.currentStyle||0).filter||"";v.zoom=1;if(f)f=f.replace(/alpha\(opacity=.+\)/ig,"");if(f&&q!=1)f+=
", ";v.filter=f+(q!=1?"alpha(opacity="+q*100+")":"")}}}catch(x){}if(!(j.defaultView||{}).getComputedStyle&&h.currentStyle)t._getComputedStyle=function(l,q){var v=l.style,f=l.currentStyle[q];if(u.test(q))f=t[q](l)+"px";else if(!i.test(f)&&d.test(f)){var p=v.left,e=l.runtimeStyle.left;l.runtimeStyle.left=l.currentStyle.left;v.left=q==="fontSize"?"1em":f||0;f=v.pixelLeft+"px";v.left=p;l.runtimeStyle.left=e}return f}}});
KISSY.add("dom-offset",function(a,s){function t(m){var n=0,r=0,w=x(m[f]);if(m[g]){m=m[g]();n=m[p];r=m[e];if(h.mobile!=="apple"){n+=j[c](w);r+=j[b](w)}}return{left:n,top:r}}var j=a.DOM,h=a.UA,k=window,i=document,d=j._isElementNode,u=j._nodeTypeIs,x=j._getWin,l=i.compatMode==="CSS1Compat",q=Math.max,v=parseInt,f="ownerDocument",p="left",e="top",c="scrollLeft",b="scrollTop",g="getBoundingClientRect";a.mix(j,{offset:function(m,n){if(!(m=a.get(m))||!m[f])return null;if(n===s)return t(m);var r=m;if(j.css(r,
"position")==="static")r.style.position="relative";var w=t(r),o={},y,z;for(z in n){y=v(j.css(r,z),10)||0;o[z]=y+n[z]-w[z]}j.css(r,o)},scrollIntoView:function(m,n,r,w){if((m=a.get(m))&&m[f]){w=w===s?true:!!w;r=r===s?true:!!r;if(!n||n===k)return m.scrollIntoView(r);n=a.get(n);if(u(n,9))n=x(n);var o=n&&"scrollTo"in n&&n.document,y=j.offset(m),z=o?{left:j.scrollLeft(n),top:j.scrollTop(n)}:j.offset(n),A={left:y[p]-z[p],top:y[e]-z[e]};y=o?j.viewportHeight(n):n.clientHeight;z=o?j.viewportWidth(n):n.clientWidth;
var B=j[c](n),E=j[b](n),D=B+z,C=E+y,K=m.offsetHeight;m=m.offsetWidth;var J=A.left+B-(v(j.css(n,"borderLeftWidth"))||0);A=A.top+E-(v(j.css(n,"borderTopWidth"))||0);var G=J+m,F=A+K,H,I;if(K>y||A<E||r)H=A;else if(F>C)H=F-y;if(w)if(m>z||J<B||r)I=J;else if(G>D)I=G-z;if(o){if(H!==s||I!==s)n.scrollTo(I,H)}else{if(H!==s)n[b]=H;if(I!==s)n[c]=I}}}});a.each(["Left","Top"],function(m,n){var r="scroll"+m;j[r]=function(w){var o=0,y=x(w),z;if(y&&(z=y.document))o=y[n?"pageYOffset":"pageXOffset"]||z.documentElement[r]||
z.body[r];else if(d(w=a.get(w)))o=w[r];return o}});a.each(["Width","Height"],function(m){j["doc"+m]=function(n){n=n||i;return q(l?n.documentElement["scroll"+m]:n.body["scroll"+m],j["viewport"+m](n))};j["viewport"+m]=function(n){var r="inner"+m;n=x(n);var w=n.document;return r in n?n[r]:l?w.documentElement["client"+m]:w.body["client"+m]}})});
KISSY.add("dom-traversal",function(a,s){function t(i,d,u,x){if(!(i=a.get(i)))return null;if(d===s)d=1;var l=null,q,v;if(a.isNumber(d)&&d>=0){if(d===0)return i;q=0;v=d;d=function(){return++q===v}}for(;i=i[u];)if(k(i)&&(!d||h.test(i,d))&&(!x||x(i))){l=i;break}return l}function j(i,d,u){var x=[];var l=i=a.get(i);if(i&&u)l=i.parentNode;if(l){u=0;for(l=l.firstChild;l;l=l.nextSibling)if(k(l)&&l!==i&&(!d||h.test(l,d)))x[u++]=l}return x}var h=a.DOM,k=h._isElementNode;a.mix(h,{parent:function(i,d){return t(i,
d,"parentNode",function(u){return u.nodeType!=11})},next:function(i,d){return t(i,d,"nextSibling")},prev:function(i,d){return t(i,d,"previousSibling")},siblings:function(i,d){return j(i,d,true)},children:function(i,d){return j(i,d)},contains:function(i,d){var u=false;if((i=a.get(i))&&(d=a.get(d)))if(i.contains){if(d.nodeType===3){d=d.parentNode;if(d===i)return true}if(d)return i.contains(d)}else if(i.compareDocumentPosition)return!!(i.compareDocumentPosition(d)&16);else for(;!u&&(d=d.parentNode);)u=
d==i;return u}})});
KISSY.add("dom-create",function(a,s){function t(o){var y=o.cloneNode(true);if(d.ie<8)y.innerHTML=o.innerHTML;return y}function j(o,y,z,A){if(z){var B=a.guid("ks-tmp-"),E=RegExp(p);y+='<span id="'+B+'"></span>';a.available(B,function(){var D=a.get("head"),C,K,J,G,F,H;for(E.lastIndex=0;C=E.exec(y);)if((J=(K=C[1])?K.match(c):false)&&J[2]){C=k.createElement("script");C.src=J[2];if((G=K.match(b))&&G[2])C.charset=G[2];C.async=true;D.appendChild(C)}else if((H=C[2])&&H.length>0)a.globalEval(H);(F=k.getElementById(B))&&
i.remove(F);a.isFunction(A)&&A()});h(o,y)}else{h(o,y);a.isFunction(A)&&A()}}function h(o,y){y=(y+"").replace(p,"");try{o.innerHTML=y}catch(z){for(;o.firstChild;)o.removeChild(o.firstChild);y&&o.appendChild(i.create(y))}}var k=document,i=a.DOM,d=a.UA,u=d.ie,x=i._nodeTypeIs,l=i._isElementNode,q=i._isKSNode,v=k.createElement("div"),f=/<(\w+)/,p=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,e=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,c=/\ssrc=(['"])(.*?)\1/i,b=/\scharset=(['"])(.*?)\1/i;a.mix(i,{create:function(o,
y,z){if(x(o,1)||x(o,3))return t(o);if(q(o))return t(o[0]);if(!(o=a.trim(o)))return null;var A=null;A=i._creators;var B,E="div",D;if(B=e.exec(o))A=(z||k).createElement(B[1]);else{if((B=f.exec(o))&&(D=B[1])&&a.isFunction(A[D=D.toLowerCase()]))E=D;o=A[E](o,z).childNodes;if(o.length===1)z=o[0].parentNode.removeChild(o[0]);else{o=o;D=z||k;z=null;if(o&&(o.push||o.item)&&o[0]){D=D||o[0].ownerDocument;z=D.createDocumentFragment();if(o.item)o=a.makeArray(o);D=0;for(A=o.length;D<A;D++)z.appendChild(o[D])}z=
z}A=z}z=A;l(z)&&a.isPlainObject(y)&&i.attr(z,y,true);return z},_creators:{div:function(o,y){var z=y?y.createElement("div"):v;z.innerHTML=o;return z}},html:function(o,y,z,A){if(y===s){o=a.get(o);if(l(o))return o.innerHTML}else a.each(a.query(o),function(B){l(B)&&j(B,y,z,A)})},remove:function(o){a.each(a.query(o),function(y){l(y)&&y.parentNode&&y.parentNode.removeChild(y)})}});if(u||d.gecko||d.webkit){var g=i._creators,m=i.create,n=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,r={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},w;for(w in r)(function(o){g[w]=function(y,z){return m("<"+o+">"+y+"</"+o+">",null,z)}})(r[w]);if(u){g.script=function(o,y){var z=y?y.createElement("div"):v;z.innerHTML="-"+o;z.removeChild(z.firstChild);return z};if(u<8)g.tbody=function(o,y){var z=m("<table>"+o+"</table>",null,y),A=z.children.tags("tbody")[0];z.children.length>1&&A&&!n.test(o)&&A.parentNode.removeChild(A);return z}}a.mix(g,{optgroup:g.option,th:g.td,thead:g.tbody,tfoot:g.tbody,
caption:g.tbody,colgroup:g.tbody})}});
KISSY.add("dom-insertion",function(a){var s=a.DOM;a.mix(s,{insertBefore:function(t,j){if((t=a.get(t))&&(j=a.get(j))&&j.parentNode)j.parentNode.insertBefore(t,j);return t},insertAfter:function(t,j){if((t=a.get(t))&&(j=a.get(j))&&j.parentNode)j.nextSibling?j.parentNode.insertBefore(t,j.nextSibling):j.parentNode.appendChild(t);return t},append:function(t,j){if((t=a.get(t))&&(j=a.get(j)))j.appendChild&&j.appendChild(t)},prepend:function(t,j){if((t=a.get(t))&&(j=a.get(j)))j.firstChild?s.insertBefore(t,
j.firstChild):j.appendChild(t)}})});
KISSY.add("event",function(a,s){function t(p,e,c,b,g){if(a.isString(e))e=a.query(e);if(a.isArray(e)){a.each(e,function(m){f[p](m,c,b,g)});return true}if((c=a.trim(c))&&c.indexOf(l)>0){a.each(c.split(l),function(m){f[p](e,m,b,g)});return true}}function j(p){return p&&p.nodeType!==3&&p.nodeType!==8?i.data(p,x):-1}function h(p,e){p&&p.nodeType!==3&&p.nodeType!==8&&i.data(p,x,e)}var k=document,i=a.DOM,d=k.addEventListener?function(p,e,c,b){p.addEventListener&&p.addEventListener(e,c,!!b)}:function(p,e,
c){p.attachEvent&&p.attachEvent("on"+e,c)},u=k.removeEventListener?function(p,e,c,b){p.removeEventListener&&p.removeEventListener(e,c,!!b)}:function(p,e,c){p.detachEvent&&p.detachEvent("on"+e,c)},x="ksEventTargetId",l=" ",q=a.now(),v={},f={EVENT_GUID:x,special:{},add:function(p,e,c,b){if(!t("add",p,e,c,b)){var g=j(p),m,n,r,w,o;if(!(g===-1||!e||!a.isFunction(c))){if(!g){h(p,g=q++);v[g]={target:p,events:{}}}n=v[g].events;if(!n[e]){m=((g=!p.isCustomEventTarget)||p._supportSpecialEvent)&&f.special[e]||
{};r=function(y,z){if(!y||!y.fixed)y=new a.EventObject(p,y,e);if(a.isPlainObject(z)){var A=y.type;a.mix(y,z);y.type=A}m.setup&&m.setup(y);return(m.handle||f._handle)(p,y)};n[e]={handle:r,listeners:[]};w=m.fix||e;o=m.capture;m.init&&m.init.apply(null,a.makeArray(arguments));g&&m.fix!==false&&d(p,w,r,o)}n[e].listeners.push({fn:c,scope:b||p})}}},__getListeners:function(p,e){var c,b=[];if(c=(f.__getEvents(p)||{})[e])b=c.listeners;return b},__getEvents:function(p){var e=j(p),c;if(e!==-1)if(e&&(c=v[e]))if(c.target===
p)return c.events||{}},remove:function(p,e,c,b){if(!t("remove",p,e,c,b)){var g=f.__getEvents(p),m=j(p),n,r,w,o,y,z,A=(!p.isCustomEventTarget||p._supportSpecialEvent)&&f.special[e]||{};if(g!==undefined){b=b||p;if(n=g[e]){r=n.listeners;w=r.length;if(a.isFunction(c)&&w){y=o=0;for(z=[];o<w;++o)if(c!==r[o].fn||b!==r[o].scope)z[y++]=r[o];n.listeners=z;w=z.length}if(c===s||w===0){if(!p.isCustomEventTarget){A=f.special[e]||{};if(A.fix!==false)u(p,A.fix||e,n.handle)}delete g[e]}}A.destroy&&A.destroy.apply(null,
a.makeArray(arguments));if(e===s||a.isEmptyObject(g)){for(e in g)f.remove(p,e);delete v[m];i.removeData(p,x)}}}},_handle:function(p,e){var c=f.__getListeners(p,e.type);c=c.slice(0);for(var b,g,m=0,n=c.length;m<n;++m){b=c[m];b=b.fn.call(b.scope,e);if(g!==false)g=b;if(b!==undefined){e.result=b;b===false&&e.halt()}if(e.isImmediatePropagationStopped)break}return g},_getCache:function(p){return v[p]},__getID:j,_simpleAdd:d,_simpleRemove:u};f.on=f.add;a.Event=f});
KISSY.add("event-object",function(a,s){function t(k,i,d){this.currentTarget=k;this.originalEvent=i||{};if(i){this.type=i.type;this._fix()}else{this.type=d;this.target=k}this.currentTarget=k;this.fixed=true}var j=document,h="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
a.augment(t,{_fix:function(){var k=this.originalEvent,i=h.length,d,u=this.currentTarget;for(u=u.nodeType===9?u:u.ownerDocument||j;i;){d=h[--i];this[d]=k[d]}if(!this.target)this.target=this.srcElement||j;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===s&&this.clientX!==s){k=u.documentElement;i=u.body;this.pageX=this.clientX+(k&&k.scrollLeft||i&&i.scrollLeft||
0)-(k&&k.clientLeft||i&&i.clientLeft||0);this.pageY=this.clientY+(k&&k.scrollTop||i&&i.scrollTop||0)-(k&&k.clientTop||i&&i.clientTop||0)}if(this.which===s)this.which=this.charCode!==s?this.charCode:this.keyCode;if(this.metaKey===s)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==s)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var k=this.originalEvent;if(k.preventDefault)k.preventDefault();else k.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var k=
this.originalEvent;if(k.stopPropagation)k.stopPropagation();else k.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var k=this.originalEvent;k.stopImmediatePropagation?k.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(k){k?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});a.EventObject=t});
KISSY.add("event-target",function(a,s){var t=a.Event;a.EventTarget={isCustomEventTarget:true,fire:function(j,h){var k=a.DOM.data(this,t.EVENT_GUID)||-1;if((k=((t._getCache(k)||{}).events||{})[j])&&a.isFunction(k.handle))return k.handle(s,h)},on:function(j,h,k){t.add(this,j,h,k);return this},detach:function(j,h,k){t.remove(this,j,h,k);return this}}});
KISSY.add("event-mouseenter",function(a){var s=a.Event;a.UA.ie||a.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(t){s.special[t.name]={fix:t.fix,setup:function(j){j.type=t.name},handle:function(j,h){if(a.DOM._isKSNode(j))j=j[0];var k=h.relatedTarget;try{for(;k&&k!==j;)k=k.parentNode;k!==j&&s._handle(j,h)}catch(i){}}}})});
KISSY.add("event-focusin",function(a){var s=a.Event;document.addEventListener&&a.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(t){s.special[t.name]={fix:t.fix,capture:true,setup:function(j){j.type=t.name}}})});
KISSY.add("node",function(a){function s(j,h,k){if(!(this instanceof s))return new s(j,h,k);if(j){if(a.isString(j)){j=t.create(j,h,k);if(j.nodeType===11)return new a.NodeList(j.childNodes)}else if(j instanceof s)return j;else j=j;this[0]=j}else this.length=0}var t=a.DOM;s.TYPE="-ks-Node";a.augment(s,{length:1,getDOMNode:function(){return this[0]},nodeType:s.TYPE});a.one=function(j,h){var k=a.get(j,h);return k?new s(k):null};a.Node=s});
KISSY.add("nodelist",function(a){function s(h){if(!(this instanceof s))return new s(h);t.push.apply(this,a.makeArray(h)||[])}var t=Array.prototype,j=a.DOM._isElementNode;a.mix(s.prototype,{length:0,item:function(h){var k=null,i,d;if(j(h)){i=0;for(d=this.length;i<d;i++)if(h===this[i]){h=i;break}}if(j(this[h]))k=new a.Node(this[h]);return k},getDOMNodes:function(){return t.slice.call(this)},each:function(h,k){var i=this.length,d=0,u;for(u=new a.Node(this[0]);d<i&&h.call(k||u,u,d,this)!==false;u=new a.Node(this[++d]));
return this}});a.all=function(h,k){return new s(a.query(h,k,true))};a.NodeList=s});
KISSY.add("node-attach",function(a,s){function t(r,w,o,y){r=[this[r?b:c]()].concat(a.makeArray(w));if(w[o]===s&&(o!=1||a.isString(w[0])))return y.apply(d,r);y.apply(d,r);return this}function j(r,w){a.each(r,function(o){a.each([p,e],function(y,z){y[o]=function(A){switch(w){case g:return function(){return t.call(this,z,arguments,1,A)};case m:return function(){return t.call(this,z,arguments,0,A)};case n:return function(){var B=this[z?b:c]();return(B=A.apply(d,[B].concat(a.makeArray(arguments))))?new (a[a.isArray(B)?
"NodeList":"Node"])(B):null};default:return function(){var B=this[z?b:c]();B=A.apply(d,[B].concat(a.makeArray(arguments)));return B===s?this:B}}}(d[o])})})}function h(r,w,o){r&&a.each(this,function(y){var z;if(w||a.isString(r))z=d.create(r);else{if(x(r,1)||x(r,3))z=r;if(l(r))z=r[0]}d[o](z,y)});return this}function k(r,w){if((r=a.get(r))&&r.appendChild)a.each(this,function(o){d[w](o,r)});return this}function i(r,w){r.__wrap=r.__wrap||[];r.__wrap.push(w)}var d=a.DOM,u=a.Event,x=d._nodeTypeIs,l=d._isKSNode,
q=a.EventTarget,v=a.Node,f=a.NodeList,p=v.prototype,e=f.prototype,c="getDOMNode",b=c+"s",g=1,m=2,n=4;a.mix(p,{one:function(r){return a.one(r,this[0])},all:function(r){return a.all(r,this[0])}});j(["data","removeData"],g);j(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);j(["attr","removeAttr"],g);j(["val","text"],m);j(["css"],g);j(["width","height"],m);j(["offset"],m);j(["scrollIntoView"]);j(["parent","next","prev","siblings","children"],n);j(["contains"]);j(["html"],m);j(["remove"]);
a.each(["insertBefore","insertAfter"],function(r){p[r]=function(w){d[r].call(d,this[0],w);return this}});a.each([p,e],function(r,w){a.each(["append","prepend"],function(o){r[o]=function(y){return h.call(this,y,w,o)};r[o+"To"]=function(y){return k.call(this,y,o)}})});a.augment(v,q,{fire:null,on:function(r,w,o){function y(A){var B=a.makeArray(arguments);B.shift();A.target=new v(A.target);if(A.relatedTarget)A.relatedTarget=new v(A.relatedTarget);B.unshift(A);return w.apply(o||z,B)}var z=this;u.add(this[0],
r,y,o);i(w,y);return this},detach:function(r,w,o){if(a.isFunction(w)){w=w.__wrap||[];for(var y=0;y<w.length;y++)u.remove(this[0],r,w[y],o)}else u.remove(this[0],r,w,o);return this}});a.augment(f,q,{fire:null});p._supportSpecialEvent=true;a.each({on:"add",detach:"remove"},function(r,w){e[w]=function(o,y,z){for(var A=0;A<this.length;A++)this.item(A).on(o,y,z)}})});if(!this.JSON)this.JSON={};
(function(){function a(x){return x<10?"0"+x:x}function s(x){h.lastIndex=0;return h.test(x)?'"'+x.replace(h,function(l){var q=d[l];return typeof q==="string"?q:"\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+x+'"'}function t(x,l){var q,v,f,p,e=k,c,b=l[x];if(b&&typeof b==="object"&&typeof b.toJSON==="function")b=b.toJSON(x);if(typeof u==="function")b=u.call(l,x,b);switch(typeof b){case "string":return s(b);case "number":return isFinite(b)?String(b):"null";case "boolean":case "null":return String(b);
case "object":if(!b)return"null";k+=i;c=[];if(Object.prototype.toString.apply(b)==="[object Array]"){p=b.length;for(q=0;q<p;q+=1)c[q]=t(q,b)||"null";f=c.length===0?"[]":k?"[\n"+k+c.join(",\n"+k)+"\n"+e+"]":"["+c.join(",")+"]";k=e;return f}if(u&&typeof u==="object"){p=u.length;for(q=0;q<p;q+=1){v=u[q];if(typeof v==="string")if(f=t(v,b))c.push(s(v)+(k?": ":":")+f)}}else for(v in b)if(Object.hasOwnProperty.call(b,v))if(f=t(v,b))c.push(s(v)+(k?": ":":")+f);f=c.length===0?"{}":k?"{\n"+k+c.join(",\n"+k)+
"\n"+e+"}":"{"+c.join(",")+"}";k=e;return f}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var j=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,i,d={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;if(typeof JSON.stringify!=="function")JSON.stringify=function(x,l,q){var v;i=k="";if(typeof q==="number")for(v=0;v<q;v+=1)i+=" ";else if(typeof q==="string")i=q;if((u=l)&&typeof l!=="function"&&(typeof l!=="object"||typeof l.length!=="number"))throw Error("JSON.stringify");return t("",{"":x})};
if(typeof JSON.parse!=="function")JSON.parse=function(x,l){function q(f,p){var e,c,b=f[p];if(b&&typeof b==="object")for(e in b)if(Object.hasOwnProperty.call(b,e)){c=q(b,e);if(c!==undefined)b[e]=c;else delete b[e]}return l.call(f,p,b)}var v;x=String(x);j.lastIndex=0;if(j.test(x))x=x.replace(j,function(f){return"\\u"+("0000"+f.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(x.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){v=eval("("+x+")");return typeof l==="function"?q({"":v},""):v}throw new SyntaxError("JSON.parse");}})();KISSY.add("json",function(a){var s=window.JSON;a.JSON={parse:function(t){if(t==null||t==="")return null;return s.parse(t)},stringify:s.stringify}});
KISSY.add("ajax",function(a,s){function t(o){o=a.merge(w,o);if(o.url){if(o.data&&!a.isString(o.data))o.data=a.param(o.data);o.context=o.context||o;var y,z=b,A,B=o.type.toUpperCase();if(o.dataType===q){y=o.jsonpCallback||q+a.now();o.url=o.url+(o.url.indexOf("?")===-1?"?":"&")+(o.jsonp+"="+y);o.dataType=v;var E=k[y];k[y]=function(G){if(a.isFunction(E))E(G);else{k[y]=s;try{delete k[y]}catch(F){}}j([b,g],G,z,C,o)}}if(o.data&&B===d)o.url=o.url+(o.url.indexOf("?")===-1?"?":"&")+o.data;if(o.dataType===v){h(p,
o);B=a.getScript(o.url,y?null:function(){j([b,g],f,z,C,o)});h(e,o);return B}var D=false,C=o.xhr();h(p,o);C.open(B,o.url,o.async);try{if(o.data||o.contentType)C.setRequestHeader(x,o.contentType);C.setRequestHeader("Accept",o.dataType&&o.accepts[o.dataType]?o.accepts[o.dataType]+", */*; q=0.01":o.accepts._default)}catch(K){}C.onreadystatechange=function(G){if(!C||C.readyState===0||G==="abort"){D||j(g,null,m,C,o);D=true;if(C)C.onreadystatechange=i}else if(!D&&C&&(C.readyState===4||G===n)){D=true;C.onreadystatechange=
i;var F;if(G===n)F=n;else{a:{try{F=C.status>=200&&C.status<300||C.status===304||C.status===1223;break a}catch(H){}F=false}F=F?b:m}z=F;try{F=C;var I=o.dataType,M=f,N,L=F;if(!a.isString(L)){M=F.getResponseHeader(x)||f;L=(N=I==="xml"||!I&&M.indexOf("xml")>=0)?F.responseXML:F.responseText;if(N&&L.documentElement.nodeName===r)throw r;}if(a.isString(L))if(I===l||!I&&M.indexOf(l)>=0)L=a.JSON.parse(L);A=L}catch(O){z=r}j([z===b?b:m,g],A,z,C,o);if(G===n){C.abort();h(c,o)}if(o.async)C=null}};h(e,o);try{C.send(B===
u?o.data:null)}catch(J){j([m,g],A,m,C,o)}o.async||h(g,o);return C}}function j(o,y,z,A,B){if(a.isArray(o))a.each(o,function(E){j(E,y,z,A,B)});else{z===o&&B[o]&&B[o].call(B.context,y,z,A);h(o,B)}}function h(o,y){t.fire(o,{ajaxConfig:y})}var k=window,i=function(){},d="GET",u="POST",x="Content-Type",l="json",q=l+"p",v="script",f="",p="start",e="send",c="stop",b="success",g="complete",m="error",n="timeout",r="parsererror",w={type:d,url:f,contentType:"application/x-www-form-urlencoded",async:true,data:null,
xhr:k.ActiveXObject?function(){if(k.XmlHttpRequest)try{return new k.XMLHttpRequest}catch(o){}try{return new k.ActiveXObject("Microsoft.XMLHTTP")}catch(y){}}:function(){return new k.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};a.mix(t,a.EventTarget);a.mix(t,{get:function(o,y,z,A,B){if(a.isFunction(y)){A=z;z=y}return t({type:B||d,
url:o,data:y,success:function(E,D,C){z&&z.call(this,E,D,C)},dataType:A})},post:function(o,y,z,A){if(a.isFunction(y)){A=z;z=y;y=s}return t.get(o,y,z,A,u)},jsonp:function(o,y,z){if(a.isFunction(y)){z=y;y=null}return t.get(o,y,z,q)}});t.getScript=a.getScript;a.io=a.ajax=t.ajax=t;a.jsonp=t.jsonp;a.IO=t});
KISSY.add("anim-easing",function(a){var s=Math,t=s.PI,j=s.pow,h=s.sin,k=1.70158,i={easeNone:function(d){return d},easeIn:function(d){return d*d},easeOut:function(d){return(2-d)*d},easeBoth:function(d){return(d*=2)<1?0.5*d*d:0.5*(1- --d*(d-2))},easeInStrong:function(d){return d*d*d*d},easeOutStrong:function(d){return 1- --d*d*d*d},easeBothStrong:function(d){return(d*=2)<1?0.5*d*d*d*d:0.5*(2-(d-=2)*d*d*d)},elasticIn:function(d){if(d===0||d===1)return d;return-(j(2,10*(d-=1))*h((d-0.075)*2*t/0.3))},
elasticOut:function(d){if(d===0||d===1)return d;return j(2,-10*d)*h((d-0.075)*2*t/0.3)+1},elasticBoth:function(d){if(d===0||(d*=2)===2)return d;if(d<1)return-0.5*j(2,10*(d-=1))*h((d-0.1125)*2*t/0.45);return j(2,-10*(d-=1))*h((d-0.1125)*2*t/0.45)*0.5+1},backIn:function(d){if(d===1)d-=0.0010;return d*d*((k+1)*d-k)},backOut:function(d){return(d-=1)*d*((k+1)*d+k)+1},backBoth:function(d){if((d*=2)<1)return 0.5*d*d*(((k*=1.525)+1)*d-k);return 0.5*((d-=2)*d*(((k*=1.525)+1)*d+k)+2)},bounceIn:function(d){return 1-
i.bounceOut(1-d)},bounceOut:function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+0.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+0.9375:7.5625*(d-=2.625/2.75)*d+0.984375},bounceBoth:function(d){if(d<0.5)return i.bounceIn(d*2)*0.5;return i.bounceOut(d*2-1)*0.5+0.5}};i.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
a.Easing=i});
KISSY.add("anim",function(a,s){function t(c,b,g,m,n,r){if(c=a.get(c)){if(!(this instanceof t))return new t(c,b,g,m,n,r);var w=a.isPlainObject(g);b=b;this.domEl=c;if(a.isPlainObject(b))b=a.param(b,";").replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var o={},y=v.length,z;q.innerHTML='<div style="'+b+'"></div>';for(c=q.firstChild.style;y--;)if(z=c[v[y]])o[v[y]]=k(z);this.props=o;this.targetStyle=b;if(w)w=a.merge(e,g);else{w=a.clone(e);if(g)w.duration=l(g)||1;if(a.isString(m)||
a.isFunction(m))w.easing=m;if(a.isFunction(n))w.complete=n;if(r!==s)w.nativeSupport=r}this.config=w;if(w.nativeSupport&&j()&&a.isString(m=w.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(m)||(m=x.NativeTimeFunction[m])){w.easing=m;this.transitionName=j()}a.isFunction(n)&&this.on(p,n)}}function j(){var c="transition",b;if(q.style[c]!==s)b=c;else a.each(["Webkit","Moz","O"],function(g){if(q.style[c=g+"Transition"]!==s){b=c;return false}});j=function(){return b};return b}function h(c,b,g){a.UA.ie&&g.indexOf(f)>
-1&&u.css(c,f,b[f].v);c.style.cssText+=";"+g}function k(c){var b=l(c);c=(c+"").replace(/^[-\d.]+/,"");return isNaN(b)?{v:c,u:"",f:d}:{v:b,u:c,f:i}}function i(c,b,g){return(c+(b-c)*g).toFixed(3)}function d(c,b,g){for(var m=2,n,r,w=[],o=[];n=3,r=arguments[m-1],m--;)if(r.substr(0,4)==="rgb(")for(r=r.match(/\d+/g);n--;)w.push(~~r[n]);else if(r.substr(0,1)==="#"){if(r.length===4)r="#"+r.substr(1,1)+r.substr(1,1)+r.substr(2,1)+r.substr(2,1)+r.substr(3,1)+r.substr(3,1);for(;n--;)w.push(parseInt(r.substr(1+
n*2,2),16))}else return b;for(;n--;){m=~~(w[n+3]+(w[n]-w[n+3])*g);o.push(m<0?0:m>255?255:m)}return"rgb("+o.join(",")+")"}var u=a.DOM,x=a.Easing,l=parseFloat,q=u.create("<div>"),v="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
f="opacity",p="complete",e={duration:1,easing:"easeNone",nativeSupport:true};a.augment(t,a.EventTarget,{run:function(){var c=this,b=c.config,g=c.domEl,m,n,r,w,o=c.props,y={},z;for(z in o)y[z]=k(u.css(g,z));if(c.fire("start")!==false){c.stop();if(c.transitionName)c._nativeRun();else{m=b.duration*1E3;r=a.now();w=r+m;n=b.easing;if(a.isString(n))n=x[n]||x.easeNone;c.timer=a.later(b=function(){var A=a.now(),B=A>w?1:(A-r)/m,E,D,C;for(z in o){E=y[z];D=o[z];if(D.v==0)D.u=E.u;if(E.u!==D.u)E.v=0;u.css(g,z,
D.f(E.v,D.v,n(B))+D.u)}if(c.fire("step")===false||(C=A>w)){c.stop();C&&c.fire(p)}},13,true);b()}return c}},_nativeRun:function(){var c=this,b=c.config,g=c.domEl,m=c.props,n=b.duration*1E3;b=b.easing;var r=c.transitionName,w={};w[r+"Property"]="all";w[r+"Duration"]=n+"ms";w[r+"TimingFunction"]=b;u.css(g,w);a.later(function(){h(g,m,c.targetStyle)},0);a.later(function(){c.stop(true)},n)},stop:function(c){if(this.transitionName)this._nativeStop(c);else{if(this.timer){this.timer.cancel();this.timer=s}if(c){h(this.domEl,
this.props,this.targetStyle);this.fire(p)}}return this},_nativeStop:function(c){var b=this.domEl,g=this.transitionName,m=this.props,n;if(c){u.css(b,g+"Property","none");this.fire(p)}else{for(n in m)u.css(b,n,u._getComputedStyle(b,n));u.css(b,g+"Property","none")}}});t.supportTransition=function(){return!!j()};a.Anim=t});
KISSY.add("anim-node-plugin",function(a,s){function t(f,p,e,c,b){if(p==="toggle"){b=j.css(f,k)===i?1:0;p="show"}if(b)j.css(f,k,j.data(f,k)||"");var g={},m={};a.each(v[p],function(n){if(n===d){g[d]=j.css(f,d);j.css(f,d,u)}else if(n===x){g[x]=j.css(f,x);m.opacity=b?1:0;b&&j.css(f,x,0)}else if(n===l){g[l]=j.css(f,l);m.height=b?j.css(f,l)||f.naturalHeight:0;b&&j.css(f,l,0)}else if(n===q){g[q]=j.css(f,q);m.width=b?j.css(f,q)||f.naturalWidth:0;b&&j.css(f,q,0)}});(new a.Anim(f,m,e,"easeOut",function(){if(!b){var n=
f.style,r=n[k];if(r!==i){r&&j.data(f,k,r);n[k]=i}g[l]&&j.css(f,{height:g[l]});g[q]&&j.css(f,{width:g[q]});g[x]&&j.css(f,{opacity:g[x]});g[d]&&j.css(f,{overflow:g[d]})}c&&a.isFunction(c)&&c()})).run()}var j=a.DOM,h=a.Anim,k="display",i="none",d="overflow",u="hidden",x="opacity",l="height",q="width",v={show:[d,x,l,q],fade:[x],slide:[d,l]};a.each([a.Node.prototype,a.NodeList.prototype],function(f){f.animate=function(){var p=a.makeArray(arguments);a.each(this,function(e){h.apply(s,[e].concat(p)).run()});
return this};a.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(p,e){f[e]=function(c,b){j[e]&&arguments.length===0?j[e](this):a.each(this,function(g){t(g,p[0],c,b,p[1])});return this}})})});
KISSY.add("cookie",function(a){var s=document,t=encodeURIComponent,j=decodeURIComponent;a.Cookie={get:function(h){var k;if(a.isString(h)&&h!=="")if(h=s.cookie.match("(?:^| )"+h+"(?:(?:=([^;]*))|;|$)"))k=h[1]?j(h[1]):"";return k},set:function(h,k,i,d,u,x){k=t(k);var l=i;if(typeof l==="number"){l=new Date;l.setTime(l.getTime()+i*864E5)}if(l instanceof Date)k+="; expires="+l.toUTCString();if(a.isString(d)&&d!=="")k+="; domain="+d;if(a.isString(u)&&u!=="")k+="; path="+u;if(x)k+="; secure";s.cookie=h+
"="+k},remove:function(h,k,i,d){this.set(h,"",0,k,i,d)}}});
KISSY.add("attribute",function(a,s){function t(){this.__attrs={};this.__attrVals={}}function j(h){h+="";return h.charAt(0).toUpperCase()+h.substring(1)}a.augment(t,{__getDefAttrs:function(){return a.clone(this.__attrs)},addAttr:function(h,k){this.__attrs[h]=a.clone(k||{});return this},hasAttr:function(h){return h&&this.__attrs.hasOwnProperty(h)},removeAttr:function(h){if(this.hasAttr(h)){delete this.__attrs[h];delete this.__attrVals[h]}return this},set:function(h,k){var i=this.get(h);if(i!==k)if(false!==
this.__fireAttrChange("before",h,i,k)){this.__set(h,k);this.__fireAttrChange("after",h,i,this.__attrVals[h]);return this}},__fireAttrChange:function(h,k,i,d){return this.fire(h+j(k)+"Change",{attrName:k,prevVal:i,newVal:d})},__set:function(h,k){var i,d=this.__attrs[h];if(d=d&&d.setter)i=d.call(this,k);if(i!==s)k=i;this.__attrVals[h]=k},get:function(h){var k;k=(k=this.__attrs[h])&&k.getter;h=h in this.__attrVals?this.__attrVals[h]:this.__getDefAttrVal(h);if(k)h=k.call(this,h);return h},__getDefAttrVal:function(h){h=
this.__attrs[h];var k;if(h){if(k=h.valueFn){k=k.call(this);if(k!==s)h.value=k;delete h.valueFn}return h.value}},reset:function(h){if(this.hasAttr(h))return this.set(h,this.__getDefAttrVal(h));for(h in this.__attrs)this.hasAttr(h)&&this.reset(h);return this}});a.Attribute=t;t.__capitalFirst=j});
KISSY.add("base",function(a){function s(t){a.Attribute.call(this);for(var j=this.constructor;j;){var h=j.ATTRS;if(h){var k=void 0;for(k in h)h.hasOwnProperty(k)&&!this.hasAttr(k)&&this.addAttr(k,h[k])}j=j.superclass?j.superclass.constructor:null}if(t)for(var i in t)t.hasOwnProperty(i)&&this.__set(i,t[i])}a.augment(s,a.EventTarget,a.Attribute);a.Base=s});KISSY.add("core");
