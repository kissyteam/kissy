/*
Copyright 2012, KISSY UI Library v1.40dev
MIT Licensed
build time: Aug 20 15:10
*/
KISSY.add("event/add",function(g,h,a,c,p,b,e,j){function m(a,b,e,l,f){var i=j[b]||{};!l.length&&(!i.setup||!1===i.setup.call(a))&&d(a,b,e);i.add&&i.add.call(a,f)}var d=c.simpleAdd,n=c.isValidTarget,q=c.isIdenticalHandler;g.mix(h,{__add:function(a,d,k,l,f){var i=c.getTypedGroups(k),k=i[0],y=i[1],t,x,i=j[k],w,v,s;g.isObject(l)&&(v=l.last,f=l.scope,x=l.data,s=l.selector,w=l.originalType,l=l.fn,s&&!w&&i&&i.delegateFix&&(w=k,k=i.delegateFix));!s&&!w&&i&&i.onFix&&(w=k,k=i.onFix);if(k&&d&&g.isFunction(l)&&
(!a||n(d))){(t=h._data(d))||e._data(d,t={});var i=t.events=t.events||{},i=i[k]=i[k]||[],l={fn:l,scope:f,selector:s,last:v,data:x,groups:y,originalType:w},u=t.handler;u||(u=t.handler=function(f,a){if(!(typeof KISSY=="undefined"||f&&f.type==c.Event_Triggered)){var i=u.target,d;if(!f||!f.fixed)f=new p(i,f);d=f.type;g.isPlainObject(a)&&g.mix(f,a);if(d)f.type=d;return b(i,f)}},u.target=d);for(f=i.length-1;0<=f;--f)if(q(i[f],l,d))return;a&&(m(d,k,u,i,l),d=null);s?(a=i.delegateCount=i.delegateCount||0,i.splice(a,
0,l),i.delegateCount++):(i.lastCount=i.lastCount||0,v?(i.push(l),i.lastCount++):i.splice(i.length-i.lastCount,0,l))}},add:function(b,d,e,j){d=g.trim(d);if(c.batchForType(h.add,b,d,e,j))return b;for(var b=a.query(b),f=b.length-1;0<=f;f--)h.__add(!0,b[f],d,e,j);return b}})},{requires:"./base,dom,./utils,./object,./handle,./data,./special".split(",")});
KISSY.add("event/base",function(g,h,a,c,p,b,e){function j(b,f,i,d){if(!m(b))return!1;var j=e[f];j&&j.onFix&&(f=j.onFix);var r=!0;i instanceof a?j=i:(j=new a(b,void 0,f),g.mix(j,i));j._ks_fired=1;j.type=f;var i=b,n,k=h._getWin(i.ownerDocument||i),s="on"+f;do j.currentTarget=i,n=p(i,j),!1!==r&&(r=n),i[s]&&!1===i[s].call(i)&&j.preventDefault(),i=i.parentNode||i.ownerDocument||i===b.ownerDocument&&k;while(!d&&i&&!j.isPropagationStopped);if(!d&&!j.isDefaultPrevented&&!("click"===f&&"a"==q(b))){var u;try{if(s&&
b[f]&&("focus"!==f&&"blur"!==f||0!==b.offsetWidth)&&!g.isWindow(b))(u=b[s])&&(b[s]=null),c.Event_Triggered=f,b[f]()}catch(z){}u&&(b[s]=u);c.Event_Triggered=o}return r}var m=c.isValidTarget,d=h.NodeType,n=c.splitAndRun,q=h.nodeName,r=g.trim,o=c.TRIGGERED_NONE,k={_clone:function(a,f){if(f.nodeType===d.ELEMENT_NODE&&b._hasData(a)){var i=b._data(a).events;g.each(i,function(a,b){g.each(a,function(a){k.on(f,b,{data:a.data,fn:a.fn,groups:a.groups,last:a.last,originalType:a.originalType,scope:a.scope,selector:a.selector})})})}},
fire:function(b,f,i,d){var e=!0,m,i=i||{};if(g.isString(f)){f=r(f);if(-1<f.indexOf(" "))return n(f,function(f){m=k.fire(b,f,i,d);!1!==e&&(e=m)}),e;i.type=f}else f instanceof a&&(i=f,f=i.type);var f=c.getTypedGroups(f),o=f[1];o&&(o=c.getGroupsRe(o));f=f[0];g.mix(i,{type:f,_ks_groups:o});b=h.query(b);for(o=b.length-1;0<=o;o--)m=j(b[o],f,i,d),!1!==e&&(e=m);return e},fireHandler:function(a,f,b){return k.fire(a,f,b,1)}};return k},{requires:"dom,./object,./utils,./handle,./data,./special".split(",")});
KISSY.add("event/change",function(g,h,a,c,p){var b=g.Env.host.document.documentMode;if(h.ie&&(9>h.ie||b&&9>b)){var e=/^(?:textarea|input|select)$/i,j=function(a){a=a.type;return"checkbox"==a||"radio"==a};p.change={setup:function(){if(e.test(this.nodeName))if(j(this))a.on(this,"propertychange",m),a.on(this,"click",d);else return!1;else a.on(this,"beforeactivate",n)},tearDown:function(){if(e.test(this.nodeName))if(j(this))a.remove(this,"propertychange",m),a.remove(this,"click",d);else return!1;else a.remove(this,
"beforeactivate",n),g.each(c.query("textarea,input,select",this),function(b){b.__changeHandler&&(b.__changeHandler=0,a.remove(b,"change",{fn:q,last:1}))})}};var m=function(a){"checked"==a.originalEvent.propertyName&&(this.__changed=1)},d=function(b){this.__changed&&(this.__changed=0,a.fire(this,"change",b))},n=function(b){b=b.target;e.test(b.nodeName)&&!b.__changeHandler&&(b.__changeHandler=1,a.on(b,"change",{fn:q,last:1}))},q=function(b){if(!b.isPropagationStopped&&!j(this)){var d;(d=this.parentNode)&&
a.fire(d,"change",b)}}}},{requires:["ua","./base","dom","./special"]});KISSY.add("event/data",function(g,h,a){var c=a.EVENT_GUID,p=g.makeArray;return{_hasData:function(b){return h.hasData(b,c)},_data:function(b){var a=p(arguments);a.splice(1,0,c);return h.data.apply(h,a)},_removeData:function(a){var e=p(arguments);e.splice(1,0,c);return h.removeData.apply(h,e)}}},{requires:["dom","./utils"]});
KISSY.add("event",function(g,h,a,c,p,b){g.mix(c,{KeyCodes:a,Target:p,Object:b,on:c.add,detach:c.remove,delegate:function(a,b,m,d,n){return c.add(a,b,{fn:d,scope:n,selector:m})},undelegate:function(a,b,m,d,n){return c.remove(a,b,{fn:d,scope:n,selector:m})}});g.mix(c,h);g.mix(g,{Event:c,EventTarget:c.Target,EventObject:c.Object});return c},{requires:"event/data,event/key-codes,event/base,event/target,event/object,event/focusin,event/hashchange,event/valuechange,event/mouseenter,event/submit,event/change,event/mousewheel,event/add,event/remove".split(",")});
KISSY.add("event/focusin",function(g,h,a,c){h.ie||g.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(h){function b(b){return a.fire(b.target,h.name)}var e=g.guid("attaches_"+g.now()+"_");c[h.name]={setup:function(){var a=this.ownerDocument||this;e in a||(a[e]=0);a[e]+=1;1===a[e]&&a.addEventListener(h.fix,b,!0)},tearDown:function(){var a=this.ownerDocument||this;a[e]-=1;0===a[e]&&a.removeEventListener(h.fix,b,!0)}}});c.focus={delegateFix:"focusin"};c.blur={delegateFix:"focusout"};
return a},{requires:["ua","./base","./special"]});
KISSY.add("event/handle",function(g,h,a,c){return function(g,b){var e=a._data(g),j=(e&&e.events||{})[b.type]||[],m=b.target,d,e=[],n,q,r,o=j.delegateCount||0,k,l;if(o&&!m.disabled)for(;m!=g;){k=[];for(r=0;r<o;r++)d=j[r],h.test(m,d.selector)&&k.push(d);k.length&&e.push({currentTarget:m,currentTargetHandlers:k});m=m.parentNode||g}e.push({currentTarget:g,currentTargetHandlers:j.slice(o)});var m=b.type,f,o=b._ks_groups;r=0;for(j=e.length;!b.isPropagationStopped&&r<j;++r){d=e[r];k=d.currentTargetHandlers;
d=d.currentTarget;b.currentTarget=d;for(d=0;!b.isImmediatePropagationStopped&&d<k.length;d++)if(l=k[d],!o||l.groups&&l.groups.match(o)){var i=l.data;b.type=l.originalType||m;(f=c[b.type])&&f.handle?(l=f.handle(b,l,i),0<l.length&&(n=l[0])):n=l.fn.call(l.scope||g,b,i);!1!==q&&(q=n);!1===n&&b.halt()}}return q}},{requires:["dom","./data","./special"]});
KISSY.add("event/hashchange",function(g,h,a,c,p){var b=g.Env.host,e=b.document,c=e.documentMode||c.ie;if(!("onhashchange"in b)||c&&8>c){var j="<html><head><title>"+(e.title||"")+" - {hash}</title>{head}</head><body>{hash}</body></html>",m=function(){return"#"+(new g.Uri(location.href)).getFragment()},d,n,q=function(){var a=m();a!==n&&(n=a,r(a));d=setTimeout(q,50)},r=c&&8>c?function(f){var f=g.substitute(j,{hash:g.escapeHTML(f),head:a.isCustomDomain()?"<script>document.domain = '"+e.domain+"';<\/script>":
""}),b=l.contentWindow.document;try{b.open(),b.write(f),b.close()}catch(d){}}:function(){h.fire(b,"hashchange")},o=function(){d||q()},k=function(){d&&clearTimeout(d);d=0},l;8>c&&(o=function(){if(!l){var f=a.getEmptyIframeSrc();l=a.create("<iframe "+(f?'src="'+f+'"':"")+' style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');a.prepend(l,e.documentElement);h.add(l,"load",function(){h.remove(l,"load");r(m());h.add(l,"load",d);q()});e.onpropertychange=function(){try{"title"===event.propertyName&&
(l.contentWindow.document.title=e.title+" - "+m())}catch(a){}};var d=function(){var a=g.trim(l.contentWindow.document.body.innerText),f=m();a!=f&&(n=location.hash=a);h.fire(b,"hashchange")}}},k=function(){d&&clearTimeout(d);d=0;h.detach(l);a.remove(l);l=0});p.hashchange={setup:function(){if(this===b){n=m();o()}},tearDown:function(){this===b&&k()}}}},{requires:["./base","dom","ua","./special"]});
KISSY.add("event/key-codes",function(g,h){var a={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,
WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,
MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(c){if(c.altKey&&!c.ctrlKey||c.metaKey||c.keyCode>=a.F1&&c.keyCode<=a.F12)return!1;switch(c.keyCode){case a.ALT:case a.CAPS_LOCK:case a.CONTEXT_MENU:case a.CTRL:case a.DOWN:case a.END:case a.ESC:case a.HOME:case a.INSERT:case a.LEFT:case a.MAC_FF_META:case a.META:case a.NUMLOCK:case a.NUM_CENTER:case a.PAGE_DOWN:case a.PAGE_UP:case a.PAUSE:case a.PRINT_SCREEN:case a.RIGHT:case a.SHIFT:case a.UP:case a.WIN_KEY:case a.WIN_KEY_RIGHT:return!1;
default:return!0}},isCharacterKey:function(c){if(c>=a.ZERO&&c<=a.NINE||c>=a.NUM_ZERO&&c<=a.NUM_MULTIPLY||c>=a.A&&c<=a.Z||h.webkit&&0==c)return!0;switch(c){case a.SPACE:case a.QUESTION_MARK:case a.NUM_PLUS:case a.NUM_MINUS:case a.NUM_PERIOD:case a.NUM_DIVISION:case a.SEMICOLON:case a.DASH:case a.EQUALS:case a.COMMA:case a.PERIOD:case a.SLASH:case a.APOSTROPHE:case a.SINGLE_QUOTE:case a.OPEN_SQUARE_BRACKET:case a.BACKSLASH:case a.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};return a},{requires:["ua"]});
KISSY.add("event/mouseenter",function(g,h,a,c,p){g.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(b){p[b.name]={onFix:b.fix,delegateFix:b.fix,handle:function(b,j,c){var d=b.currentTarget,g=b.relatedTarget;return!g||g!==d&&!a.contains(d,g)?[j.fn.call(j.scope||d,b,c)]:[]}}});return h},{requires:["./base","dom","ua","./special"]});
KISSY.add("event/mousewheel",function(g,h,a,c,p,b,e,j){function m(a){var d,e,j,f=a.detail;a.wheelDelta&&(j=a.wheelDelta/120);a.detail&&(j=-(0==f%3?f/3:f));void 0!==a.axis&&(a.axis===a.HORIZONTAL_AXIS?(e=0,d=-1*j):a.axis===a.VERTICAL_AXIS&&(d=0,e=j));void 0!==a.wheelDeltaY&&(e=a.wheelDeltaY/120);void 0!==a.wheelDeltaX&&(d=-1*a.wheelDeltaX/120);!d&&!e&&(e=j);a=new p(this,a);g.mix(a,{deltaY:e,delta:j,deltaX:d,type:"mousewheel"});return b(this,a)}var d=a.gecko?"DOMMouseScroll":"mousewheel",n=c.simpleRemove,
q=c.simpleAdd;j.mousewheel={setup:function(){var a;a=e._data(this).mousewheelHandler=g.bind(m,this);q(this,d,a)},tearDown:function(){var a,b=e._data(this);a=b.mousewheelHandler;n(this,d,a);delete b[a]}}},{requires:"./base,ua,./utils,./object,./handle,./data,./special".split(",")});
KISSY.add("event/object",function(g,h){function a(a,e,d){this.originalEvent=e||{};this.currentTarget=a;e?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===b||e.getPreventDefault&&e.getPreventDefault()?p:b,this._fix()):(this.type=d,this.target=a);this.currentTarget=a;this.fixed=p}var c=g.Env.host.document,p=!0,b=!1,e="altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which,axis".split(",");
a.prototype={constructor:a,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,_fix:function(){for(var a=this.originalEvent,b=e.length,d,g=this.currentTarget,g=9===g.nodeType?g:g.ownerDocument||c;b;)d=e[--b],this[d]=a[d];this.target||(this.target=this.srcElement||g);3===this.target.nodeType&&(this.target=this.target.parentNode);!this.relatedTarget&&this.fromElement&&(this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement);this.pageX===h&&this.clientX!==
h&&(a=g.documentElement,b=g.body,this.pageX=this.clientX+(a&&a.scrollLeft||b&&b.scrollLeft||0)-(a&&a.clientLeft||b&&b.clientLeft||0),this.pageY=this.clientY+(a&&a.scrollTop||b&&b.scrollTop||0)-(a&&a.clientTop||b&&b.clientTop||0));this.which===h&&(this.which=this.charCode===h?this.keyCode:this.charCode);this.metaKey===h&&(this.metaKey=this.ctrlKey);!this.which&&this.button!==h&&(this.which=this.button&1?1:this.button&2?3:this.button&4?2:0)},preventDefault:function(){var a=this.originalEvent;a.preventDefault?
a.preventDefault():a.returnValue=b;this.isDefaultPrevented=p},stopPropagation:function(){var a=this.originalEvent;a.stopPropagation?a.stopPropagation():a.cancelBubble=p;this.isPropagationStopped=p},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=p;this.stopPropagation()},halt:function(a){a?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}};return a});
KISSY.add("event/remove",function(g,h,a,c,p,b){var e=c.isValidTarget,j=c.simpleRemove;g.mix(h,{__remove:function(a,d,n,q,r){if(d&&(!a||e(d))){var o=c.getTypedGroups(n),n=o[0],k=o[1],l,f=q,i=r,y,o=b[n];g.isObject(q)&&(r=q.scope,y="selector"in q,l=q.selector,q=q.fn,l&&o&&o.delegateFix&&(n=o.delegateFix));l||o&&o.onFix&&(n=o.onFix);var t=(o=p._data(d))&&o.events,x,w,v,s=a&&b[n]||{};if(t)if(n){var u;k&&(u=c.getGroupsRe(k));if(k=t[n]){i=k.length;if((q||y||u)&&i){r=r||d;w=x=0;for(v=[];x<i;++x)f=k[x],r!=
(f.scope||d)||q&&q!=f.fn||y&&(l&&l!=f.selector||!l&&!f.selector)||u&&!f.groups.match(u)?v[w++]=f:(f.selector&&k.delegateCount&&k.delegateCount--,f.last&&k.lastCount&&k.lastCount--,s.remove&&s.remove.call(d,f));v.delegateCount=k.delegateCount;v.lastCount=k.lastCount;t[n]=v;i=v.length}else i=0;i||(a&&(!s.tearDown||!1===s.tearDown.call(d))&&j(d,n,o.handler),delete t[n])}g.isEmptyObject(t)&&(o.handler.target=null,delete o.handler,delete o.events,h._removeData(d))}else for(n in t)t.hasOwnProperty(n)&&
h.__remove(a,d,n+k,f,i)}},remove:function(b,d,e,j){d=g.trim(d);if(c.batchForType(h.remove,b,d,e,j))return b;for(var b=a.query(b),p=b.length-1;0<=p;p--)h.__remove(!0,b[p],d,e,j);return b}})},{requires:["./base","dom","./utils","./data","./special"]});KISSY.add("event/special",function(){return{}});
KISSY.add("event/submit",function(g,h,a,c,p){var b=g.Env.host.document.documentMode;if(h.ie&&(9>h.ie||b&&9>b)){var e=c.nodeName;p.submit={setup:function(){if("form"==e(this))return!1;a.on(this,"click keypress",j)},tearDown:function(){if("form"==e(this))return!1;a.remove(this,"click keypress",j);g.each(c.query("form",this),function(b){b.__submit__fix&&(b.__submit__fix=0,a.remove(b,"submit",{fn:m,last:1}))})}};var j=function(b){var b=b.target,c=e(b);if((b="input"==c||"button"==c?b.form:null)&&!b.__submit__fix)b.__submit__fix=
1,a.on(b,"submit",{fn:m,last:1})},m=function(b){this.parentNode&&!b.isPropagationStopped&&!b._ks_fired&&a.fire(this.parentNode,"submit",b)}}},{requires:["ua","./base","dom","./special"]});
KISSY.add("event/target",function(g,h,a,c,p,b){function e(f,e,d){if(d instanceof a)return d.currentTarget=f,d;f=new a(f,b,e);g.mix(f,d);return f}function j(a){a[q]=a[q]||{};return a[q]}function m(a){a[k]=a[k]||{};return a[k]}function d(a,b){var d=j(a);return d[b]&&d[b].bubbles||d[l]&&d[l].bubbles}function n(a){return function(b,d,e){var c=this,b=r(b);o(b,function(b){h["__"+a](!1,c,b,d,e)});return c}}var q="__~ks_publish",r=g.trim,o=c.splitAndRun,k="__~ks_bubble_targets",l="*";return{fire:function(a,
i){var j=this,h=b,l,k,m,i=i||{},a=r(a);if(0<a.indexOf(" "))return o(a,function(a){l=j.fire(a,i);!1!==h&&(h=l)}),h;k=c.getTypedGroups(a);m=k[1];a=k[0];m&&(m=c.getGroupsRe(m));g.mix(i,{type:a,_ks_groups:m});k=e(j,a,i);h=p(j,k);if(!k.isPropagationStopped&&(k.target!=j||d(j,a)))l=j.bubble(a,k),!1!==h&&(h=l);return h},publish:function(a,b){var d=j(this);(a=r(a))&&o(a,function(a){d[a]=b})},bubble:function(a,d){var e=b,c=m(this);g.each(c,function(b){b=b.fire(a,d);!1!==e&&(e=b)});return e},addTarget:function(a){m(this)[g.stamp(a)]=
a},removeTarget:function(a){delete m(this)[g.stamp(a)]},on:n("add"),detach:n("remove")}},{requires:["./base","./object","./utils","./handle"]});
KISSY.add("event/utils",function(g,h){var a=h.NodeType,c=g.Env.host.document,p=c.addEventListener?function(a,e,c,g){a.addEventListener&&a.addEventListener(e,c,!!g)}:function(a,e,c){a.attachEvent&&a.attachEvent("on"+e,c)},c=c.removeEventListener?function(a,e,c,g){a.removeEventListener&&a.removeEventListener(e,c,!!g)}:function(a,e,c){a.detachEvent&&a.detachEvent("on"+e,c)};return{Event_Triggered:"",TRIGGERED_NONE:"trigger-none-"+g.now(),EVENT_GUID:"ksEventTargetId"+g.now(),splitAndRun:function(a,e){g.each(a.split(/\s+/),
e)},batchForType:function(a,e,c){if(c&&0<c.indexOf(" ")){var h=g.makeArray(arguments);g.each(c.split(/\s+/),function(d){var c=[].concat(h);c.splice(0,3,e,d);a.apply(null,c)});return!0}return 0},isValidTarget:function(b){return b&&b.nodeType!==a.TEXT_NODE&&b.nodeType!==a.COMMENT_NODE},isIdenticalHandler:function(a,e,c){var g=a.scope||c,d=1,c=e.scope||c;if(a.fn!==e.fn||a.selector!==e.selector||a.data!==e.data||g!==c||a.originalType!==e.originalType||a.groups!==e.groups||a.last!==e.last)d=0;return d},
simpleAdd:p,simpleRemove:c,getTypedGroups:function(a){if(0>a.indexOf("."))return[a,""];var c=a.match(/([^.]+)?(\..+)?$/),a=[c[1]];(c=c[2])?(c=c.split(".").sort(),a.push(c.join("."))):a.push("");return a},getGroupsRe:function(a){return RegExp(a.split(".").join(".*\\.")+"(?:\\.|$)")}}},{requires:["dom"]});
KISSY.add("event/valuechange",function(g,h,a,c){function p(b){if(a.hasData(b,k)){var c=a.data(b,k);clearTimeout(c);a.removeData(b,k)}}function b(a){p(a.target)}function e(b){var c=b.value,d=a.data(b,o);c!==d&&(h.fire(b,q,{prevVal:d,newVal:c},!0),a.data(b,o,c))}function j(b){a.hasData(b,k)||a.data(b,k,setTimeout(function(){e(b);a.data(b,k,setTimeout(arguments.callee,l))},l))}function m(b){var c=b.target;"focus"==b.type&&a.data(c,o,c.value);j(c)}function d(a){e(a.target)}function n(c){a.removeData(c,
o);p(c);h.remove(c,"blur",b);h.remove(c,"webkitspeechchange",d);h.remove(c,"mousedown keyup keydown focus",m)}var q="valuechange",r=a.nodeName,o="event/valuechange/history",k="event/valuechange/poll",l=50;c[q]={setup:function(){var a=r(this);if("input"==a||"textarea"==a)n(this),h.on(this,"blur",b),h.on(this,"webkitspeechchange",d),h.on(this,"mousedown keyup keydown focus",m)},tearDown:function(){n(this)}};return h},{requires:["./base","dom","./special"]});
