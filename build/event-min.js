/*
Copyright 2012, KISSY UI Library v1.30rc
MIT Licensed
build time: Sep 10 10:11
*/
KISSY.add("event/add",function(j,g,a,d,p,b,c,i){function m(a,b,d,k,e){var c=i[b]||{};!k.length&&(!c.setup||!1===c.setup.call(a))&&f(a,b,d);c.add&&c.add.call(a,e)}var f=d.simpleAdd,h=d.isValidTarget,o=d.isIdenticalHandler;j.mix(g,{__add:function(a,f,l,k,e){var g=d.getTypedGroups(l),l=g[0],g=g[1],n=!a,r,y;r=a&&i[l];var w,u,t;j.isObject(k)&&(u=k.last,e=k.scope,y=k.data,t=k.selector,w=k.originalType,k=k.fn,t&&!w&&r&&r.delegateFix&&(w=l,l=r.delegateFix));!t&&!w&&r&&r.onFix&&(w=l,l=r.onFix);if(l&&f&&j.isFunction(k)&&
(!a||h(f))){(r=c._data(f,void 0,n))||c._data(f,r={},n);var n=r.events=r.events||{},n=n[l]=n[l]||[],k={fn:k,scope:e,selector:t,last:u,data:y,groups:g,originalType:w},x=r.handler;a&&!x&&(x=r.handler=function(e,a){if(!(typeof KISSY=="undefined"||e&&e.type==d.Event_Triggered)){var k=x.target,i;if(!e||!e.fixed)e=new p(k,e);i=e.type;j.isPlainObject(a)&&j.mix(e,a);if(i)e.type=i;return b(k,e)}},x.target=f);for(e=n.length-1;0<=e;--e)if(o(n[e],k,f))return;a&&(m(f,l,x,n,k),f=null);t?(a=n.delegateCount=n.delegateCount||
0,n.splice(a,0,k),n.delegateCount++):(n.lastCount=n.lastCount||0,u?(n.push(k),n.lastCount++):n.splice(n.length-n.lastCount,0,k))}},add:function(b,i,f,k){i=j.trim(i);if(d.batchForType(g.add,b,i,f,k))return b;for(var b=a.query(b),e=b.length-1;0<=e;e--)g.__add(!0,b[e],i,f,k);return b}})},{requires:"./base,dom,./utils,./object,./handle,./data,./special".split(",")});
KISSY.add("event/base",function(j,g,a,d,p,b,c){function i(b,i,e,f){if(!m(b))return!1;var n=c[i];n&&n.onFix&&(i=n.onFix);var r=!0;e instanceof a?n=e:(n=new a(b,void 0,i),j.mix(n,e));n._ks_fired=1;n.type=i;var e=b,q,o=g._getWin(e.ownerDocument||e),u="on"+i;do n.currentTarget=e,q=p(e,n),!1!==r&&(r=q),e[u]&&!1===e[u].call(e)&&n.preventDefault(),e=e.parentNode||e.ownerDocument||e===b.ownerDocument&&o;while(!f&&e&&!n.isPropagationStopped);if(!f&&!n.isDefaultPrevented&&!("click"===i&&"a"==h(b))){var t;try{if(u&&
b[i]&&("focus"!==i&&"blur"!==i||0!==b.offsetWidth)&&!j.isWindow(b))(t=b[u])&&(b[u]=null),d.Event_Triggered=i,b[i]()}catch(x){}t&&(b[u]=t);d.Event_Triggered=s}return r}var m=d.isValidTarget,f=d.splitAndRun,h=g.nodeName,o=j.trim,s=d.TRIGGERED_NONE,q={_clone:function(a,i){if(m(i)&&m(a)&&b._hasData(a,!1)){var e=b._data(a,void 0,!1).events;j.each(e,function(e,a){j.each(e,function(e){q.on(i,a,{data:e.data,fn:e.fn,groups:e.groups,last:e.last,originalType:e.originalType,scope:e.scope,selector:e.selector})})})}},
fire:function(b,c,e,m){var n=!0,s,e=e||{};if(j.isString(c)){c=o(c);if(-1<c.indexOf(" "))return f(c,function(a){s=q.fire(b,a,e,m);!1!==n&&(n=s)}),n;e.type=c}else c instanceof a&&(e=c,c=e.type);var c=d.getTypedGroups(c),h=c[1];h&&(h=d.getGroupsRe(h));c=c[0];j.mix(e,{type:c,_ks_groups:h});b=g.query(b);for(h=b.length-1;0<=h;h--)s=i(b[h],c,e,m),!1!==n&&(n=s);return n},fireHandler:function(a,b,e){return q.fire(a,b,e,1)}};return q},{requires:"dom,./object,./utils,./handle,./data,./special".split(",")});
KISSY.add("event/change",function(j,g,a,d,p){var b=j.Env.host.document.documentMode;if(g.ie&&(9>g.ie||b&&9>b)){var c=/^(?:textarea|input|select)$/i,i=function(a){a=a.type;return"checkbox"==a||"radio"==a};p.change={setup:function(){if(c.test(this.nodeName))if(i(this))a.on(this,"propertychange",m),a.on(this,"click",f);else return!1;else a.on(this,"beforeactivate",h)},tearDown:function(){if(c.test(this.nodeName))if(i(this))a.remove(this,"propertychange",m),a.remove(this,"click",f);else return!1;else a.remove(this,
"beforeactivate",h),j.each(d.query("textarea,input,select",this),function(b){b.__changeHandler&&(b.__changeHandler=0,a.remove(b,"change",{fn:o,last:1}))})}};var m=function(a){"checked"==a.originalEvent.propertyName&&(this.__changed=1)},f=function(b){this.__changed&&(this.__changed=0,a.fire(this,"change",b))},h=function(b){b=b.target;c.test(b.nodeName)&&!b.__changeHandler&&(b.__changeHandler=1,a.on(b,"change",{fn:o,last:1}))},o=function(b){if(!b.isPropagationStopped&&!i(this)){var c;(c=this.parentNode)&&
a.fire(c,"change",b)}}}},{requires:["ua","./base","dom","./special"]});KISSY.add("event/data",function(j,g,a){var d=a.EVENT_GUID;return{_hasData:function(a,b){return b?a[d]&&!j.isEmptyObject(a[d]):g.hasData(a,d)},_data:function(a,b,c){return c?void 0!==b?a[d]=b:a[d]:g.data(a,d,b)},_removeData:function(a,b){if(b)delete a[d];else return g.removeData(a,d)}}},{requires:["dom","./utils"]});
KISSY.add("event",function(j,g,a,d,p,b){j.mix(d,{KeyCodes:a,Target:p,Object:b,on:d.add,detach:d.remove,delegate:function(a,b,m,f,h){return d.add(a,b,{fn:f,scope:h,selector:m})},undelegate:function(a,b,m,f,h){return d.remove(a,b,{fn:f,scope:h,selector:m})}});j.mix(d,g);j.mix(j,{Event:d,EventTarget:d.Target,EventObject:d.Object});return d},{requires:"event/data,event/key-codes,event/base,event/target,event/object,event/focusin,event/hashchange,event/valuechange,event/mouseenter,event/submit,event/change,event/mousewheel,event/add,event/remove".split(",")});
KISSY.add("event/focusin",function(j,g,a,d){g.ie||j.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(g){function b(b){return a.fire(b.target,g.name)}var c=j.guid("attaches_"+j.now()+"_");d[g.name]={setup:function(){var a=this.ownerDocument||this;c in a||(a[c]=0);a[c]+=1;1===a[c]&&a.addEventListener(g.fix,b,!0)},tearDown:function(){var a=this.ownerDocument||this;a[c]-=1;0===a[c]&&a.removeEventListener(g.fix,b,!0)}}});d.focus={delegateFix:"focusin"};d.blur={delegateFix:"focusout"};
return a},{requires:["ua","./base","./special"]});
KISSY.add("event/handle",function(j,g,a,d){return function(j,b,c){var i=a._data(j,void 0,c),m=(i&&i.events||{})[b.type]||[],f=b.target,h,i=[],o,s,q,l=m.delegateCount||0,k,e;if(l&&!f.disabled)for(;f!=j;){k=[];for(q=0;q<l;q++)h=m[q],g.test(f,h.selector)&&k.push(h);k.length&&i.push({currentTarget:f,currentTargetHandlers:k});f=f.parentNode||j}i.push({currentTarget:j,currentTargetHandlers:m.slice(l)});var f=b.type,v,l=b._ks_groups;q=0;for(m=i.length;!b.isPropagationStopped&&q<m;++q){h=i[q];k=h.currentTargetHandlers;
h=h.currentTarget;b.currentTarget=h;for(h=0;!b.isImmediatePropagationStopped&&h<k.length;h++)if(e=k[h],!l||e.groups&&e.groups.match(l)){var n=e.data;b.type=e.originalType||f;!c&&(v=d[b.type])&&v.handle?(e=v.handle(b,e,n),0<e.length&&(o=e[0])):o=e.fn.call(e.scope||j,b,n);!1!==s&&(s=o);!1===o&&b.halt()}}return s}},{requires:["dom","./data","./special"]});
KISSY.add("event/hashchange",function(j,g,a,d,p){var b=j.Env.host,c=b.document,d=c.documentMode||d.ie;if(!("onhashchange"in b)||d&&8>d){var i="<html><head><title>"+(c.title||"")+" - {hash}</title>{head}</head><body>{hash}</body></html>",m=function(){return"#"+(new j.Uri(location.href)).getFragment()},f,h,o=function(){var a=m();a!==h&&(h=a,s(a));f=setTimeout(o,50)},s=d&&8>d?function(e){var e=j.substitute(i,{hash:j.escapeHTML(e),head:a.isCustomDomain()?"<script>document.domain = '"+c.domain+"';<\/script>":
""}),b=k.contentWindow.document;try{b.open(),b.write(e),b.close()}catch(f){}}:function(){g.fire(b,"hashchange")},q=function(){f||o()},l=function(){f&&clearTimeout(f);f=0},k;8>d&&(q=function(){if(!k){var e=a.getEmptyIframeSrc();k=a.create("<iframe "+(e?'src="'+e+'"':"")+' style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');a.prepend(k,c.documentElement);g.add(k,"load",function(){g.remove(k,"load");s(m());g.add(k,"load",f);o()});c.onpropertychange=function(){try{"title"===event.propertyName&&
(k.contentWindow.document.title=c.title+" - "+m())}catch(a){}};var f=function(){var a=j.trim(k.contentWindow.document.body.innerText),e=m();a!=e&&(h=location.hash=a);g.fire(b,"hashchange")}}},l=function(){f&&clearTimeout(f);f=0;g.detach(k);a.remove(k);k=0});p.hashchange={setup:function(){if(this===b){h=m();q()}},tearDown:function(){this===b&&l()}}}},{requires:["./base","dom","ua","./special"]});
KISSY.add("event/key-codes",function(j,g){var a={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,
WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,
MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(d){if(d.altKey&&!d.ctrlKey||d.metaKey||d.keyCode>=a.F1&&d.keyCode<=a.F12)return!1;switch(d.keyCode){case a.ALT:case a.CAPS_LOCK:case a.CONTEXT_MENU:case a.CTRL:case a.DOWN:case a.END:case a.ESC:case a.HOME:case a.INSERT:case a.LEFT:case a.MAC_FF_META:case a.META:case a.NUMLOCK:case a.NUM_CENTER:case a.PAGE_DOWN:case a.PAGE_UP:case a.PAUSE:case a.PRINT_SCREEN:case a.RIGHT:case a.SHIFT:case a.UP:case a.WIN_KEY:case a.WIN_KEY_RIGHT:return!1;
default:return!0}},isCharacterKey:function(d){if(d>=a.ZERO&&d<=a.NINE||d>=a.NUM_ZERO&&d<=a.NUM_MULTIPLY||d>=a.A&&d<=a.Z||g.webkit&&0==d)return!0;switch(d){case a.SPACE:case a.QUESTION_MARK:case a.NUM_PLUS:case a.NUM_MINUS:case a.NUM_PERIOD:case a.NUM_DIVISION:case a.SEMICOLON:case a.DASH:case a.EQUALS:case a.COMMA:case a.PERIOD:case a.SLASH:case a.APOSTROPHE:case a.SINGLE_QUOTE:case a.OPEN_SQUARE_BRACKET:case a.BACKSLASH:case a.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};return a},{requires:["ua"]});
KISSY.add("event/mouseenter",function(j,g,a,d,p){j.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(b){p[b.name]={onFix:b.fix,delegateFix:b.fix,handle:function(b,i,d){var f=b.currentTarget,h=b.relatedTarget;return!h||h!==f&&!a.contains(f,h)?[i.fn.call(i.scope||f,b,d)]:[]}}});return g},{requires:["./base","dom","ua","./special"]});
KISSY.add("event/mousewheel",function(j,g,a,d,p,b,c,i){function m(a){var f,i,c,e=a.detail;a.wheelDelta&&(c=a.wheelDelta/120);a.detail&&(c=-(0==e%3?e/3:e));void 0!==a.axis&&(a.axis===a.HORIZONTAL_AXIS?(i=0,f=-1*c):a.axis===a.VERTICAL_AXIS&&(f=0,i=c));void 0!==a.wheelDeltaY&&(i=a.wheelDeltaY/120);void 0!==a.wheelDeltaX&&(f=-1*a.wheelDeltaX/120);!f&&!i&&(i=c);a=new p(this,a);j.mix(a,{deltaY:i,delta:c,deltaX:f,type:"mousewheel"});return b(this,a)}var f=a.gecko?"DOMMouseScroll":"mousewheel",h=d.simpleRemove,
o=d.simpleAdd;i.mousewheel={setup:function(){var a;a=c._data(this,void 0,!1).mousewheelHandler=j.bind(m,this);o(this,f,a)},tearDown:function(){var a,b=c._data(this,void 0,!1);a=b.mousewheelHandler;h(this,f,a);delete b[a]}}},{requires:"./base,ua,./utils,./object,./handle,./data,./special".split(",")});
KISSY.add("event/object",function(j,g){function a(a,c,f){this.originalEvent=c||{};this.currentTarget=a;c?(this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||c.returnValue===b||c.getPreventDefault&&c.getPreventDefault()?p:b,this._fix()):(this.type=f,this.target=a);this.currentTarget=a;this.fixed=p}var d=j.Env.host.document,p=!0,b=!1,c="altKey,attrChange,attrName,bubbles,button,cancelable,charCode,clientX,clientY,ctrlKey,currentTarget,data,detail,eventPhase,fromElement,handler,keyCode,metaKey,newValue,offsetX,offsetY,originalTarget,pageX,pageY,prevValue,relatedNode,relatedTarget,screenX,screenY,shiftKey,srcElement,target,toElement,view,wheelDelta,which,axis".split(",");
a.prototype={constructor:a,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,_fix:function(){for(var a=this.originalEvent,b=c.length,f,h=this.currentTarget,h=9===h.nodeType?h:h.ownerDocument||d;b;)f=c[--b],this[f]=a[f];this.target||(this.target=this.srcElement||h);3===this.target.nodeType&&(this.target=this.target.parentNode);!this.relatedTarget&&this.fromElement&&(this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement);this.pageX===g&&this.clientX!==
g&&(a=h.documentElement,b=h.body,this.pageX=this.clientX+(a&&a.scrollLeft||b&&b.scrollLeft||0)-(a&&a.clientLeft||b&&b.clientLeft||0),this.pageY=this.clientY+(a&&a.scrollTop||b&&b.scrollTop||0)-(a&&a.clientTop||b&&b.clientTop||0));this.which===g&&(this.which=this.charCode===g?this.keyCode:this.charCode);this.metaKey===g&&(this.metaKey=this.ctrlKey);!this.which&&this.button!==g&&(this.which=this.button&1?1:this.button&2?3:this.button&4?2:0)},preventDefault:function(){var a=this.originalEvent;a.preventDefault?
a.preventDefault():a.returnValue=b;this.isDefaultPrevented=p},stopPropagation:function(){var a=this.originalEvent;a.stopPropagation?a.stopPropagation():a.cancelBubble=p;this.isPropagationStopped=p},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=p;this.stopPropagation()},halt:function(a){a?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}};return a});
KISSY.add("event/remove",function(j,g,a,d,p,b){var c=d.isValidTarget,i=d.simpleRemove;j.mix(g,{__remove:function(a,f,h,o,s){if(f&&(!a||c(f))){var q=d.getTypedGroups(h),h=q[0],l=q[1],q=!a,k,e=o,v=s,n,r=b[h];j.isObject(o)&&(s=o.scope,n="selector"in o,k=o.selector,o=o.fn,k&&r&&r.delegateFix&&(h=r.delegateFix));k||r&&r.onFix&&(h=r.onFix);var y=(r=p._data(f,void 0,q))&&r.events,w,u,t,x=a&&b[h]||{};if(y)if(h){var z;l&&(z=d.getGroupsRe(l));if(l=y[h]){v=l.length;if((o||n||z)&&v){s=s||f;u=w=0;for(t=[];w<v;++w)e=
l[w],s!=(e.scope||f)||o&&o!=e.fn||n&&(k&&k!=e.selector||!k&&!e.selector)||z&&!e.groups.match(z)?t[u++]=e:(e.selector&&l.delegateCount&&l.delegateCount--,e.last&&l.lastCount&&l.lastCount--,x.remove&&x.remove.call(f,e));t.delegateCount=l.delegateCount;t.lastCount=l.lastCount;y[h]=t;v=t.length}else v=0;v||(a&&(!x.tearDown||!1===x.tearDown.call(f))&&i(f,h,r.handler),delete y[h])}j.isEmptyObject(y)&&((r.handler||{}).target=null,delete r.handler,delete r.events,p._removeData(f,q))}else for(h in y)y.hasOwnProperty(h)&&
g.__remove(a,f,h+l,e,v)}},remove:function(b,c,i,o){c=j.trim(c);if(d.batchForType(g.remove,b,c,i,o))return b;for(var b=a.query(b),p=b.length-1;0<=p;p--)g.__remove(!0,b[p],c,i,o);return b}})},{requires:["./base","dom","./utils","./data","./special"]});KISSY.add("event/special",function(){return{}});
KISSY.add("event/submit",function(j,g,a,d,p){var b=j.Env.host.document.documentMode;if(g.ie&&(9>g.ie||b&&9>b)){var c=d.nodeName;p.submit={setup:function(){if("form"==c(this))return!1;a.on(this,"click keypress",i)},tearDown:function(){if("form"==c(this))return!1;a.remove(this,"click keypress",i);j.each(d.query("form",this),function(b){b.__submit__fix&&(b.__submit__fix=0,a.remove(b,"submit",{fn:m,last:1}))})}};var i=function(b){var b=b.target,d=c(b);if((b="input"==d||"button"==d?b.form:null)&&!b.__submit__fix)b.__submit__fix=
1,a.on(b,"submit",{fn:m,last:1})},m=function(b){this.parentNode&&!b.isPropagationStopped&&!b._ks_fired&&a.fire(this.parentNode,"submit",b)}}},{requires:["ua","./base","dom","./special"]});
KISSY.add("event/target",function(j,g,a,d,p,b){function c(e,c,d){if(d instanceof a)return d.currentTarget=e,d;e=new a(e,b,c);j.mix(e,d);return e}function i(a){a[o]=a[o]||{};return a[o]}function m(a){a[l]=a[l]||{};return a[l]}function f(a,b){var c=i(a);return c[b]&&c[b].bubbles||c[k]&&c[k].bubbles}function h(a){return function(b,c,d){var f=this,b=s(b);q(b,function(b){g["__"+a](!1,f,b,c,d)});return f}}var o="__~ks_publish",s=j.trim,q=d.splitAndRun,l="__~ks_bubble_targets",k="*";return{fire:function(a,
i){var h=this,g=b,k,m,l,i=i||{},a=s(a);if(0<a.indexOf(" "))return q(a,function(a){k=h.fire(a,i);!1!==g&&(g=k)}),g;m=d.getTypedGroups(a);l=m[1];a=m[0];l&&(l=d.getGroupsRe(l));j.mix(i,{type:a,_ks_groups:l});m=c(h,a,i);g=p(h,m,!0);if(!m.isPropagationStopped&&(m.target!=h||f(h,a)))k=h.bubble(a,m),!1!==g&&(g=k);return g},publish:function(a,b){var c=i(this);(a=s(a))&&q(a,function(a){c[a]=b})},bubble:function(a,c){var d=b,i=m(this);j.each(i,function(b){b=b.fire(a,c);!1!==d&&(d=b)});return d},addTarget:function(a){m(this)[j.stamp(a)]=
a},removeTarget:function(a){delete m(this)[j.stamp(a)]},on:h("add"),detach:h("remove")}},{requires:["./base","./object","./utils","./handle"]});
KISSY.add("event/utils",function(j,g){var a=g.NodeType,d=j.Env.host.document,p=d.addEventListener?function(a,c,d,g){a.addEventListener&&a.addEventListener(c,d,!!g)}:function(a,c,d){a.attachEvent&&a.attachEvent("on"+c,d)},d=d.removeEventListener?function(a,c,d,g){a.removeEventListener&&a.removeEventListener(c,d,!!g)}:function(a,c,d){a.detachEvent&&a.detachEvent("on"+c,d)};return{Event_Triggered:"",TRIGGERED_NONE:"trigger-none-"+j.now(),EVENT_GUID:"ksEventTargetId"+j.now(),splitAndRun:function(a,c){j.each(a.split(/\s+/),
c)},batchForType:function(a,c,d){if(d&&0<d.indexOf(" ")){var g=j.makeArray(arguments);j.each(d.split(/\s+/),function(d){var h=[].concat(g);h.splice(0,3,c,d);a.apply(null,h)});return!0}return 0},isValidTarget:function(b){return b&&b.nodeType!==a.TEXT_NODE&&b.nodeType!==a.COMMENT_NODE},isIdenticalHandler:function(a,c,d){var g=a.scope||d,f=1,d=c.scope||d;if(a.fn!==c.fn||a.selector!==c.selector||a.data!==c.data||g!==d||a.originalType!==c.originalType||a.groups!==c.groups||a.last!==c.last)f=0;return f},
simpleAdd:p,simpleRemove:d,getTypedGroups:function(a){if(0>a.indexOf("."))return[a,""];var c=a.match(/([^.]+)?(\..+)?$/),a=[c[1]];(c=c[2])?(c=c.split(".").sort(),a.push(c.join("."))):a.push("");return a},getGroupsRe:function(a){return RegExp(a.split(".").join(".*\\.")+"(?:\\.|$)")}}},{requires:["dom"]});
KISSY.add("event/valuechange",function(j,g,a,d){function p(b){if(a.hasData(b,l)){var c=a.data(b,l);clearTimeout(c);a.removeData(b,l)}}function b(a){p(a.target)}function c(b){var c=b.value,d=a.data(b,q);c!==d&&(g.fire(b,o,{prevVal:d,newVal:c},!0),a.data(b,q,c))}function i(b){a.hasData(b,l)||a.data(b,l,setTimeout(function(){c(b);a.data(b,l,setTimeout(arguments.callee,k))},k))}function m(b){var c=b.target;"focus"==b.type&&a.data(c,q,c.value);i(c)}function f(a){c(a.target)}function h(c){a.removeData(c,
q);p(c);g.remove(c,"blur",b);g.remove(c,"webkitspeechchange",f);g.remove(c,"mousedown keyup keydown focus",m)}var o="valuechange",s=a.nodeName,q="event/valuechange/history",l="event/valuechange/poll",k=50;d[o]={setup:function(){var a=s(this);if("input"==a||"textarea"==a)h(this),g.on(this,"blur",b),g.on(this,"webkitspeechchange",f),g.on(this,"mousedown keyup keydown focus",m)},tearDown:function(){h(this)}};return g},{requires:["./base","dom","./special"]});
