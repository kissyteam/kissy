/*
Copyright 2012, KISSY UI Library v1.40dev
MIT Licensed
build time: Nov 7 17:23
*/
KISSY.add("flash/base",function(){return{swfs:{},length:0,version:"1.3"}});
KISSY.add("flash/embed",function(h,j,l,d,o){function k(a,b){return g+a+f+q+b+q}function n(a,b){return'<param name="'+a+'" value="'+b+'" />'}var p=/^(?:object|embed)/i,g=" ",f="=",q='"',r=Object.prototype,s=encodeURIComponent,t={wmode:"",allowscriptaccess:"",allownetworking:"",allowfullscreen:"",play:"false",loop:"",menu:"",quality:"",scale:"",salign:"",bgcolor:"",devicefont:"",hasPriority:"",base:"",swliveconnect:"",seamlesstabbing:""},u={params:{},attrs:{width:215,height:138},version:9};h.mix(d,
{fpv:j.fpv,fpvGEQ:j.fpvGEQ,add:function(a,b,c){var m,i,e,g,b=d._normalize(b),b=h.merge(u,b);b.attrs=h.merge(u.attrs,b.attrs);i="string"==typeof a?a.replace("#",""):a;if(!(a=l.get(a)))a=l.create("<div id="+i+"/>"),l.prepend(a,h.Env.host.document.body);g=a.nodeName.toLowerCase();e=!p.test(g);a.id||(a.id=h.guid("ks-flash-container-"));i=a.id;b.id||(b.id=h.guid("ks-flash-"));b.attrs.id=b.id;if(j.fpv()){if(!j.fpvGEQ(b.version)){d._callback(c,0,i,a,e);if(!((m=b.xi)&&"string"==typeof m))return;b.src=m}if(e)b.src?
d._embed(a,b,c):d._callback(c,-3,i,a,e);else{if("object"==g&&(j.gecko||j.opera||7<j.chrome))a=l.query("object",a)[0]||a;b.attrs.id=i;d._register(a,b,c,e)}}else d._callback(c,-1,i,a,e)},get:function(a){a="string"==typeof a?a.replace("#",""):a;return d.swfs[a]},remove:function(a){if(a=d.get(a))l.remove(a),delete d.swfs[a.id],d.length-=1},contains:function(a){var b=d.swfs,c,m=!1;if("string"==typeof a)m=a in b;else for(c in b)if(b[c]===a){m=!0;break}return m},_register:function(a,b,c,m){b=b.attrs.id;
d._addSWF(b,a);d._callback(c,1,b,a,m)},_embed:function(a,b,c){a.innerHTML=d._stringSWF(b);a=l.get("#"+b.id);d._register(a,b,c,!0)},_callback:function(a,b,c,d,i){b&&h.isFunction(a)&&a({status:b,id:c,swf:d,dynamic:!!i})},_addSWF:function(a,b){a&&b&&(d.swfs[a]=b,d.length+=1)},_stringSWF:function(a){var b,c=b="",g=a.src,i=a.attrs,a=a.params,e,f;if(j.ie){f="object";for(e in i)i[e]!=r[e]&&"classid"!=e&&"data"!=e&&(b+=k(e,i[e]));b+=k("classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");for(e in a)e in
t&&(c+=n(e,a[e]));c+=n("movie",g);a.flashvars&&(c+=n("flashvars",d.toFlashVars(a.flashvars)));b="<"+f+b+">"+c+"</"+f+">"}else{f="embed";b+=k("src",g);for(e in i)i[e]!=r[e]&&"classid"!=e&&"data"!=e&&(b+=k(e,i[e]));b+=k("type","application/x-shockwave-flash");for(e in a)e in t&&(c+=k(e,a[e]));a.flashvars&&(c+=k("flashvars",d.toFlashVars(a.flashvars)));b="<"+f+b+c+"/>"}return b},_normalize:function(a){var b,c,g,f=a||{};if(h.isPlainObject(a))for(g in f={},a)b=g.toLowerCase(),c=a[g],"flashvars"!==b&&(c=
d._normalize(c)),f[b]=c;return f},toFlashVars:function(a){if(!h.isPlainObject(a))return"";var b,c,d=[];for(b in a){c=a[b];if("string"==typeof c)c=s(c);else{c=o.stringify(c);if(!c)continue;c=c.replace(/:"([^"]+)/g,function(a,b){return':"'+s(b)})}d.push(b+"="+c)}return d.join("&").replace(/"/g,"'")}});return d},{requires:["ua","dom","./base","json","./ua"]});KISSY.add("flash",function(h,j){return h.Flash=j},{requires:["flash/base","flash/embed"]});
KISSY.add("flash/ua",function(h,j){function l(g){var f="string"==typeof g?g.match(/(\d)+/g).splice(0,3):g;h.isArray(f)&&(g=parseFloat(f[0]+"."+d(f[1],3)+d(f[2],5)));return g||0}function d(d,f){for(var h=(d+"").length;h++<f;)d="0"+d;return d}var o,k,n=!0,p=h.Env.host;j.fpv=function(d){if(d||n){n=!1;var f;if(navigator.plugins&&navigator.mimeTypes.length)f=(navigator.plugins["Shockwave Flash"]||0).description;else if(p.ActiveXObject)try{f=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(h){}o=
!f?void 0:f.match(/(\d)+/g).splice(0,3);k=l(o)}return o};j.fpvGEQ=function(d,f){n&&j.fpv(f);return!!k&&k>=l(d)}},{requires:["ua"]});
