/*
Copyright 2014, KISSY v1.47
MIT Licensed
build time: Jul 23 14:31
*/
KISSY.add("swf/ua",[],function(h){function j(d){var g="string"===typeof d?d.match(/\d+/g).splice(0,3):d;h.isArray(g)&&(d=parseFloat(g[0]+"."+o(g[1],3)+o(g[2],5)));return d||0}function o(d,g){var d=(d||0)+"",h=g+1-d.length;return Array(0<h?h:0).join("0")+d}function k(h){if(h||i){i=!1;var g;if(navigator.plugins&&navigator.mimeTypes.length)g=(navigator.plugins["Shockwave Flash"]||0).description;else try{g=(new d.ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(k){}p=!g?void 0:
g.match(/\d+/g).splice(0,3)}return p}var p,i=!0,d=h.Env.host;return{fpv:k,fpvGTE:function(d,h){return j(k(h))>=j(d)}}});
KISSY.add("swf",["dom","json","attribute","swf/ua"],function(h,j){function o(a){var c=e;h.each(a,function(a,b){b=b.toLowerCase();b in y?c+=i(b,a):b===z&&(c+=i(b,p(a)))});return c}function k(a,c,d,b){var f=e,g=e;h.each(c,function(a,b){f+=" "+b+'="'+a+'"'});b?(f+=' classid="'+A+'"',g+=i("movie",a)):(f+=' data="'+a+'"',f+=' type="'+B+'"');g+=o(d);return q+r+f+s+g}function p(a){var c=[];h.each(a,function(a,b){"string"!==typeof a&&(a=x.stringify(a));a&&c.push(b+"="+C(a))});return c.join("&")}function i(a,
c){return'<param name="'+a+'" value="'+c+'"></param>'}var d=j("dom"),x=j("json"),g=j("attribute"),u=j("swf/ua"),m=!!h.Env.host.ActiveXObject,B="application/x-shockwave-flash",A="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000",z="flashvars",e="",q="<",s=">",D=h.Env.host.document,v=u.fpv,E=u.fpvGEQ,w=u.fpvGTE,r="object",C=encodeURIComponent,y={wmode:e,allowscriptaccess:e,allownetworking:e,allowfullscreen:e,play:"false",loop:e,menu:e,quality:e,scale:e,salign:e,bgcolor:e,devicefont:e,hasPriority:e,base:e,
swliveconnect:e,seamlesstabbing:e},t;return t=g.extend({constructor:function(a){this.callSuper(a);var c=this.get("expressInstall"),l,b,a=this.get("htmlMode");b=this.get("params");var f=this.get("attrs"),g=this.get("document"),e=d.create("<span>",void 0,g),j=this.get("elBefore"),i=this.get("src"),n=this.get("version");l=f.id=f.id||h.guid("ks-swf-");if(v()){if(n&&!w(n)&&(this.set("status",t.Status.TOO_LOW),c)){i=c;if(!("width"in f)||!/%$/.test(f.width)&&310>parseInt(f.width,10))f.width="310";if(!("height"in
f)||!/%$/.test(f.height)&&137>parseInt(f.height,10))f.height="137";c=b.flashVars=b.flashVars||{};h.mix(c,{MMredirectURL:location.href,MMplayerType:m?"ActiveX":"PlugIn",MMdoctitle:g.title.slice(0,47)+" - Flash Player Installation"})}"full"===a?(m?(c=k(i,f,b,1),delete f.id,delete f.style,n=k(i,f,b,0)):(n=k(i,f,b,0),delete f.id,delete f.style,c=k(i,f,b,1)),b=c+n+q+"/"+r+s+q+"/"+r+s):b=k(i,f,b,m)+q+"/"+r+s;this.set("html",b);j?d.insertBefore(e,j):d.append(e,this.get("render"));"outerHTML"in e?e.outerHTML=
b:e.parentNode.replaceChild(d.create(b),e);l=d.get("#"+l,g);"full"===a?m?this.set("swfObject",l):this.set("swfObject",l.parentNode):this.set("swfObject",l);this.set("el",l);this.get("status")||this.set("status",t.Status.SUCCESS)}else this.set("status",t.Status.NOT_INSTALLED)},callSWF:function(a,c){var d=this.get("el"),b,c=c||[];try{d[a]&&(b=d[a].apply(d,c))}catch(f){b="",0!==c.length&&(b='"'+c.join('", "')+'"'),b=(new Function("swf","return swf."+a+"("+b+");"))(d)}return b},destroy:function(){var a=
this.get("swfObject");m?(a.style.display="none",function l(){if(4===a.readyState){for(var b in a)"function"===typeof a[b]&&(a[b]=null);a.parentNode.removeChild(a)}else setTimeout(l,10)}()):a.parentNode.removeChild(a)}},{ATTRS:{expressInstall:{value:h.config("base")+"swf/assets/expressInstall.swf"},src:{},version:{value:"9"},params:{value:{}},attrs:{value:{}},render:{setter:function(a){"string"===typeof a&&(a=d.get(a,this.get("document")));return a},valueFn:function(){return document.body}},elBefore:{setter:function(a){"string"===
typeof a&&(a=d.get(a,this.get("document")));return a}},document:{value:D},status:{},el:{},swfObject:{},html:{},htmlMode:{value:"default"}},getSrc:function(a){var c=a=d.get(a),e="",b,a=[],e=d.nodeName(c);if("object"===e){(e=d.attr(c,"data"))&&a.push(c);c=c.childNodes;for(e=0;e<c.length;e++)b=c[e],1===b.nodeType&&("movie"===(d.attr(b,"name")||"").toLowerCase()?a.push(b):"embed"===d.nodeName(b)?a.push(b):"object"===d.nodeName(c[e])&&a.push(b))}else"embed"===e&&a.push(c);c=(a=a[0])&&d.nodeName(a);return"embed"===
c?d.attr(a,"src"):"object"===c?d.attr(a,"data"):"param"===c?d.attr(a,"value"):null},Status:{TOO_LOW:"flash version is too low",NOT_INSTALLED:"flash is not installed",SUCCESS:"success"},HtmlMode:{DEFAULT:"default",FULL:"full"},fpv:v,fpvGEQ:E,fpvGTE:w})});
