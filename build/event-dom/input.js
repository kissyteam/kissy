modulex.add("event-dom/input",["event-dom/base","dom"],function(t,n,e){var a,o=t("event-dom/base"),u=t("dom");a=function(t){function n(t){var n=(t.nodeName||"").toLowerCase();return"textarea"===n?!0:"input"===n?"text"===t.type||"password"===t.type:!1}function e(t){if(m.hasData(t,x)){var n=m.data(t,x);clearTimeout(n),m.removeData(t,x)}}function a(t){m.removeData(t,w),e(t)}function i(t){e(t.target)}function r(t){var n=t.value,e=m.data(t,w);n!==e&&(v.fire(t,h),m.data(t,w,n))}function c(t){m.hasData(t,x)||m.data(t,x,setTimeout(function n(){r(t),m.data(t,x,setTimeout(n,D))},D))}function d(t){var n=t.target;"focus"===t.type&&m.data(n,w,n.value),c(n)}function f(t){p(t),v.on(t,"blur",i),v.on(t,"mousedown keyup keydown focus",d)}function p(t){a(t),v.detach(t,"blur",i),v.detach(t,"mousedown keyup keydown focus",d)}function s(t){var e=t.target;n(e)&&!e.__inputHandler&&(e.__inputHandler=1,v.on(e,"input",l))}t={};var v=o,m=u,l=function(){},y=v.Special,h="input",_="event-dom/input",w=_+"/history",x=_+"/poll",D=50;return y.input={setup:function(){var t=this;n(t)?f(t):v.on(t,"focusin",s)},tearDown:function(){var t=this;n(t)?p(t):(v.remove(t,"focusin",s),m.query("textarea,input",t).each(function(t){t.__inputHandler&&(t.__inputHandler=0,v.remove(t,"input",l))}))}},t}(),e.exports=a});