modulex.add("event-dom/gesture/edge-pan",["event-dom/gesture/util","event-dom/base","modulex-util"],function(e,t,r){var a,n=e("event-dom/gesture/util"),i=e("event-dom/base"),s=e("modulex-util");a=function(e){function t(e,t,r){var a,n,i=e.lastTouches,s=i[0],o=s.pageX,d=s.pageY,c=o-e.startX,h=d-e.startY,m=Math.abs(c),v=Math.abs(h),E=e.direction;E||(E=m>v?0>c?"left":"right":0>h?"up":"down",e.direction=E),a="up"===E||"down"===E?v:m;var X,Y,T=t.timeStamp-e.startTime;if(r)if(e.isStarted)n=p;else{n=g;var w=window,S={left:w.pageXOffset+f,right:w.pageXOffset+w.innerWidth-f,top:w.pageYOffset+f,bottom:w.pageYOffset+w.innerHeight-f};if("right"===E&&o>S.left)return!1;if("left"===E&&o<S.right)return!1;if("down"===E&&d>S.top)return!1;if("up"===E&&d<S.bottom)return!1;e.isStarted=1,e.startTime=t.timeStamp}else n=l,"left"===E||"right"===E?X=a/T:Y=a/T;return u.fire(s.target,n,{originalEvent:t.originalEvent,pageX:s.pageX,pageY:s.pageY,which:1,direction:E,distance:a,duration:T/1e3,velocityX:X,velocityY:Y}),void 0}function r(){}e={};var a=n,o=a.addEvent,u=i,d=a.SingleTouch,g="edgePanStart",p="edgePan",l="edgePanEnd",f=60,c=s;return c.extend(r,d,{requiredGestureType:"touch",start:function(){var e=this;r.superclass.start.apply(e,arguments);var t=e.lastTouches[0];e.direction=null,e.startX=t.pageX,e.startY=t.pageY},move:function(e){return r.superclass.move.apply(this,arguments),t(this,e,1)},end:function(e){return r.superclass.end.apply(this,arguments),t(this,e,0)}}),o([p,l,g],{handle:new r}),e={EDGE_PAN:p,EDGE_PAN_START:g,EDGE_PAN_END:l}}(),r.exports=a});