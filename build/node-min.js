/*
Copyright 2013, KISSY v1.40dev
MIT Licensed
build time: Sep 16 18:46
*/
KISSY.add("node/base",function(a,f,g,h){function e(c,m,d){if(!(this instanceof e))return new e(c,m,d);if(c)if("string"==typeof c){if(c=f.create(c,m,d),c.nodeType===l.DOCUMENT_FRAGMENT_NODE)return i.apply(this,b(c.childNodes)),this}else{if(a.isArray(c)||j(c))return i.apply(this,b(c)),this}else return this;this[0]=c;this.length=1;return this}var d=Array.prototype,k=d.slice,l=f.NodeType,i=d.push,b=a.makeArray,j=f.isDomNodeList;e.prototype={constructor:e,isNodeList:!0,length:0,item:function(c){return"number"===
typeof c?c>=this.length?null:new e(this[c]):new e(c)},add:function(c,b,a){"number"===typeof b&&(a=b,b=h);c=e.all(c,b).getDOMNodes();b=new e(this);a===h?i.apply(b,c):(a=[a,0],a.push.apply(a,c),d.splice.apply(b,a));return b},slice:function(c,b){return new e(k.apply(this,arguments))},getDOMNodes:function(){return k.call(this)},each:function(c,b){var i=this;a.each(i,function(a,d){a=new e(a);return c.call(b||a,a,d,i)});return i},getDOMNode:function(){return this[0]},end:function(){return this.__parent||
this},filter:function(c){return new e(f.filter(this,c))},all:function(c){c=0<this.length?e.all(c,this):new e;c.__parent=this;return c},one:function(c){c=this.all(c);if(c=c.length?c.slice(0,1):null)c.__parent=this;return c}};a.mix(e,{all:function(c,b){return"string"==typeof c&&(c=a.trim(c))&&3<=c.length&&a.startsWith(c,"<")&&a.endsWith(c,">")?(b&&(b.getDOMNode&&(b=b[0]),b=b.ownerDocument||b),new e(c,h,b)):new e(f.query(c,b))},one:function(b,a){var i=e.all(b,a);return i.length?i.slice(0,1):null}});
e.NodeType=l;e.KeyCode=g.KeyCode;e.Gesture=g.Gesture;e.REPLACE_HISTORY=g.REPLACE_HISTORY;return e},{requires:["dom","event/dom"]});
KISSY.add("node/attach",function(a,f,g,h,e){function d(a,b,d){d.unshift(b);a=f[a].apply(f,d);return a===e?b:a}var k=h.prototype,l=a.makeArray;h.KeyCode=g.KeyCode;a.each("nodeName,isCustomDomain,getEmptyIframeSrc,equals,contains,index,scrollTop,scrollLeft,height,width,innerHeight,innerWidth,outerHeight,outerWidth,addStyleSheet,appendTo,prependTo,insertBefore,before,after,insertAfter,test,hasClass,addClass,removeClass,replaceClass,toggleClass,removeAttr,hasAttr,hasProp,scrollIntoView,remove,empty,removeData,hasData,unselectable,wrap,wrapAll,replaceWith,wrapInner,unwrap".split(","),function(a){k[a]=
function(){var b=l(arguments);return d(a,this,b)}});a.each("getWindow,getDocument,filter,first,last,parent,closest,next,prev,clone,siblings,contents,children".split(","),function(a){k[a]=function(){var b=l(arguments);b.unshift(this);b=f[a].apply(f,b);return b===e?this:b===null?null:new h(b)}});a.each({attr:1,text:0,css:1,style:1,val:0,prop:1,offset:0,html:0,outerHTML:0,outerHtml:0,data:1},function(i,b){k[b]=function(){var j;j=l(arguments);j[i]===e&&!a.isObject(j[0])?(j.unshift(this),j=f[b].apply(f,
j)):j=d(b,this,j);return j}});a.each(["on","detach","delegate","undelegate"],function(a){k[a]=function(){var b=l(arguments);b.unshift(this);g[a].apply(g,b);return this}});a.each(["fire","fireHandler"],function(a){k[a]=function(){var b=l(arguments);b.unshift(this);return g[a].apply(g,b)}})},{requires:["dom","event/dom","./base"]});
KISSY.add("node/override",function(a,f,g){var h=g.prototype;a.each(["append","prepend","before","after"],function(a){h[a]=function(d){"string"==typeof d&&(d=f.create(d));if(d)f[a](d,this);return this}});a.each(["wrap","wrapAll","replaceWith","wrapInner"],function(a){var d=h[a];h[a]=function(a){"string"==typeof a&&(a=g.all(a,this[0].ownerDocument));return d.call(this,a)}})},{requires:["dom","./base","./attach"]});
KISSY.add("node/anim",function(a,f,g,h,e){function d(a,d,b){for(var e=[],c={},b=b||0;b<d;b++)e.push.apply(e,k[b]);for(b=0;b<e.length;b++)c[e[b]]=a;return c}var k=[["height","margin-top","margin-bottom","padding-top","padding-bottom"],["width","margin-left","margin-right","padding-left","padding-right"],["opacity"]];a.augment(h,{animate:function(d){var f=a.makeArray(arguments);a.each(this,function(b){var d=a.clone(f),c=d[0];c.to?(c.node=b,g(c).run()):g.apply(e,[b].concat(d)).run()});return this},stop:function(d,
e,b){a.each(this,function(a){g.stop(a,d,e,b)});return this},pause:function(d,e){a.each(this,function(a){g.pause(a,e)});return this},resume:function(d,e){a.each(this,function(a){g.resume(a,e)});return this},isRunning:function(){for(var a=0;a<this.length;a++)if(g.isRunning(this[a]))return!0;return!1},isPaused:function(){for(var a=0;a<this.length;a++)if(g.isPaused(this[a]))return!0;return!1}});a.each({show:d("show",3),hide:d("hide",3),toggle:d("toggle",3),fadeIn:d("show",3,2),fadeOut:d("hide",3,2),fadeToggle:d("toggle",
3,2),slideDown:d("show",1),slideUp:d("hide",1),slideToggle:d("toggle",1)},function(d,e){h.prototype[e]=function(b,h,c){if(f[e]&&!b)f[e](this);else a.each(this,function(a){g(a,d,b,c,h).run()});return this}})},{requires:["dom","anim","./base"]});KISSY.add("node",function(a,f){a.mix(a,{Node:f,NodeList:f,one:f.one,all:f.all});return f},{requires:["node/base","node/attach","node/override","node/anim"]});
