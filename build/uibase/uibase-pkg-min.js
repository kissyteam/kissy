/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("uibase/align",function(f,i,b){function d(){}function h(a,e){var k=e.charAt(0),l=e.charAt(1),c,g,j,m;if(a){a=b.one(a);c=a.offset();g=a[0].offsetWidth;j=a[0].offsetHeight}else{c={left:i.scrollLeft(),top:i.scrollTop()};g=i.viewportWidth();j=i.viewportHeight()}m=c.left;c=c.top;if(k==="c")c+=j/2;else if(k==="b")c+=j;if(l==="c")m+=g/2;else if(l==="r")m+=g;return{left:m,top:c}}f.mix(d,{TL:"tl",TC:"tc",TR:"tr",CL:"cl",CC:"cc",CR:"cr",BL:"bl",BC:"bc",BR:"br"});d.ATTRS={align:{}};d.prototype={_uiSetAlign:function(a){f.isPlainObject(a)&&
this.align(a.node,a.points,a.offset)},align:function(a,e,k){var l,c=(this.get("view")||this).get("el");k=k||[0,0];l=c.offset();a=h(a,e[0]);e=h(c,e[1]);e=[e.left-a.left,e.top-a.top];l=[l.left-e[0]+ +k[0],l.top-e[1]+ +k[1]];this.set("x",l[0]);this.set("y",l[1])},center:function(a){this.set("align",{node:a,points:[d.CC,d.CC],offset:[0,0]})}};return d},{requires:["dom","node"]});
KISSY.add("uibase/base",function(f,i,b,d){function h(c){c+="";return c.charAt(0).toUpperCase()+c.substring(1)}function a(c){i.apply(this,arguments);for(var g=this.constructor;g;){if(c&&c[l]&&g.HTML_PARSER)if(c[l]=d.one(c[l])){var j=c[l],m=g.HTML_PARSER,n=void 0,o=void 0;for(n in m)if(m.hasOwnProperty(n)){o=m[n];if(f.isFunction(o))this.__set(n,o.call(this,j));else if(f.isString(o))this.__set(n,j.one(o));else f.isArray(o)&&o[0]&&this.__set(n,j.all(o[0]))}}g=g.superclass&&g.superclass.constructor}e(this,
"initializer","constructor");c&&c.autoRender&&this.render()}function e(c,g,j){for(var m=c.constructor,n=[],o,p,s,r;m;){r=[];if(s=m.__ks_exts)for(var q=0;q<s.length;q++)if(o=s[q]){if(j!="constructor")o=o.prototype.hasOwnProperty(j)?o.prototype[j]:null;o&&r.push(o)}if(m.prototype.hasOwnProperty(g)&&(p=m.prototype[g]))r.push(p);r.length&&n.push.apply(n,r.reverse());m=m.superclass&&m.superclass.constructor}for(q=n.length-1;q>=0;q--)n[q]&&n[q].call(c)}function k(c,g){if(!g)return c;for(var j in g)if(f.isObject(g[j])&&
f.isObject(c[j]))k(c[j],g[j]);else j in c||(c[j]=g[j])}var l="srcNode";b=function(){};a.HTML_PARSER={};a.ATTRS={render:{valueFn:function(){return document.body},setter:function(c){if(f.isString(c))return d.one(c)}},rendered:{value:false}};f.extend(a,i,{render:function(){if(!this.get("rendered")){this._renderUI();this.fire("renderUI");e(this,"renderUI","__renderUI");this.fire("afterRenderUI");this._bindUI();this.fire("bindUI");e(this,"bindUI","__bindUI");this.fire("afterBindUI");this._syncUI();this.fire("syncUI");
e(this,"syncUI","__syncUI");this.fire("afterSyncUI");this.set("rendered",true)}},_renderUI:b,renderUI:b,_bindUI:function(){var c=this,g=c.__attrs,j,m;for(j in g)if(g.hasOwnProperty(j)){m="_uiSet"+h(j);c[m]&&function(n,o){c.on("after"+h(n)+"Change",function(p){c[o](p.newVal,p)})}(j,m)}},bindUI:b,_syncUI:function(){var c=this.__getDefAttrs(),g;for(g in c)if(c.hasOwnProperty(g)){var j="_uiSet"+h(g);this[j]&&this.get(g)!==undefined&&this[j](this.get(g))}},syncUI:b,destroy:function(){for(var c=this.constructor,
g,j,m;c;){(j=c.prototype.destructor)&&j.apply(this);if(g=c.__ks_exts)for(m=g.length-1;m>=0;m--)(j=g[m]&&g[m].prototype.__destructor)&&j.apply(this);c=c.superclass&&c.superclass.constructor}this.fire("destroy");this.detach()}});a.create=function(c,g,j,m){function n(){a.apply(this,arguments)}if(f.isArray(c)){m=j;j=g;g=c;c=a}c=c||a;if(f.isObject(g)){m=j;j=g;g=[]}f.extend(n,c,j,m);if(g){n.__ks_exts=g;f.each(g,function(o){if(o){f.each(["ATTRS","HTML_PARSER"],function(p){if(o[p]){n[p]=n[p]||{};k(n[p],o[p])}});
f.augment(n,o,false)}})}return n};return a},{requires:["base","dom","node"]});KISSY.add("uibase/box",function(){function f(){}f.ATTRS={html:{view:true},width:{view:true},height:{view:true},elCls:{view:true},elStyle:{view:true},elAttrs:{view:true},elOrder:{},el:{getter:function(){return this.get("view")&&this.get("view").get("el")}}};f.prototype={};return f});
KISSY.add("uibase/boxrender",function(f,i){function b(){}function d(h,a,e,k,l,c){a=a||{};if(e)a.width=e;if(k)a.height=k;e="";for(var g in a)if(a.hasOwnProperty(g))e+=g+":"+a[g]+";";a="";for(var j in c)if(c.hasOwnProperty(j))a+=" "+j+"='"+c[j]+"' ";return"<"+l+(e?" style='"+e+"' ":"")+a+(h?" class='"+h+"' ":"")+"></"+l+">"}f.mix(b,{APPEND:1,INSERT:0});b.ATTRS={el:{setter:function(h){if(f.isString(h))return i.one(h)}},elCls:{},elStyle:{},width:{},height:{},elTagName:{value:"div"},elAttrs:{},elOrder:{value:1},
html:{}};b.construct=d;b.HTML_PARSER={el:function(h){return h}};b.prototype={__renderUI:function(){var h=this.get("render"),a=this.get("el");h=new i(h);if(!a){a=new i(d(this.get("elCls"),this.get("elStyle"),this.get("width"),this.get("height"),this.get("elTagName"),this.get("elAttrs")));this.get("elOrder")?h.append(a):h.prepend(a);this.set("el",a)}},_uiSetElAttrs:function(h){this.get("el").attr(h)},_uiSetElCls:function(h){this.get("el").addClass(h)},_uiSetElStyle:function(h){this.get("el").css(h)},
_uiSetWidth:function(h){this.get("el").width(h)},_uiSetHeight:function(h){this.get("el").height(h)},_uiSetHtml:function(h){this.get("el").html(h)},__destructor:function(){var h=this.get("el");if(h){h.detach();h.remove()}}};return b},{requires:["node"]});
KISSY.add("uibase/close",function(){function f(){}f.ATTRS={closable:{value:true,view:true},closeAction:{value:"hide"}};var i={hide:"hide",destroy:"destroy"};f.prototype={__bindUI:function(){var b=this,d=b.get("view").get("closeBtn");d&&d.on("click",function(h){b[i[b.get("closeAction")]||"hide"]();h.halt()})}};return f});
KISSY.add("uibase/closerender",function(f,i){function b(){}b.ATTRS={closable:{value:true},closeBtn:{}};b.HTML_PARSER={closeBtn:function(d){return d.one("."+this.get("prefixCls")+"ext-close")}};b.prototype={_uiSetClosable:function(d){var h=this.get("closeBtn");if(h)d?h.css("display",""):h.css("display","none")},__renderUI:function(){var d=this.get("closeBtn"),h=this.get("contentEl");if(!d&&h){d=(new i("<a tabindex='0' role='button' class='"+this.get("prefixCls")+"ext-close'><span class='"+this.get("prefixCls")+
"ext-close-x'>\u5173\u95ed</span></a>")).appendTo(h);this.set("closeBtn",d)}},__destructor:function(){var d=this.get("closeBtn");d&&d.detach()}};return b},{requires:["node"]});
KISSY.add("uibase/constrain",function(f,i,b){function d(){}function h(a){var e;if(!a)return e;var k=this.get("view").get("el");if(a!==true){a=b.one(a);e=a.offset();f.mix(e,{maxLeft:e.left+a[0].offsetWidth-k[0].offsetWidth,maxTop:e.top+a[0].offsetHeight-k[0].offsetHeight})}else{a=document.documentElement.clientWidth;e={left:i.scrollLeft(),top:i.scrollTop()};f.mix(e,{maxLeft:e.left+a-k[0].offsetWidth,maxTop:e.top+i.viewportHeight()-k[0].offsetHeight})}return e}d.ATTRS={constrain:{value:false}};d.prototype=
{__renderUI:function(){var a=this,e=a.__getDefAttrs(),k=e.x;e=e.y;var l=k.setter,c=e.setter;k.setter=function(g){var j=l&&l(g);if(j===undefined)j=g;if(!a.get("constrain"))return j;g=h.call(a,a.get("constrain"));return Math.min(Math.max(j,g.left),g.maxLeft)};e.setter=function(g){var j=c&&c(g);if(j===undefined)j=g;if(!a.get("constrain"))return j;g=h.call(a,a.get("constrain"));return Math.min(Math.max(j,g.top),g.maxTop)};a.addAttr("x",k);a.addAttr("y",e)}};return d},{requires:["dom","node"]});
KISSY.add("uibase/contentbox",function(){function f(){}f.ATTRS={content:{view:true},contentEl:{getter:function(){return this.get("view")&&this.get("view").get("contentEl")}},contentElAttrs:{view:true},contentElStyle:{view:true},contentTagName:{view:true}};f.prototype={};return f});
KISSY.add("uibase/contentboxrender",function(f,i,b){function d(){}d.ATTRS={contentEl:{},contentElAttrs:{},contentElStyle:{},contentTagName:{value:"div"},content:{}};d.HTML_PARSER={contentEl:function(a){return a.one("."+this.get("prefixCls")+"contentbox")}};var h=b.construct;d.prototype={__renderUI:function(){var a=this.get("contentEl"),e=this.get("el");if(!a){var k=f.makeArray(e[0].childNodes);a=(new i(h(this.get("prefixCls")+"contentbox",this.get("contentElStyle"),undefined,undefined,this.get("contentTagName"),
this.get("contentElAttrs")))).appendTo(e);for(e=0;e<k.length;e++)a.append(k[e]);this.set("contentEl",a)}},_uiSetContentElAttrs:function(a){a&&this.get("contentEl").attr(a)},_uiSetContentElStyle:function(a){a&&this.get("contentEl").css(a)},_uiSetContent:function(a){if(f.isString(a))this.get("contentEl").html(a);else if(a!==undefined){this.get("contentEl").html("");this.get("contentEl").append(a)}}};return d},{requires:["node","./boxrender"]});
KISSY.add("uibase/drag",function(f){function i(){}i.ATTRS={handlers:{value:[]},draggable:{value:true}};i.prototype={_uiSetHandlers:function(b){b&&b.length>0&&this.__drag&&this.__drag.set("handlers",b)},__bindUI:function(){var b=f.require("dd/draggable"),d=this.get("view").get("el");if(this.get("draggable")&&b)this.__drag=new b({node:d,handlers:this.get("handlers")})},_uiSetDraggable:function(b){var d=this.__drag;if(d)if(b){d.detach("drag");d.on("drag",this._dragExtAction,this)}else d.detach("drag")},
_dragExtAction:function(b){this.set("xy",[b.left,b.top])},__destructor:function(){var b=this.__drag;b&&b.destroy()}};return i});KISSY.add("uibase/loading",function(){function f(){}f.prototype={loading:function(){this.get("view").loading()},unloading:function(){this.get("view").unloading()}};return f});
KISSY.add("uibase/loadingrender",function(f,i){function b(){}b.prototype={loading:function(){if(!this._loadingExtEl)this._loadingExtEl=(new i("<div class='"+this.get("prefixCls")+"ext-loading' style='position: absolute;border: none;width: 100%;top: 0;left: 0;z-index: 99999;height:100%;*height: expression(this.parentNode.offsetHeight);'/>")).appendTo(this.get("el"));this._loadingExtEl.show()},unloading:function(){var d=this._loadingExtEl;d&&d.hide()}};return b},{requires:["node"]});
KISSY.add("uibase/mask",function(){function f(){}f.ATTRS={mask:{value:false}};f.prototype={_uiSetMask:function(i){if(i){this.on("show",this.get("view")._maskExtShow,this.get("view"));this.on("hide",this.get("view")._maskExtHide,this.get("view"))}else{this.detach("show",this.get("view")._maskExtShow,this.get("view"));this.detach("hide",this.get("view")._maskExtHide,this.get("view"))}}};return f},{requires:["ua"]});
KISSY.add("uibase/maskrender",function(f,i,b,d){function h(){e=(new d("<div class='"+this.get("prefixCls")+"ext-mask'/>")).prependTo(document.body);e.css({position:"absolute",left:0,top:0,width:i.ie==6?b.docWidth():"100%",height:b.docHeight()});if(i.ie==6)k=(new d("<iframe style='position:absolute;left:0;top:0;background:red;width:"+b.docWidth()+"px;height:"+b.docHeight()+"px;filter:alpha(opacity=0);z-index:-1;'/>")).insertBefore(e);f.Event.on(window,"resize",function(){var c={width:i.ie==6?b.docWidth():
"100%",height:b.docHeight()};k&&k.css(c);e.css(c)});e.unselectable();e.on("mousedown click",function(c){c.halt()})}function a(){}var e,k,l=0;a.prototype={_maskExtShow:function(){e||h.call(this);var c=this.get("zIndex")-1;e.css("z-index",c);k&&k.css("z-index",c);l++;e.css("display","");k&&k.css("display","")},_maskExtHide:function(){l--;if(l<=0)l=0;if(!l){e&&e.css("display","none");k&&k.css("display","none")}},__destructor:function(){this._maskExtHide()}};return a},{requires:["ua","dom","node"]});
KISSY.add("uibase/position",function(f){function i(){}i.ATTRS={x:{view:true,valueFn:function(){return this.get("view")&&this.get("view").get("x")}},y:{view:true,valueFn:function(){return this.get("view")&&this.get("view").get("y")}},xy:{setter:function(b){var d=f.makeArray(b);if(d.length){d[0]&&this.set("x",d[0]);d[1]&&this.set("y",d[1])}return b},getter:function(){return[this.get("x"),this.get("y")]}},zIndex:{view:true},visible:{}};i.prototype={_uiSetVisible:function(b){this.get("view").set("visible",
b);this.fire(b?"show":"hide")},move:function(b,d){if(f.isArray(b)){d=b[1];b=b[0]}this.set("xy",[b,d])},show:function(){this.render();this.set("visible",true)},hide:function(){this.set("visible",false)}};return i});
KISSY.add("uibase/positionrender",function(){function f(){}f.ATTRS={x:{valueFn:function(){return this.get("el")&&this.get("el").offset().left}},y:{valueFn:function(){return this.get("el")&&this.get("el").offset().top}},zIndex:{value:9999},visible:{}};f.prototype={__renderUI:function(){var i=this.get("el");i.addClass(this.get("prefixCls")+"ext-position");i.css({visibility:"hidden",display:"",left:-9999,top:-9999,bottom:"",right:""})},_uiSetZIndex:function(i){this.get("el").css("z-index",i)},_uiSetX:function(i){this.get("el").offset({left:i})},
_uiSetY:function(i){this.get("el").offset({top:i})},_uiSetVisible:function(i){this.get("el").css("visibility",i?"visible":"hidden")},show:function(){this.render();this.set("visible",true)},hide:function(){this.set("visible",false)}};return f});
KISSY.add("uibase/resize",function(f){function i(){}i.ATTRS={resize:{value:{}}};i.prototype={__destructor:function(){self.resizer&&self.resizer.destroy()},_uiSetResize:function(b){var d=f.require("resizable");if(d){this.resizer&&this.resizer.destroy();b.node=this.get("view").get("el");b.autoRender=true;if(b.handlers)this.resizer=new d(b)}}};return i});
KISSY.add("uibase/shimrender",function(f,i){function b(){}b.ATTRS={shim:{value:true}};b.prototype={_uiSetShim:function(d){var h=this.get("el");if(d&&!this.__shimEl){this.__shimEl=new i("<iframe style='position: absolute;border: none;width: expression(this.parentNode.offsetWidth);top: 0;opacity: 0;filter: alpha(opacity=0);left: 0;z-index: -1;height: expression(this.parentNode.offsetHeight);'/>");h.prepend(this.__shimEl)}else if(!d&&this.__shimEl){this.__shimEl.remove();delete this.__shimEl}}};return b},
{requires:["node"]});KISSY.add("uibase/stdmod",function(){function f(){}f.ATTRS={header:{getter:function(){return this.get("view")&&this.get("view").get("header")}},body:{getter:function(){return this.get("view")&&this.get("view").get("body")}},footer:{getter:function(){return this.get("view")&&this.get("view").get("footer")}},bodyStyle:{view:true},footerStyle:{view:true},headerStyle:{view:true},headerContent:{view:true},bodyContent:{view:true},footerContent:{view:true}};f.prototype={};return f});
KISSY.add("uibase/stdmodrender",function(f,i){function b(){}function d(a,e){var k=a.get("contentEl"),l=a.get(e);if(!l){l=(new i("<div class='"+a.get("prefixCls")+h+e+"'/>")).appendTo(k);a.set(e,l)}}var h="stdmod-";b.ATTRS={header:{},body:{},footer:{},bodyStyle:{},footerStyle:{},headerStyle:{},headerContent:{},bodyContent:{},footerContent:{}};b.HTML_PARSER={header:function(a){return a.one("."+this.get("prefixCls")+h+"header")},body:function(a){return a.one("."+this.get("prefixCls")+h+"body")},footer:function(a){return a.one("."+
this.get("prefixCls")+h+"footer")}};b.prototype={_setStdModContent:function(a,e){if(f.isString(e))this.get(a).html(e);else{this.get(a).html("");this.get(a).append(e)}},_uiSetBodyStyle:function(a){this.get("body").css(a)},_uiSetHeaderStyle:function(a){this.get("header").css(a)},_uiSetFooterStyle:function(a){this.get("footer").css(a)},_uiSetBodyContent:function(a){this._setStdModContent("body",a)},_uiSetHeaderContent:function(a){this._setStdModContent("header",a)},_uiSetFooterContent:function(a){this._setStdModContent("footer",
a)},__renderUI:function(){d(this,"header");d(this,"body");d(this,"footer")}};return b},{requires:["node"]});
KISSY.add("uibase",function(f,i,b,d,h,a,e,k,l,c,g,j,m,n,o,p,s,r,q,t,u){a.Render=e;j.Render=m;n.Render=o;p.Render=s;t.Render=u;d.Render=h;l.Render=c;f.mix(i,{Align:b,Box:d,Close:a,Contrain:k,Contentbox:l,Drag:g,Loading:j,Mask:n,Position:p,Shim:{Render:r},Resize:q,StdMod:t});return f.UIBase=i},{requires:["uibase/base","uibase/align","uibase/box","uibase/boxrender","uibase/close","uibase/closerender","uibase/constrain","uibase/contentbox","uibase/contentboxrender","uibase/drag","uibase/loading","uibase/loadingrender",
"uibase/mask","uibase/maskrender","uibase/position","uibase/positionrender","uibase/shimrender","uibase/resize","uibase/stdmod","uibase/stdmodrender"]});
