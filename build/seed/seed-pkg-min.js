/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
(function(g,r){var p=this,x={mix:function(i,k,o,j){if(!k||!i)return i;if(o===r)o=true;var l,m,q;if(j&&(q=j.length))for(l=0;l<q;l++){m=j[l];if(m in k)if(o||!(m in i))i[m]=k[m]}else for(m in k)if(o||!(m in i))i[m]=k[m];return i}},t=p&&p[g]||{},A=0;p=t.__HOST||(t.__HOST=p||{});g=p[g]=x.mix(t,x,false);g.mix(g,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.20dev",buildTime:"@TIMESTAMP@",merge:function(){var i={},k,o=arguments.length;for(k=0;k<o;k++)g.mix(i,arguments[k]);return i},
augment:function(){var i=g.makeArray(arguments),k=i.length-2,o=i[0],j=i[k],l=i[k+1],m=1;if(!g.isArray(l)){j=l;l=r;k++}if(!g.isBoolean(j)){j=r;k++}for(;m<k;m++)g.mix(o.prototype,i[m].prototype||i[m],j,l);return o},extend:function(i,k,o,j){if(!k||!i)return i;var l=Object.create?function(v,y){return Object.create(v,{constructor:{value:y}})}:function(v,y){function w(){}w.prototype=v;var z=new w;z.constructor=y;return z},m=k.prototype,q;q=l(m,i);i.prototype=g.mix(q,i.prototype);i.superclass=l(m,k);o&&
g.mix(q,o);j&&g.mix(i,j);return i},__init:function(){this.Config=this.Config||{};this.Env=this.Env||{};this.Config.debug="@DEBUG@"},namespace:function(){var i=g.makeArray(arguments),k=i.length,o=null,j,l,m,q=i[k-1]===true&&k--;for(j=0;j<k;j++){m=(""+i[j]).split(".");o=q?p:this;for(l=p[m[0]]===o?1:0;l<m.length;++l)o=o[m[l]]=o[m[l]]||{}}return o},app:function(i,k){var o=g.isString(i),j=o?p[i]||{}:i,l=0,m=g.__APP_INIT_METHODS.length;for(g.mix(j,this,true,g.__APP_MEMBERS);l<m;l++)g[g.__APP_INIT_METHODS[l]].call(j);
g.mix(j,g.isFunction(k)?k():k);o&&(p[i]=j);return j},config:function(i){for(var k in i)this["_"+k]&&this["_"+k](i[k])},log:function(i,k,o){if(g.Config.debug){if(o)i=o+": "+i;if(p.console!==r&&console.log)console[k&&console[k]?k:"log"](i)}},error:function(i){if(g.Config.debug)throw i;},guid:function(i){return(i||"")+A++}});g.__init();return g})("KISSY");
(function(g,r){function p(){if(H)return H;var d="";g.each(C,function(a){d+=a+"|"});d=d.slice(0,-1);return H=RegExp(d,"g")}function x(){if(F)return F;var d="";g.each(G,function(a){d+=a+"|"});d+="&#(\\d{1,5});";return F=RegExp(d,"g")}function t(d){var a=typeof d;return d===null||a!=="object"&&a!=="function"}var A=g.__HOST,i=Object.prototype.toString,k=Array.prototype,o=k.indexOf,j=k.lastIndexOf,l=k.filter,m=String.prototype.trim,q=k.map,v=/^\s+|\s+$/g,y=encodeURIComponent("[]"),w=/^(\w+)\[\]$/,z={},
C={"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"'},G={},H,F,E;for(E in C)G[C[E]]=E;g.mix(g,{type:function(d){return d==null?String(d):z[i.call(d)]||"object"},isNull:function(d){return d===null},isUndefined:function(d){return d===r},isEmptyObject:function(d){for(var a in d)if(a!==r)return false;return true},isPlainObject:function(d){return d&&i.call(d)==="[object Object]"&&"isPrototypeOf"in d},clone:function(d,a,b){var c=d,e,f,h=b||{};if(d&&((e=g.isArray(d))||g.isPlainObject(d))){if(d["__~ks_cloned"])return h[d["__~ks_cloned"]];
d["__~ks_cloned"]=c=g.guid();h[c]=d;if(e)c=a?g.filter(d,a):d.concat();else{c={};for(f in d)if(f!=="__~ks_cloned"&&d.hasOwnProperty(f)&&(!a||a.call(d,d[f],f,d)!==false))c[f]=g.clone(d[f],a,h)}}if(!b){g.each(h,function(n){if(n["__~ks_cloned"])try{delete n["__~ks_cloned"]}catch(u){n["__~ks_cloned"]=r}});h=r}return c},trim:m?function(d){return d==r?"":m.call(d)}:function(d){return d==r?"":d.toString().replace(v,"")},substitute:function(d,a,b){if(!g.isString(d)||!g.isPlainObject(a))return d;return d.replace(b||
/\\?\{([^{}]+)\}/g,function(c,e){if(c.charAt(0)==="\\")return c.slice(1);return a[e]!==r?a[e]:""})},each:function(d,a,b){var c,e=0,f=d&&d.length,h=f===r||g.type(d)==="function";b=b||A;if(h)for(c in d){if(a.call(b,d[c],c,d)===false)break}else for(c=d[0];e<f&&a.call(b,c,e,d)!==false;c=d[++e]);return d},indexOf:o?function(d,a){return o.call(a,d)}:function(d,a){for(var b=0,c=a.length;b<c;++b)if(a[b]===d)return b;return-1},lastIndexOf:j?function(d,a){return j.call(a,d)}:function(d,a){for(var b=a.length-
1;b>=0;b--)if(a[b]===d)break;return b},unique:function(d,a){var b=d.slice();a&&b.reverse();for(var c=0,e,f;c<b.length;){for(f=b[c];(e=g.lastIndexOf(f,b))!==c;)b.splice(e,1);c+=1}a&&b.reverse();return b},inArray:function(d,a){return g.indexOf(d,a)>-1},filter:l?function(d,a,b){return l.call(d,a,b||this)}:function(d,a,b){var c=[];g.each(d,function(e,f,h){if(a.call(b||this,e,f,h))c.push(e)});return c},map:q?function(d,a,b){return q.call(d,a,b||this)}:function(d,a,b){for(var c=d.length,e=Array(c),f=0;f<
c;f++)if(f in d)e[f]=a.call(b||this,d[f],f,d);return e},now:function(){return(new Date).getTime()},fromUnicode:function(d){return d.replace(/\\u([a-f\d]{4})/ig,function(a,b){return String.fromCharCode(parseInt(b,16))})},escapeHTML:function(d){return d.replace(p(),function(a){return G[a]})},unEscapeHTML:function(d){return d.replace(x(),function(a,b){return C[a]||String.fromCharCode(+b)})},makeArray:function(d){if(d===null||d===r)return[];if(g.isArray(d))return d;if(typeof d.length!=="number"||g.isString(d)||
g.isFunction(d))return[d];for(var a=[],b=0,c=d.length;b<c;b++)a[b]=d[b];return a},param:function(d,a){if(!g.isPlainObject(d))return"";a=a||"&";var b=[],c,e;for(c in d){e=d[c];c=encodeURIComponent(c);if(t(e))b.push(c,"=",encodeURIComponent(e+""),a);else if(g.isArray(e)&&e.length)for(var f=0,h=e.length;f<h;++f)t(e[f])&&b.push(c,y+"=",encodeURIComponent(e[f]+""),a)}b.pop();return b.join("")},unparam:function(d,a){if(typeof d!=="string"||(d=g.trim(d)).length===0)return{};for(var b={},c=d.split(a||"&"),
e,f,h,n,u=0,s=c.length;u<s;++u){e=c[u].split("=");f=decodeURIComponent(e[0]);try{h=decodeURIComponent(e[1]||"")}catch(B){h=e[1]||""}if((n=f.match(w))&&n[1]){b[n[1]]=b[n[1]]||[];b[n[1]].push(h)}else b[f]=h}return b},later:function(d,a,b,c,e){a=a||0;c=c||{};var f=d,h=g.makeArray(e),n;if(g.isString(d))f=c[d];f||g.error("method undefined");d=function(){f.apply(c,h)};n=b?setInterval(d,a):setTimeout(d,a);return{id:n,interval:b,cancel:function(){this.interval?clearInterval(n):clearTimeout(n)}}}});g.mix(g,
{isBoolean:t,isNumber:t,isString:t,isFunction:t,isArray:t,isDate:t,isRegExp:t,isObject:t});g.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(d,a){z["[object "+d+"]"]=a=d.toLowerCase();g["is"+d]=function(b){return g.type(b)==a}})})(KISSY);
(function(g,r){function p(a){a=a.split("/");for(var b=[],c,e=0;e<a.length;e++){c=a[e];if(c!=".")c==".."?b.pop():b.push(c)}return b.join("/")}function x(a,b){if(!b)return b;if(g.isArray(b)){for(var c=0;c<b.length;c++)b[c]=x(a,b[c]);return b}if(b.lastIndexOf("../",0)==0||b.lastIndexOf("./",0)==0){c=q;var e;if((e=a.lastIndexOf("/"))!=-1)c=a.substring(0,e+1);return p(c+b)}else return b.indexOf("./")!=-1||b.indexOf("../")!=-1?p(b):b}function t(a){return a.replace(/(-min)?\.js[^/]*$/i,q)}function A(a){if(a.charAt(a.length-
1)!="/")a+="/";a=g.trim(a);if(!a.match(/^(http(s)?)|(file):/i)&&a.lastIndexOf("/",0)!=0)a=F+a;return p(a)}function i(a){for(var b=0;b<a.length;b++)if(a[b].match(/\/$/))a[b]+="index";return a}function k(a){var b=a.src,c=a.getAttribute("data-combo-prefix")||"??";a=a.getAttribute("data-combo-sep")||",";a=b.split(a);var e,f=a[0];c=f.indexOf(c);if(c==-1)e=b.replace(E,"$1");else{e=f.substring(0,c);b=f.substring(c+2,f.length);if(b.match(d))e+=b.replace(E,"$1");else g.each(a,function(h){if(h.match(d)){e+=
h.replace(E,"$1");return false}})}if(!e.match(/^(http(s)?)|(file):/i)&&e.lastIndexOf("/",0)!=0)e=F+e;return e}if(!g.use){var o=g.__HOST,j=!!navigator.userAgent.match(/MSIE/),l=o.document,m=l.getElementsByTagName("head")[0]||l.documentElement,q="",v=2,y=3,w=4,z=g.mix,C=l.addEventListener?function(a,b){a.addEventListener("load",b,false)}:function(a,b){var c=a.onreadystatechange;a.onreadystatechange=function(){var e=a.readyState;if(e==="loaded"||e==="complete"){a.onreadystatechange=null;c&&c();b.call(this)}}},
G=/\.css(?:\?|$)/i,H=encodeURIComponent(g.buildTime),F=location.href.replace(/[^/]*$/i,q);o={__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,add:function(a,b,c){var e=this.Env.mods,f;if(g.isString(a)&&!c&&g.isPlainObject(b)){f={};f[a]=b;a=f}if(g.isPlainObject(a)){g.each(a,function(n,u){n.name=u;e[u]&&z(n,e[u],false)});z(e,a);return this}if(g.isString(a)){var h;if(c&&(h=c.host)){a=e[h];if(!a)return this;if(this.__isAttached(h))b.call(this,this);else{a.fns=a.fns||[];a.fns.push(b)}return this}this.__registerModule(a,
b,c);if(c&&c.attach===false)return this;b=e[a];a=x(a,b.requires);if(this.__isAttached(a))this.__attachMod(b);else if(this.Config.debug&&!b)for(a=g.makeArray(a).length-1;a>=0;a--);return this}if(g.isFunction(a)){c=b;b=a;if(j){a=this.__findModuleNameByInteractive();this.__registerModule(a,b,c);this.__startLoadModuleName=null;this.__startLoadTime=0}else this.__currentModule={def:b,config:c};return this}return this},__findModuleNameByInteractive:function(){for(var a=document.getElementsByTagName("script"),
b,c,e=0;e<a.length;e++){c=a[e];if(c.readyState=="interactive"){b=c;break}}if(!b)return this.__startLoadModuleName;a=b.src;if(a.lastIndexOf(this.Config.base,0)==0)return t(a.substring(this.Config.base.length));b=this.__packages;for(var f in b){c=b[f].path;if(b.hasOwnProperty(f)&&a.lastIndexOf(c,0)==0)return t(a.substring(c.length))}},__registerModule:function(a,b,c){c=c||{};var e=this.Env.mods,f=e[a]||{};z(f,{name:a,status:v});f.fns=f.fns||[];f.fns.push(b);z(e[a]=f,c)},_packages:function(a){var b;
b=this.__packages=this.__packages||{};g.each(a,function(c){b[c.name]=c;if(c.path)c.path=A(c.path);if(c.tag)c.tag=encodeURIComponent(c.tag)})},_combine:function(a,b){var c=this,e;if(g.isObject(a))g.each(a,function(f,h){g.each(f,function(n){c._combine(n,h)})});else{e=c.__combines=c.__combines||{};if(b)e[a]=b;else return e[a]||a}},__mixMods:function(a){var b=this.Env.mods,c=a.Env.mods,e;for(e in c)this.__mixMod(b,c,e,a)},__mixMod:function(a,b,c,e){var f=a[c]||{},h=f.status;g.mix(f,g.clone(b[c]));if(h)f.status=
h;e&&this.__buildPath(f,e.Config.base);a[c]=f},use:function(a,b,c){a=a.replace(/\s+/g,q).split(",");i(a);c=c||{};var e=this,f;c.global&&e.__mixMods(c.global);if(e.__isAttached(a)){var h=e.__getModules(a);b&&b.apply(e,h)}else{g.each(a,function(n){e.__attachModByName(n,function(){if(!f&&e.__isAttached(a)){f=true;var u=e.__getModules(a);b&&b.apply(e,u)}},c)});return e}},__getModules:function(a){var b=this,c=[b];g.each(a,function(e){c.push(b.require(e))});return c},require:function(a){a=this.Env.mods[a];
var b=this.onRequire&&this.onRequire(a);if(b!==undefined)return b;return a&&a.value},__getPackagePath:function(a){if(a.packagepath)return a.packagepath;var b=this._combine(a.name),c=this.__packages||{},e="",f;for(f in c)if(c.hasOwnProperty(f)&&b.lastIndexOf(f,0)==0&&f.length>e)e=f;c=(b=c[e])&&b.path||this.Config.base;if(b&&b.charset)a.charset=b.charset;a.tag=b?b.tag:H;return a.packagepath=c},__attachModByName:function(a,b,c){var e=this.Env.mods,f=e[a];if(!f){f=this.Config.componentJsName||function(h){return h+
"-min.js"};f={path:g.isFunction(f)?f(this._combine(a)):f,charset:"utf-8"};e[a]=f}f.name=a;f&&f.status===w||this.__attach(f,b,c)},__attach:function(a,b,c){function e(){if(!u&&f.__isAttached(a.requires)){a.status===v&&f.__attachMod(a);if(a.status===w){u=true;b()}}}var f=this,h=f.Env.mods,n=(a.requires||[]).concat();a.requires=n;g.each(n,function(s,B,D){s=D[B]=x(a.name,s);(B=h[s])&&B.status===w||f.__attachModByName(s,e,c)});f.__buildPath(a,f.__getPackagePath(a));f.__load(a,function(){a.requires=a.requires||
[];var s=[];g.each(a.requires,function(B,D,I){B=I[D]=x(a.name,B);D=h[B];I=g.inArray(B,n);D&&D.status===w||I||f.__attachModByName(B,e,c);if(!I&&(!D||D.status<v))s.push(B)});s.length!=0&&s.unshift(a.name);if(g.isString(a.csspath)||g.isString(a.cssfullpath)){f.__buildPath(a,f.__getPackagePath(a));g.getScript(a.cssfullpath)}e()},c);var u=false},__attachMod:function(a){var b=this,c=a.fns;c&&g.each(c,function(e){e=g.isFunction(e)?e.apply(b,b.__getModules(a.requires)):e;a.value=a.value||e});a.status=w},
__isAttached:function(a){var b=this.Env.mods,c=true;g.each(a,function(e){e=b[e];if(!e||e.status!==w)return c=false});return c},__load:function(a,b,c){function e(){c.global&&h.__mixMod(h.Env.mods,c.global.Env.mods,a.name,c.global)}function f(){u[n]=v;if(a.status!==y){e();if(a.status!==w)a.status=v;b()}}var h=this,n=a.fullpath,u=g.Env._loadQueue,s=u[n];a.status=a.status||0;if(a.status<1&&s)a.status=s.nodeName?1:v;if(g.isString(a.cssfullpath)){g.getScript(a.cssfullpath);a.cssfullpath=a.csspath=v}if(a.status<
1&&n){a.status=1;if(j){h.__startLoadModuleName=a.name;h.__startLoadTime=Number(+new Date)}s=g.getScript(n,{success:function(){if(h.__currentModule){h.__registerModule(a.name,h.__currentModule.def,h.__currentModule.config);h.__currentModule=null}e();if(!(a.fns&&a.fns.length>0))a.status=y;f()},error:function(){a.status=y;f()},charset:a.charset});G.test(n)||(u[n]=s)}else a.status===1?C(s,f):b()},__buildPath:function(a,b){function c(f,h){if(!a[f]&&a[h]){a[h]=x(a.name,a[h]);a[f]=(b||e.base)+a[h]}if(a[f]&&
e.debug)a[f]=a[f].replace(/-min/ig,q);if(a[f]&&!a[f].match(/\?t=/)&&a.tag)a[f]+="?t="+a.tag}var e=this.Config;c("fullpath","path");c("cssfullpath","csspath")},getScript:function(a,b,c){var e=/\.css(?:\?|$)/i.test(a),f=l.createElement(e?"link":"script"),h=b,n,u,s;if(g.isPlainObject(h)){b=h.success;n=h.error;u=h.timeout;c=h.charset}if(e){f.href=a;f.rel="stylesheet"}else{f.src=a;f.async=true}if(c)f.charset=c;if(e)g.isFunction(b)&&b.call(f);else C(f,function(){if(s){s.cancel();s=r}g.isFunction(b)&&b.call(f)});
if(g.isFunction(n)){l.addEventListener&&f.addEventListener("error",function(){if(s){s.cancel();s=r}n.call(f)},false);s=g.later(function(){s=r;n()},(u||this.Config.timeout)*1E3)}m.insertBefore(f,m.firstChild);return f}};z(g,o);var E=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,d=/(seed|kissy)(-min)?\.js/i;g.__initLoader=function(){var a=l.getElementsByTagName("script");a=k(a[a.length-1]);this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=A(a);if(!this.Config.timeout)this.Config.timeout=
10};g.__initLoader();g.each(o,function(a,b){g.__APP_MEMBERS.push(b)});g.__APP_INIT_METHODS.push("__initLoader")}})(KISSY);
(function(g){var r=g.__HOST,p=r.document,x=p.documentElement,t=false,A=[],i=false,k=/^#?([\w-]+)$/,o=/\S/;g.mix(g,{isWindow:function(j){return g.type(j)==="object"&&"setInterval"in j&&"document"in j&&j.document.nodeType==9},globalEval:function(j){if(j&&o.test(j)){var l=p.getElementsByTagName("head")[0]||x,m=p.createElement("script");m.text=j;l.insertBefore(m,l.firstChild);l.removeChild(m)}},ready:function(j){i||this._bindReady();t?j.call(r,this):A.push(j);return this},_bindReady:function(){var j=
this,l=p.documentElement.doScroll,m=l?"onreadystatechange":"DOMContentLoaded",q=function(){j._fireReady()};i=true;if(p.readyState==="complete")return q();if(p.addEventListener){var v=function(){p.removeEventListener(m,v,false);q()};p.addEventListener(m,v,false);r.addEventListener("load",q,false)}else{var y=function(){if(p.readyState==="complete"){p.detachEvent(m,y);q()}};p.attachEvent(m,y);r.attachEvent("onload",q);var w=false;try{w=r.frameElement==null}catch(z){}if(l&&w){var C=function(){try{l("left");
q()}catch(G){setTimeout(C,1)}};C()}}},_fireReady:function(){if(!t){t=true;if(A){for(var j,l=0;j=A[l++];)j.call(r,this);A=null}}},available:function(j,l){if((j=(j+"").match(k)[1])&&g.isFunction(l))var m=1,q=g.later(function(){if(p.getElementById(j)&&(l()||1)||++m>500)q.cancel()},40,true)}});if(location&&(location.search||"").indexOf("ks-debug")!==-1)g.Config.debug=true})(KISSY);(function(g){g.config({combine:{core:["dom","ua","event","node","json","ajax","anim","base","cookie"]}})})(KISSY);
