/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Aug 23 12:13
*/
KISSY.add("dom/attr",function(m,d,r,s){function v(l,f){f=A[f]||f;var h=B[f];return h&&h.get?h.get(l,f):l[f]}r=document.documentElement;var y=!r.hasAttribute,w=r.textContent===s?"innerText":"textContent",i=d._isElementNode,k=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,j=/:|^on/,n=/\r/g,o={},u={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1},x=
{tabindex:{get:function(l){var f=l.getAttributeNode("tabindex");return f&&f.specified?parseInt(f.value,10):p.test(l.nodeName)||t.test(l.nodeName)&&l.href?0:s}},style:{get:function(l){return l.style.cssText},set:function(l,f){l.style.cssText=f}}},A={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
E={get:function(l,f){return d.prop(l,f)?f.toLowerCase():s},set:function(l,f,h){if(f===false)d.removeAttr(l,h);else{f=A[h]||h;if(f in l)l[f]=true;l.setAttribute(h,h.toLowerCase())}return h}},B={},C={},D={option:{get:function(l){var f=l.attributes.value;return!f||f.specified?l.value:l.text}},select:{get:function(l){var f=l.selectedIndex,h=l.options;l=l.type==="select-one";if(f<0)return null;else if(l)return d.val(h[f]);f=[];l=0;for(var c=h.length;l<c;++l)h[l].selected&&f.push(d.val(h[l]));return f},
set:function(l,f){var h=m.makeArray(f);m.each(l.options,function(c){c.selected=m.inArray(d.val(c),h)});if(!h.length)l.selectedIndex=-1;return h}}};if(y){C={get:function(l,f){var h;return(h=l.getAttributeNode(f))&&h.nodeValue!==""?h.nodeValue:s},set:function(l,f,h){if(l=l.getAttributeNode(h))l.nodeValue=f}};o=A;x.tabIndex=x.tabindex;m.each(["href","src","width","height","colSpan","rowSpan"],function(l){x[l]={get:function(f){f=f.getAttribute(l,2);return f===null?s:f}}});D.button=x.value=C}m.each(["radio",
"checkbox"],function(l){D[l]={get:function(f){return f.getAttribute("value")===null?"on":f.value},set:function(f,h){if(m.isArray(h))return f.checked=m.inArray(d.val(f),h)}}});m.mix(d,{prop:function(l,f,h){if(m.isPlainObject(f))for(var c in f)d.prop(l,c,f[c]);else{l=d.query(l);f=A[f]||f;var e=B[f];if(h!==s)m.each(l,function(a){if(e&&e.set)e.set(a,h,f);else a[f]=h});else if(l.length)return v(l[0],f)}},hasProp:function(l,f){for(var h=d.query(l),c=0;c<h.length;c++)if(v(h[c],f)!==s)return true;return false},
removeProp:function(l,f){f=A[f]||f;d.query(l).each(function(h){try{h[f]=s;delete h[f]}catch(c){}})},attr:function(l,f,h,c){if(m.isPlainObject(f)){c=h;for(var e in f)d.attr(l,e,f[e],c)}else if(f=m.trim(f)){f=f.toLowerCase();if(c&&u[f])return d[f](l,h);f=o[f]||f;var a;a=k.test(f)?E:j.test(f)?C:x[f];if(h===s){l=d.get(l);if(i(l)){if(l.nodeName.toLowerCase()=="form")a=C;if(a&&a.get)return a.get(l,f);l=l.getAttribute(f);return l===null?s:l}}else m.each(d.query(l),function(b){if(i(b))a&&a.set?a.set(b,h,
f):b.setAttribute(f,""+h)})}},removeAttr:function(l,f){f=f.toLowerCase();f=o[f]||f;m.each(d.query(l),function(h){if(i(h)){var c;h.removeAttribute(f);if(k.test(f)&&(c=A[f]||f)in h)h[c]=false}})},hasAttr:y?function(l,f){f=f.toLowerCase();for(var h=d.query(l),c=0;c<h.length;c++){var e=h[c].getAttributeNode(f);if(e&&e.specified)return true}return false}:function(l,f){for(var h=d.query(l),c=0;c<h.length;c++)if(h[c].hasAttribute(f))return true;return false},val:function(l,f){var h,c;if(f===s){var e=d.get(l);
if(e){if((h=D[e.nodeName.toLowerCase()]||D[e.type])&&"get"in h&&(c=h.get(e,"value"))!==s)return c;c=e.value;return typeof c==="string"?c.replace(n,""):m.isNullOrUndefined(c)?"":c}}else d.query(l).each(function(a){if(a.nodeType===1){var b=f;if(m.isNullOrUndefined(b))b="";else if(typeof b==="number")b+="";else if(m.isArray(b))b=m.map(b,function(g){return m.isNullOrUndefined(b)?"":g+""});h=D[a.nodeName.toLowerCase()]||D[a.type];if(!h||!("set"in h)||h.set(a,b,"value")===s)a.value=b}})},text:function(l,
f){if(f===s){var h=d.get(l);if(i(h))return h[w]||"";else if(d._nodeTypeIs(h,3))return h.nodeValue;return s}else m.each(d.query(l),function(c){if(i(c))c[w]=f;else if(d._nodeTypeIs(c,3))c.nodeValue=f})}});return d},{requires:["./base","ua"]});
KISSY.add("dom/base",function(m,d){function r(v,y){return v&&v.nodeType===y}var s={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12,_isElementNode:function(v){return r(v,1)},_getWin:function(v){return v&&"scrollTo"in v&&v.document?v:r(v,9)?v.defaultView||v.parentWindow:v===d||v===null?window:false},_nodeTypeIs:r,_isNodeList:function(v){return v&&
!v.nodeType&&v.item&&!v.setTimeout}};s.TEXT_NODE=3;return s});
KISSY.add("dom/class",function(m,d,r){function s(w,i,k,p){if(!(i=m.trim(i)))return p?false:r;w=d.query(w);var t=w.length,j=i.split(v);i=[];for(var n=0;n<j.length;n++){var o=m.trim(j[n]);o&&i.push(o)}for(n=0;n<t;n++){j=w[n];if(d._isElementNode(j)){j=k(j,i,i.length);if(j!==r)return j}}if(p)return false;return r}var v=/[\.\s]\s*\.?/,y=/[\n\t]/g;m.mix(d,{hasClass:function(w,i){return s(w,i,function(k,p,t){if(k=k.className){k=(" "+k+" ").replace(y," ");for(var j=0,n=true;j<t;j++)if(k.indexOf(" "+p[j]+
" ")<0){n=false;break}if(n)return true}},true)},addClass:function(w,i){s(w,i,function(k,p,t){var j=k.className;if(j){var n=(" "+j+" ").replace(y," ");j=j;for(var o=0;o<t;o++)if(n.indexOf(" "+p[o]+" ")<0)j+=" "+p[o];k.className=m.trim(j)}else k.className=i},r)},removeClass:function(w,i){s(w,i,function(k,p,t){var j=k.className;if(j)if(t){j=(" "+j+" ").replace(y," ");for(var n=0,o;n<t;n++)for(o=" "+p[n]+" ";j.indexOf(o)>=0;)j=j.replace(o," ");k.className=m.trim(j)}else k.className=""},r)},replaceClass:function(w,
i,k){d.removeClass(w,i);d.addClass(w,k)},toggleClass:function(w,i,k){var p=m.isBoolean(k),t;s(w,i,function(j,n,o){for(var u=0,x;u<o;u++){x=n[u];t=p?!k:d.hasClass(j,x);d[t?"removeClass":"addClass"](j,x)}},r)}});return d},{requires:["dom/base"]});
KISSY.add("dom/create",function(m,d,r,s){function v(a,b,g){b=b.getElementsByTagName("*");g=g.getElementsByTagName("*");for(var q=0;b[q];){g[q]&&a(b[q],g[q]);q++}}function y(a,b){var g=m.require("event");if(!(b.nodeType!==d.ELEMENT_NODE&&!d.hasData(a))){var q=d.data(a),z;for(z in q)d.data(b,z,q[z]);if(g){g._removeData(b);g._clone(a,b)}}}function w(a,b){b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(a);var g=b.nodeName.toLowerCase();if(g==="object"&&!b.childNodes.length)m.each(a.childNodes,
function(q){b.appendChild(q)});else if(g==="input"&&(a.type==="checkbox"||a.type==="radio")){if(a.checked)b.defaultChecked=b.checked=a.checked;if(b.value!==a.value)b.value=a.value}else if(g==="option")b.selected=a.defaultSelected;else if(g==="input"||g==="textarea")b.defaultValue=a.defaultValue;b.removeAttribute(d.__EXPANDO)}function i(a,b){if(m.isPlainObject(b))if(u(a))d.attr(a,b,true);else a.nodeType==d.DOCUMENT_FRAGMENT_NODE&&m.each(a.childNodes,function(g){d.attr(g,b,true)});return a}function k(a,
b){var g=null,q,z;if(a&&(a.push||a.item)&&a[0]){b=b||a[0].ownerDocument;g=b.createDocumentFragment();if(a.item)a=m.makeArray(a);q=0;for(z=a.length;q<z;q++)g.appendChild(a[q])}return g}function p(a,b){b=(b+"").replace(B,"");try{a.innerHTML=b}catch(g){for(;a.firstChild;)a.removeChild(a.firstChild);b&&a.appendChild(d.create(b))}}function t(a,b,g,q){if(g){var z=m.guid("ks-tmp-"),G=RegExp(B);b+='<span id="'+z+'"></span>';m.available(z,function(){var H=d.get("head"),F,K,I,L,M,J;for(G.lastIndex=0;F=G.exec(b);)if((I=
(K=F[1])?K.match(D):false)&&I[2]){F=j.createElement("script");F.src=I[2];if((L=K.match(l))&&L[2])F.charset=L[2];F.async=true;H.appendChild(F)}else if((J=F[2])&&J.length>0)m.globalEval(J);(M=j.getElementById(z))&&d.remove(M);m.isFunction(q)&&q()});p(a,b)}else{p(a,b);m.isFunction(q)&&q()}}var j=document,n=r.ie,o=d._nodeTypeIs,u=d._isElementNode,x=j.createElement("div"),A=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,E=/<(\w+)/,B=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,
C=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,D=/\ssrc=(['"])(.*?)\1/i,l=/\scharset=(['"])(.*?)\1/i;m.mix(d,{create:function(a,b,g){if(o(a,1)||o(a,3))return d.clone(a);if(!(a=m.trim(a)))return null;var q=null,z=d._creators,G,H="div",F;if(G=C.exec(a))q=(g||j).createElement(G[1]);else{a=a.replace(A,"<$1></$2>");if((G=E.exec(a))&&(F=G[1]))H=F.toLowerCase();a=(z[H]||z.div)(a,g).childNodes;if(a.length===1)q=a[0].parentNode.removeChild(a[0]);else if(a.length)q=k(a,g||j)}return i(q,b)},_creators:{div:function(a,b){var g=
b?b.createElement("div"):x;g.innerHTML="m<div>"+a+"</div>";return g.lastChild}},html:function(a,b,g,q){if(b===s){a=d.get(a);if(u(a))return a.innerHTML}else m.each(d.query(a),function(z){u(z)&&t(z,b,g,q)})},remove:function(a,b){m.each(d.query(a),function(g){if(!b&&g.nodeType==d.ELEMENT_NODE){var q=m.require("event");if(q){q.detach(g.getElementsByTagName("*"));q.detach(g)}d.removeData(g.getElementsByTagName("*"));d.removeData(g)}g.parentNode&&g.parentNode.removeChild(g)})},clone:function(a,b,g,q){a=
d.get(a);var z=a.cloneNode(b);if(a.nodeType==d.ELEMENT_NODE||a.nodeType==d.DOCUMENT_FRAGMENT_NODE){a.nodeType==d.ELEMENT_NODE&&w(a,z);b&&v(w,a,z)}if(g){y(a,z);b&&q&&v(y,a,z)}return z},_nl2frag:k});if(n||r.gecko||r.webkit){var f=d._creators,h=d.create,c=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/;r={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var e in r)(function(a){f[e]=function(b,g){return h("<"+a+">"+b+"</"+a+">",null,g)}})(r[e]);if(n<8)f.tbody=
function(a,b){var g=h("<table>"+a+"</table>",null,b),q=g.children.tags("tbody")[0];g.children.length>1&&q&&!c.test(a)&&q.parentNode.removeChild(q);return g};m.mix(f,{optgroup:f.option,th:f.td,thead:f.tbody,tfoot:f.tbody,caption:f.tbody,colgroup:f.tbody})}return d},{requires:["./base","ua"]});
KISSY.add("dom/data",function(m,d,r){var s=window,v="_ks_data_"+m.now(),y={},w={},i={};i.applet=1;i.object=1;i.embed=1;var k={hasData:function(j,n){if(j)if(n!==r){if(n in j)return true}else if(!m.isEmptyObject(j))return true;return false}},p={hasData:function(j,n){if(j==s)return p.hasData(w,n);return k.hasData(j[v],n)},data:function(j,n,o){if(j==s)return p.data(w,n,o);var u=j[v];if(o!==r){u=j[v]=j[v]||{};u[n]=o}else if(n!==r)return u&&u[n];else return u=j[v]=j[v]||{}},removeData:function(j,n){if(j==
s)return p.removeData(w,n);var o=j[v];if(o)if(n!==r){delete o[n];m.isEmptyObject(o)&&p.removeData(j,r)}else delete j[v]}},t={hasData:function(j,n){var o=j[v];if(!o)return false;return k.hasData(y[o],n)},data:function(j,n,o){if(!i[j.nodeName.toLowerCase()]){var u=j[v];u||(u=j[v]=m.guid());j=y[u];if(o!==r){j=y[u]=y[u]||{};j[n]=o}else if(n!==r)return j&&j[n];else return j=y[u]=y[u]||{}}},removeData:function(j,n){var o=j[v];if(o){var u=y[o];if(u)if(n!==r){delete u[n];m.isEmptyObject(u)&&t.removeData(j,
r)}else{delete y[o];try{delete j[v]}catch(x){}j.removeAttribute&&j.removeAttribute(v)}}}};m.mix(d,{__EXPANDO:v,hasData:function(j,n){var o=false;d.query(j).each(function(u){o=u&&u.nodeType?o||t.hasData(u,n):o||p.hasData(u,n)});return o},data:function(j,n,o){if(m.isPlainObject(n))for(var u in n)d.data(j,u,n[u]);else if(o===r)return(j=d.get(j))&&j.nodeType?t.data(j,n,o):p.data(j,n,o);else d.query(j).each(function(x){x&&x.nodeType?t.data(x,n,o):p.data(x,n,o)})},removeData:function(j,n){d.query(j).each(function(o){o&&
o.nodeType?t.removeData(o,n):p.removeData(o,n)})}});return d},{requires:["./base"]});
KISSY.add("dom/insertion",function(m,d){function r(w,i,k){w=d.query(w);i=d.query(i);if(w=s(w)){var p;if(i.length>1)p=w.cloneNode(true);for(var t=0;t<i.length;t++){var j=i[t],n=t>0?p.cloneNode(true):w;k(n,j)}}}var s=d._nl2frag;m.mix(d,{insertBefore:function(w,i){r(w,i,function(k,p){p.parentNode&&p.parentNode.insertBefore(k,p)})},insertAfter:function(w,i){r(w,i,function(k,p){p.parentNode&&p.parentNode.insertBefore(k,p.nextSibling)})},appendTo:function(w,i){r(w,i,function(k,p){p.appendChild(k)})},prependTo:function(w,
i){r(w,i,function(k,p){p.insertBefore(k,p.firstChild)})}});var v={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},y;for(y in v)d[y]=d[v[y]];return d},{requires:["./create"]});
KISSY.add("dom/offset",function(m,d,r,s){function v(f){var h,c=0;h=0;var e=i.body,a=n(f[A]);if(f[l]){h=f[l]();c=h[E];h=h[B];f=k&&i.documentMode!=9&&(o?p.clientTop:e.clientTop)||0;c-=k&&i.documentMode!=9&&(o?p.clientLeft:e.clientLeft)||0;h-=f;if(r.mobile=="apple"){c-=d[C](a);h-=d[D](a)}}return{left:c,top:h}}function y(f,h){var c={left:0,top:0},e=n(f[A]),a=f;h=h||e;do{var b;if(e==h){var g=a;b=v(g);g=n(g[A]);b.left+=d[C](g);b.top+=d[D](g);b=b}else b=v(a);b=b;c.left+=b.left;c.top+=b.top}while(e&&e!=h&&
(a=e.frameElement)&&(e=e.parent));return c}var w=window,i=document,k=r.ie,p=i.documentElement,t=d._isElementNode,j=d._nodeTypeIs,n=d._getWin,o=i.compatMode==="CSS1Compat",u=Math.max,x=parseInt,A="ownerDocument",E="left",B="top",C="scrollLeft",D="scrollTop",l="getBoundingClientRect";m.mix(d,{offset:function(f,h,c){if((f=d.get(f))&&f[A]){if(h===s)return y(f,c);f=f;if(d.css(f,"position")==="static")f.style.position="relative";c=y(f);var e={},a,b;for(b in h){a=x(d.css(f,b),10)||0;e[b]=a+h[b]-c[b]}d.css(f,
e)}},scrollIntoView:function(f,h,c,e){if((f=d.get(f))&&f[A]){e=e===s?true:!!e;c=c===s?true:!!c;if(!h||(h=d.get(h))===w)f.scrollIntoView(c);else{if(j(h,9))h=n(h);var a=!!n(h),b=d.offset(f),g=a?{left:d.scrollLeft(h),top:d.scrollTop(h)}:d.offset(h),q={left:b[E]-g[E],top:b[B]-g[B]};b=a?d.viewportHeight(h):h.clientHeight;g=a?d.viewportWidth(h):h.clientWidth;var z=d[C](h),G=d[D](h),H=z+g,F=G+b,K=f.offsetHeight;f=f.offsetWidth;var I=q.left+z-(a?0:x(d.css(h,"borderLeftWidth"))||0);a=q.top+G-(a?0:x(d.css(h,
"borderTopWidth"))||0);q=I+f;var L=a+K,M,J;if(K>b||a<G||c)M=a;else if(L>F)M=L-b;if(e)if(f>g||I<z||c)J=I;else if(q>H)J=q-g;d[D](h,M);d[C](h,J)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});m.each(["Left","Top"],function(f,h){var c="scroll"+f;d[c]=function(e,a){if(m.isNumber(e))arguments.callee(w,e);else{e=d.get(e);var b=0,g=n(e);if(g){if(a!==s){b=f=="Left"?a:d.scrollLeft(g);var q=f=="Top"?a:d.scrollTop(g);g.scrollTo(b,q)}b=g.document;b=g[h?"pageYOffset":"pageXOffset"]||b.documentElement[c]||
b.body[c]}else if(t(e=d.get(e)))b=a===s?e[c]:e[c]=a;return a===s?b:s}}});m.each(["Width","Height"],function(f){d["doc"+f]=function(h){h=d.get(h);h=n(h).document;return u(h.documentElement["scroll"+f],h.body["scroll"+f],d["viewport"+f](h))};d["viewport"+f]=function(h){h=d.get(h);var c="inner"+f;h=n(h);var e=h.document;return c in h?h[c]:o?e.documentElement["client"+f]:e.body["client"+f]}});return d},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(m,d,r){function s(c,e){var a=[],b;b=e===r?[t]:s(e,r);o(b,function(g){E.apply(a,v(c,g))});if(m.isString(c)&&c.indexOf(",")>-1||b.length>1)f(a);a.each=m.bind(o,r,a);return a}function v(c,e){var a=[];n("sizzle");if(C(c))c=m.trim(c);if(C(c)&&c.indexOf(",")>-1)a=y(c,e);else{if(C(c)&&!l.exec(String(c))){a=c;var b=[],g=n("sizzle");g&&g(a,e,b);a=b}else a=w(c,e);a=a}return a=a}function y(c,e){var a=[],b=c.split(",");o(b,function(g){E.apply(a,v(g,e))});return a}function w(c,
e){var a,b,g=[],q;if(C(c))if(D.test(c)){if(b=k(c.slice(1),e))g=[b]}else{if(a=l.exec(c)){b=a[1];q=a[2];a=a[3];if(e=b?k(b,e):e)if(a)if(!b||c.indexOf(B)!=-1)g=[].concat(h(a,q,e));else{if((b=k(b,e))&&d.hasClass(b,a))g=[b]}else if(q)g=p(q,e)}}else if(c&&(u(c)||A(c)))g=j(c,function(z){return i(z,e)});else if(c)if(i(c,e))g=[c];return g}function i(c,e){if(!c)return false;if(e==t)return true;return d.__contains(e,c)}function k(c,e){if(!e)return null;var a=e;if(e.nodeType!==9)a=e.ownerDocument;a=a.getElementById(c);
if(!i(a,e))return null;return a}function p(c,e){return e&&x(e.getElementsByTagName(c))||[]}var t=document,j=m.filter,n=m.require,o=m.each,u=m.isArray,x=m.makeArray,A=d._isNodeList,E=Array.prototype.push,B=" ",C=m.isString,D=/^#[\w-]+$/,l=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,f;(function(){var c,e,a=true;[0,0].sort(function(){a=false;return 0});f=function(b){if(c){e=a;b.sort(c);if(e)for(var g=1,q=b.length;g<q;)if(b[g]===b[g-1])b.splice(g,1);else g++}return b};c=t.documentElement.compareDocumentPosition?
function(b,g){if(b==g){e=true;return 0}if(!b.compareDocumentPosition||!g.compareDocumentPosition)return b.compareDocumentPosition?-1:1;return b.compareDocumentPosition(g)&4?-1:1}:function(b,g){if(b==g){e=true;return 0}else if(b.sourceIndex&&g.sourceIndex)return b.sourceIndex-g.sourceIndex}})();(function(){var c=t.createElement("div");c.appendChild(t.createComment(""));if(c.getElementsByTagName("*").length>0)p=function(e,a){var b=x(a.getElementsByTagName(e));if(e==="*"){for(var g=[],q=0,z;z=b[q++];)z.nodeType===
1&&g.push(z);b=g}return b}})();var h=t.getElementsByClassName?function(c,e,a){if(!a)return[];a=c=x(a.getElementsByClassName(c));var b=0,g=c.length,q;if(e&&e!=="*")for(a=x();b<g;++b){q=c[b];q.nodeName.toLowerCase()==e.toLowerCase()&&a.push(q)}return a}:t.querySelectorAll?function(c,e,a){return a&&x(a.querySelectorAll((e?e:"")+"."+c))||[]}:function(c,e,a){if(!a)return[];e=x(a.getElementsByTagName(e||"*"));a=[];for(var b=0,g=e.length,q;b<g;++b){q=e[b];d.hasClass(q,c)&&a.push(q)}return a};m.mix(d,{query:s,
get:function(c,e){return s(c,e)[0]||null},unique:f,filter:function(c,e,a){c=s(c,a);a=n("sizzle");var b,g,q,z=[];if(C(e)&&(b=l.exec(e))&&!b[1]){g=b[2];q=b[3];e=function(G){var H=true,F=true;if(g)H=G.nodeName.toLowerCase()==g.toLowerCase();if(q)F=d.hasClass(G,q);return F&&H}}if(m.isFunction(e))z=m.filter(c,e);else if(e&&a)z=a.matches(e,c);return z},test:function(c,e,a){c=s(c,a);return c.length&&d.filter(c,e,a).length===c.length}});return d},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(m,d,r,s){if(!r.ie)return d;var v=document,y=v.documentElement,w=s._CUSTOM_STYLES,i=/^-?\d+(?:px)?$/i,k=/^-?\d/,p=/opacity=([^)]*)/,t=/alpha\([^)]*\)/i;try{if(m.isNullOrUndefined(y.style.opacity))w.opacity={get:function(o,u){return p.test((u&&o.currentStyle?o.currentStyle.filter:o.style.filter)||"")?parseFloat(RegExp.$1)/100+"":u?"1":""},set:function(o,u){u=parseFloat(u);var x=o.style,A=o.currentStyle,E=isNaN(u)?"":"alpha(opacity="+u*100+")",B=m.trim(A&&A.filter||
x.filter||"");x.zoom=1;if(u>=1&&m.trim(B.replace(t,""))===""){x.removeAttribute("filter");if(A&&!A.filter)return}x.filter=t.test(B)?B.replace(t,E):B+(B?", ":"")+E}}}catch(j){}r=r.ie==8;var n={};n.thin=r?"1px":"2px";n.medium=r?"3px":"4px";n.thick=r?"5px":"6px";m.each(["","Top","Left","Right","Bottom"],function(o){var u="border"+o+"Width",x="border"+o+"Style";w[u]={get:function(A,E){var B=E?A.currentStyle:0,C=B&&String(B[u])||undefined;if(C&&C.indexOf("px")<0)C=n[C]&&B[x]!=="none"?n[C]:0;return C}}});
if(!(v.defaultView||{}).getComputedStyle&&y.currentStyle)d._getComputedStyle=function(o,u){u=d._cssProps[u]||u;var x=o.currentStyle&&o.currentStyle[u];if(!i.test(x)&&k.test(x)){var A=o.style,E=A.left,B=o.runtimeStyle&&o.runtimeStyle.left;if(B)o.runtimeStyle.left=o.currentStyle.left;A.left=u==="fontSize"?"1em":x||0;x=A.pixelLeft+"px";A.left=E;if(B)o.runtimeStyle.left=B}return x===""?"auto":x};return d},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(m,d,r,s){function v(c,e,a){var b={},g;for(g in e){b[g]=c[t][g];c[t][g]=e[g]}a.call(c);for(g in e)c[t][g]=b[g]}function y(c,e,a){var b;if(c.nodeType===3||c.nodeType===8||!(b=c[t]))return s;e=e.replace(x,A);var g,q=D[e];e=l[e]||e;if(a!==s){if(a===null||a===B)a=B;else if(!isNaN(Number(a))&&!u[e])a+=C;if(q&&q.set)a=q.set(c,a);if(a!==s)try{c[t][e]=a}catch(z){}return s}else{if(!(q&&"get"in q&&(g=q.get(c,false))!==s))g=b[e];return g===s?"":g}}function w(c,e){if(m.isWindow(c))return e==
j?d.viewportWidth(c):d.viewportHeight(c);else if(c.nodeType==9)return e==j?d.docWidth(c):d.docHeight(c);var a=e===j?c.offsetWidth:c.offsetHeight;m.each(e===j?["Left","Right"]:["Top","Bottom"],function(b){a-=parseFloat(d.css(c,"padding"+b))||0;a-=parseFloat(d.css(c,"border"+b+"Width"))||0});return a}var i=document,k=i.documentElement,p=r.ie,t="style",j="width",n=parseInt,o=/^-?\d+(?:px)?$/i,u={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},x=/-([a-z])/ig,A=function(c,
e){return e.toUpperCase()},E=/([A-Z]|^ms)/g,B="",C="px",D={},l={},f={};if(k[t].cssFloat!==s)l["float"]="cssFloat";else if(k[t].styleFloat!==s)l["float"]="styleFloat";m.mix(d,{_CUSTOM_STYLES:D,_cssProps:l,_getComputedStyle:function(c,e){var a="",b={},g=c.ownerDocument;e=e.replace(E,"-$1").toLowerCase();if(b=g.defaultView.getComputedStyle(c,null))a=b.getPropertyValue(e)||b[e];if(a==""&&!d.__contains(g.documentElement,c)){e=l[e]||e;a=c[t][e]}return a},style:function(c,e,a){if(m.isPlainObject(e))for(var b in e)d.style(c,
b,e[b]);else if(a===s){if(c=d.get(c))return y(c,e,a)}else d.query(c).each(function(g){y(g,e,a)})},css:function(c,e,a){if(m.isPlainObject(e))for(var b in e)d.css(c,b,e[b]);else{e=e.replace(x,A);b=D[e];if(a===s){c=d.get(c);a="";if(!(b&&"get"in b&&(a=b.get(c,true))!==s))a=d._getComputedStyle(c,e);return a===s?"":a}else d.style(c,e,a)}},show:function(c){d.query(c).each(function(e){e[t].display=d.data(e,"display")||B;if(d.css(e,"display")==="none"){var a=e.tagName,b=f[a],g;if(!b){g=i.createElement(a);
i.body.appendChild(g);b=d.css(g,"display");d.remove(g);f[a]=b}d.data(e,"display",b);e[t].display=b}})},hide:function(c){d.query(c).each(function(e){var a=e[t],b=a.display;if(b!=="none"){b&&d.data(e,"display",b);a.display="none"}})},toggle:function(c){d.query(c).each(function(e){d.css(e,"display")==="none"?d.show(e):d.hide(e)})},addStyleSheet:function(c,e,a){if(m.isString(c)){a=e;e=c;c=window}c=d.get(c);c=d._getWin(c).document;var b;if(a&&(a=a.replace("#",B)))b=d.get("#"+a,c);if(!b){b=d.create("<style>",
{id:a},c);d.get("head",c).appendChild(b);if(b.styleSheet)b.styleSheet.cssText=e;else b.appendChild(c.createTextNode(e))}},unselectable:function(c){d.query(c).each(function(e){if(r.gecko)e[t].MozUserSelect="none";else if(r.webkit)e[t].KhtmlUserSelect="none";else if(r.ie||r.opera){var a=0,b=e.getElementsByTagName("*");for(e.setAttribute("unselectable","on");e=b[a++];)switch(e.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:e.setAttribute("unselectable",
"on")}}})}});m.each([j,"height"],function(c){d[c]=function(e,a){var b=d.css(e,c,a);if(b)b=parseFloat(b);return b}});var h={position:"absolute",visibility:"hidden",display:"block"};m.each(["height","width"],function(c){D[c]={get:function(e,a){var b;if(a){if(e.offsetWidth!==0)b=w(e,c);else v(e,h,function(){b=w(e,c)});return b+"px"}},set:function(e,a){if(o.test(a)){a=parseFloat(a);if(a>=0)return a+"px"}else return a}}});m.each(["left","top"],function(c){D[c]={get:function(e,a){if(a){var b=d._getComputedStyle(e,
c);if(b==="auto"){b=0;if(m.inArray(d.css(e,"position"),["absolute","fixed"])){b=e[c==="left"?"offsetLeft":"offsetTop"];if(p&&document.documentMode!=9||r.opera)b-=e.offsetParent["client"+(c=="left"?"Left":"Top")]||0;b=b-(n(d.css(e,"margin-"+c))||0)}}return b}}}});return d},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(m,d,r){function s(i,k,p,t,j,n){if(!(i=d.get(i)))return null;if(k===0)return i;n||(i=i[p]);if(!i)return null;j=j&&d.get(j)||null;if(k===r)k=1;n=[];var o=m.isArray(k),u,x;if(m.isNumber(k)){u=0;x=k;k=function(){return++u===x}}for(;i&&i!=j;){if(w(i)&&v(i,k)&&(!t||t(i))){n.push(i);if(!o)break}i=i[p]}return o?n:n[0]||null}function v(i,k){if(!k)return true;if(m.isArray(k))for(var p=0;p<k.length;p++){if(d.test(i,k[p]))return true}else if(d.test(i,k))return true;return false}
function y(i,k,p){var t=[];var j=i=d.get(i);if(i&&p)j=i.parentNode;if(j){p=0;for(j=j.firstChild;j;j=j.nextSibling)if(w(j)&&j!==i&&(!k||d.test(j,k)))t[p++]=j}return t}var w=d._isElementNode;m.mix(d,{closest:function(i,k,p){return s(i,k,"parentNode",function(t){return t.nodeType!=d.DOCUMENT_FRAGMENT_NODE},p,true)},parent:function(i,k,p){return s(i,k,"parentNode",function(t){return t.nodeType!=d.DOCUMENT_FRAGMENT_NODE},p)},first:function(i,k){var p=d.get(i);if(!p||!p.firstChild)return null;return s(p.firstChild,
k,"nextSibling",r,r,true)},last:function(i,k){var p=d.get(i);if(!p||!p.lastChild())return null;return s(p.lastChild,k,"previousSibling",r,r,true)},next:function(i,k){return s(i,k,"nextSibling",r)},prev:function(i,k){return s(i,k,"previousSibling",r)},siblings:function(i,k){return y(i,k,true)},children:function(i,k){return y(i,k,r)},__contains:document.documentElement.contains?function(i,k){if(i.nodeType==d.TEXT_NODE)return false;var p;if(k.nodeType==d.TEXT_NODE){k=k.parentNode;p=true}else if(k.nodeType==
d.DOCUMENT_NODE)return false;else p=i!==k;return p&&(i.contains?i.contains(k):true)}:document.documentElement.compareDocumentPosition?function(i,k){return!!(i.compareDocumentPosition(k)&16)}:0,contains:function(i,k){i=d.get(i);k=d.get(k);return d.__contains(i,k)},equals:function(i,k){i=d.query(i);k=d.query(k);if(i.length!=k.length)return false;for(var p=i.length;p>=0;p--)if(i[p]!=k[p])return false;return true}});return d},{requires:["./base"]});
KISSY.add("dom",function(m,d){return d},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
