/*
Copyright 2012, KISSY UI Library v1.40dev
MIT Licensed
build time: Nov 22 17:43
*/
KISSY.add("dom/attr",function(h,a,e,j){function n(a,g){var g=r[g]||g,o=C[g];return o&&o.get?o.get(a,g):a[g]}var q=h.Env.host.document,l=a.NodeType,s=q&&q.documentElement,e=e.ie&&(q.documentMode||e.ie),u=s&&s.textContent===j?"innerText":"textContent",f=a.nodeName,k=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,d=/^(?:button|input|object|select|textarea)$/i,i=/^a(?:rea)?$/i,b=/:|^on/,c=/\r/g,t={},z={val:1,css:1,html:1,text:1,
data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},v={tabindex:{get:function(a){var g=a.getAttributeNode("tabindex");return g&&g.specified?parseInt(g.value,10):d.test(a.nodeName)||i.test(a.nodeName)&&a.href?0:j}},style:{get:function(a){return a.style.cssText},set:function(a,g){a.style.cssText=g}}},r={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},w={get:function(b,g){return a.prop(b,g)?g.toLowerCase():j},set:function(b,g,o){!1===g?a.removeAttr(b,o):(g=r[o]||o,g in b&&(b[g]=!0),b.setAttribute(o,o.toLowerCase()));return o}},C={},x={},y={option:{get:function(a){var g=a.attributes.value;return!g||g.specified?a.value:a.text}},select:{get:function(b){var g=b.selectedIndex,o=b.options;if(0>g)return null;if("select-one"===b.type)return a.val(o[g]);for(var b=[],g=0,m=o.length;g<
m;++g)o[g].selected&&b.push(a.val(o[g]));return b},set:function(b,g){var o=h.makeArray(g);h.each(b.options,function(g){g.selected=h.inArray(a.val(g),o)});o.length||(b.selectedIndex=-1);return o}}};e&&8>e&&(x={get:function(a,g){var b;return(b=a.getAttributeNode(g))&&(b.specified||b.nodeValue)?b.nodeValue:j},set:function(a,g,b){var m=a.getAttributeNode(b);if(m)m.nodeValue=g;else try{var c=a.ownerDocument.createAttribute(b);c.value=g;a.setAttributeNode(c)}catch(f){return a.setAttribute(b,g,0)}}},t=r,
v.tabIndex=v.tabindex,h.each("href,src,width,height,colSpan,rowSpan".split(","),function(a){v[a]={get:function(g){g=g.getAttribute(a,2);return g===null?j:g}}}),y.button=v.value=x);e&&9>e&&((v.href=v.href||{}).set=function(a,g,b){for(var m=a.childNodes,c,f=m.length,p=f>0,f=f-1;f>=0;f--)m[f].nodeType!=l.TEXT_NODE&&(p=0);if(p){c=a.ownerDocument.createElement("b");c.style.display="none";a.appendChild(c)}a.setAttribute(b,""+g);c&&a.removeChild(c)});h.each(["radio","checkbox"],function(b){y[b]={get:function(g){return g.getAttribute("value")===
null?"on":g.value},set:function(g,b){if(h.isArray(b))return g.checked=h.inArray(a.val(g),b)}}});h.mix(a,{prop:function(b,g,o){var m=a.query(b);if(h.isPlainObject(g)){h.each(g,function(g,b){a.prop(m,b,g)});return j}g=r[g]||g;b=C[g];if(o!==j)for(var c=m.length-1;c>=0;c--){var f=m[c];b&&b.set?b.set(f,o,g):f[g]=o}else if(m.length)return n(m[0],g);return j},hasProp:function(b,g){for(var o=a.query(b),c=0;c<o.length;c++)if(n(o[c],g)!==j)return true;return false},removeProp:function(b,g){for(var g=r[g]||
g,o=a.query(b),c=o.length-1;c>=0;c--){var f=o[c];try{f[g]=j;delete f[g]}catch(i){}}},attr:function(c,g,o,m){var i=a.query(c);if(h.isPlainObject(g)){var m=o,d;for(d in g)a.attr(i,d,g[d],m);return j}if(!(g=h.trim(g)))return j;if(m&&z[g])return a[g](c,o);g=g.toLowerCase();if(m&&z[g])return a[g](c,o);g=t[g]||g;m=i[0];c=k.test(g)?w:b.test(g)?x:v[g];if(o===j){if(m&&m.nodeType===l.ELEMENT_NODE){f(m)=="form"&&(c=x);if(c&&c.get)return c.get(m,g);g=m.getAttribute(g);return g===null?j:g}}else for(d=i.length-
1;d>=0;d--)if((m=i[d])&&m.nodeType===l.ELEMENT_NODE){f(m)=="form"&&(c=x);c&&c.set?c.set(m,o,g):m.setAttribute(g,""+o)}return j},removeAttr:function(b,g){var g=g.toLowerCase(),g=t[g]||g,c=a.query(b),m,f;for(f=c.length-1;f>=0;f--){m=c[f];if(m.nodeType==l.ELEMENT_NODE){var d;m.removeAttribute(g);if(k.test(g)&&(d=r[g]||g)in m)m[d]=false}}},hasAttr:s&&!s.hasAttribute?function(b,g){for(var g=g.toLowerCase(),c=a.query(b),f=0;f<c.length;f++){var d=c[f].getAttributeNode(g);if(d&&d.specified)return true}return false}:
function(b,g){for(var c=a.query(b),f=0;f<c.length;f++)if(c[f].hasAttribute(g))return true;return false},val:function(b,g){var o,m;if(g===j){var d=a.get(b);if(d){if((o=y[f(d)]||y[d.type])&&"get"in o&&(m=o.get(d,"value"))!==j)return m;m=d.value;return typeof m==="string"?m.replace(c,""):m==null?"":m}return j}m=a.query(b);var i;for(i=m.length-1;i>=0;i--){d=m[i];if(d.nodeType!==1)break;var p=g;p==null?p="":typeof p==="number"?p=p+"":h.isArray(p)&&(p=h.map(p,function(g){return g==null?"":g+""}));o=y[f(d)]||
y[d.type];if(!o||!("set"in o)||o.set(d,p,"value")===j)d.value=p}return j},_propHooks:C,text:function(b,g){if(g===j){var c=a.get(b);if(c.nodeType==l.ELEMENT_NODE)return c[u]||"";if(c.nodeType==l.TEXT_NODE)return c.nodeValue}else{var f=a.query(b),d;for(d=f.length-1;d>=0;d--){c=f[d];if(c.nodeType==l.ELEMENT_NODE)c[u]=g;else if(c.nodeType==l.TEXT_NODE)c.nodeValue=g}}return j}});return a},{requires:["./base","ua"]});
KISSY.add("dom/base",function(h,a,e){var j=h.Env.host,n={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},q={isCustomDomain:function(a){var a=a||j,h=a.document.domain,a=a.location.hostname;return h!=a&&h!="["+a+"]"},getEmptyIframeSrc:function(h){h=h||j;return a.ie&&q.isCustomDomain(h)?"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+
h.document.domain+"';document.close();")+"}())":e},NodeType:n,_getWin:function(a){return null==a?j:"scrollTo"in a&&a.document?a:a.nodeType==n.DOCUMENT_NODE?a.defaultView||a.parentWindow:!1},_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(h){var e=q.get(h),h=e.nodeName.toLowerCase();a.ie&&(e=e.scopeName)&&"HTML"!=e&&(h=e.toLowerCase()+":"+h);return h},_RE_NUM_NO_PX:RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i")};h.mix(q,n);
return q},{requires:["ua"]});
KISSY.add("dom/class",function(h,a,e){function j(j,l,f,k){if(!(l=h.trim(l)))return k?!1:e;for(var j=a.query(j),d=j.length,i=l.split(q),l=[],b=0;b<i.length;b++){var c=h.trim(i[b]);c&&l.push(c)}for(b=0;b<d;b++)if(i=j[b],i.nodeType==n.ELEMENT_NODE&&(i=f(i,l,l.length),i!==e))return i;return k?!1:e}var n=a.NodeType,q=/[\.\s]\s*\.?/,l=/[\n\t]/g;h.mix(a,{hasClass:function(a,h){return j(a,h,function(a,h,d){if(a=a.className){for(var a=(" "+a+" ").replace(l," "),i=0,b=!0;i<d;i++)if(0>a.indexOf(" "+h[i]+" ")){b=
!1;break}if(b)return!0}},!0)},addClass:function(a,n){j(a,n,function(a,e,d){var i=a.className;if(i){for(var b=(" "+i+" ").replace(l," "),c=0;c<d;c++)0>b.indexOf(" "+e[c]+" ")&&(i+=" "+e[c]);a.className=h.trim(i)}else a.className=n},e)},removeClass:function(a,n){j(a,n,function(a,e,d){var i=a.className;if(i)if(d){for(var i=(" "+i+" ").replace(l," "),b=0,c;b<d;b++)for(c=" "+e[b]+" ";0<=i.indexOf(c);)i=i.replace(c," ");a.className=h.trim(i)}else a.className=""},e)},replaceClass:function(h,e,f){a.removeClass(h,
e);a.addClass(h,f)},toggleClass:function(n,l,f){var k=h.isBoolean(f),d;j(n,l,function(i,b,c){for(var h=0,e;h<c;h++)e=b[h],d=k?!f:a.hasClass(i,e),a[d?"removeClass":"addClass"](i,e)},e)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(h,a,e,j){function n(g){var b=h.require("event/dom");b&&b.detach(g);a.removeData(g)}function q(a,b,c){if(b.nodeType==k.DOCUMENT_FRAGMENT_NODE)for(var b=b.childNodes,c=c.childNodes,d=0;b[d];)c[d]&&q(a,b[d],c[d]),d++;else if(b.nodeType==k.ELEMENT_NODE){b=b.getElementsByTagName("*");c=c.getElementsByTagName("*");for(d=0;b[d];)c[d]&&a(b[d],c[d]),d++}}function l(g,b){var c=h.require("event/dom"),d,f;if(b.nodeType!=k.ELEMENT_NODE||a.hasData(g)){d=a.data(g);for(f in d)a.data(b,
f,d[f]);c&&(c._DOMUtils.removeData(b),c._clone(g,b))}}function s(b,c){c.clearAttributes&&c.clearAttributes();c.mergeAttributes&&c.mergeAttributes(b);var d=c.nodeName.toLowerCase(),f=b.childNodes;if("object"===d&&!c.childNodes.length)for(d=0;d<f.length;d++)c.appendChild(f[d].cloneNode(!0));else if("input"===d&&("checkbox"===b.type||"radio"===b.type)){if(b.checked&&(c.defaultChecked=c.checked=b.checked),c.value!==b.value)c.value=b.value}else if("option"===d)c.selected=b.defaultSelected;else if("input"===
d||"textarea"===d)c.defaultValue=b.defaultValue;c.removeAttribute(a.__EXPANDO)}function u(a){var b=null,c,d;if(a&&(a.push||a.item)&&a[0]){b=a[0].ownerDocument;b=b.createDocumentFragment();a=h.makeArray(a);c=0;for(d=a.length;c<d;c++)b.appendChild(a[c])}return b}var f=h.Env.host.document,k=a.NodeType,e=e.ie,d=f&&f.createElement("div"),i=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,b=/<([\w:]+)/,c=/<tbody/i,t=/^\s+/,z=e&&9>e,v=/<|&#?\w+;/,r=f&&"outerHTML"in f.documentElement,
w=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;h.mix(a,{create:function(g,c,d,e){var r=null;if(!g)return r;if(g.nodeType)return a.clone(g);if("string"!=typeof g)return r;e===j&&(e=!0);e&&(g=h.trim(g));var e=a._creators,p,F,d=d||f,D,G="div";if(v.test(g))if(D=w.exec(g))r=d.createElement(D[1]);else{g=g.replace(i,"<$1></$2>");if((D=b.exec(g))&&(p=D[1]))G=p.toLowerCase();p=(e[G]||e.div)(g,d);z&&(F=g.match(t))&&p.insertBefore(d.createTextNode(F[0]),p.firstChild);g=p.childNodes;1===g.length?r=g[0].parentNode.removeChild(g[0]):
g.length&&(r=u(g))}else r=d.createTextNode(g);h.isPlainObject(c)&&(r.nodeType==k.ELEMENT_NODE?a.attr(r,c,!0):r.nodeType==k.DOCUMENT_FRAGMENT_NODE&&a.attr(r.childNodes,c,!0));return r},_creators:{div:function(a,b){var c=b&&b!=f?b.createElement("div"):d;c.innerHTML="m<div>"+a+"</div>";return c.lastChild}},html:function(c,d,f,i){var c=a.query(c),h=c[0];if(h){if(d===j)return h.nodeType==k.ELEMENT_NODE?h.innerHTML:null;var p=!1,e,D,d=d+"";if(!d.match(/<(?:script|style|link)/i)&&(!z||!d.match(t))&&!y[(d.match(b)||
["",""])[1].toLowerCase()])try{for(e=c.length-1;0<=e;e--)D=c[e],D.nodeType==k.ELEMENT_NODE&&(n(D.getElementsByTagName("*")),D.innerHTML=d);p=!0}catch(G){}p||(d=a.create(d,0,h.ownerDocument,0),a.empty(c),a.append(d,c,f));i&&i()}},outerHTML:function(b,c,d){var b=a.query(b),f=b.length,i=b[0];if(i){if(c===j){if(r)return i.outerHTML;c=i.ownerDocument.createElement("div");c.appendChild(a.clone(i,!0));return c.innerHTML}c+="";if(!c.match(/<(?:script|style|link)/i)&&r)for(d=f-1;0<=d;d--)i=b[d],i.nodeType==
k.ELEMENT_NODE&&(n(i),n(i.getElementsByTagName("*")),i.outerHTML=c);else c=a.create(c,0,i.ownerDocument,0),a.insertBefore(c,b,d),a.remove(b)}},remove:function(b,c){var d,f=a.query(b),i;for(i=f.length-1;0<=i;i--){d=f[i];if(!c&&d.nodeType==k.ELEMENT_NODE){var p=d.getElementsByTagName("*");n(p);n(d)}d.parentNode&&d.parentNode.removeChild(d)}},clone:function(b,c,d,f){"object"===typeof c&&(f=c.deepWithDataAndEvent,d=c.withDataAndEvent,c=c.deep);b=a.get(b);if(!b)return null;var i=b.cloneNode(c);if(b.nodeType==
k.ELEMENT_NODE||b.nodeType==k.DOCUMENT_FRAGMENT_NODE)b.nodeType==k.ELEMENT_NODE&&s(b,i),c&&q(s,b,i);d&&(l(b,i),c&&f&&q(l,b,i));return i},empty:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],a.remove(c.childNodes)},nodeListToFragment:u});var C=a._creators,x=a.create,y={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},B;for(B in y)(function(b){C[B]=function(a,
c){return x("<"+b+">"+a+"</"+b+">",null,c)}})(y[B]);8>e&&(C.table=function(b,d){var f=C.div(b,d);if(c.test(b))return f;var i=f.firstChild,e=h.makeArray(i.childNodes);h.each(e,function(b){"tbody"==a.nodeName(b)&&!b.childNodes.length&&i.removeChild(b)});return f});return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(h,a,e){var j=h.Env.host,n="__ks_data_"+h.now(),q={},l={},s={applet:1,object:1,embed:1},u={hasData:function(a,f){if(a)if(f!==e){if(f in a)return!0}else if(!h.isEmptyObject(a))return!0;return!1}},f={hasData:function(a,i){return a==j?f.hasData(l,i):u.hasData(a[n],i)},data:function(a,i,b){if(a==j)return f.data(l,i,b);var c=a[n];if(b!==e)c=a[n]=a[n]||{},c[i]=b;else return i!==e?c&&c[i]:c=a[n]=a[n]||{}},removeData:function(a,i){if(a==j)return f.removeData(l,i);var b=a[n];if(i!==
e)delete b[i],h.isEmptyObject(b)&&f.removeData(a);else try{delete a[n]}catch(c){a[n]=e}}},k={hasData:function(a,f){var b=a[n];return!b?!1:u.hasData(q[b],f)},data:function(a,f,b){if(s[a.nodeName.toLowerCase()])return e;var c=a[n];if(!c){if(f!==e&&b===e)return e;c=a[n]=h.guid()}a=q[c];if(b!==e)a=q[c]=q[c]||{},a[f]=b;else return f!==e?a&&a[f]:a=q[c]=q[c]||{}},removeData:function(a,f){var b=a[n],c;if(b)if(c=q[b],f!==e)delete c[f],h.isEmptyObject(c)&&k.removeData(a);else{delete q[b];try{delete a[n]}catch(t){a[n]=
e}a.removeAttribute&&a.removeAttribute(n)}}};h.mix(a,{__EXPANDO:n,hasData:function(d,i){for(var b=!1,c=a.query(d),e=0;e<c.length&&!(b=c[e],b=b.nodeType?k.hasData(b,i):f.hasData(b,i));e++);return b},data:function(d,i,b){var d=a.query(d),c=d[0];if(h.isPlainObject(i)){for(var t in i)a.data(d,t,i[t]);return e}if(b===e){if(c)return c.nodeType?k.data(c,i):f.data(c,i)}else for(t=d.length-1;0<=t;t--)c=d[t],c.nodeType?k.data(c,i,b):f.data(c,i,b);return e},removeData:function(d,i){var b=a.query(d),c,e;for(e=
b.length-1;0<=e;e--)c=b[e],c.nodeType?k.removeData(c,i):f.removeData(c,i)}});return a},{requires:["./base"]});KISSY.add("dom",function(h,a){h.mix(h,{DOM:a,get:a.get,query:a.query});return a},{requires:"dom/attr,dom/class,dom/create,dom/data,dom/insertion,dom/offset,dom/style,dom/selector,dom/style-ie,dom/traversal".split(",")});
KISSY.add("dom/insertion",function(h,a,e){function j(a){for(var c=0;c<a.length;c++){var d=a[c];if(d.nodeType==s.DOCUMENT_FRAGMENT_NODE)j(d.childNodes);else if("input"==f(d)){if("checkbox"===d.type||"radio"===d.type)d.defaultChecked=d.checked}else if(d.nodeType==s.ELEMENT_NODE)for(var d=d.getElementsByTagName("input"),i=0;i<d.length;i++)j(d[i])}}function n(a,c){var e=[],h,j,r;for(h=0;a[h];h++)if(j=a[h],r=f(j),j.nodeType==s.DOCUMENT_FRAGMENT_NODE)e.push.apply(e,n(k(j.childNodes),c));else if("script"===
r&&(!j.type||i.test(j.type)))j.parentNode&&j.parentNode.removeChild(j),c&&c.push(j);else{if(j.nodeType==s.ELEMENT_NODE&&!u.test(r)){r=[];var w,l,x=j.getElementsByTagName("script");for(l=0;l<x.length;l++)w=x[l],(!w.type||i.test(w.type))&&r.push(w);d.apply(a,[h+1,0].concat(r))}e.push(j)}return e}function q(a){a.src?h.getScript(a.src):(a=h.trim(a.text||a.textContent||a.innerHTML||""))&&h.globalEval(a)}function l(b,c,d,f){b=e.query(b);f&&(f=[]);b=n(b,f);8>a.ie&&j(b);var c=e.query(c),i=c.length;if((b.length||
f&&f.length)&&i){var b=e.nodeListToFragment(b),k;1<i&&(k=e.clone(b,!0),c=h.makeArray(c));for(var w=0;w<i;w++){var l=c[w];if(b){var x=0<w?e.clone(k,!0):b;d(x,l)}f&&f.length&&h.each(f,q)}}}var s=e.NodeType,u=/^(?:button|input|object|select|textarea)$/i,f=e.nodeName,k=h.makeArray,d=[].splice,i=/\/(java|ecma)script/i;h.mix(e,{insertBefore:function(a,c,d){l(a,c,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},d)},insertAfter:function(a,c,d){l(a,c,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,
b.nextSibling)},d)},appendTo:function(a,c,d){l(a,c,function(a,b){b.appendChild(a)},d)},prependTo:function(a,c,d){l(a,c,function(a,b){b.insertBefore(a,b.firstChild)},d)},wrapAll:function(a,c){c=e.clone(e.get(c),!0);a=e.query(a);a[0].parentNode&&e.insertBefore(c,a[0]);for(var d;(d=c.firstChild)&&1==d.nodeType;)c=d;e.appendTo(a,c)},wrap:function(a,c){a=e.query(a);c=e.get(c);h.each(a,function(a){e.wrapAll(a,c)})},wrapInner:function(a,c){a=e.query(a);c=e.get(c);h.each(a,function(a){var b=a.childNodes;
b.length?e.wrapAll(b,c):a.appendChild(c)})},unwrap:function(a){a=e.query(a);h.each(a,function(a){a=a.parentNode;e.replaceWith(a,a.childNodes)})},replaceWith:function(a,c){var d=e.query(a),c=e.query(c);e.remove(c,!0);e.insertBefore(c,d);e.remove(d)}});h.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(a,c){e[c]=e[a]});return e},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(h,a,e,j){function n(a){var d,f=a.ownerDocument.body;if(!a.getBoundingClientRect)return{left:0,top:0};d=a.getBoundingClientRect();a=d[b];d=d[c];a-=u.clientLeft||f.clientLeft||0;d-=u.clientTop||f.clientTop||0;return{left:a,top:d}}function q(b,c){var d={left:0,top:0},e=f(b[i]),h=b,c=c||e;do{var k;if(e==c){var g=h;k=n(g);g=f(g[i]);k.left+=a[z](g);k.top+=a[v](g)}else k=n(h);d.left+=k.left;d.top+=k.top}while(e&&e!=c&&(h=e.frameElement)&&(e=e.parent));return d}var l=h.Env.host,
e=l.document,s=a.NodeType,u=e&&e.documentElement,f=a._getWin,k=Math.max,d=parseInt,i="ownerDocument",b="left",c="top",t=h.isNumber,z="scrollLeft",v="scrollTop";h.mix(a,{offset:function(b,c,f){if(c===j){var b=a.get(b),i;b&&(i=q(b,f));return i}f=a.query(b);for(i=f.length-1;0<=i;i--){var b=f[i],e=c;"static"===a.css(b,"position")&&(b.style.position="relative");var h=q(b),g={},k=void 0,m=void 0;for(m in e)k=d(a.css(b,m),10)||0,g[m]=k+e[m]-h[m];a.css(b,g)}return j},scrollIntoView:function(i,e,h,k,l){var n,
g,o;if(g=a.get(i)){e&&(e=a.get(e));e||(e=g.ownerDocument);!0!==l&&(k=k===j?!0:!!k,h=h===j?!0:!!h);e.nodeType==s.DOCUMENT_NODE&&(e=f(e));o=!!f(e);l=a.offset(g);i=a.outerHeight(g);n=a.outerWidth(g);var m,t,q,p;o?(g=e,m=a.height(g),t=a.width(g),p={left:a.scrollLeft(g),top:a.scrollTop(g)},g=l[b]-p[b],o=l[c]-p[c],n=l[b]+n-(p[b]+t),l=l[c]+i-(p[c]+m)):(m=a.offset(e),t=e.clientHeight,q=e.clientWidth,p={left:a.scrollLeft(e),top:a.scrollTop(e)},g=l[b]-m[b]-(d(a.css(e,"borderLeftWidth"))||0),o=l[c]-m[c]-(d(a.css(e,
"borderTopWidth"))||0),n=l[b]+n-(m[b]+q+(d(a.css(e,"borderRightWidth"))||0)),l=l[c]+i-(m[c]+t+(d(a.css(e,"borderBottomWidth"))||0)));if(0>o||0<l)!0===h?a.scrollTop(e,p.top+o):!1===h?a.scrollTop(e,p.top+l):0>o?a.scrollTop(e,p.top+o):a.scrollTop(e,p.top+l);if(k&&(0>g||0<n))!0===h?a.scrollLeft(e,p.left+g):!1===h?a.scrollLeft(e,p.left+n):0>g?a.scrollLeft(e,p.left+g):a.scrollLeft(e,p.left+n)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});h.each(["Left","Top"],function(b,
c){var d="scroll"+b;a[d]=function(e,i){if(t(e))return arguments.callee(l,e);var e=a.get(e),h,g=f(e);if(g)if(i!==j){var i=parseFloat(i),k="Left"==b?i:a.scrollLeft(g),m="Top"==b?i:a.scrollTop(g);g.scrollTo(k,m)}else h=g["page"+(c?"Y":"X")+"Offset"],t(h)||(g=g.document,h=g.documentElement[d],t(h)||(h=g.body[d]));else e.nodeType==s.ELEMENT_NODE&&(i!==j?e[d]=parseFloat(i):h=e[d]);return h}});h.each(["Width","Height"],function(b){a["doc"+b]=function(c){c=a.get(c);c=f(c).document;return k(c.documentElement["scroll"+
b],c.body["scroll"+b],a["viewport"+b](c))};a["viewport"+b]=function(c){var c=a.get(c),d="client"+b,c=f(c).document,e=c.body,i=c.documentElement[d];return"CSS1Compat"===c.compatMode&&i||e&&e[d]||i}});return a},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(h,a,e){function j(a){var b,c;for(c=0;c<this.length&&!(b=this[c],!1===a(b,c));c++);}function n(a,c){var d,f,g="string"==typeof a,i=c==e&&(f=1)?[b]:n(c);if(a)if(g)a=B(a),f&&"body"==a?d=[b.body]:1==i.length&&a&&(d=l(a,i[0]));else{if(f)if(a.nodeType||a.setTimeout)d=[a];else{if(a.getDOMNodes)return a;d=z(a)?a:r(a)?h.makeArray(a):[a]}}else d=[];if(!d&&(d=[],a)){for(f=0;f<i.length;f++)C.apply(d,q(a,i[f]));1<d.length&&(1<i.length||g&&-1<a.indexOf(y))&&E(d)}d.each=j;return d}
function q(a,b){var c="string"==typeof a;if(c&&a.match(m)||!c)c=s(a,b);else if(c&&-1<a.replace(/"(?:(?:\\.)|[^"])*"/g,"").replace(/'(?:(?:\\.)|[^'])*'/g,"").indexOf(y)){var c=[],d,f=a.split(/\s*,\s*/);for(d=0;d<f.length;d++)C.apply(c,q(f[d],b))}else c=[],(d=h.require("sizzle"))&&d(a,b,c);return c}function l(a,b){var c,e,g,i;if(o.test(a))c=(e=f(a.slice(1),b))?[e]:[];else if(g=m.exec(a)){e=g[1];i=g[2];g=g[3];if(b=e?f(e,b):b)g?!e||-1!=a.indexOf(x)?c=[].concat(A(g,i,b)):(e=f(e,b))&&d(e,g)&&(c=[e]):i&&
(c=k(i,b));c=c||[]}return c}function s(a,b){var c;"string"==typeof a?c=l(a,b)||[]:z(a)||r(a)?c=t(a,function(a){return u(a,b)}):u(a,b)&&(c=[a]);return c}function u(c,d){return!c?!1:d==b?!0:a.contains(d,c)}function f(b,d){var e=d.nodeType==c.DOCUMENT_NODE,f,h;(h=(e?d:d.ownerDocument).getElementById(b))?i(h,b)?(f=0,e=e?0:1):(f=1,e=0):(f=e?0:1,e=0);f?h=a.filter(g,"#"+b,d)[0]||null:e&&!u(h,d)&&(h=null);return h}function k(a,b){return b&&v(b.getElementsByTagName(a))||[]}function d(a,b){var c;return(c=a.className)&&
-1!==(" "+c+" ").indexOf(" "+b+" ")}function i(a,b){var c=a.getAttributeNode("id");return c&&c.nodeValue===b}var b=h.Env.host.document,c=a.NodeType,t=h.filter,z=h.isArray,v=h.makeArray,r=a._isNodeList,w=a.nodeName,C=Array.prototype.push,x=" ",y=",",B=h.trim,g="*",o=/^#[\w-]+$/,m=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,E=h.noop;(function(){var a,c,d=!0;[0,0].sort(function(){d=!1;return 0});E=function(b){if(a&&(c=d,b.sort(a),c))for(var e=1,f=b.length;e<f;)b[e]===b[e-1]?b.splice(e,1):e++;return b};
a=b&&b.documentElement.compareDocumentPosition?function(a,b){return a==b?(c=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:function(a,b){if(a==b)return c=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex}})();b&&function(){var a=b.createElement("div");a.appendChild(b.createComment(""));0<a.getElementsByTagName(g).length&&(k=function(a,b){var c=v(b.getElementsByTagName(a));if(a===g){for(var d=[],
e=0,f;f=c[e++];)1===f.nodeType&&d.push(f);c=d}return c})}();var A=b&&b.getElementsByClassName?function(a,b,c){if(!c)return[];var a=c.getElementsByClassName(a),d=0,e=a.length,f;if(b&&b!==g)for(c=[];d<e;++d)f=a[d],w(f)==b&&c.push(f);else c=v(a);return c}:b&&b.querySelectorAll?function(a,b,c){return c&&v(c.querySelectorAll((b?b:"")+"."+a))||[]}:function(a,b,c){if(!c)return[];for(var b=c.getElementsByTagName(b||g),c=[],e=0,f=b.length,i;e<f;++e)i=b[e],d(i,a)&&c.push(i);return c};h.mix(a,{query:n,get:function(a,
b){return n(a,b)[0]||null},unique:E,filter:function(a,b,c){var a=n(a,c),c=h.require("sizzle"),e,f,g,k,j=[];if("string"==typeof b&&(b=B(b))&&(e=m.exec(b)))g=e[1],f=e[2],k=e[3],g?g&&!f&&!k&&(b=function(a){return i(a,g)}):b=function(a){var b=!0,c=!0;f&&(b=w(a)==f);k&&(c=d(a,k));return c&&b};h.isFunction(b)?j=h.filter(a,b):b&&c&&(j=c.matches(b,a));return j},test:function(b,c,d){b=n(b,d);return b.length&&a.filter(b,c,d).length===b.length}});return a},{requires:["./base"]});
KISSY.add("dom/style-ie",function(h,a,e,j){if(!e.ie)return a;var n=h.Env.host.document,q=n&&n.documentElement,l=/^(top|right|bottom|left)$/,s=j._CUSTOM_STYLES,u=/opacity\s*=\s*([^)]*)/,f=/alpha\([^)]*\)/i;s.backgroundPosition={get:function(a,b){return b?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==q.style.opacity&&(s.opacity={get:function(a,b){return u.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/
100+"":b?"1":""},set:function(a,b){var b=parseFloat(b),c=a.style,d=a.currentStyle,e=isNaN(b)?"":"alpha(opacity="+100*b+")",k=h.trim(d&&d.filter||c.filter||"");c.zoom=1;if((1<=b||!e)&&!h.trim(k.replace(f,"")))if(c.removeAttribute("filter"),!e||d&&!d.filter)return;c.filter=f.test(k)?k.replace(f,e):k+(k?", ":"")+e}})}catch(k){}var e=8==e.ie,d={};d.thin=e?"1px":"2px";d.medium=e?"3px":"4px";d.thick=e?"5px":"6px";h.each(["","Top","Left","Right","Bottom"],function(a){var b="border"+a+"Width",c="border"+
a+"Style";s[b]={get:function(a,e){var f=e?a.currentStyle:0,i=f&&""+f[b]||void 0;i&&0>i.indexOf("px")&&(i=d[i]&&"none"!==f[c]?d[i]:0);return i}}});if(!(n.defaultView||{}).getComputedStyle&&q.currentStyle)a._getComputedStyle=function(d,b){var b=a._cssProps[b]||b,c=d.currentStyle&&d.currentStyle[b];if(a._RE_NUM_NO_PX.test(c)&&!l.test(b)){var e=d.style,f=e.left,h=d.runtimeStyle.left;d.runtimeStyle.left=d.currentStyle.left;e.left="fontSize"===b?"1em":c||0;c=e.pixelLeft+"px";e.left=f;d.runtimeStyle.left=
h}return""===c?"auto":c};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(h,a,e,j){function n(a){return a.replace(w,"ms-").replace(C,x)}function q(a,c,d){var e={},f;for(f in c)e[f]=a[b][f],a[b][f]=c[f];d.call(a);for(f in c)a[b][f]=e[f]}function l(a,c,d){var e;if(3===a.nodeType||8===a.nodeType||!(e=a[b]))return j;var c=n(c),f,i=o[c],c=m[c]||c;if(d!==j){null===d||d===B?d=B:!isNaN(Number(d))&&!r[c]&&(d+=g);i&&i.set&&(d=i.set(a,d));if(d!==j){try{e[c]=d}catch(h){}d===B&&e.removeAttribute&&e.removeAttribute(c)}e.cssText||a.removeAttribute("style");
return j}if(!i||!("get"in i&&(f=i.get(a,!1))!==j))f=e[c];return f===j?"":f}function s(a){var b,c=arguments;0!==a.offsetWidth?b=u.apply(j,c):q(a,F,function(){b=u.apply(j,c)});return b}function u(b,c,d){if(h.isWindow(b))return c==t?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return c==t?a.docWidth(b):a.docHeight(b);var e=c===t?["Left","Right"]:["Top","Bottom"],f=c===t?b.offsetWidth:b.offsetHeight;if(0<f)return"border"!==d&&h.each(e,function(c){d||(f-=parseFloat(a.css(b,"padding"+c))||0);
f="margin"===d?f+(parseFloat(a.css(b,d+c))||0):f-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),f;f=a._getComputedStyle(b,c);if(null==f||0>Number(f))f=b.style[c]||0;f=parseFloat(f)||0;d&&h.each(e,function(c){f+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==d&&(f+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===d&&(f+=parseFloat(a.css(b,d+c))||0)});return f}var f=h.Env.host,k=f.document,d=k&&k.documentElement,i=e.ie,b="style",c=/^margin/,t="width",z="display"+h.now(),v=parseInt,r={fillOpacity:1,
fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},w=/^-ms-/,C=/-([a-z])/ig,x=function(a,b){return b.toUpperCase()},y=/([A-Z]|^ms)/g,B="",g="px",o={},m={},E={};d&&(d[b].cssFloat!==j?m["float"]="cssFloat":d[b].styleFloat!==j&&(m["float"]="styleFloat"));var A,p;h.mix(a,{_camelCase:n,_CUSTOM_STYLES:o,_cssProps:m,_getComputedStyle:function(d,f){var e="",g,i,h,k,j;i=d.ownerDocument;f=f.replace(y,"-$1").toLowerCase();if(g=i.defaultView.getComputedStyle(d,null))e=g.getPropertyValue(f)||
g[f];""===e&&!a.contains(i,d)&&(f=m[f]||f,e=d[b][f]);a._RE_NUM_NO_PX.test(e)&&c.test(f)&&(j=d.style,i=j.width,h=j.minWidth,k=j.maxWidth,j.minWidth=j.maxWidth=j.width=e,e=g.width,j.width=i,j.minWidth=h,j.maxWidth=k);return e},style:function(b,c,d){var b=a.query(b),f=b[0];if(h.isPlainObject(c)){for(var e in c)for(f=b.length-1;0<=f;f--)l(b[f],e,c[e]);return j}if(d===j)return e="",f&&(e=l(f,c,d)),e;for(f=b.length-1;0<=f;f--)l(b[f],c,d);return j},css:function(b,c,d){var b=a.query(b),f=b[0],e;if(h.isPlainObject(c)){for(e in c)for(f=
b.length-1;0<=f;f--)l(b[f],e,c[e]);return j}c=n(c);e=o[c];if(d===j){d="";if(f&&(!e||!("get"in e&&(d=e.get(f,!0))!==j)))d=a._getComputedStyle(f,c);return d===j?"":d}for(f=b.length-1;0<=f;f--)l(b[f],c,d);return j},show:function(c){var c=a.query(c),d,f;for(f=c.length-1;0<=f;f--)if(d=c[f],d[b].display=a.data(d,z)||B,"none"===a.css(d,"display")){var g;a:{g=d.tagName.toLowerCase();var i=void 0,h=void 0;if(!E[g]){i=k.body||k.documentElement;h=k.createElement(g);a.prepend(h,i);var j=a.css(h,"display");i.removeChild(h);
if("none"==j||""==j){if(A)a.prepend(A,i);else if(A=k.createElement("iframe"),A.frameBorder=A.width=A.height=0,a.prepend(A,i),h=void 0,h=a.getEmptyIframeSrc())A.src=h;if(!p||!A.createElement)try{p=A.contentWindow.document,p.write(("CSS1Compat"===k.compatMode?"<!doctype html>":"")+"<html><head>"+(e.ie&&a.isCustomDomain()?"<script>document.domain= '"+k.domain+"';<\/script>":"")+"</head><body>"),p.close()}catch(l){g="block";break a}h=p.createElement(g);p.body.appendChild(h);j=a.css(h,"display");i.removeChild(A)}E[g]=
j}g=E[g]}a.data(d,z,g);d[b].display=g}},hide:function(c){var c=a.query(c),d,f;for(f=c.length-1;0<=f;f--){d=c[f];var e=d[b],g=e.display;"none"!==g&&(g&&a.data(d,z,g),e.display="none")}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,d){b=b||f;"string"==typeof b&&(d=c,c=b,b=f);var b=a.get(b),b=a._getWin(b).document,e;if(d&&(d=d.replace("#",B)))e=a.get("#"+d,b);e||(e=a.create("<style>"+c+"</style>",
{id:d},b),a.get("head",b).appendChild(e))},unselectable:function(c){var c=a.query(c),d,f;for(f=c.length-1;0<=f;f--)if(d=c[f],e.gecko)d[b].MozUserSelect="none";else if(e.webkit)d[b].KhtmlUserSelect="none";else if(e.ie||e.opera){var g=0,i=d.getElementsByTagName("*");for(d.setAttribute("unselectable","on");d=i[g++];)switch(d.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:d.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,
width:0,height:0});h.each([t,"height"],function(b){a["inner"+(b.charAt(0).toUpperCase()+b.substring(1))]=function(c){return(c=a.get(c))&&s(c,b,"padding")};a["outer"+(b.charAt(0).toUpperCase()+b.substring(1))]=function(c,d){var f=a.get(c);return f&&s(f,b,d?"margin":"border")};a[b]=function(c,d){var f=a.css(c,b,d);f&&(f=parseFloat(f));return f}});var F={position:"absolute",visibility:"hidden",display:"block"};h.each(["height","width"],function(a){o[a]={get:function(b,c){if(c)return s(b,a)+"px"}}});
h.each(["left","top"],function(b){o[b]={get:function(c,d){if(d){var f=a._getComputedStyle(c,b);if("auto"===f){f=0;if(h.inArray(a.css(c,"position"),["absolute","fixed"])){f=c["left"===b?"offsetLeft":"offsetTop"];if(i&&9!=k.documentMode||e.opera)f-=c.offsetParent&&c.offsetParent["client"+("left"==b?"Left":"Top")]||0;f-=v(a.css(c,"margin-"+b))||0}f+="px"}return f}}}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(h,a,e){function j(f,k,d,i,b,c,j){if(!(f=a.get(f)))return null;if(0===k)return f;c||(f=f[d]);if(!f)return null;b=b&&a.get(b)||null;k===e&&(k=1);var c=[],l=h.isArray(k),q,r;h.isNumber(k)&&(q=0,r=k,k=function(){return++q===r});for(;f&&f!=b;){if((f.nodeType==s.ELEMENT_NODE||f.nodeType==s.TEXT_NODE&&j)&&n(f,k)&&(!i||i(f)))if(c.push(f),!l)break;f=f[d]}return l?c:c[0]||null}function n(f,e){if(!e)return!0;if(h.isArray(e)){var d,i=e.length;if(!i)return!0;for(d=0;d<i;d++)if(a.test(f,
e[d]))return!0}else if(a.test(f,e))return!0;return!1}function q(f,e,d,i){var b=[],c,j;if((c=f=a.get(f))&&d)c=f.parentNode;if(c){d=h.makeArray(c.childNodes);for(c=0;c<d.length;c++)j=d[c],(i||j.nodeType==s.ELEMENT_NODE)&&j!=f&&b.push(j);e&&(b=a.filter(b,e))}return b}var l=h.Env.host.document,s=a.NodeType,u=(l=l&&l.documentElement)&&l.compareDocumentPosition?function(a,e){return!!(a.compareDocumentPosition(e)&16)}:l&&l.contains?function(a,e){a.nodeType==s.DOCUMENT_NODE&&(a=a.documentElement);e=e.parentNode;
return a==e?!0:e&&e.nodeType==s.ELEMENT_NODE?a.contains&&a.contains(e):!1}:0;h.mix(a,{closest:function(a,e,d,i){return j(a,e,"parentNode",function(a){return a.nodeType!=s.DOCUMENT_FRAGMENT_NODE},d,!0,i)},parent:function(a,h,d){return j(a,h,"parentNode",function(a){return a.nodeType!=s.DOCUMENT_FRAGMENT_NODE},d,e)},first:function(f,h,d){f=a.get(f);return j(f&&f.firstChild,h,"nextSibling",e,e,!0,d)},last:function(f,h,d){f=a.get(f);return j(f&&f.lastChild,h,"previousSibling",e,e,!0,d)},next:function(a,
h,d){return j(a,h,"nextSibling",e,e,e,d)},prev:function(a,h,d){return j(a,h,"previousSibling",e,e,e,d)},siblings:function(a,e,d){return q(a,e,!0,d)},children:function(a,h){return q(a,h,e)},contents:function(a,h){return q(a,h,e,1)},contains:function(f,e){f=a.get(f);e=a.get(e);return f&&e?u(f,e):!1},index:function(e,j){var d=a.query(e),i,b=0;i=d[0];if(!j){d=i&&i.parentNode;if(!d)return-1;for(;i=i.previousSibling;)i.nodeType==s.ELEMENT_NODE&&b++;return b}b=a.query(j);return"string"===typeof j?h.indexOf(i,
b):h.indexOf(b[0],d)},equals:function(e,h){e=a.query(e);h=a.query(h);if(e.length!=h.length)return!1;for(var d=e.length;0<=d;d--)if(e[d]!=h[d])return!1;return!0}});return a},{requires:["./base"]});
