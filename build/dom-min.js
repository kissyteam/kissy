/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Feb 15 20:56
*/
KISSY.add("dom/attr",function(s,b,v,x){function E(n,f){f=z[f]||f;var i=F[f];return i&&i.get?i.get(n,f):n[f]}v=document.documentElement;var G=!v.hasAttribute,u=v.textContent===x?"innerText":"textContent",C=b._nodeName,m=b._isElementNode,q=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,y=/^(?:button|input|object|select|textarea)$/i,k=/^a(?:rea)?$/i,o=/:|^on/,p=/\r/g,w={},t={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1,scrollTop:1,scrollLeft:1},B={tabindex:{get:function(n){var f=n.getAttributeNode("tabindex");return f&&f.specified?parseInt(f.value,10):y.test(n.nodeName)||k.test(n.nodeName)&&n.href?0:x}},style:{get:function(n){return n.style.cssText},set:function(n,f){n.style.cssText=f}}},z={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",
frameborder:"frameBorder",contenteditable:"contentEditable"},A={get:function(n,f){return b.prop(n,f)?f.toLowerCase():x},set:function(n,f,i){if(f===false)b.removeAttr(n,i);else{f=z[i]||i;if(f in n)n[f]=true;n.setAttribute(i,i.toLowerCase())}return i}},F={},I={},H={option:{get:function(n){var f=n.attributes.value;return!f||f.specified?n.value:n.text}},select:{get:function(n){var f=n.selectedIndex,i=n.options;n=n.type==="select-one";if(f<0)return null;else if(n)return b.val(i[f]);f=[];n=0;for(var e=
i.length;n<e;++n)i[n].selected&&f.push(b.val(i[n]));return f},set:function(n,f){var i=s.makeArray(f);s.each(n.options,function(e){e.selected=s.inArray(b.val(e),i)});if(!i.length)n.selectedIndex=-1;return i}}};if(G){I={get:function(n,f){var i;return(i=n.getAttributeNode(f))&&(i.specified||i.nodeValue)?i.nodeValue:x},set:function(n,f,i){var e=n.getAttributeNode(i);if(e)e.nodeValue=f;else try{var h=n.ownerDocument.createAttribute(i);h.value=f;n.setAttributeNode(h)}catch(j){return n.setAttribute(i,f,
0)}}};w=z;B.tabIndex=B.tabindex;s.each(["href","src","width","height","colSpan","rowSpan"],function(n){B[n]={get:function(f){f=f.getAttribute(n,2);return f===null?x:f}}});H.button=B.value=I}s.each(["radio","checkbox"],function(n){H[n]={get:function(f){return f.getAttribute("value")===null?"on":f.value},set:function(f,i){if(s.isArray(i))return f.checked=s.inArray(b.val(f),i)}}});s.mix(b,{prop:function(n,f,i){n=b.query(n);if(s.isPlainObject(f))for(var e in f)b.prop(n,e,f[e]);else{f=z[f]||f;e=F[f];if(i!==
x)for(var h=n.length-1;h>=0;h--){var j=n[h];if(e&&e.set)e.set(j,i,f);else j[f]=i}else if(n.length)return E(n[0],f)}},hasProp:function(n,f){for(var i=b.query(n),e=0;e<i.length;e++)if(E(i[e],f)!==x)return true;return false},removeProp:function(n,f){f=z[f]||f;for(var i=b.query(n),e=i.length-1;e>=0;e--){var h=i[e];try{h[f]=x;delete h[f]}catch(j){}}},attr:function(n,f,i,e){var h=b.query(n);if(s.isPlainObject(f)){e=i;for(var j in f)f.hasOwnProperty(j)&&b.attr(h,j,f[j],e)}else if(f=s.trim(f)){if(e&&t[f])return b[f](n,
i);f=f.toLowerCase();if(e&&t[f])return b[f](n,i);f=w[f]||f;e=h[0];n=q.test(f)?A:o.test(f)?I:B[f];if(i===x){if(e&&e.nodeType===b.ELEMENT_NODE){if(C(e,"form"))n=I;if(n&&n.get)return n.get(e,f);f=e.getAttribute(f);return f===null?x:f}}else for(j=h.length-1;j>=0;j--)if((e=h[j])&&e.nodeType===b.ELEMENT_NODE){if(C(e,"form"))n=I;n&&n.set?n.set(e,i,f):e.setAttribute(f,""+i)}}},removeAttr:function(n,f){f=f.toLowerCase();f=w[f]||f;var i=b.query(n),e,h;for(h=i.length-1;h>=0;h--){e=i[h];if(m(e)){var j;e.removeAttribute(f);
if(q.test(f)&&(j=z[f]||f)in e)e[j]=false}}},hasAttr:G?function(n,f){f=f.toLowerCase();for(var i=b.query(n),e=0;e<i.length;e++){var h=i[e].getAttributeNode(f);if(h&&h.specified)return true}return false}:function(n,f){for(var i=b.query(n),e=0;e<i.length;e++)if(i[e].hasAttribute(f))return true;return false},val:function(n,f){var i,e;if(f===x){var h=b.get(n);if(h){if((i=H[h.nodeName.toLowerCase()]||H[h.type])&&"get"in i&&(e=i.get(h,"value"))!==x)return e;e=h.value;return typeof e==="string"?e.replace(p,
""):e==null?"":e}}else{e=b.query(n);var j;for(j=e.length-1;j>=0;j--){h=e[j];if(h.nodeType!==1)break;var r=f;if(r==null)r="";else if(typeof r==="number")r+="";else if(s.isArray(r))r=s.map(r,function(a){return a==null?"":a+""});i=H[h.nodeName.toLowerCase()]||H[h.type];if(!i||!("set"in i)||i.set(h,r,"value")===x)h.value=r}}},text:function(n,f){if(f===x){var i=b.get(n);if(m(i))return i[u]||"";else if(b._nodeTypeIs(i,b.TEXT_NODE))return i.nodeValue;return x}else{var e=b.query(n),h;for(h=e.length-1;h>=
0;h--){i=e[h];if(m(i))i[u]=f;else if(b._nodeTypeIs(i,b.TEXT_NODE))i.nodeValue=f}}}});return b},{requires:["./base","ua"]});
KISSY.add("dom/base",function(s,b,v){function x(u,C){return u&&u.nodeType===C}var E={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},G={_isCustomDomain:function(u){u=u||window;var C=u.document.domain;u=u.location.hostname;return C!=u&&C!="["+u+"]"},_genEmptyIframeSrc:function(u){u=u||window;if(b.ie&&G._isCustomDomain(u))return"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+u.document.domain+"';document.close();")+"}())"},_NODE_TYPE:E,_isElementNode:function(u){return x(u,G.ELEMENT_NODE)},_getWin:function(u){return u&&"scrollTo"in u&&u.document?u:x(u,G.DOCUMENT_NODE)?u.defaultView||u.parentWindow:u===v||u===null?window:false},_nodeTypeIs:x,_isNodeList:function(u){return u&&!u.nodeType&&u.item&&!u.setTimeout},_nodeName:function(u,C){return u&&u.nodeName.toLowerCase()===C.toLowerCase()}};s.mix(G,E);return G},{requires:["ua"]});
KISSY.add("dom/class",function(s,b,v){function x(u,C,m,q){if(!(C=s.trim(C)))return q?false:v;u=b.query(u);var y=u.length,k=C.split(E);C=[];for(var o=0;o<k.length;o++){var p=s.trim(k[o]);p&&C.push(p)}for(o=0;o<y;o++){k=u[o];if(b._isElementNode(k)){k=m(k,C,C.length);if(k!==v)return k}}if(q)return false;return v}var E=/[\.\s]\s*\.?/,G=/[\n\t]/g;s.mix(b,{hasClass:function(u,C){return x(u,C,function(m,q,y){if(m=m.className){m=(" "+m+" ").replace(G," ");for(var k=0,o=true;k<y;k++)if(m.indexOf(" "+q[k]+
" ")<0){o=false;break}if(o)return true}},true)},addClass:function(u,C){x(u,C,function(m,q,y){var k=m.className;if(k){var o=(" "+k+" ").replace(G," ");k=k;for(var p=0;p<y;p++)if(o.indexOf(" "+q[p]+" ")<0)k+=" "+q[p];m.className=s.trim(k)}else m.className=C},v)},removeClass:function(u,C){x(u,C,function(m,q,y){var k=m.className;if(k)if(y){k=(" "+k+" ").replace(G," ");for(var o=0,p;o<y;o++)for(p=" "+q[o]+" ";k.indexOf(p)>=0;)k=k.replace(p," ");m.className=s.trim(k)}else m.className=""},v)},replaceClass:function(u,
C,m){b.removeClass(u,C);b.addClass(u,m)},toggleClass:function(u,C,m){var q=s.isBoolean(m),y;x(u,C,function(k,o,p){for(var w=0,t;w<p;w++){t=o[w];y=q?!m:b.hasClass(k,t);b[y?"removeClass":"addClass"](k,t)}},v)}});return b},{requires:["dom/base"]});
KISSY.add("dom/create",function(s,b,v,x){function E(e){var h=s.require("event");h&&h.detach(e);b.removeData(e)}function G(e,h,j){if(y(h,b.DOCUMENT_FRAGMENT_NODE)){h=h.childNodes;j=j.childNodes;for(var r=0;h[r];){j[r]&&G(e,h[r],j[r]);r++}}else if(k(h)){h=h.getElementsByTagName("*");j=j.getElementsByTagName("*");for(r=0;h[r];){j[r]&&e(h[r],j[r]);r++}}}function u(e,h){var j=s.require("event");if(!(k(h)&&!b.hasData(e))){var r=b.data(e),a;for(a in r)b.data(h,a,r[a]);if(j){j._removeData(h);j._clone(e,h)}}}
function C(e,h){h.clearAttributes&&h.clearAttributes();h.mergeAttributes&&h.mergeAttributes(e);var j=h.nodeName.toLowerCase(),r=e.childNodes;if(j==="object"&&!h.childNodes.length)for(j=0;j<r.length;j++)h.appendChild(r[j].cloneNode(true));else if(j==="input"&&(e.type==="checkbox"||e.type==="radio")){if(e.checked)h.defaultChecked=h.checked=e.checked;if(h.value!==e.value)h.value=e.value}else if(j==="option")h.selected=e.defaultSelected;else if(j==="input"||j==="textarea")h.defaultValue=e.defaultValue;
h.removeAttribute(b.__EXPANDO)}function m(e,h){var j=null,r,a;if(e&&(e.push||e.item)&&e[0]){h=h||e[0].ownerDocument;j=h.createDocumentFragment();e=s.makeArray(e);r=0;for(a=e.length;r<a;r++)j.appendChild(e[r])}return j}var q=document;v=v.ie;var y=b._nodeTypeIs,k=b._isElementNode,o=s.isString,p=q.createElement("div"),w=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,t=/<([\w:]+)/,B=/<tbody/i,z=/^\s+/,A=v&&v<9,F=/<|&#?\w+;/,I=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;s.mix(b,{create:function(e,
h,j,r){var a=null;if(!e)return a;if(e.nodeType)return b.clone(e);if(!o(e))return a;if(r===x)r=true;if(r)e=s.trim(e);r=b._creators;var d,c;j=j||q;var g,l="div";if(F.test(e))if(g=I.exec(e))a=j.createElement(g[1]);else{e=e.replace(w,"<$1></$2>");if((g=t.exec(e))&&(d=g[1]))l=d.toLowerCase();d=(r[l]||r.div)(e,j);if(A&&(c=e.match(z)))d.insertBefore(j.createTextNode(c[0]),d.firstChild);e=d.childNodes;if(e.length===1)a=e[0].parentNode.removeChild(e[0]);else if(e.length)a=m(e,j)}else a=j.createTextNode(e);
a=a;if(s.isPlainObject(h))if(k(a))b.attr(a,h,true);else y(a,b.DOCUMENT_FRAGMENT_NODE)&&b.attr(a.childNodes,h,true);return a},_creators:{div:function(e,h){var j=h&&h!=q?h.createElement("div"):p;j.innerHTML="m<div>"+e+"</div>";return j.lastChild}},html:function(e,h,j,r){e=b.query(e);var a=e[0];if(a)if(h===x)return k(a)?a.innerHTML:null;else{var d=false,c,g;h+="";if(!h.match(/<(?:script|style)/i)&&(!A||!h.match(z))&&!f[(h.match(t)||["",""])[1].toLowerCase()])try{for(c=e.length-1;c>=0;c--){g=e[c];if(k(g)){E(g.getElementsByTagName("*"));
g.innerHTML=h}}d=true}catch(l){}if(!d){h=b.create(h,null,a.ownerDocument,false);for(c=e.length-1;c>=0;c--){g=e[c];if(k(g)){b.empty(g);b.append(h,g,j)}}}r&&r()}},remove:function(e,h){var j,r=b.query(e),a;for(a=r.length-1;a>=0;a--){j=r[a];if(!h&&k(j)){var d=j.getElementsByTagName("*");E(d);E(j)}j.parentNode&&j.parentNode.removeChild(j)}},clone:function(e,h,j,r){e=b.get(e);if(!e)return null;var a=e.cloneNode(h);if(k(e)||y(e,b.DOCUMENT_FRAGMENT_NODE)){k(e)&&C(e,a);h&&G(C,e,a)}if(j){u(e,a);h&&r&&G(u,e,
a)}return a},empty:function(e){e=b.query(e);var h,j;for(j=e.length-1;j>=0;j--){h=e[j];b.remove(h.childNodes)}},_nl2frag:m});var H=b._creators,n=b.create,f={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},i;for(i in f)(function(e){H[i]=function(h,j){return n("<"+e+">"+h+"</"+e+">",null,j)}})(f[i]);if(v<8)H.table=function(e,h){var j=H.div(e,h);if(B.test(e))return j;var r=
j.firstChild,a=s.makeArray(r.childNodes);s.each(a,function(d){b._nodeName(d,"tbody")&&!d.childNodes.length&&r.removeChild(d)});return j};return b},{requires:["./base","ua"]});
KISSY.add("dom/data",function(s,b,v){var x=window,E="_ks_data_"+s.now(),G={},u={},C={};C.applet=1;C.object=1;C.embed=1;var m={hasData:function(k,o){if(k)if(o!==v){if(o in k)return true}else if(!s.isEmptyObject(k))return true;return false}},q={hasData:function(k,o){if(k==x)return q.hasData(u,o);return m.hasData(k[E],o)},data:function(k,o,p){if(k==x)return q.data(u,o,p);var w=k[E];if(p!==v){w=k[E]=k[E]||{};w[o]=p}else if(o!==v)return w&&w[o];else return w=k[E]=k[E]||{}},removeData:function(k,o){if(k==
x)return q.removeData(u,o);var p=k[E];if(o!==v){delete p[o];s.isEmptyObject(p)&&q.removeData(k)}else try{delete k[E]}catch(w){k[E]=v}}},y={hasData:function(k,o){var p=k[E];if(!p)return false;return m.hasData(G[p],o)},data:function(k,o,p){if(C[k.nodeName.toLowerCase()])return v;var w=k[E];if(!w){if(o!==v&&p===v)return v;w=k[E]=s.guid()}k=G[w];if(p!==v){k=G[w]=G[w]||{};k[o]=p}else if(o!==v)return k&&k[o];else return k=G[w]=G[w]||{}},removeData:function(k,o){var p=k[E],w;if(p){w=G[p];if(o!==v){delete w[o];
s.isEmptyObject(w)&&y.removeData(k)}else{delete G[p];try{delete k[E]}catch(t){k[E]=v}k.removeAttribute&&k.removeAttribute(E)}}}};s.mix(b,{__EXPANDO:E,hasData:function(k,o){for(var p=false,w=b.query(k),t=0;t<w.length;t++){p=w[t];if(p=p.nodeType?y.hasData(p,o):q.hasData(p,o))break}return p},data:function(k,o,p){k=b.query(k);var w=k[0];if(s.isPlainObject(o)){for(var t in o)b.data(k,t,o[t]);return v}if(p===v){if(w)return w.nodeType?y.data(w,o,p):q.data(w,o,p)}else for(t=k.length-1;t>=0;t--){w=k[t];w.nodeType?
y.data(w,o,p):q.data(w,o,p)}return v},removeData:function(k,o){var p=b.query(k),w,t;for(t=p.length-1;t>=0;t--){w=p[t];w.nodeType?y.removeData(w,o):q.removeData(w,o)}}});return b},{requires:["./base"]});KISSY.add("dom",function(s,b){s.mix(s,{DOM:b,get:b.get,query:b.query});return b},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("dom/insertion",function(s,b,v){function x(t){for(var B=0;B<t.length;B++){var z=t[B];if(z.nodeType==v.DOCUMENT_FRAGMENT_NODE)x(z.childNodes);else if(m(z,"input")){if(z.type==="checkbox"||z.type==="radio")z.defaultChecked=z.checked}else if(k(z)){z=z.getElementsByTagName("input");for(var A=0;A<z.length;A++)x(z[A])}}}function E(t,B){var z=[],A,F,I;for(A=0;t[A];A++){F=t[A];I=F.nodeName.toLowerCase();if(F.nodeType==v.DOCUMENT_FRAGMENT_NODE)z.push.apply(z,E(q(F.childNodes),B));else if(I==="script"&&
(!F.type||o.test(F.type))){F.parentNode&&F.parentNode.removeChild(F);B&&B.push(F)}else{if(k(F)&&!C.test(I)){I=[];var H,n,f=F.getElementsByTagName("script");for(n=0;n<f.length;n++){H=f[n];(!H.type||o.test(H.type))&&I.push(H)}y.apply(t,[A+1,0].concat(I))}z.push(F)}}return z}function G(t){if(t.src)s.getScript(t.src);else(t=s.trim(t.text||t.textContent||t.innerHTML||""))&&s.globalEval(t)}function u(t,B,z,A){t=v.query(t);if(A)A=[];t=E(t,A);b.ie<8&&x(t);B=v.query(B);var F=t.length,I=B.length;if(!(!F&&(!A||
!A.length)||!I)){t=v._nl2frag(t);var H;if(I>1){H=v.clone(t,true);B=s.makeArray(B)}for(var n=0;n<I;n++){var f=B[n];if(F){var i=n>0?v.clone(H,true):t;z(i,f)}A&&A.length&&s.each(A,G)}}}var C=/^(?:button|input|object|select|textarea)$/i,m=v._nodeName,q=s.makeArray,y=[].splice,k=v._isElementNode,o=/\/(java|ecma)script/i;s.mix(v,{insertBefore:function(t,B,z){u(t,B,function(A,F){F.parentNode&&F.parentNode.insertBefore(A,F)},z)},insertAfter:function(t,B,z){u(t,B,function(A,F){F.parentNode&&F.parentNode.insertBefore(A,
F.nextSibling)},z)},appendTo:function(t,B,z){u(t,B,function(A,F){F.appendChild(A)},z)},prependTo:function(t,B,z){u(t,B,function(A,F){F.insertBefore(A,F.firstChild)},z)}});var p={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},w;for(w in p)v[w]=v[p[w]];return v},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(s,b,v,x){function E(f){var i,e=0;i=0;var h=C.body,j=o(f[B]);if(f[n]){i=f[n]();e=i[z];i=i[A];f=m&&C.documentMode!=9&&(p?q.clientTop:h.clientTop)||0;e-=m&&C.documentMode!=9&&(p?q.clientLeft:h.clientLeft)||0;i-=f;if(v.mobile=="apple"){e-=b[I](j);i-=b[H](j)}}return{left:e,top:i}}function G(f,i){var e={left:0,top:0},h=o(f[B]),j=f;i=i||h;do{var r;if(h==i){var a=j;r=E(a);a=o(a[B]);r.left+=b[I](a);r.top+=b[H](a);r=r}else r=E(j);r=r;e.left+=r.left;e.top+=r.top}while(h&&h!=i&&
(j=h.frameElement)&&(h=h.parent));return e}var u=window,C=document,m=v.ie,q=C.documentElement,y=b._isElementNode,k=b._nodeTypeIs,o=b._getWin,p=C.compatMode==="CSS1Compat",w=Math.max,t=parseInt,B="ownerDocument",z="left",A="top",F=s.isNumber,I="scrollLeft",H="scrollTop",n="getBoundingClientRect";s.mix(b,{offset:function(f,i,e){if(i===x){f=b.get(f);var h;if(f)h=G(f,e);return h}e=b.query(f);for(h=e.length-1;h>=0;h--){f=f=e[h];var j=i;if(b.css(f,"position")==="static")f.style.position="relative";var r=
G(f),a={},d=void 0,c=void 0;for(c in j){d=t(b.css(f,c),10)||0;a[c]=d+j[c]-r[c]}b.css(f,a)}return x},scrollIntoView:function(f,i,e,h,j){if(f=b.get(f)){if(i)i=b.get(i);if(!i)i=f.ownerDocument;if(j!==true){h=h===x?true:!!h;e=e===x?true:!!e}if(k(i,b.DOCUMENT_NODE))i=o(i);var r=!!o(i);j=b.offset(f);var a=b.outerHeight(f);f=b.outerWidth(f);var d,c,g,l;if(r){r=i;c=b.height(r);d=b.width(r);l={left:b.scrollLeft(r),top:b.scrollTop(r)};r={left:j[z]-l[z],top:j[A]-l[A]};j={left:j[z]+f-(l[z]+d),top:j[A]+a-(l[A]+
c)};l=l}else{d=b.offset(i);c=i.clientHeight;g=i.clientWidth;l={left:b.scrollLeft(i),top:b.scrollTop(i)};r={left:j[z]-d[z]-(t(b.css(i,"borderLeftWidth"))||0),top:j[A]-d[A]-(t(b.css(i,"borderTopWidth"))||0)};j={left:j[z]+f-(d[z]+g+(t(b.css(i,"borderRightWidth"))||0)),top:j[A]+a-(d[A]+c+(t(b.css(i,"borderBottomWidth"))||0))}}if(r.top<0||j.top>0)if(e===true)b.scrollTop(i,l.top+r.top);else if(e===false)b.scrollTop(i,l.top+j.top);else r.top<0?b.scrollTop(i,l.top+r.top):b.scrollTop(i,l.top+j.top);if(h)if(r.left<
0||j.left>0)if(e===true)b.scrollLeft(i,l.left+r.left);else if(e===false)b.scrollLeft(i,l.left+j.left);else r.left<0?b.scrollLeft(i,l.left+r.left):b.scrollLeft(i,l.left+j.left)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});s.each(["Left","Top"],function(f,i){var e="scroll"+f;b[e]=function(h,j){if(F(h))return arguments.callee(u,h);h=b.get(h);var r,a=o(h);if(a)if(j!==x){j=parseFloat(j);var d=f=="Left"?j:b.scrollLeft(a),c=f=="Top"?j:b.scrollTop(a);a.scrollTo(d,c)}else{r=a["page"+(i?"Y":
"X")+"Offset"];if(!F(r)){a=a.document;r=a.documentElement[e];F(r)||(r=a.body[e])}}else if(y(h))if(j!==x)h[e]=parseFloat(j);else r=h[e];return r}});s.each(["Width","Height"],function(f){b["doc"+f]=function(i){i=b.get(i);i=o(i).document;return w(i.documentElement["scroll"+f],i.body["scroll"+f],b["viewport"+f](i))};b["viewport"+f]=function(i){i=b.get(i);var e="client"+f;i=o(i).document;var h=i.body,j=i.documentElement[e];return i.compatMode==="CSS1Compat"&&j||h&&h[e]||j}});return b},{requires:["./base",
"ua"]});
KISSY.add("dom/selector",function(s,b,v){function x(a){var d,c;for(c=0;c<this.length;c++){d=this[c];if(a(d,c)===false)break}}function E(a,d){var c,g,l=B(a),D=d===v&&(g=1)?[p]:E(d,v);if(a)if(l){a=f(a);if(D.length==1&&a)c=u(a,D[0])}else{if(g)if(a.nodeType||a.setTimeout)c=[a];else if(a.getDOMNodes)return a;else c=t(a)?a:A(a)?s.makeArray(a):[a]}else c=[];if(!c){c=[];if(a){for(g=0;g<D.length;g++)I.apply(c,G(a,D[g]));if(c.length>1&&(D.length>1||l&&a.indexOf(n)>-1))j(c)}}c.each=x;return c}function G(a,d){var c=
[];if((c=B(a))&&a.match(h)||!c)c=C(a,d);else{if(c&&a.indexOf(n)>-1){c=[];var g,l=a.split(/\s*,\s*/);for(g=0;g<l.length;g++)I.apply(c,G(l[g],d));c=c}else{c=[];(g=s.require("sizzle"))&&g(a,d,c);c=c}c=c}return c=c}function u(a,d){var c,g,l,D;if(e.test(a))c=(g=q(a.slice(1),d))?[g]:[];else if(l=h.exec(a)){g=l[1];D=l[2];l=l[3];if(d=g?q(g,d):d)if(l)if(!g||a.indexOf(H)!=-1)c=[].concat(r(l,D,d));else{if((g=q(g,d))&&k(g,l))c=[g]}else if(D)c=y(D,d);c=c||[]}return c}function C(a,d){var c;if(B(a))c=u(a,d)||[];
else if(t(a)||A(a))c=w(a,function(g){return m(g,d)});else if(m(a,d))c=[a];return c}function m(a,d){if(!a)return false;if(d==p)return true;return b.contains(d,a)}function q(a,d){var c=d;if(d.nodeType!==b.DOCUMENT_NODE)c=d.ownerDocument;c=c.getElementById(a);if(!(c&&c.id===a))if(c&&c.parentNode)if(o(c,a))m(c,d)||(c=null);else c=b.filter(i,"#"+a,d)[0]||null;else c=null;return c}function y(a,d){return d&&z(d.getElementsByTagName(a))||[]}function k(a,d){var c;return(c=a.className)&&(" "+c+" ").indexOf(" "+
d+" ")!==-1}function o(a,d){var c=a.getAttributeNode("id");return c&&c.nodeValue===d}var p=document,w=s.filter,t=s.isArray,B=s.isString,z=s.makeArray,A=b._isNodeList,F=b._nodeName,I=Array.prototype.push,H=" ",n=",",f=s.trim,i="*",e=/^#[\w-]+$/,h=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,j=s.noop;(function(){var a,d,c=true;[0,0].sort(function(){c=false;return 0});j=function(g){if(a){d=c;g.sort(a);if(d)for(var l=1,D=g.length;l<D;)if(g[l]===g[l-1])g.splice(l,1);else l++}return g};a=p.documentElement.compareDocumentPosition?
function(g,l){if(g==l){d=true;return 0}if(!g.compareDocumentPosition||!l.compareDocumentPosition)return g.compareDocumentPosition?-1:1;return g.compareDocumentPosition(l)&4?-1:1}:function(g,l){if(g==l){d=true;return 0}else if(g.sourceIndex&&l.sourceIndex)return g.sourceIndex-l.sourceIndex}})();(function(){var a=p.createElement("div");a.appendChild(p.createComment(""));if(a.getElementsByTagName(i).length>0)y=function(d,c){var g=z(c.getElementsByTagName(d));if(d===i){for(var l=[],D=0,J;J=g[D++];)J.nodeType===
1&&l.push(J);g=l}return g}})();var r=p.getElementsByClassName?function(a,d,c){if(!c)return[];a=c.getElementsByClassName(a);var g=0,l=a.length,D;if(d&&d!==i)for(c=[];g<l;++g){D=a[g];F(D,d)&&c.push(D)}else c=z(a);return c}:p.querySelectorAll?function(a,d,c){return c&&z(c.querySelectorAll((d?d:"")+"."+a))||[]}:function(a,d,c){if(!c)return[];d=c.getElementsByTagName(d||i);c=[];for(var g=0,l=d.length,D;g<l;++g){D=d[g];k(D,a)&&c.push(D)}return c};s.mix(b,{query:E,get:function(a,d){return E(a,d)[0]||null},
unique:j,filter:function(a,d,c){a=E(a,c);c=s.require("sizzle");var g,l,D,J,K=[];if(B(d)&&(d=f(d))&&(g=h.exec(d))){D=g[1];l=g[2];J=g[3];if(D){if(D&&!l&&!J)d=function(L){return o(L,D)}}else d=function(L){var M=true,N=true;if(l)M=F(L,l);if(J)N=k(L,J);return N&&M}}if(s.isFunction(d))K=s.filter(a,d);else if(d&&c)K=c.matches(d,a);return K},test:function(a,d,c){a=E(a,c);return a.length&&b.filter(a,d,c).length===a.length}});return b},{requires:["./base"]});
KISSY.add("dom/style-ie",function(s,b,v,x){if(!v.ie)return b;var E=document,G=E.documentElement,u=x._CUSTOM_STYLES,C=/^-?\d+(?:px)?$/i,m=/^-?\d/,q=/opacity=([^)]*)/,y=/alpha\([^)]*\)/i;u.backgroundPosition={get:function(p,w){return w?p.currentStyle.backgroundPositionX+" "+p.currentStyle.backgroundPositionY:p.style.backgroundPosition}};try{if(G.style.opacity==null)u.opacity={get:function(p,w){return q.test((w&&p.currentStyle?p.currentStyle.filter:p.style.filter)||"")?parseFloat(RegExp.$1)/100+"":w?
"1":""},set:function(p,w){w=parseFloat(w);var t=p.style,B=p.currentStyle,z=isNaN(w)?"":"alpha(opacity="+w*100+")",A=s.trim(B&&B.filter||t.filter||"");t.zoom=1;if(w>=1&&s.trim(A.replace(y,""))===""){t.removeAttribute("filter");if(B&&!B.filter)return}t.filter=y.test(A)?A.replace(y,z):A+(A?", ":"")+z}}}catch(k){}v=v.ie==8;var o={};o.thin=v?"1px":"2px";o.medium=v?"3px":"4px";o.thick=v?"5px":"6px";s.each(["","Top","Left","Right","Bottom"],function(p){var w="border"+p+"Width",t="border"+p+"Style";u[w]=
{get:function(B,z){var A=z?B.currentStyle:0,F=A&&String(A[w])||undefined;if(F&&F.indexOf("px")<0)F=o[F]&&A[t]!=="none"?o[F]:0;return F}}});if(!(E.defaultView||{}).getComputedStyle&&G.currentStyle)b._getComputedStyle=function(p,w){w=b._cssProps[w]||w;var t=p.currentStyle&&p.currentStyle[w];if(!C.test(t)&&m.test(t)){var B=p.style,z=B.left,A=p.runtimeStyle&&p.runtimeStyle.left;if(A)p.runtimeStyle.left=p.currentStyle.left;B.left=w==="fontSize"?"1em":t||0;t=B.pixelLeft+"px";B.left=z;if(A)p.runtimeStyle.left=
A}return t===""?"auto":t};return b},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(s,b,v,x){function E(a){return a.replace(z,"ms-").replace(A,F)}function G(a,d,c){var g={},l;for(l in d){g[l]=a[k][l];a[k][l]=d[l]}c.call(a);for(l in d)a[k][l]=g[l]}function u(a,d,c){var g;if(a.nodeType===3||a.nodeType===8||!(g=a[k]))return x;d=E(d);var l,D=f[d];d=i[d]||d;if(c!==x){if(c===null||c===H)c=H;else if(!isNaN(Number(c))&&!B[d])c+=n;if(D&&D.set)c=D.set(a,c);if(c!==x){try{g[d]=c}catch(J){}c===H&&g.removeAttribute&&g.removeAttribute(d)}g.cssText||a.removeAttribute("style");
return x}else{if(!(D&&"get"in D&&(l=D.get(a,false))!==x))l=g[d];return l===x?"":l}}function C(a,d,c){if(s.isWindow(a))return d==o?b.viewportWidth(a):b.viewportHeight(a);else if(a.nodeType==9)return d==o?b.docWidth(a):b.docHeight(a);var g=d===o?["Left","Right"]:["Top","Bottom"],l=d===o?a.offsetWidth:a.offsetHeight;if(l>0){c!=="border"&&s.each(g,function(D){c||(l-=parseFloat(b.css(a,"padding"+D))||0);if(c==="margin")l+=parseFloat(b.css(a,c+D))||0;else l-=parseFloat(b.css(a,"border"+D+"Width"))||0});
return l}l=b._getComputedStyle(a,d);if(l==null||Number(l)<0)l=a.style[d]||0;l=parseFloat(l)||0;c&&s.each(g,function(D){l+=parseFloat(b.css(a,"padding"+D))||0;if(c!=="padding")l+=parseFloat(b.css(a,"border"+D+"Width"))||0;if(c==="margin")l+=parseFloat(b.css(a,c+D))||0});return l}var m=document,q=m.documentElement,y=v.ie,k="style",o="width",p="display"+s.now(),w=parseInt,t=/^-?\d+(?:px)?$/i,B={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},z=/^-ms-/,A=/-([a-z])/ig,
F=function(a,d){return d.toUpperCase()},I=/([A-Z]|^ms)/g,H="",n="px",f={},i={},e={};if(q[k].cssFloat!==x)i["float"]="cssFloat";else if(q[k].styleFloat!==x)i["float"]="styleFloat";var h,j;s.mix(b,{_camelCase:E,_CUSTOM_STYLES:f,_cssProps:i,_getComputedStyle:function(a,d){var c="",g,l=a.ownerDocument;d=d.replace(I,"-$1").toLowerCase();if(g=l.defaultView.getComputedStyle(a,null))c=g.getPropertyValue(d)||g[d];if(c==""&&!b.contains(l.documentElement,a)){d=i[d]||d;c=a[k][d]}return c},style:function(a,d,
c){a=b.query(a);var g=a[0];if(s.isPlainObject(d)){for(var l in d)for(g=a.length-1;g>=0;g--)u(a[g],l,d[l]);return x}if(c===x){l="";if(g)l=u(g,d,c);return l}else for(g=a.length-1;g>=0;g--)u(a[g],d,c);return x},css:function(a,d,c){a=b.query(a);var g=a[0];if(s.isPlainObject(d)){for(var l in d)for(g=a.length-1;g>=0;g--)u(a[g],l,d[l]);return x}d=E(d);l=f[d];if(c===x){c="";if(g)if(!(l&&"get"in l&&(c=l.get(g,true))!==x))c=b._getComputedStyle(g,d);return c===x?"":c}else for(g=a.length-1;g>=0;g--)u(a[g],d,
c);return x},show:function(a){a=b.query(a);var d,c;for(c=a.length-1;c>=0;c--){d=a[c];d[k].display=b.data(d,p)||H;if(b.css(d,"display")==="none"){var g;a:{g=d.tagName.toLowerCase();var l=void 0,D=void 0;if(!e[g]){l=m.body||m.documentElement;D=m.createElement(g);b.prepend(D,l);var J=b.css(D,"display");l.removeChild(D);if(J==="none"||J===""){if(h)b.prepend(h,l);else{h=m.createElement("iframe");h.frameBorder=h.width=h.height=0;b.prepend(h,l);D=void 0;if(D=b._genEmptyIframeSrc())h.src=D}if(!j||!h.createElement)try{j=
h.contentWindow.document;j.write((m.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><head>"+(v.ie&&b._isCustomDomain()?"<script>document.domain = '"+m.domain+"';<\/script>":"")+"</head><body>");j.close()}catch(K){g="block";break a}D=j.createElement(g);j.body.appendChild(D);J=b.css(D,"display");l.removeChild(h)}e[g]=J}g=e[g]}b.data(d,p,g);d[k].display=g}}},hide:function(a){a=b.query(a);var d,c;for(c=a.length-1;c>=0;c--){d=a[c];var g=d[k],l=g.display;if(l!=="none"){l&&b.data(d,p,l);g.display=
"none"}}},toggle:function(a){a=b.query(a);var d,c;for(c=a.length-1;c>=0;c--){d=a[c];b.css(d,"display")==="none"?b.show(d):b.hide(d)}},addStyleSheet:function(a,d,c){a=a||window;if(s.isString(a)){c=d;d=a;a=window}a=b.get(a);a=b._getWin(a).document;var g;if(c&&(c=c.replace("#",H)))g=b.get("#"+c,a);if(!g){g=b.create("<style>",{id:c},a);b.get("head",a).appendChild(g);if(g.styleSheet)g.styleSheet.cssText=d;else g.appendChild(a.createTextNode(d))}},unselectable:function(a){a=b.query(a);var d,c;for(c=a.length-
1;c>=0;c--){d=a[c];if(v.gecko)d[k].MozUserSelect="none";else if(v.webkit)d[k].KhtmlUserSelect="none";else if(v.ie||v.opera){var g=0,l=d.getElementsByTagName("*");for(d.setAttribute("unselectable","on");d=l[g++];)switch(d.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:d.setAttribute("unselectable","on")}}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});s.each([o,"height"],function(a){b["inner"+(a.charAt(0).toUpperCase()+a.substring(1))]=
function(d){return(d=b.get(d))&&C(d,a,"padding")};b["outer"+(a.charAt(0).toUpperCase()+a.substring(1))]=function(d,c){var g=b.get(d);return g?C(g,a,c?"margin":"border"):null};b[a]=function(d,c){var g=b.css(d,a,c);if(g)g=parseFloat(g);return g}});var r={position:"absolute",visibility:"hidden",display:"block"};s.each(["height","width"],function(a){f[a]={get:function(d,c){var g;if(c){if(d.offsetWidth!==0)g=C(d,a);else G(d,r,function(){g=C(d,a)});return g+"px"}},set:function(d,c){if(t.test(c)){c=parseFloat(c);
if(c>=0)return c+"px"}else return c}}});s.each(["left","top"],function(a){f[a]={get:function(d,c){if(c){var g=b._getComputedStyle(d,a);if(g==="auto"){g=0;if(s.inArray(b.css(d,"position"),["absolute","fixed"])){g=d[a==="left"?"offsetLeft":"offsetTop"];if(y&&document.documentMode!=9||v.opera)g-=d.offsetParent&&d.offsetParent["client"+(a=="left"?"Left":"Top")]||0;g=g-(w(b.css(d,"margin-"+a))||0)}g+="px"}return g}}}});return b},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(s,b,v){function x(m,q,y,k,o,p){if(!(m=b.get(m)))return null;if(q===0)return m;p||(m=m[y]);if(!m)return null;o=o&&b.get(o)||null;if(q===v)q=1;p=[];var w=s.isArray(q),t,B;if(s.isNumber(q)){t=0;B=q;q=function(){return++t===B}}for(;m&&m!=o;){if(u(m)&&E(m,q)&&(!k||k(m))){p.push(m);if(!w)break}m=m[y]}return w?p:p[0]||null}function E(m,q){if(!q)return true;if(s.isArray(q))for(var y=0;y<q.length;y++){if(b.test(m,q[y]))return true}else if(b.test(m,q))return true;return false}
function G(m,q,y){var k=[];var o=m=b.get(m);if(m&&y)o=m.parentNode;if(o){y=0;for(o=o.firstChild;o;o=o.nextSibling)if(u(o)&&o!==m&&(!q||b.test(o,q)))k[y++]=o}return k}var u=b._isElementNode,C=document.documentElement.contains?function(m,q){if(m.nodeType==b.TEXT_NODE)return false;var y;if(q.nodeType==b.TEXT_NODE){q=q.parentNode;y=true}else if(q.nodeType==b.DOCUMENT_NODE)return false;else y=m!==q;return y&&(m.contains?m.contains(q):true)}:document.documentElement.compareDocumentPosition?function(m,q){return!!(m.compareDocumentPosition(q)&
16)}:0;s.mix(b,{closest:function(m,q,y){return x(m,q,"parentNode",function(k){return k.nodeType!=b.DOCUMENT_FRAGMENT_NODE},y,true)},parent:function(m,q,y){return x(m,q,"parentNode",function(k){return k.nodeType!=b.DOCUMENT_FRAGMENT_NODE},y)},first:function(m,q){var y=b.get(m);return x(y&&y.firstChild,q,"nextSibling",v,v,true)},last:function(m,q){var y=b.get(m);return x(y&&y.lastChild,q,"previousSibling",v,v,true)},next:function(m,q){return x(m,q,"nextSibling",v)},prev:function(m,q){return x(m,q,"previousSibling",
v)},siblings:function(m,q){return G(m,q,true)},children:function(m,q){return G(m,q,v)},contains:function(m,q){m=b.get(m);q=b.get(q);if(m&&q)return C(m,q);return false},equals:function(m,q){m=b.query(m);q=b.query(q);if(m.length!=q.length)return false;for(var y=m.length;y>=0;y--)if(m[y]!=q[y])return false;return true}});return b},{requires:["./base"]});
