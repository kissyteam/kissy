/*
Copyright 2012, KISSY UI Library v1.40dev
MIT Licensed
build time: Aug 21 20:54
*/
KISSY.add("dom/attr",function(f,a,e,i){function n(a,b){var b=s[b]||b,h=B[b];return h&&h.get?h.get(a,b):a[b]}var p=f.Env.host.document,m=a.NodeType,r=p.documentElement,e=e.ie&&(p.documentMode||e.ie),u=r.textContent===i?"innerText":"textContent",g=a.nodeName,j=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,d=/^(?:button|input|object|select|textarea)$/i,k=/^a(?:rea)?$/i,b=/:|^on/,c=/\r/g,o={},t={val:1,css:1,html:1,text:1,
data:1,width:1,height:1,offset:1,scrollTop:1,scrollLeft:1},v={tabindex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):d.test(a.nodeName)||k.test(a.nodeName)&&a.href?0:i}},style:{get:function(a){return a.style.cssText},set:function(a,b){a.style.cssText=b}}},s={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},q={get:function(b,c){return a.prop(b,c)?c.toLowerCase():i},set:function(b,c,h){!1===c?a.removeAttr(b,h):(c=s[h]||h,c in b&&(b[c]=!0),b.setAttribute(h,h.toLowerCase()));return h}},B={},w={},z={option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(b){var c=b.selectedIndex,h=b.options;if(0>c)return null;if("select-one"===b.type)return a.val(h[c]);for(var b=[],c=0,l=h.length;c<
l;++c)h[c].selected&&b.push(a.val(h[c]));return b},set:function(b,c){var h=f.makeArray(c);f.each(b.options,function(b){b.selected=f.inArray(a.val(b),h)});h.length||(b.selectedIndex=-1);return h}}};e&&8>e&&(w={get:function(a,b){var h;return(h=a.getAttributeNode(b))&&(h.specified||h.nodeValue)?h.nodeValue:i},set:function(a,b,h){var l=a.getAttributeNode(h);if(l)l.nodeValue=b;else try{var c=a.ownerDocument.createAttribute(h);c.value=b;a.setAttributeNode(c)}catch(g){return a.setAttribute(h,b,0)}}},o=s,
v.tabIndex=v.tabindex,f.each("href,src,width,height,colSpan,rowSpan".split(","),function(a){v[a]={get:function(b){b=b.getAttribute(a,2);return b===null?i:b}}}),z.button=v.value=w);e&&9>e&&((v.href=v.href||{}).set=function(a,b,h){for(var c=a.childNodes,g,d=c.length,j=d>0,d=d-1;d>=0;d--)c[d].nodeType!=m.TEXT_NODE&&(j=0);if(j){g=a.ownerDocument.createElement("b");g.style.display="none";a.appendChild(g)}a.setAttribute(h,""+b);g&&a.removeChild(g)});f.each(["radio","checkbox"],function(b){z[b]={get:function(a){return a.getAttribute("value")===
null?"on":a.value},set:function(b,h){if(f.isArray(h))return b.checked=f.inArray(a.val(b),h)}}});f.mix(a,{prop:function(b,c,h){var l=a.query(b);if(f.isPlainObject(c)){f.each(c,function(b,h){a.prop(l,h,b)});return i}c=s[c]||c;b=B[c];if(h!==i)for(var g=l.length-1;g>=0;g--){var d=l[g];b&&b.set?b.set(d,h,c):d[c]=h}else if(l.length)return n(l[0],c);return i},hasProp:function(b,c){for(var h=a.query(b),l=0;l<h.length;l++)if(n(h[l],c)!==i)return true;return false},removeProp:function(b,c){for(var c=s[c]||
c,h=a.query(b),l=h.length-1;l>=0;l--){var g=h[l];try{g[c]=i;delete g[c]}catch(d){}}},attr:function(c,d,h,l){var A=a.query(c);if(f.isPlainObject(d)){var l=h,e;for(e in d)d.hasOwnProperty(e)&&a.attr(A,e,d[e],l);return i}if(!(d=f.trim(d)))return i;if(l&&t[d])return a[d](c,h);d=d.toLowerCase();if(l&&t[d])return a[d](c,h);d=o[d]||d;l=A[0];c=j.test(d)?q:b.test(d)?w:v[d];if(h===i){if(l&&l.nodeType===m.ELEMENT_NODE){g(l)=="form"&&(c=w);if(c&&c.get)return c.get(l,d);d=l.getAttribute(d);return d===null?i:d}}else for(e=
A.length-1;e>=0;e--)if((l=A[e])&&l.nodeType===m.ELEMENT_NODE){g(l)=="form"&&(c=w);c&&c.set?c.set(l,h,d):l.setAttribute(d,""+h)}return i},removeAttr:function(b,c){var c=c.toLowerCase(),c=o[c]||c,h=a.query(b),l,d;for(d=h.length-1;d>=0;d--){l=h[d];if(l.nodeType==m.ELEMENT_NODE){var g;l.removeAttribute(c);if(j.test(c)&&(g=s[c]||c)in l)l[g]=false}}},hasAttr:!r.hasAttribute?function(b,c){for(var c=c.toLowerCase(),h=a.query(b),l=0;l<h.length;l++){var d=h[l].getAttributeNode(c);if(d&&d.specified)return true}return false}:
function(b,c){for(var h=a.query(b),l=0;l<h.length;l++)if(h[l].hasAttribute(c))return true;return false},val:function(b,d){var h,l;if(d===i){var e=a.get(b);if(e){if((h=z[g(e)]||z[e.type])&&"get"in h&&(l=h.get(e,"value"))!==i)return l;l=e.value;return typeof l==="string"?l.replace(c,""):l==null?"":l}return i}l=a.query(b);var j;for(j=l.length-1;j>=0;j--){e=l[j];if(e.nodeType!==1)break;var k=d;k==null?k="":typeof k==="number"?k=k+"":f.isArray(k)&&(k=f.map(k,function(b){return b==null?"":b+""}));h=z[g(e)]||
z[e.type];if(!h||!("set"in h)||h.set(e,k,"value")===i)e.value=k}return i},_propHooks:B,text:function(b,c){if(c===i){var h=a.get(b);if(h.nodeType==m.ELEMENT_NODE)return h[u]||"";if(h.nodeType==m.TEXT_NODE)return h.nodeValue}else{var l=a.query(b),d;for(d=l.length-1;d>=0;d--){h=l[d];if(h.nodeType==m.ELEMENT_NODE)h[u]=c;else if(h.nodeType==m.TEXT_NODE)h.nodeValue=c}}return i}});return a},{requires:["./base","ua"]});
KISSY.add("dom/base",function(f,a,e){var i=f.Env.host,n={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},p={isCustomDomain:function(a){var a=a||i,e=a.document.domain,a=a.location.hostname;return e!=a&&e!="["+a+"]"},getEmptyIframeSrc:function(f){f=f||i;return a.ie&&p.isCustomDomain(f)?"javascript:void(function(){"+encodeURIComponent("document.open();document.domain='"+
f.document.domain+"';document.close();")+"}())":e},NodeType:n,_getWin:function(a){return null==a?i:"scrollTo"in a&&a.document?a:a.nodeType==n.DOCUMENT_NODE?a.defaultView||a.parentWindow:!1},_isNodeList:function(a){return a&&!a.nodeType&&a.item&&!a.setTimeout},nodeName:function(e){var f=p.get(e),e=f.nodeName.toLowerCase();a.ie&&(f=f.scopeName)&&"HTML"!=f&&(e=f.toLowerCase()+":"+e);return e}};f.mix(p,n);return p},{requires:["ua"]});
KISSY.add("dom/class",function(f,a,e){function i(i,m,g,j){if(!(m=f.trim(m)))return j?!1:e;for(var i=a.query(i),d=i.length,k=m.split(p),m=[],b=0;b<k.length;b++){var c=f.trim(k[b]);c&&m.push(c)}for(b=0;b<d;b++)if(k=i[b],k.nodeType==n.ELEMENT_NODE&&(k=g(k,m,m.length),k!==e))return k;return j?!1:e}var n=a.NodeType,p=/[\.\s]\s*\.?/,m=/[\n\t]/g;f.mix(a,{hasClass:function(a,e){return i(a,e,function(a,e,d){if(a=a.className){for(var a=(" "+a+" ").replace(m," "),f=0,b=!0;f<d;f++)if(0>a.indexOf(" "+e[f]+" ")){b=
!1;break}if(b)return!0}},!0)},addClass:function(a,n){i(a,n,function(a,e,d){var k=a.className;if(k){for(var b=(" "+k+" ").replace(m," "),c=0;c<d;c++)0>b.indexOf(" "+e[c]+" ")&&(k+=" "+e[c]);a.className=f.trim(k)}else a.className=n},e)},removeClass:function(a,n){i(a,n,function(a,e,d){var k=a.className;if(k)if(d){for(var k=(" "+k+" ").replace(m," "),b=0,c;b<d;b++)for(c=" "+e[b]+" ";0<=k.indexOf(c);)k=k.replace(c," ");a.className=f.trim(k)}else a.className=""},e)},replaceClass:function(e,f,g){a.removeClass(e,
f);a.addClass(e,g)},toggleClass:function(n,m,g){var j=f.isBoolean(g),d;i(n,m,function(e,b,c){for(var f=0,i;f<c;f++)i=b[f],d=j?!g:a.hasClass(e,i),a[d?"removeClass":"addClass"](e,i)},e)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(f,a,e,i){function n(b){var c=f.require("event");c&&c.detach(b);a.removeData(b)}function p(a,b,c){if(b.nodeType==j.DOCUMENT_FRAGMENT_NODE)for(var b=b.childNodes,c=c.childNodes,d=0;b[d];)c[d]&&p(a,b[d],c[d]),d++;else if(b.nodeType==j.ELEMENT_NODE){b=b.getElementsByTagName("*");c=c.getElementsByTagName("*");for(d=0;b[d];)c[d]&&a(b[d],c[d]),d++}}function m(b,c){var d=f.require("event");if(c.nodeType!=j.ELEMENT_NODE||a.hasData(b)){var e=a.data(b),g;for(g in e)a.data(c,g,
e[g]);d&&(d._removeData(c),d._clone(b,c))}}function r(b,c){c.clearAttributes&&c.clearAttributes();c.mergeAttributes&&c.mergeAttributes(b);var d=c.nodeName.toLowerCase(),e=b.childNodes;if("object"===d&&!c.childNodes.length)for(d=0;d<e.length;d++)c.appendChild(e[d].cloneNode(!0));else if("input"===d&&("checkbox"===b.type||"radio"===b.type)){if(b.checked&&(c.defaultChecked=c.checked=b.checked),c.value!==b.value)c.value=b.value}else if("option"===d)c.selected=b.defaultSelected;else if("input"===d||"textarea"===
d)c.defaultValue=b.defaultValue;c.removeAttribute(a.__EXPANDO)}function u(b){var a=null,c,d;if(b&&(b.push||b.item)&&b[0]){a=b[0].ownerDocument;a=a.createDocumentFragment();b=f.makeArray(b);c=0;for(d=b.length;c<d;c++)a.appendChild(b[c])}return a}var g=f.Env.host.document,j=a.NodeType,e=e.ie,d=f.isString,k=g.createElement("div"),b=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,c=/<([\w:]+)/,o=/<tbody/i,t=/^\s+/,v=e&&9>e,s=/<|&#?\w+;/,q="outerHTML"in g.documentElement,B=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;
f.mix(a,{create:function(h,e,k,o){var q=null;if(!h)return q;if(h.nodeType)return a.clone(h);if(!d(h))return q;o===i&&(o=!0);o&&(h=f.trim(h));var o=a._creators,F,G,k=k||g,C,H="div";if(s.test(h))if(C=B.exec(h))q=k.createElement(C[1]);else{h=h.replace(b,"<$1></$2>");if((C=c.exec(h))&&(F=C[1]))H=F.toLowerCase();F=(o[H]||o.div)(h,k);v&&(G=h.match(t))&&F.insertBefore(k.createTextNode(G[0]),F.firstChild);h=F.childNodes;1===h.length?q=h[0].parentNode.removeChild(h[0]):h.length&&(q=u(h))}else q=k.createTextNode(h);
f.isPlainObject(e)&&(q.nodeType==j.ELEMENT_NODE?a.attr(q,e,!0):q.nodeType==j.DOCUMENT_FRAGMENT_NODE&&a.attr(q.childNodes,e,!0));return q},_creators:{div:function(b,a){var c=a&&a!=g?a.createElement("div"):k;c.innerHTML="m<div>"+b+"</div>";return c.lastChild}},html:function(b,d,e,g){var b=a.query(b),f=b[0];if(f){if(d===i)return f.nodeType==j.ELEMENT_NODE?f.innerHTML:null;var k=!1,G,C,d=d+"";if(!d.match(/<(?:script|style|link)/i)&&(!v||!d.match(t))&&!y[(d.match(c)||["",""])[1].toLowerCase()])try{for(G=
b.length-1;0<=G;G--)C=b[G],C.nodeType==j.ELEMENT_NODE&&(n(C.getElementsByTagName("*")),C.innerHTML=d);k=!0}catch(H){}k||(d=a.create(d,0,f.ownerDocument,0),a.empty(b),a.append(d,b,e));g&&g()}},outerHTML:function(b,c,d){var b=a.query(b),e=b.length,g=b[0];if(g){if(c===i){if(q)return g.outerHTML;c=g.ownerDocument.createElement("div");c.appendChild(a.clone(g,!0));return c.innerHTML}c+="";if(!c.match(/<(?:script|style|link)/i)&&q)for(d=e-1;0<=d;d--)g=b[d],g.nodeType==j.ELEMENT_NODE&&(n(g),n(g.getElementsByTagName("*")),
g.outerHTML=c);else c=a.create(c,0,g.ownerDocument,0),a.insertBefore(c,b,d),a.remove(b)}},remove:function(b,c){var d,e=a.query(b),g;for(g=e.length-1;0<=g;g--){d=e[g];if(!c&&d.nodeType==j.ELEMENT_NODE){var f=d.getElementsByTagName("*");n(f);n(d)}d.parentNode&&d.parentNode.removeChild(d)}},clone:function(b,c,d,e){"object"===typeof c&&(e=c.deepWithDataAndEvent,d=c.withDataAndEvent,c=c.deep);b=a.get(b);if(!b)return null;var g=b.cloneNode(c);if(b.nodeType==j.ELEMENT_NODE||b.nodeType==j.DOCUMENT_FRAGMENT_NODE)b.nodeType==
j.ELEMENT_NODE&&r(b,g),c&&p(r,b,g);d&&(m(b,g),c&&e&&p(m,b,g));return g},empty:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],a.remove(c.childNodes)},nodeListToFragment:u});var w=a._creators,z=a.create,y={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},D;for(D in y)(function(b){w[D]=function(c,a){return z("<"+b+">"+c+"</"+b+">",null,a)}})(y[D]);8>e&&
(w.table=function(b,c){var d=w.div(b,c);if(o.test(b))return d;var e=d.firstChild,g=f.makeArray(e.childNodes);f.each(g,function(b){"tbody"==a.nodeName(b)&&!b.childNodes.length&&e.removeChild(b)});return d});return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(f,a,e){var i=f.Env.host,n="__ks_data_"+f.now(),p={},m={},r={applet:1,object:1,embed:1},u={hasData:function(a,g){if(a)if(g!==e){if(g in a)return!0}else if(!f.isEmptyObject(a))return!0;return!1}},g={hasData:function(a,e){return a==i?g.hasData(m,e):u.hasData(a[n],e)},data:function(a,f,b){if(a==i)return g.data(m,f,b);var c=a[n];if(b!==e)c=a[n]=a[n]||{},c[f]=b;else return f!==e?c&&c[f]:c=a[n]=a[n]||{}},removeData:function(a,j){if(a==i)return g.removeData(m,j);var b=a[n];if(j!==
e)delete b[j],f.isEmptyObject(b)&&g.removeData(a);else try{delete a[n]}catch(c){a[n]=e}}},j={hasData:function(a,e){var b=a[n];return!b?!1:u.hasData(p[b],e)},data:function(a,g,b){if(r[a.nodeName.toLowerCase()])return e;var c=a[n];if(!c){if(g!==e&&b===e)return e;c=a[n]=f.guid()}a=p[c];if(b!==e)a=p[c]=p[c]||{},a[g]=b;else return g!==e?a&&a[g]:a=p[c]=p[c]||{}},removeData:function(a,g){var b=a[n],c;if(b)if(c=p[b],g!==e)delete c[g],f.isEmptyObject(c)&&j.removeData(a);else{delete p[b];try{delete a[n]}catch(o){a[n]=
e}a.removeAttribute&&a.removeAttribute(n)}}};f.mix(a,{__EXPANDO:n,hasData:function(d,e){for(var b=!1,c=a.query(d),f=0;f<c.length&&!(b=c[f],b=b.nodeType?j.hasData(b,e):g.hasData(b,e));f++);return b},data:function(d,i,b){var d=a.query(d),c=d[0];if(f.isPlainObject(i)){for(var o in i)a.data(d,o,i[o]);return e}if(b===e){if(c)return c.nodeType?j.data(c,i,b):g.data(c,i,b)}else for(o=d.length-1;0<=o;o--)c=d[o],c.nodeType?j.data(c,i,b):g.data(c,i,b);return e},removeData:function(d,e){var b=a.query(d),c,f;
for(f=b.length-1;0<=f;f--)c=b[f],c.nodeType?j.removeData(c,e):g.removeData(c,e)}});return a},{requires:["./base"]});KISSY.add("dom",function(f,a){f.mix(f,{DOM:a,get:a.get,query:a.query});return a},{requires:"dom/attr,dom/class,dom/create,dom/data,dom/insertion,dom/offset,dom/style,dom/selector,dom/style-ie,dom/traversal".split(",")});
KISSY.add("dom/insertion",function(f,a,e){function i(b){for(var a=0;a<b.length;a++){var d=b[a];if(d.nodeType==r.DOCUMENT_FRAGMENT_NODE)i(d.childNodes);else if("input"==g(d)){if("checkbox"===d.type||"radio"===d.type)d.defaultChecked=d.checked}else if(d.nodeType==r.ELEMENT_NODE)for(var d=d.getElementsByTagName("input"),e=0;e<d.length;e++)i(d[e])}}function n(b,a){var e=[],f,i,s;for(f=0;b[f];f++)if(i=b[f],s=g(i),i.nodeType==r.DOCUMENT_FRAGMENT_NODE)e.push.apply(e,n(j(i.childNodes),a));else if("script"===
s&&(!i.type||k.test(i.type)))i.parentNode&&i.parentNode.removeChild(i),a&&a.push(i);else{if(i.nodeType==r.ELEMENT_NODE&&!u.test(s)){s=[];var q,m,w=i.getElementsByTagName("script");for(m=0;m<w.length;m++)q=w[m],(!q.type||k.test(q.type))&&s.push(q);d.apply(b,[f+1,0].concat(s))}e.push(i)}return e}function p(b){b.src?f.getScript(b.src):(b=f.trim(b.text||b.textContent||b.innerHTML||""))&&f.globalEval(b)}function m(b,c,d,g){b=e.query(b);g&&(g=[]);b=n(b,g);8>a.ie&&i(b);var c=e.query(c),j=c.length;if((b.length||
g&&g.length)&&j){var b=e.nodeListToFragment(b),s;1<j&&(s=e.clone(b,!0),c=f.makeArray(c));for(var q=0;q<j;q++){var k=c[q];if(b){var m=0<q?e.clone(s,!0):b;d(m,k)}g&&g.length&&f.each(g,p)}}}var r=e.NodeType,u=/^(?:button|input|object|select|textarea)$/i,g=e.nodeName,j=f.makeArray,d=[].splice,k=/\/(java|ecma)script/i;f.mix(e,{insertBefore:function(b,a,d){m(b,a,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,b)},d)},insertAfter:function(b,a,d){m(b,a,function(a,b){b.parentNode&&b.parentNode.insertBefore(a,
b.nextSibling)},d)},appendTo:function(b,a,d){m(b,a,function(a,b){b.appendChild(a)},d)},prependTo:function(a,c,d){m(a,c,function(a,b){b.insertBefore(a,b.firstChild)},d)},wrapAll:function(a,c){c=e.clone(e.get(c),!0);a=e.query(a);a[0].parentNode&&e.insertBefore(c,a[0]);for(var d;(d=c.firstChild)&&1==d.nodeType;)c=d;e.appendTo(a,c)},wrap:function(a,c){a=e.query(a);c=e.get(c);f.each(a,function(a){e.wrapAll(a,c)})},wrapInner:function(a,c){a=e.query(a);c=e.get(c);f.each(a,function(a){var b=a.childNodes;
b.length?e.wrapAll(b,c):a.appendChild(c)})},unwrap:function(a){a=e.query(a);f.each(a,function(a){a=a.parentNode;e.replaceWith(a,a.childNodes)})},replaceWith:function(a,c){var d=e.query(a),c=e.query(c);e.remove(c,!0);e.insertBefore(c,d);e.remove(d)}});f.each({prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},function(a,c){e[c]=e[a]});return e},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(f,a,e,i){function n(d){var f,j=d.ownerDocument.body,i=g(d[k]);f=d.getBoundingClientRect();d=f[b];f=f[c];d-=u.clientLeft||j.clientLeft;f-=u.clientTop||j.clientTop;"apple"==e.mobile&&(d-=a[t](i),f-=a[v](i));return{left:d,top:f}}function p(b,c){var d={left:0,top:0},e=g(b[k]),f=b,c=c||e;do{var j;if(e==c){var i=f;j=n(i);i=g(i[k]);j.left+=a[t](i);j.top+=a[v](i)}else j=n(f);d.left+=j.left;d.top+=j.top}while(e&&e!=c&&(f=e.frameElement)&&(e=e.parent));return d}var m=f.Env.host,
r=a.NodeType,u=m.document.documentElement,g=a._getWin,j=Math.max,d=parseInt,k="ownerDocument",b="left",c="top",o=f.isNumber,t="scrollLeft",v="scrollTop";f.mix(a,{offset:function(b,c,e){if(c===i){var b=a.get(b),g;b&&(g=p(b,e));return g}e=a.query(b);for(g=e.length-1;0<=g;g--){var b=e[g],f=c;"static"===a.css(b,"position")&&(b.style.position="relative");var j=p(b),k={},h=void 0,l=void 0;for(l in f)h=d(a.css(b,l),10)||0,k[l]=h+f[l]-j[l];a.css(b,k)}return i},scrollIntoView:function(e,f,j,k,m){var n,o,h;
if(o=a.get(e)){f&&(f=a.get(f));f||(f=o.ownerDocument);!0!==m&&(k=k===i?!0:!!k,j=j===i?!0:!!j);f.nodeType==r.DOCUMENT_NODE&&(f=g(f));h=!!g(f);m=a.offset(o);e=a.outerHeight(o);n=a.outerWidth(o);var l,p,v,t;h?(o=f,l=a.height(o),p=a.width(o),t={left:a.scrollLeft(o),top:a.scrollTop(o)},o=m[b]-t[b],h=m[c]-t[c],n=m[b]+n-(t[b]+p),m=m[c]+e-(t[c]+l)):(l=a.offset(f),p=f.clientHeight,v=f.clientWidth,t={left:a.scrollLeft(f),top:a.scrollTop(f)},o=m[b]-l[b]-(d(a.css(f,"borderLeftWidth"))||0),h=m[c]-l[c]-(d(a.css(f,
"borderTopWidth"))||0),n=m[b]+n-(l[b]+v+(d(a.css(f,"borderRightWidth"))||0)),m=m[c]+e-(l[c]+p+(d(a.css(f,"borderBottomWidth"))||0)));if(0>h||0<m)!0===j?a.scrollTop(f,t.top+h):!1===j?a.scrollTop(f,t.top+m):0>h?a.scrollTop(f,t.top+h):a.scrollTop(f,t.top+m);if(k&&(0>o||0<n))!0===j?a.scrollLeft(f,t.left+o):!1===j?a.scrollLeft(f,t.left+n):0>o?a.scrollLeft(f,t.left+o):a.scrollLeft(f,t.left+n)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});f.each(["Left","Top"],function(b,
c){var d="scroll"+b;a[d]=function(e,f){if(o(e))return arguments.callee(m,e);var e=a.get(e),j,k=g(e);if(k)if(f!==i){var f=parseFloat(f),h="Left"==b?f:a.scrollLeft(k),l="Top"==b?f:a.scrollTop(k);k.scrollTo(h,l)}else j=k["page"+(c?"Y":"X")+"Offset"],o(j)||(k=k.document,j=k.documentElement[d],o(j)||(j=k.body[d]));else e.nodeType==r.ELEMENT_NODE&&(f!==i?e[d]=parseFloat(f):j=e[d]);return j}});f.each(["Width","Height"],function(b){a["doc"+b]=function(c){c=a.get(c);c=g(c).document;return j(c.documentElement["scroll"+
b],c.body["scroll"+b],a["viewport"+b](c))};a["viewport"+b]=function(c){var c=a.get(c),d="client"+b,c=g(c).document,e=c.body,f=c.documentElement[d];return"CSS1Compat"===c.compatMode&&f||e&&e[d]||f}});return a},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(f,a,e){function i(a){var b,c;for(c=0;c<this.length&&!(b=this[c],!1===a(b,c));c++);}function n(a,c){var d,g,j=v(a),h=c===e&&(g=1)?[b]:n(c,e);if(a)if(j)a=D(a),g&&"body"==a?d=[b.body]:1==h.length&&a&&(d=m(a,h[0]));else{if(g)if(a.nodeType||a.setTimeout)d=[a];else{if(a.getDOMNodes)return a;d=t(a)?a:q(a)?f.makeArray(a):[a]}}else d=[];if(!d&&(d=[],a)){for(g=0;g<h.length;g++)w.apply(d,p(a,h[g]));1<d.length&&(1<h.length||j&&-1<a.indexOf(y))&&x(d)}d.each=i;return d}function p(a,
b){var c=v(a);if(c&&a.match(A)||!c)c=r(a,b);else if(c&&-1<a.indexOf(y)){var c=[],d,e=a.split(/\s*,\s*/);for(d=0;d<e.length;d++)w.apply(c,p(e[d],b))}else c=[],(d=f.require("sizzle"))&&d(a,b,c);return c}function m(a,b){var c,e,f,h;if(l.test(a))c=(e=g(a.slice(1),b))?[e]:[];else if(f=A.exec(a)){e=f[1];h=f[2];f=f[3];if(b=e?g(e,b):b)f?!e||-1!=a.indexOf(z)?c=[].concat(E(f,h,b)):(e=g(e,b))&&d(e,f)&&(c=[e]):h&&(c=j(h,b));c=c||[]}return c}function r(a,b){var c;v(a)?c=m(a,b)||[]:t(a)||q(a)?c=o(a,function(a){return u(a,
b)}):u(a,b)&&(c=[a]);return c}function u(c,d){return!c?!1:d==b?!0:a.contains(d,c)}function g(b,d){var e=d;d.nodeType!==c.DOCUMENT_NODE&&(e=d.ownerDocument);(e=e.getElementById(b))&&e.id===b||(e&&e.parentNode?k(e,b)?u(e,d)||(e=null):e=a.filter(h,"#"+b,d)[0]||null:e=null);return e}function j(a,b){return b&&s(b.getElementsByTagName(a))||[]}function d(a,b){var c;return(c=a.className)&&-1!==(" "+c+" ").indexOf(" "+b+" ")}function k(a,b){var c=a.getAttributeNode("id");return c&&c.nodeValue===b}var b=f.Env.host.document,
c=a.NodeType,o=f.filter,t=f.isArray,v=f.isString,s=f.makeArray,q=a._isNodeList,B=a.nodeName,w=Array.prototype.push,z=" ",y=",",D=f.trim,h="*",l=/^#[\w-]+$/,A=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,x=f.noop;(function(){var a,c,d=!0;[0,0].sort(function(){d=!1;return 0});x=function(b){if(a&&(c=d,b.sort(a),c))for(var e=1,f=b.length;e<f;)b[e]===b[e-1]?b.splice(e,1):e++;return b};a=b.documentElement.compareDocumentPosition?function(a,b){return a==b?(c=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?
a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:function(a,b){if(a==b)return c=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex}})();(function(){var a=b.createElement("div");a.appendChild(b.createComment(""));0<a.getElementsByTagName(h).length&&(j=function(a,b){var c=s(b.getElementsByTagName(a));if(a===h){for(var d=[],e=0,f;f=c[e++];)1===f.nodeType&&d.push(f);c=d}return c})})();var E=b.getElementsByClassName?function(a,b,c){if(!c)return[];var a=c.getElementsByClassName(a),
d=0,e=a.length,f;if(b&&b!==h)for(c=[];d<e;++d)f=a[d],B(f)==b&&c.push(f);else c=s(a);return c}:b.querySelectorAll?function(a,b,c){return c&&s(c.querySelectorAll((b?b:"")+"."+a))||[]}:function(a,b,c){if(!c)return[];for(var b=c.getElementsByTagName(b||h),c=[],e=0,f=b.length,g;e<f;++e)g=b[e],d(g,a)&&c.push(g);return c};f.mix(a,{query:n,get:function(a,b){return n(a,b)[0]||null},unique:x,filter:function(a,b,c){var a=n(a,c),c=f.require("sizzle"),e,g,j,h,i=[];if(v(b)&&(b=D(b))&&(e=A.exec(b)))j=e[1],g=e[2],
h=e[3],j?j&&!g&&!h&&(b=function(a){return k(a,j)}):b=function(a){var b=!0,c=!0;g&&(b=B(a)==g);h&&(c=d(a,h));return c&&b};f.isFunction(b)?i=f.filter(a,b):b&&c&&(i=c.matches(b,a));return i},test:function(b,c,d){b=n(b,d);return b.length&&a.filter(b,c,d).length===b.length}});return a},{requires:["./base"]});
KISSY.add("dom/style-ie",function(f,a,e,i){if(!e.ie)return a;var n=f.Env.host.document,p=n.documentElement,m=i._CUSTOM_STYLES,r=/^-?\d+(?:px)?$/i,u=/^-?\d/,g=/opacity=([^)]*)/,j=/alpha\([^)]*\)/i;m.backgroundPosition={get:function(a,c){return c?a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY:a.style.backgroundPosition}};try{null==p.style.opacity&&(m.opacity={get:function(a,c){return g.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/
100+"":c?"1":""},set:function(a,c){var c=parseFloat(c),d=a.style,e=a.currentStyle,g=isNaN(c)?"":"alpha(opacity="+100*c+")",i=f.trim(e&&e.filter||d.filter||"");d.zoom=1;if(1<=c&&""===f.trim(i.replace(j,""))&&(d.removeAttribute("filter"),e&&!e.filter))return;d.filter=j.test(i)?i.replace(j,g):i+(i?", ":"")+g}})}catch(d){}var e=8==e.ie,k={};k.thin=e?"1px":"2px";k.medium=e?"3px":"4px";k.thick=e?"5px":"6px";f.each(["","Top","Left","Right","Bottom"],function(a){var c="border"+a+"Width",d="border"+a+"Style";
m[c]={get:function(a,b){var e=b?a.currentStyle:0,f=e&&""+e[c]||void 0;f&&0>f.indexOf("px")&&(f=k[f]&&"none"!==e[d]?k[f]:0);return f}}});if(!(n.defaultView||{}).getComputedStyle&&p.currentStyle)a._getComputedStyle=function(b,c){var c=a._cssProps[c]||c,d=b.currentStyle&&b.currentStyle[c];if(!r.test(d)&&u.test(d)&&-1==d.indexOf(" ")){var e=b.style,f=e.left,g=b.runtimeStyle&&b.runtimeStyle.left;g&&(b.runtimeStyle.left=b.currentStyle.left);e.left="fontSize"===c?"1em":d||0;d=e.pixelLeft+"px";e.left=f;g&&
(b.runtimeStyle.left=g)}return""===d?"auto":d};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(f,a,e,i){function n(a){return a.replace(q,"ms-").replace(B,w)}function p(a,c,d){var e={},f;for(f in c)c.hasOwnProperty(f)&&(e[f]=a[b][f],a[b][f]=c[f]);d.call(a);for(f in c)c.hasOwnProperty(f)&&(a[b][f]=e[f])}function m(a,c,d){var e;if(3===a.nodeType||8===a.nodeType||!(e=a[b]))return i;var c=n(c),f,g=h[c],c=l[c]||c;if(d!==i){null===d||d===y?d=y:!isNaN(Number(d))&&!s[c]&&(d+=D);g&&g.set&&(d=g.set(a,d));if(d!==i){try{e[c]=d}catch(j){}d===y&&e.removeAttribute&&e.removeAttribute(c)}e.cssText||
a.removeAttribute("style");return i}if(!g||!("get"in g&&(f=g.get(a,!1))!==i))f=e[c];return f===i?"":f}function r(a){var b,c=arguments;0!==a.offsetWidth?b=u.apply(i,c):p(a,F,function(){b=u.apply(i,c)});return b}function u(b,d,e){if(f.isWindow(b))return d==c?a.viewportWidth(b):a.viewportHeight(b);if(9==b.nodeType)return d==c?a.docWidth(b):a.docHeight(b);var g=d===c?["Left","Right"]:["Top","Bottom"],j=d===c?b.offsetWidth:b.offsetHeight;if(0<j)return"border"!==e&&f.each(g,function(c){e||(j-=parseFloat(a.css(b,
"padding"+c))||0);j="margin"===e?j+(parseFloat(a.css(b,e+c))||0):j-(parseFloat(a.css(b,"border"+c+"Width"))||0)}),j;j=a._getComputedStyle(b,d);if(null==j||0>Number(j))j=b.style[d]||0;j=parseFloat(j)||0;e&&f.each(g,function(c){j+=parseFloat(a.css(b,"padding"+c))||0;"padding"!==e&&(j+=parseFloat(a.css(b,"border"+c+"Width"))||0);"margin"===e&&(j+=parseFloat(a.css(b,e+c))||0)});return j}var g=f.Env.host,j=g.document,d=j.documentElement,k=e.ie,b="style",c="width",o="display"+f.now(),t=parseInt,v=/^-?\d+(?:px)?$/i,
s={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},q=/^-ms-/,B=/-([a-z])/ig,w=function(a,b){return b.toUpperCase()},z=/([A-Z]|^ms)/g,y="",D="px",h={},l={},A={};d[b].cssFloat!==i?l["float"]="cssFloat":d[b].styleFloat!==i&&(l["float"]="styleFloat");var x,E;f.mix(a,{_camelCase:n,_CUSTOM_STYLES:h,_cssProps:l,_getComputedStyle:function(c,d){var e="",f,g=c.ownerDocument,d=d.replace(z,"-$1").toLowerCase();if(f=g.defaultView.getComputedStyle(c,null))e=f.getPropertyValue(d)||
f[d];""==e&&!a.contains(g.documentElement,c)&&(d=l[d]||d,e=c[b][d]);return e},style:function(b,c,d){var b=a.query(b),e=b[0];if(f.isPlainObject(c)){for(var g in c)if(c.hasOwnProperty(g))for(e=b.length-1;0<=e;e--)m(b[e],g,c[g]);return i}if(d===i)return g="",e&&(g=m(e,c,d)),g;for(e=b.length-1;0<=e;e--)m(b[e],c,d);return i},css:function(b,c,d){var b=a.query(b),e=b[0];if(f.isPlainObject(c)){for(var g in c)if(c.hasOwnProperty(g))for(e=b.length-1;0<=e;e--)m(b[e],g,c[g]);return i}c=n(c);g=h[c];if(d===i){d=
"";if(e&&(!g||!("get"in g&&(d=g.get(e,!0))!==i)))d=a._getComputedStyle(e,c);return d===i?"":d}for(e=b.length-1;0<=e;e--)m(b[e],c,d);return i},show:function(c){var c=a.query(c),d,f;for(f=c.length-1;0<=f;f--)if(d=c[f],d[b].display=a.data(d,o)||y,"none"===a.css(d,"display")){var g;a:{g=d.tagName.toLowerCase();var h=void 0,i=void 0;if(!A[g]){h=j.body||j.documentElement;i=j.createElement(g);a.prepend(i,h);var k=a.css(i,"display");h.removeChild(i);if("none"==k||""==k){if(x)a.prepend(x,h);else if(x=j.createElement("iframe"),
x.frameBorder=x.width=x.height=0,a.prepend(x,h),i=void 0,i=a.getEmptyIframeSrc())x.src=i;if(!E||!x.createElement)try{E=x.contentWindow.document,E.write(("CSS1Compat"===j.compatMode?"<!doctype html>":"")+"<html><head>"+(e.ie&&a.isCustomDomain()?"<script>document.domain= '"+j.domain+"';<\/script>":"")+"</head><body>"),E.close()}catch(l){g="block";break a}i=E.createElement(g);E.body.appendChild(i);k=a.css(i,"display");h.removeChild(x)}A[g]=k}g=A[g]}a.data(d,o,g);d[b].display=g}},hide:function(c){var c=
a.query(c),d,e;for(e=c.length-1;0<=e;e--){d=c[e];var f=d[b],g=f.display;"none"!==g&&(g&&a.data(d,o,g),f.display="none")}},toggle:function(b){var b=a.query(b),c,d;for(d=b.length-1;0<=d;d--)c=b[d],"none"===a.css(c,"display")?a.show(c):a.hide(c)},addStyleSheet:function(b,c,d){b=b||g;f.isString(b)&&(d=c,c=b,b=g);var b=a.get(b),b=a._getWin(b).document,e;if(d&&(d=d.replace("#",y)))e=a.get("#"+d,b);e||(e=a.create("<style>",{id:d},b),a.get("head",b).appendChild(e),e.styleSheet?e.styleSheet.cssText=c:e.appendChild(b.createTextNode(c)))},
unselectable:function(c){var c=a.query(c),d,f;for(f=c.length-1;0<=f;f--)if(d=c[f],e.gecko)d[b].MozUserSelect="none";else if(e.webkit)d[b].KhtmlUserSelect="none";else if(e.ie||e.opera){var g=0,j=d.getElementsByTagName("*");for(d.setAttribute("unselectable","on");d=j[g++];)switch(d.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:d.setAttribute("unselectable","on")}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,width:0,height:0});f.each([c,"height"],
function(b){a["inner"+(b.charAt(0).toUpperCase()+b.substring(1))]=function(c){return(c=a.get(c))&&r(c,b,"padding")};a["outer"+(b.charAt(0).toUpperCase()+b.substring(1))]=function(c,d){var e=a.get(c);return e&&r(e,b,d?"margin":"border")};a[b]=function(c,d){var e=a.css(c,b,d);e&&(e=parseFloat(e));return e}});var F={position:"absolute",visibility:"hidden",display:"block"};f.each(["height","width"],function(a){h[a]={get:function(b,c){if(c)return r(b,a)+"px"},set:function(a,b){if(v.test(b)){if(b=parseFloat(b),
0<=b)return b+"px"}else return b}}});f.each(["left","top"],function(b){h[b]={get:function(c,d){if(d){var g=a._getComputedStyle(c,b);if("auto"===g){g=0;if(f.inArray(a.css(c,"position"),["absolute","fixed"])){g=c["left"===b?"offsetLeft":"offsetTop"];if(k&&9!=j.documentMode||e.opera)g-=c.offsetParent&&c.offsetParent["client"+("left"==b?"Left":"Top")]||0;g-=t(a.css(c,"margin-"+b))||0}g+="px"}return g}}}});return a},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(f,a,e){function i(g,j,d,i,b,c,o){if(!(g=a.get(g)))return null;if(0===j)return g;c||(g=g[d]);if(!g)return null;b=b&&a.get(b)||null;j===e&&(j=1);var c=[],p=f.isArray(j),r,s;f.isNumber(j)&&(r=0,s=j,j=function(){return++r===s});for(;g&&g!=b;){if((g.nodeType==m.ELEMENT_NODE||g.nodeType==m.TEXT_NODE&&o)&&n(g,j)&&(!i||i(g)))if(c.push(g),!p)break;g=g[d]}return p?c:c[0]||null}function n(e,j){if(!j)return!0;if(f.isArray(j))for(var d=0;d<j.length;d++){if(a.test(e,j[d]))return!0}else if(a.test(e,
j))return!0;return!1}function p(e,j,d,i){var b=[],c,n;if((c=e=a.get(e))&&d)c=e.parentNode;if(c){d=f.makeArray(c.childNodes);for(c=0;c<d.length;c++)n=d[c],(i||n.nodeType==m.ELEMENT_NODE)&&n!=e&&b.push(n);j&&(b=a.filter(b,j))}return b}var m=a.NodeType,r=f.Env.host.document.documentElement,u=r.compareDocumentPosition?function(a,e){return!!(a.compareDocumentPosition(e)&16)}:r.contains?function(a,e){a.nodeType==m.DOCUMENT_NODE&&(a=a.documentElement);e=e.parentNode;return a==e?!0:e&&e.nodeType==m.ELEMENT_NODE?
a.contains&&a.contains(e):!1}:0;f.mix(a,{closest:function(a,e,d,f){return i(a,e,"parentNode",function(a){return a.nodeType!=m.DOCUMENT_FRAGMENT_NODE},d,!0,f)},parent:function(a,f,d){return i(a,f,"parentNode",function(a){return a.nodeType!=m.DOCUMENT_FRAGMENT_NODE},d,e)},first:function(f,j,d){f=a.get(f);return i(f&&f.firstChild,j,"nextSibling",e,e,!0,d)},last:function(f,j,d){f=a.get(f);return i(f&&f.lastChild,j,"previousSibling",e,e,!0,d)},next:function(a,f,d){return i(a,f,"nextSibling",e,e,e,d)},
prev:function(a,f,d){return i(a,f,"previousSibling",e,e,e,d)},siblings:function(a,e,d){return p(a,e,!0,d)},children:function(a,f){return p(a,f,e)},contents:function(a,f){return p(a,f,e,1)},contains:function(e,f){e=a.get(e);f=a.get(f);return e&&f?u(e,f):!1},equals:function(e,f){e=a.query(e);f=a.query(f);if(e.length!=f.length)return!1;for(var d=e.length;0<=d;d--)if(e[d]!=f[d])return!1;return!0}});return a},{requires:["./base"]});
