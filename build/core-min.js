/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: Aug 4 18:16
*/
KISSY.add("ua/base",function(){var c=navigator.userAgent,a="",l="",e,f={},b=function(i){var d=0;return parseFloat(i.replace(/\./g,function(){return d++===0?".":""}))};if((e=c.match(/AppleWebKit\/([\d.]*)/))&&e[1]){f[a="webkit"]=b(e[1]);if((e=c.match(/Chrome\/([\d.]*)/))&&e[1])f[l="chrome"]=b(e[1]);else if((e=c.match(/\/([\d.]*) Safari/))&&e[1])f[l="safari"]=b(e[1]);if(/ Mobile\//.test(c))f.mobile="apple";else if(e=c.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))f.mobile=e[0].toLowerCase()}else if((e=
c.match(/Presto\/([\d.]*)/))&&e[1]){f[a="presto"]=b(e[1]);if((e=c.match(/Opera\/([\d.]*)/))&&e[1]){f[l="opera"]=b(e[1]);if((e=c.match(/Opera\/.* Version\/([\d.]*)/))&&e[1])f[l]=b(e[1]);if((e=c.match(/Opera Mini[^;]*/))&&e)f.mobile=e[0].toLowerCase();else if((e=c.match(/Opera Mobi[^;]*/))&&e)f.mobile=e[0]}}else if((e=c.match(/MSIE\s([^;]*)/))&&e[1]){f[a="trident"]=0.1;f[l="ie"]=b(e[1]);if((e=c.match(/Trident\/([\d.]*)/))&&e[1])f[a]=b(e[1])}else if(e=c.match(/Gecko/)){f[a="gecko"]=0.1;if((e=c.match(/rv:([\d.]*)/))&&
e[1])f[a]=b(e[1]);if((e=c.match(/Firefox\/([\d.]*)/))&&e[1])f[l="firefox"]=b(e[1])}f.core=a;f.shell=l;f._numberify=b;return f});
KISSY.add("ua/extra",function(c,a){var l=navigator.userAgent,e,f,b={},i=a._numberify;if(l.match(/360SE/))b[f="se360"]=3;else if(l.match(/Maxthon/)&&(e=window.external)){f="maxthon";try{b[f]=i(e.max_version)}catch(d){b[f]=0.1}}else if(e=l.match(/TencentTraveler\s([\d.]*)/))b[f="tt"]=e[1]?i(e[1]):0.1;else if(l.match(/TheWorld/))b[f="theworld"]=3;else if(e=l.match(/SE\s([\d.]*)/))b[f="sougou"]=e[1]?i(e[1]):0.1;f&&(b.shell=f);c.mix(a,b);return a},{requires:["ua/base"]});
KISSY.add("ua",function(c,a){return a},{requires:["ua/extra"]});
KISSY.add("dom/base",function(c,a){function l(e,f){return e&&e.nodeType===f}return{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12,_isElementNode:function(e){return l(e,1)},_getWin:function(e){return e&&"scrollTo"in e&&e.document?e:l(e,9)?e.defaultView||e.parentWindow:e===a||e===null?window:false},_nodeTypeIs:l,_isNodeList:function(e){return e&&
!e.nodeType&&e.item&&!e.setTimeout}}});
KISSY.add("dom/attr",function(c,a,l,e){function f(h,j){j=w[j]||j;var o=m[j];if(!h)return e;return o&&o.get?o.get(h,j):h[j]}l=document.documentElement;var b=!l.hasAttribute,i=l.textContent!==e?"textContent":"innerText",d=a._isElementNode,g=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,k=/^(?:button|input|object|select|textarea)$/i,x=/^a(?:rea)?$/i,r=/:|^on/,s=/\r/g,t={},A={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1},B={tabindex:{get:function(h){var j=h.getAttributeNode("tabindex");return j&&j.specified?parseInt(j.value,10):k.test(h.nodeName)||x.test(h.nodeName)&&h.href?0:e}},style:{get:function(h){return h.style.cssText},set:function(h,j){h.style.cssText=j}}},w={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
z={get:function(h,j){return a.prop(h,j)?j.toLowerCase():e},set:function(h,j,o){if(j===false)a.removeAttr(h,o);else{j=w[o]||o;if(j in h)h[j]=true;h.setAttribute(o,o.toLowerCase())}return o}},m={},n={},p={option:{get:function(h){var j=h.attributes.value;return!j||j.specified?h.value:h.text}},select:{get:function(h){var j=h.selectedIndex,o=h.options;h=h.type==="select-one";if(j<0)return null;else if(h)return a.val(o[j]);j=[];h=0;for(var y=o.length;h<y;++h)o[h].selected&&j.push(a.val(o[h]));return j},
set:function(h,j){var o=c.makeArray(j);c.each(h.options,function(y){y.selected=c.inArray(a.val(y),o)});if(!o.length)h.selectedIndex=-1;return o}}};if(b){n={get:function(h,j){var o;return(o=h.getAttributeNode(j))&&o.nodeValue!==""?o.nodeValue:e},set:function(h,j,o){if(h=h.getAttributeNode(o))h.nodeValue=j}};t=w;B.tabIndex=B.tabindex;c.each(["href","src","width","height","colSpan","rowSpan"],function(h){B[h]={get:function(j){j=j.getAttribute(h,2);return j===null?e:j}}});p.button=B.value=n}c.each(["radio",
"checkbox"],function(h){p[h]={get:function(j){return j.getAttribute("value")===null?"on":j.value},set:function(j,o){if(c.isArray(o))return j.checked=c.inArray(a.val(j),o)}}});c.mix(a,{prop:function(h,j,o){if(c.isPlainObject(j))for(var y in j)a.prop(h,y,j[y]);else{h=a.query(h);j=w[j]||j;var q=m[j];if(o!==e)c.each(h,function(u){if(q&&q.set)q.set(u,o,j);else u[j]=o});else if(h=h[0])return f(h,j)}},hasProp:function(h,j){return f(h,j)!==e},removeProp:function(h,j){j=w[j]||j;a.query(h).each(function(o){try{o[j]=
e;delete o[j]}catch(y){}})},attr:function(h,j,o,y){if(c.isPlainObject(j)){y=o;for(var q in j)a.attr(h,q,j[q],y)}else if(j=c.trim(j)){j=j.toLowerCase();if(y&&A[j])return a[j](h,o);j=t[j]||j;var u;u=g.test(j)?z:r.test(j)?n:B[j];if(o===e){h=a.get(h);if(d(h)){if(h.nodeName.toLowerCase()=="form")u=n;if(u&&u.get)return u.get(h,j);h=h.getAttribute(j);return h===null?e:h}}else c.each(a.query(h),function(v){if(d(v))u&&u.set?u.set(v,o,j):v.setAttribute(j,""+o)})}},removeAttr:function(h,j){j=j.toLowerCase();
j=t[j]||j;c.each(a.query(h),function(o){if(d(o)){var y;o.removeAttribute(j);if(g.test(j)&&(y=w[j]||j)in o)o[y]=false}})},hasAttr:b?function(h,j){j=j.toLowerCase();var o=a.get(h).getAttributeNode(j);return!!(o&&o.specified)}:function(h,j){j=j.toLowerCase();return a.get(h).hasAttribute(j)},val:function(h,j){var o,y;if(j===e){var q=a.get(h);if(q){if((o=p[q.nodeName.toLowerCase()]||p[q.type])&&"get"in o&&(y=o.get(q,"value"))!==e)return y;y=q.value;return typeof y==="string"?y.replace(s,""):y==null?"":
y}}else a.query(h).each(function(u){if(u.nodeType===1){var v=j;if(v==null)v="";else if(typeof v==="number")v+="";else if(c.isArray(v))v=c.map(v,function(C){return C==null?"":C+""});o=p[u.nodeName.toLowerCase()]||p[u.type];if(!o||!("set"in o)||o.set(u,v,"value")===e)u.value=v}})},text:function(h,j){if(j===e){var o=a.get(h);if(d(o))return o[i]||"";else if(a._nodeTypeIs(o,3))return o.nodeValue;return e}else c.each(a.query(h),function(y){if(d(y))y[i]=j;else if(a._nodeTypeIs(y,3))y.nodeValue=j})}});return a},
{requires:["./base","ua"]});
KISSY.add("dom/class",function(c,a,l){function e(i,d,g,k){if(!(d=c.trim(d)))return k?false:l;i=a.query(i);var x=i.length,r=d.split(f);d=[];for(var s=0;s<r.length;s++){var t=c.trim(r[s]);t&&d.push(t)}for(s=0;s<x;s++){r=i[s];if(a._isElementNode(r)){r=g(r,d,d.length);if(r!==l)return r}}if(k)return false;return l}var f=/[\.\s]\s*\.?/,b=/[\n\t]/g;c.mix(a,{hasClass:function(i,d){return e(i,d,function(g,k,x){if(g=g.className){g=(" "+g+" ").replace(b," ");for(var r=0,s=true;r<x;r++)if(g.indexOf(" "+k[r]+
" ")<0){s=false;break}if(s)return true}},true)},addClass:function(i,d){e(i,d,function(g,k,x){var r=g.className;if(r){var s=(" "+r+" ").replace(b," ");r=r;for(var t=0;t<x;t++)if(s.indexOf(" "+k[t]+" ")<0)r+=" "+k[t];g.className=c.trim(r)}else g.className=d},l)},removeClass:function(i,d){e(i,d,function(g,k,x){var r=g.className;if(r)if(x){r=(" "+r+" ").replace(b," ");for(var s=0,t;s<x;s++)for(t=" "+k[s]+" ";r.indexOf(t)>=0;)r=r.replace(t," ");g.className=c.trim(r)}else g.className=""},l)},replaceClass:function(i,
d,g){a.removeClass(i,d);a.addClass(i,g)},toggleClass:function(i,d,g){var k=c.isBoolean(g),x;e(i,d,function(r,s,t){for(var A=0,B;A<t;A++){B=s[A];x=k?!g:a.hasClass(r,B);a[x?"removeClass":"addClass"](r,B)}},l)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(c,a,l,e){function f(y,q){if(c.isPlainObject(q))if(r(y))a.attr(y,q,true);else y.nodeType==11&&c.each(y.childNodes,function(u){a.attr(u,q,true)});return y}function b(y,q){var u=null,v,C;if(y&&(y.push||y.item)&&y[0]){q=q||y[0].ownerDocument;u=q.createDocumentFragment();if(y.item)y=c.makeArray(y);v=0;for(C=y.length;v<C;v++)u.appendChild(y[v])}else c.log("Unable to convert "+y+" to fragment.");return u}function i(y,q,u,v){if(u){var C=c.guid("ks-tmp-"),D=RegExp(B);q+='<span id="'+
C+'"></span>';c.available(C,function(){var E=a.get("head"),F,G,H,I,K,J;for(D.lastIndex=0;F=D.exec(q);)if((H=(G=F[1])?G.match(z):false)&&H[2]){F=g.createElement("script");F.src=H[2];if((I=G.match(m))&&I[2])F.charset=I[2];F.async=true;E.appendChild(F)}else if((J=F[2])&&J.length>0)c.globalEval(J);(K=g.getElementById(C))&&a.remove(K);c.isFunction(v)&&v()});d(y,q)}else{d(y,q);c.isFunction(v)&&v()}}function d(y,q){q=(q+"").replace(B,"");try{y.innerHTML=q}catch(u){for(;y.firstChild;)y.removeChild(y.firstChild);
q&&y.appendChild(a.create(q))}}var g=document,k=l.ie,x=a._nodeTypeIs,r=a._isElementNode,s=g.createElement("div"),t=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,A=/<(\w+)/,B=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,w=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,z=/\ssrc=(['"])(.*?)\1/i,m=/\scharset=(['"])(.*?)\1/i;c.mix(a,{create:function(y,q,u){if(x(y,1)||x(y,3)){q=y;u=q.cloneNode(true);if(l.ie<8)u.innerHTML=q.innerHTML;return u}if(!(y=c.trim(y)))return null;var v=
null;v=a._creators;var C,D="div",E;if(C=w.exec(y))v=(u||g).createElement(C[1]);else{y=y.replace(t,"<$1></$2>");if((C=A.exec(y))&&(E=C[1])&&c.isFunction(v[E=E.toLowerCase()]))D=E;y=v[D](y,u).childNodes;v=y.length===1?y[0].parentNode.removeChild(y[0]):b(y,u||g)}return f(v,q)},_creators:{div:function(y,q){var u=q?q.createElement("div"):s;u.innerHTML="w<div>"+y+"</div>";return u.lastChild}},html:function(y,q,u,v){if(q===e){y=a.get(y);if(r(y))return y.innerHTML}else c.each(a.query(y),function(C){r(C)&&
i(C,q,u,v)})},remove:function(y){c.each(a.query(y),function(q){q.parentNode&&q.parentNode.removeChild(q)})},_nl2frag:b});if(k||l.gecko||l.webkit){var n=a._creators,p=a.create,h=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,j={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},o;for(o in j)(function(y){n[o]=function(q,u){return p("<"+y+">"+q+"</"+y+">",null,u)}})(j[o]);if(k){n.script=function(y,q){var u=q?q.createElement("div"):s;u.innerHTML="-"+y;u.removeChild(u.firstChild);
return u};if(k<8)n.tbody=function(y,q){var u=p("<table>"+y+"</table>",null,q),v=u.children.tags("tbody")[0];u.children.length>1&&v&&!h.test(y)&&v.parentNode.removeChild(v);return u}}c.mix(n,{optgroup:n.option,th:n.td,thead:n.tbody,tfoot:n.tbody,caption:n.tbody,colgroup:n.tbody})}return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(c,a,l){var e=window,f="_ks_data_"+c.now(),b={},i={},d={};d.applet=1;d.object=1;d.embed=1;var g={hasData:function(r,s){if(r)if(s!==l){if(s in r)return true}else if(!c.isEmptyObject(r))return true;return false}},k={hasData:function(r,s){if(r==e)return k.hasData(i,s);return g.hasData(r[f],s)},data:function(r,s,t){if(r==e)return k.data(i,s,t);var A=r[f];if(t!==l){A=r[f]=r[f]||{};A[s]=t}else if(s!==l)return A&&A[s];else return A=r[f]=r[f]||{}},removeData:function(r,s){if(r==
e)return k.removeData(i,s);var t=r[f];if(t)if(s!==l){delete t[s];c.isEmptyObject(t)&&k.removeData(r,l)}else delete r[f]}},x={hasData:function(r,s){var t=r[f];if(!t)return false;return g.hasData(b[t],s)},data:function(r,s,t){if(!d[r.nodeName.toLowerCase()]){var A=r[f];A||(A=r[f]=c.guid());r=b[A];if(t!==l){r=b[A]=b[A]||{};r[s]=t}else if(s!==l)return r&&r[s];else return r=b[A]=b[A]||{}}},removeData:function(r,s){var t=r[f];if(t){var A=b[t];if(A)if(s!==l){delete A[s];c.isEmptyObject(A)&&x.removeData(r,
l)}else{delete b[t];try{delete r[f]}catch(B){}r.removeAttribute&&r.removeAttribute(f)}}}};c.mix(a,{hasData:function(r,s){var t=false;a.query(r).each(function(A){t=A&&A.nodeType?t||x.hasData(A,s):t||k.hasData(A,s)});return t},data:function(r,s,t){if(c.isPlainObject(s))for(var A in s)a.data(r,A,s[A]);else if(t===l)return(r=a.get(r))&&r.nodeType?x.data(r,s,t):k.data(r,s,t);else a.query(r).each(function(B){B&&B.nodeType?x.data(B,s,t):k.data(B,s,t)})},removeData:function(r,s){a.query(r).each(function(t){t&&
t.nodeType?x.removeData(t,s):k.removeData(t,s)})}});return a},{requires:["./base"]});
KISSY.add("dom/insertion",function(c,a){function l(i,d,g){i=a.query(i);d=a.query(d);if(i=e(i)){var k;if(d.length>1)k=i.cloneNode(true);for(var x=0;x<d.length;x++){var r=d[x],s=x>0?k.cloneNode(true):i;g(s,r)}}}var e=a._nl2frag;c.mix(a,{insertBefore:function(i,d){l(i,d,function(g,k){k.parentNode&&k.parentNode.insertBefore(g,k)})},insertAfter:function(i,d){l(i,d,function(g,k){k.parentNode&&k.parentNode.insertBefore(g,k.nextSibling)})},appendTo:function(i,d){l(i,d,function(g,k){k.appendChild(g)})},prependTo:function(i,
d){l(i,d,function(g,k){k.insertBefore(g,k.firstChild)})}});var f={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},b;for(b in f)a[b]=a[f[b]];return a},{requires:["./create"]});
KISSY.add("dom/offset",function(c,a,l,e){function f(j){var o,y=0;o=0;var q=d.body,u=s(j[w]);if(j[h]){o=j[h]();y=o[z];o=o[m];j=g&&d.documentMode!=9&&(t?k.clientTop:q.clientTop)||0;y-=g&&d.documentMode!=9&&(t?k.clientLeft:q.clientLeft)||0;o-=j;if(l.mobile=="apple"){y-=a[n](u);o-=a[p](u)}}return{left:y,top:o}}function b(j,o){var y={left:0,top:0},q=s(j[w]),u=j;o=o||q;do{var v;if(q==o){var C=u;v=f(C);C=s(C[w]);v.left+=a[n](C);v.top+=a[p](C);v=v}else v=f(u);v=v;y.left+=v.left;y.top+=v.top}while(q&&q!=o&&
(u=q.frameElement)&&(q=q.parent));return y}var i=window,d=document,g=l.ie,k=d.documentElement,x=a._isElementNode,r=a._nodeTypeIs,s=a._getWin,t=d.compatMode==="CSS1Compat",A=Math.max,B=parseInt,w="ownerDocument",z="left",m="top",n="scrollLeft",p="scrollTop",h="getBoundingClientRect";c.mix(a,{offset:function(j,o,y){if((j=a.get(j))&&j[w]){if(o===e)return b(j,y);j=j;if(a.css(j,"position")==="static")j.style.position="relative";y=b(j);var q={},u,v;for(v in o){u=B(a.css(j,v),10)||0;q[v]=u+o[v]-y[v]}a.css(j,
q)}},scrollIntoView:function(j,o,y,q){if((j=a.get(j))&&j[w]){q=q===e?true:!!q;y=y===e?true:!!y;if(!o||(o=a.get(o))===i)j.scrollIntoView(y);else{if(r(o,9))o=s(o);var u=!!s(o),v=a.offset(j),C=u?{left:a.scrollLeft(o),top:a.scrollTop(o)}:a.offset(o),D={left:v[z]-C[z],top:v[m]-C[m]};v=u?a.viewportHeight(o):o.clientHeight;u=u?a.viewportWidth(o):o.clientWidth;C=a[n](o);var E=a[p](o),F=C+u,G=E+v,H=j.offsetHeight;j=j.offsetWidth;var I=D.left+C-(B(a.css(o,"borderLeftWidth"))||0);D=D.top+E-(B(a.css(o,"borderTopWidth"))||
0);var K=I+j,J=D+H,L,M;if(H>v||D<E||y)L=D;else if(J>G)L=J-v;if(q)if(j>u||I<C||y)M=I;else if(K>F)M=K-u;a[p](o,L);a[n](o,M)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});c.each(["Left","Top"],function(j,o){var y="scroll"+j;a[y]=function(q,u){if(c.isNumber(q))arguments.callee(i,q);else{q=a.get(q);var v=0,C=s(q);if(C){if(u!==e){v=j=="Left"?u:a.scrollLeft(C);var D=j=="Top"?u:a.scrollTop(C);C.scrollTo(v,D)}v=C.document;v=C[o?"pageYOffset":"pageXOffset"]||v.documentElement[y]||v.body[y]}else if(x(q=
a.get(q)))v=u!==e?q[y]=u:q[y];return u===e?v:e}}});c.each(["Width","Height"],function(j){a["doc"+j]=function(o){o=a.get(o);o=s(o).document;return A(o.documentElement["scroll"+j],o.body["scroll"+j],a["viewport"+j](o))};a["viewport"+j]=function(o){o=a.get(o);var y="inner"+j;o=s(o);var q=o.document;return y in o?o[y]:t?q.documentElement["client"+j]:q.body["client"+j]}});return a},{requires:["./base","ua"]});
KISSY.add("dom/style",function(c,a,l,e){function f(m,n){var p=a.get(m);if(c.isWindow(p))return n==k?a.viewportWidth(p):a.viewportHeight(p);else if(p.nodeType==9)return n==k?a.docWidth(p):a.docHeight(p);var h=n===k?p.offsetWidth:p.offsetHeight;c.each(n===k?["Left","Right"]:["Top","Bottom"],function(j){h-=parseFloat(a._getComputedStyle(p,"padding"+j))||0;h-=parseFloat(a._getComputedStyle(p,"border"+j+"Width"))||0});return h}function b(m,n,p){var h=p;if(p===x&&s.test(n)){h=0;if(c.inArray(a.css(m,"position"),
["absolute","fixed"])){p=m[n==="left"?"offsetLeft":"offsetTop"];if(g&&document.documentMode!=9||l.opera)p-=m.offsetParent["client"+(n=="left"?"Left":"Top")]||0;h=p-(r(a.css(m,"margin-"+n))||0)}}return h}var i=document,d=i.documentElement,g=l.ie,k="width",x="auto",r=parseInt,s=/^(?:left|top)/,t=/^(?:width|height|top|left|right|bottom|margin|padding)/i,A=/-([a-z])/ig,B=function(m,n){return n.toUpperCase()},w={},z={};c.mix(a,{_CUSTOM_STYLES:w,_getComputedStyle:function(m,n){var p="",h=m.ownerDocument;
if(m.style)p=h.defaultView.getComputedStyle(m,null)[n];return p},css:function(m,n,p){if(c.isPlainObject(n))for(var h in n)a.css(m,h,n[h]);else{if(n.indexOf("-")>0)n=n.replace(A,B);h=n;n=w[n]||n;if(p===e){m=a.get(m);var j="";if(m&&m.style){j=n.get?n.get(m,h):m.style[n];if(j===""&&!n.get)j=b(m,n,a._getComputedStyle(m,n))}return j===e?"":j}else{if(p===null||p==="")p="";else if(!isNaN(new Number(p))&&t.test(n))p+="px";(n===k||n==="height")&&parseFloat(p)<0||c.each(a.query(m),function(o){if(o&&o.style){n.set?
n.set(o,p):o.style[n]=p;if(p==="")o.style.cssText||o.removeAttribute("style")}})}}},width:function(m,n){if(n===e)return f(m,k);else a.css(m,k,n)},height:function(m,n){if(n===e)return f(m,"height");else a.css(m,"height",n)},show:function(m){a.query(m).each(function(n){if(n){n.style.display=a.data(n,"display")||"";if(a.css(n,"display")==="none"){var p=n.tagName,h=z[p],j;if(!h){j=i.createElement(p);i.body.appendChild(j);h=a.css(j,"display");a.remove(j);z[p]=h}a.data(n,"display",h);n.style.display=h}}})},
hide:function(m){a.query(m).each(function(n){if(n){var p=n.style,h=p.display;if(h!=="none"){h&&a.data(n,"display",h);p.display="none"}}})},toggle:function(m){a.query(m).each(function(n){if(n)a.css(n,"display")==="none"?a.show(n):a.hide(n)})},addStyleSheet:function(m,n,p){if(c.isString(m)){p=n;n=m;m=window}m=a.get(m);m=a._getWin(m).document;var h;if(p&&(p=p.replace("#","")))h=a.get("#"+p,m);if(!h){h=a.create("<style>",{id:p},m);a.get("head",m).appendChild(h);if(h.styleSheet)h.styleSheet.cssText=n;
else h.appendChild(m.createTextNode(n))}},unselectable:function(m){a.query(m).each(function(n){if(n)if(l.gecko)n.style.MozUserSelect="none";else if(l.webkit)n.style.KhtmlUserSelect="none";else if(l.ie||l.opera){var p=0,h=n.getElementsByTagName("*");for(n.setAttribute("unselectable","on");n=h[p++];)switch(n.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:n.setAttribute("unselectable","on")}}})}});if(d.style.cssFloat!==e)w["float"]="cssFloat";else if(d.style.styleFloat!==
e)w["float"]="styleFloat";return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(c,a,l){function e(q,u){var v=[],C;C=u===l?[r]:e(u,l);A(C,function(D){m.apply(v,f(q,D))});if(c.isString(q)&&q.indexOf(",")>-1||C.length>1)o(v);v.each=c.bind(A,l,v);return v}function f(q,u){var v=[];t("sizzle");if(p(q))q=c.trim(q);if(p(q)&&q.indexOf(",")>-1)v=b(q,u);else{if(p(q)&&!j.exec(String(q))){v=q;var C=[],D=t("sizzle");D?D(v,u,C):x(v);v=C}else v=i(q,u);v=v}return v=v}function b(q,u){var v=[],C=q.split(",");A(C,function(D){m.apply(v,f(D,u))});return v}function i(q,
u){var v,C,D=[],E;if(p(q))if(h.test(q)){if(C=g(q.slice(1),u))D=[C]}else{if(v=j.exec(q)){C=v[1];E=v[2];v=v[3];if(u=C?g(C,u):u)if(v)if(!C||q.indexOf(n)!=-1)D=[].concat(y(v,E,u));else{if((C=g(C,u))&&a.hasClass(C,v))D=[C]}else if(E)D=k(E,u)}}else if(q&&(B(q)||z(q)))D=s(q,function(F){return d(F,u)});else if(q)if(d(q,u))D=[q];return D}function d(q,u){if(!q)return false;if(u==r)return true;return a.__contains(u,q)}function g(q,u){if(!u)return null;var v=u;if(u.nodeType!==9)v=u.ownerDocument;v=v.getElementById(q);
if(!d(v,u))return null;return v}function k(q,u){return u&&w(u.getElementsByTagName(q))||[]}function x(q){c.error("Unsupported selector: "+q)}var r=document,s=c.filter,t=c.require,A=c.each,B=c.isArray,w=c.makeArray,z=a._isNodeList,m=Array.prototype.push,n=" ",p=c.isString,h=/^#[\w-]+$/,j=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,o;(function(){var q,u,v=true;[0,0].sort(function(){v=false;return 0});o=function(C){if(q){u=v;C.sort(q);if(u)for(var D=1,E=C.length;D<E;)if(C[D]===C[D-1])C.splice(D,1);
else D++}return C};q=r.documentElement.compareDocumentPosition?function(C,D){if(C==D){u=true;return 0}if(!C.compareDocumentPosition||!D.compareDocumentPosition)return C.compareDocumentPosition?-1:1;return C.compareDocumentPosition(D)&4?-1:1}:function(C,D){if(C==D){u=true;return 0}else if(C.sourceIndex&&D.sourceIndex)return C.sourceIndex-D.sourceIndex}})();(function(){var q=r.createElement("div");q.appendChild(r.createComment(""));if(q.getElementsByTagName("*").length>0)k=function(u,v){var C=w(v.getElementsByTagName(u));
if(u==="*"){for(var D=[],E=0,F;F=C[E++];)F.nodeType===1&&D.push(F);C=D}return C}})();var y=r.getElementsByClassName?function(q,u,v){if(!v)return[];v=q=w(v.getElementsByClassName(q));var C=0,D=q.length,E;if(u&&u!=="*")for(v=w();C<D;++C){E=q[C];E.nodeName.toLowerCase()==u.toLowerCase()&&v.push(E)}return v}:r.querySelectorAll?function(q,u,v){return v&&w(v.querySelectorAll((u?u:"")+"."+q))||[]}:function(q,u,v){if(!v)return[];u=w(v.getElementsByTagName(u||"*"));v=[];for(var C=0,D=u.length,E;C<D;++C){E=
u[C];a.hasClass(E,q)&&v.push(E)}return v};c.mix(a,{query:e,get:function(q,u){return e(q,u)[0]||null},unique:o,filter:function(q,u,v){q=e(q,v);v=t("sizzle");var C,D,E,F=[];if(p(u)&&(C=j.exec(u))&&!C[1]){D=C[2];E=C[3];u=function(G){var H=true,I=true;if(D)H=G.nodeName.toLowerCase()==D.toLowerCase();if(E)I=a.hasClass(G,E);return I&&H}}if(c.isFunction(u))F=c.filter(q,u);else if(u&&v)F=v.matches(u,q);else x(u);return F},test:function(q,u,v){q=e(q,v);return q.length&&a.filter(q,u,v).length===q.length}});
return a},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(c,a,l,e,f){if(!l.ie)return a;e=document;var b=e.documentElement,i=a._CUSTOM_STYLES,d=/^-?\d+(?:px)?$/i,g=/^-?\d/,k=/^(?:width|height)$/;try{if(b.style.opacity==f&&b.filters)i.opacity={get:function(t){var A=100;try{A=t.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(B){try{A=t.filters("alpha").opacity}catch(w){if(t=((t.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))A=parseInt(c.trim(t[1]))}}return A/100+""},set:function(t,A){var B=t.style,
w=(t.currentStyle||0).filter||"";B.zoom=1;if(w)w=c.trim(w.replace(/alpha\(opacity[^=]*=[^)]+\),?/ig,""));if(w&&A!=1)w+=", ";B.filter=w+(A!=1?"alpha(opacity="+A*100+")":"")}}}catch(x){c.log("IE filters ActiveX is disabled. ex = "+x)}l=l.ie==8;var r={},s={get:function(t,A){var B=t.currentStyle[A]+"";if(B.indexOf("px")<0)B=r[B]?r[B]:0;return B}};r.thin=l?"1px":"2px";r.medium=l?"3px":"4px";r.thick=l?"5px":"6px";c.each(["","Top","Left","Right","Bottom"],function(t){i["border"+t+"Width"]=s});if(!(e.defaultView||
{}).getComputedStyle&&b.currentStyle)a._getComputedStyle=function(t,A){var B=t.style,w=t.currentStyle[A];if(k.test(A))w=a[A](t)+"px";else if(!d.test(w)&&g.test(w)){var z=B.left,m=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left;B.left=A==="fontSize"?"1em":w||0;w=B.pixelLeft+"px";B.left=z;t.runtimeStyle.left=m}return w};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(c,a,l){function e(d,g,k,x,r,s){if(!(d=a.get(d)))return null;if(g===0)return d;s||(d=d[k]);if(!d)return null;r=r&&a.get(r)||null;if(g===l)g=1;s=[];var t=c.isArray(g),A,B;if(c.isNumber(g)){A=0;B=g;g=function(){return++A===B}}for(;d&&d!=r;){if(i(d)&&f(d,g)&&(!x||x(d))){s.push(d);if(!t)break}d=d[k]}return t?s:s[0]||null}function f(d,g){if(!g)return true;if(c.isArray(g))for(var k=0;k<g.length;k++){if(a.test(d,g[k]))return true}else if(a.test(d,g))return true;return false}
function b(d,g,k){var x=[];var r=d=a.get(d);if(d&&k)r=d.parentNode;if(r){k=0;for(r=r.firstChild;r;r=r.nextSibling)if(i(r)&&r!==d&&(!g||a.test(r,g)))x[k++]=r}return x}var i=a._isElementNode;c.mix(a,{closest:function(d,g,k){return e(d,g,"parentNode",function(x){return x.nodeType!=11},k,true)},parent:function(d,g,k){return e(d,g,"parentNode",function(x){return x.nodeType!=11},k)},next:function(d,g){return e(d,g,"nextSibling",l)},prev:function(d,g){return e(d,g,"previousSibling",l)},siblings:function(d,
g){return b(d,g,true)},children:function(d,g){return b(d,g,l)},__contains:document.documentElement.contains?function(d,g){if(d.nodeType==3)return false;var k;if(g.nodeType==3){g=g.parentNode;k=true}else if(g.nodeType==9)return false;else k=d!==g;return k&&(d.contains?d.contains(g):true)}:document.documentElement.compareDocumentPosition?function(d,g){return!!(d.compareDocumentPosition(g)&16)}:0,contains:function(d,g){d=a.get(d);g=a.get(g);return a.__contains(d,g)},equals:function(d,g){d=a.query(d);
g=a.query(g);if(d.length!=g.length)return false;for(var k=d.length;k>=0;k--)if(d[k]!=g[k])return false;return true}});return a},{requires:["./base"]});KISSY.add("dom",function(c,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/keycodes",function(){var c={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,
WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,
MAC_FF_META:224,WIN_IME:229};c.isTextModifyingKeyEvent=function(a){if(a.altKey&&!a.ctrlKey||a.metaKey||a.keyCode>=c.F1&&a.keyCode<=c.F12)return false;switch(a.keyCode){case c.ALT:case c.CAPS_LOCK:case c.CONTEXT_MENU:case c.CTRL:case c.DOWN:case c.END:case c.ESC:case c.HOME:case c.INSERT:case c.LEFT:case c.MAC_FF_META:case c.META:case c.NUMLOCK:case c.NUM_CENTER:case c.PAGE_DOWN:case c.PAGE_UP:case c.PAUSE:case c.PHANTOM:case c.PRINT_SCREEN:case c.RIGHT:case c.SHIFT:case c.UP:case c.WIN_KEY:case c.WIN_KEY_RIGHT:return false;
default:return true}};c.isCharacterKey=function(a){if(a>=c.ZERO&&a<=c.NINE)return true;if(a>=c.NUM_ZERO&&a<=c.NUM_MULTIPLY)return true;if(a>=c.A&&a<=c.Z)return true;if(goog.userAgent.WEBKIT&&a==0)return true;switch(a){case c.SPACE:case c.QUESTION_MARK:case c.NUM_PLUS:case c.NUM_MINUS:case c.NUM_PERIOD:case c.NUM_DIVISION:case c.SEMICOLON:case c.DASH:case c.EQUALS:case c.COMMA:case c.PERIOD:case c.SLASH:case c.APOSTROPHE:case c.SINGLE_QUOTE:case c.OPEN_SQUARE_BRACKET:case c.BACKSLASH:case c.CLOSE_SQUARE_BRACKET:return true;
default:return false}};return c});
KISSY.add("event/object",function(c,a){function l(b,i,d){this.currentTarget=b;this.originalEvent=i||{};if(i){this.type=i.type;this._fix()}else{this.type=d;this.target=b}this.currentTarget=b;this.fixed=true}var e=document,f="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");c.augment(l,
{_fix:function(){var b=this.originalEvent,i=f.length,d,g=this.currentTarget;for(g=g.nodeType===9?g:g.ownerDocument||e;i;){d=f[--i];this[d]=b[d]}if(!this.target)this.target=this.srcElement||e;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===a&&this.clientX!==a){b=g.documentElement;i=g.body;this.pageX=this.clientX+(b&&b.scrollLeft||i&&i.scrollLeft||
0)-(b&&b.clientLeft||i&&i.clientLeft||0);this.pageY=this.clientY+(b&&b.scrollTop||i&&i.scrollTop||0)-(b&&b.clientTop||i&&i.clientTop||0)}if(this.which===a)this.which=this.charCode!==a?this.charCode:this.keyCode;if(this.metaKey===a)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==a)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var b=this.originalEvent;if(b.preventDefault)b.preventDefault();else b.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var b=
this.originalEvent;if(b.stopPropagation)b.stopPropagation();else b.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var b=this.originalEvent;b.stopImmediatePropagation?b.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(b){b?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return l});
KISSY.add("event/base",function(c,a,l,e){function f(w,z,m){if((m=c.trim(m))&&m.indexOf(r)>0){var n=g(arguments);c.each(m.split(r),function(p){var h=[].concat(n);h.splice(0,3,z,p);B[w].apply(B,h)});return true}return e}function b(w){return w&&w.nodeType!==3&&w.nodeType!==8}function i(w,z,m,n,p){var h=B.special[z]||{};if(!n.length&&(!h.setup||h.setup.call(w)===false))k(w,z,m);h.add&&h.add.call(w,p)}var d=document,g=c.makeArray,k=d.addEventListener?function(w,z,m,n){w.addEventListener&&w.addEventListener(z,
m,!!n)}:function(w,z,m){w.attachEvent&&w.attachEvent("on"+z,m)},x=d.removeEventListener?function(w,z,m,n){w.removeEventListener&&w.removeEventListener(z,m,!!n)}:function(w,z,m){w.detachEvent&&w.detachEvent("on"+z,m)},r=" ",s="",t="trigger-none-"+c.now(),A="ksEventTargetId"+c.now(),B={_data:function(){var w=g(arguments);w.splice(1,0,A);return a.data.apply(a,w)},_removeData:function(){var w=g(arguments);w.splice(1,0,A);return a.removeData.apply(a,w)},special:{},add:function(w,z,m,n,p){if(f("add",w,
z,m,n,p))return w;a.query(w).each(function(h){var j=!h.isCustomEventTarget,o;if(!(!h||!z||!c.isFunction(m)||j&&!b(h))){(o=B._data(h))||B._data(h,o={});var y=o.events=o.events||{};y=y[z]=y[z]||[];var q={fn:m,scope:n||h,data:p},u=o.handler;if(!u){u=o.handler=function(v,C){if(!(v&&v.type==s)){var D=u.target;if(!v||!v.fixed)v=new l(D,v);c.isPlainObject(C)&&c.mix(v,C);return B._handle(D,v)}};u.target=h}if(j){i(h,z,u,y,q);h=null}y.push(q)}});return w},__getListeners:function(w,z){return(B.__getEvents(w)||
{})[z]||[]},__getEvents:function(w){return(w=B._data(w))&&w.events},remove:function(w,z,m,n,p){if(f("remove",w,z,m,n))return w;a.query(w).each(function(h){var j=B._data(h),o=j&&j.events,y,q,u,v,C,D=!h.isCustomEventTarget,E=D&&B.special[z]||{};if(!(!h||!D&&!b(h)||!o))if(z===e)for(z in o)B.remove.call(B,h,z);else{n=n||h;if(y=o[z]){q=y.length;if(m&&q){v=u=0;for(C=[];u<q;++u){var F=false,G=y[u];if(m!==G.fn||n!==G.scope){C[v++]=G;F=true}else if(p!==H){var H=G.data;if(!p&&H||H&&!p){C[v++]=G;F=true}else if(p&&
H)if(!p.equals||!H.equals)c.error("no equals in data");else if(!H.equals(p)){C[v++]=G;F=true}}!F&&E.remove&&E.remove.call(h,G)}o[z]=C;q=C.length}if(m===e||q===0){if(D&&(!E.tearDown||E.tearDown.call(h)===false))x(h,z,j.handler);delete o[z]}}if(c.isEmptyObject(o)){j.handler.target=null;delete j.handler;delete j.events;B._removeData(h)}}});return w},_handle:function(w,z){for(var m=B.__getListeners(w,z.type).slice(0),n,p,h=0,j=m.length;h<j;++h){n=m[h];n=n.fn.call(n.scope,z,n.data);if(n!==e){if(p!==false)p=
n;n===false&&z.halt()}if(z.isImmediatePropagationStopped)break}return p},fire:function(w,z,m,n){if(!f("fire",w,z,m)){var p;a.query(w).each(function(h){var j=!h.isCustomEventTarget;m=m||{};m.type=z;if(j){var o=m,y;if(b(h)){j=new l(h);c.mix(j,o);if(n){j.stopPropagation();j.preventDefault()}o=j.target=h;var q="on"+z;do{var u=(B._data(o)||{}).handler;j.currentTarget=o;u&&u.call(o,j);if(o[q]&&o[q].call(o)===false){y=false;j.preventDefault()}o=o.parentNode||o.ownerDocument||o===h.ownerDocument&&window}while(o&&
!j.isPropagationStopped);if(!j.isDefaultPrevented)if(!(z==="click"&&h.nodeName.toLowerCase()=="a")){var v;try{if(q&&h[z]){if(v=h[q])h[q]=null;s=z;h[z]()}}catch(C){c.log(C)}if(v)h[q]=v;s=t}}h=y;if(h!==e)p=h}else if((h=B._data(h))&&c.isFunction(h.handler))p=h.handler(e,m)});return p}},_batchForType:f,_simpleAdd:k,_simpleRemove:x};B.on=B.add;B.detach=B.remove;return B},{requires:["dom","event/object"]});
KISSY.add("event/target",function(c,a){return{isCustomEventTarget:true,fire:function(l,e){return a.fire(this,l,e)},on:function(l,e,f){a.add(this,l,e,f);return this},detach:function(l,e,f){a.remove(this,l,e,f);return this}}},{requires:["./base"]});
KISSY.add("event/focusin",function(c,a,l){a.ie||c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(e){function f(i){return l.fire(i.target,e.name)}var b=0;l.special[e.name]={setup:function(){b++===0&&document.addEventListener(e.fix,f,true)},tearDown:function(){--b===0&&document.removeEventListener(e.fix,f,true)}}});return l},{requires:["ua","./base"]});
KISSY.add("event/hashchange",function(c,a,l,e){e=b||e.ie;if(!("onhashchange"in window)||e<8){var f=window,b=document.documentMode,i=function(){return"#"+location.href.replace(/^[^#]*#?(.*)$/,"$1")},d,g=i(),k=function(){var B=i();if(B!==g){x(B);g=B}d=setTimeout(k,50)},x=e<8?function(B){B="<html><body>"+B+"</body></html>";var w=A.contentWindow.document;try{w.open();w.write(B);w.close();return true}catch(z){return false}}:function(B){r(B)},r=function(B){c.log("hash changed : "+B);a.fire(f,"hashchange")},
s=function(){d||k()},t=function(){d&&clearTimeout(d);d=null},A;if(e<8){s=function(){if(!A){A=l.create('<iframe style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');l.prepend(A,document.documentElement);a.add(A,"load",function(){a.remove(A,"load");x(i());a.add(A,"load",B);k()});var B=function(){c.log("iframe start load..");var w=c.trim(A.contentWindow.document.body.innerHTML),z=i();if(w!=z)g=location.hash=w;r(w)}}};t=function(){d&&clearTimeout(d);d=null;a.detach(A);l.remove(A);
A=null}}a.special.hashchange={setup:function(){this===f&&s()},tearDown:function(){this===f&&t()}}}},{requires:["./base","dom","ua"]});
KISSY.add("event/valuechange",function(c,a,l){function e(s){l.removeData(s,k);if(l.hasData(s,x)){var t=l.data(s,x);clearTimeout(t);l.removeData(s,x)}}function f(s){e(s.target)}function b(s){l.hasData(s,x)||l.data(s,x,setTimeout(function(){var t=s.value,A=l.data(s,k);if(t!==A){a.fire(s,g,{prevVal:A,newVal:t},true);l.data(s,k,t)}l.data(s,x,setTimeout(arguments.callee,r))},r))}function i(s){var t=s.target;s.type=="focus"&&l.data(t,k,t.value);b(t)}function d(s){e(s);a.remove(s,"blur",f);a.remove(s,"mousedown keyup keydown focus",
i)}var g="valuechange",k="event/valuechange/history",x="event/valuechange/poll",r=50;a.special[g]={setup:function(){var s=this.nodeName.toLowerCase();if("input"==s||"textarea"==s){d(this);a.on(this,"blur",f);a.on(this,"mousedown keyup keydown focus",i)}},tearDown:function(){d(this)}};return a},{requires:["./base","dom"]});
KISSY.add("event/delegate",function(c,a,l){function e(g){return g.fn===undefined&&g.selector===undefined?true:g.fn===undefined?this.selector==g.selector:this.fn==g.fn&&this.selector==g.selector&&this.scope==g.scope}function f(g,k){var x=a.closest(g.target,[k.selector],this),r;if(x)for(var s=0;s<x.length;s++){g.currentTarget=x[s];var t=k.fn.call(k.scope||this,g);if(t===false||g.isPropagationStopped||g.isImmediatePropagationStopped){if(t===false)r=t;if(g.isPropagationStopped||g.isImmediatePropagationStopped)break}}return r}
function b(g,k){var x=g.target,r=g.relatedTarget;g.type=k.preType;if(x=a.closest(x,k.selector,this))if(x!==r&&(!r||!a.contains(x,r))){g.currentTarget=x;return k.fn.call(k.scope||this,g)}}var i=l._batchForType,d={focus:{type:"focusin"},blur:{type:"focusout"},mouseenter:{type:"mouseover",handler:b},mouseleave:{type:"mouseout",handler:b}};c.mix(l,{delegate:function(g,k,x,r,s){if(i("delegate",g,k,x,r,s))return g;a.query(g).each(function(t){if(!t.isCustomEventTarget){var A=k,B=f;if(d[k]){k=d[A].type;B=
d[A].handler||B}l.on(t,k,B,t,{fn:r,selector:x,preType:A,scope:s,equals:e})}});return g},undelegate:function(g,k,x,r,s){if(i("undelegate",g,k,x,r,s))return g;a.query(g).each(function(t){if(!t.isCustomEventTarget){var A=k,B=f;if(d[k]){k=d[A].type;B=d[A].handler||B}l.remove(t,k,B,t,{fn:r,selector:x,preType:A,scope:s,equals:e})}});return g}});return l},{requires:["dom","./base"]});
KISSY.add("event/mouseenter",function(c,a,l,e){e.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(f){function b(i){var d=i.relatedTarget;i.type=f.name;try{if(!(d&&d!==document&&!d.parentNode))if(d!==this&&(!d||!l.contains(this,d)))a._handle(this,i)}catch(g){c.log("withinElement :"+g)}}a.special[f.name]={setup:function(){a.add(this,f.fix,b)},tearDown:function(){a.remove(this,f.fix,b)}}});return a},{requires:["./base","dom","ua"]});
KISSY.add("event",function(c,a,l,e,f){l.KeyCodes=a;l.Target=e;l.Object=f;return l},{requires:["event/keycodes","event/base","event/target","event/object","event/focusin","event/hashchange","event/valuechange","event/delegate","event/mouseenter"]});
KISSY.add("node/base",function(c,a,l){function e(d,g,k){if(!(this instanceof e))return new e(d,g,k);if(d)if(c.isString(d)){d=a.create(d,g,k);if(d.nodeType===a.DOCUMENT_FRAGMENT_NODE){f.push.apply(this,b(d.childNodes));return l}}else if(c.isArray(d)||i(d)){f.push.apply(this,b(d));return l}else d=d;else return l;this[0]=d;this.length=1;return l}var f=Array.prototype,b=c.makeArray,i=a._isNodeList;c.augment(e,{length:0,item:function(d){return c.isNumber(d)?d>=this.length?null:new e(this[d]):new e(d)},
add:function(d,g,k){if(c.isNumber(g)){k=g;g=l}d=e.all(d,g);g=new e(this);if(k===l)f.push.apply(g,d);else{k=[k,0];k.push.apply(k,d);f.splice.apply(g,k)}return g},slice:function(d,g){return new e(f.slice.call(this,d,g))},getDOMNodes:function(){return f.slice.call(this)},each:function(d,g){var k=this.length,x=0,r;for(r=new e(this[0]);x<k&&d.call(g||r,r,x,this)!==false;r=new e(this[++x]));return this},getDOMNode:function(){return this[0]},all:function(d){if(this.length>0)return e.all(d,this);return new e},
one:function(d){d=this.all(d);return d.length?d.slice(0,1):null}});c.mix(e,{ELEMENT_NODE:a.ELEMENT_NODE,ATTRIBUTE_NODE:a.ATTRIBUTE_NODE,TEXT_NODE:a.TEXT_NODE,CDATA_SECTION_NODE:a.CDATA_SECTION_NODE,ENTITY_REFERENCE_NODE:a.ENTITY_REFERENCE_NODE,ENTITY_NODE:a.ENTITY_NODE,PROCESSING_INSTRUCTION_NODE:a.PROCESSING_INSTRUCTION_NODE,COMMENT_NODE:a.COMMENT_NODE,DOCUMENT_NODE:a.DOCUMENT_NODE,DOCUMENT_TYPE_NODE:a.DOCUMENT_TYPE_NODE,DOCUMENT_FRAGMENT_NODE:a.DOCUMENT_FRAGMENT_NODE,NOTATION_NODE:a.NOTATION_NODE,
all:function(d,g){if(c.isString(d)&&(d=c.trim(d))&&d.length>=3&&c.startsWith(d,"<")&&c.endsWith(d,">")){if(g){if(g.getDOMNode)g=g.getDOMNode();if(g.ownerDocument)g=g.ownerDocument}return new e(d,l,g)}return new e(a.query(d,g))},one:function(d,g){var k=e.all(d,g);return k.length?k.slice(0,1):null}});return e},{requires:["dom"]});
KISSY.add("node/attach",function(c,a,l,e,f){function b(g,k,x){x.unshift(k);g=a[g].apply(a,x);if(g===f)return k;return g}var i=e.prototype,d=c.makeArray;c.each(["equals","contains","scrollTop","scrollLeft","height","width","addStyleSheet","appendTo","prependTo","insertBefore","before","after","insertAfter","test","hasClass","addClass","removeClass","replaceClass","toggleClass","removeAttr","hasAttr","hasProp","toggle","scrollIntoView","remove","removeData","hasData","unselectable"],function(g){i[g]=
function(){var k=d(arguments);return b(g,this,k)}});c.each(["filter","parent","closest","next","prev","siblings","children"],function(g){i[g]=function(){var k=d(arguments);k.unshift(this);k=a[g].apply(a,k);k=k===f?this:k===null?null:new e(k);return k}});c.each({attr:1,text:0,css:1,val:0,prop:1,offset:0,html:0,data:1},function(g,k){i[k]=function(){var x=d(arguments);if(x[g]===f&&!c.isObject(x[0])){x.unshift(this);x=a[k].apply(a,x)}else x=b(k,this,x);return x}});c.each(["on","detach","fire","delegate",
"undelegate"],function(g){i[g]=function(){var k=d(arguments);k.unshift(this);return l[g].apply(l,k)}})},{requires:["dom","event","./base"]});KISSY.add("node/override",function(c,a,l,e){c.each(["append","prepend","before","after"],function(f){e.prototype[f]=function(b){b=b;if(c.isString(b))b=a.create(b);a[f](b,this);return this}})},{requires:["dom","event","./base","./attach"]});
KISSY.add("anim/easing",function(){var c=Math.PI,a=Math.pow,l=Math.sin,e=1.70158,f={easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;return-(a(2,10*(b-=1))*l((b-0.075)*2*c/0.3))},
elasticOut:function(b){if(b===0||b===1)return b;return a(2,-10*b)*l((b-0.075)*2*c/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*a(2,10*(b-=1))*l((b-0.1125)*2*c/0.45);return a(2,-10*(b-=1))*l((b-0.1125)*2*c/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((e+1)*b-e)},backOut:function(b){return(b-=1)*b*((e+1)*b+e)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((e*=1.525)+1)*b-e);return 0.5*((b-=2)*b*(((e*=1.525)+1)*b+e)+2)},bounceIn:function(b){return 1-
f.bounceOut(1-b)},bounceOut:function(b){return b<1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return f.bounceIn(b*2)*0.5;return f.bounceOut(b*2-1)*0.5+0.5}};f.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
return f});
KISSY.add("anim/manager",function(c){function a(e){e[l]=e[l]||c.guid("anim-");return e[l]}var l=c.guid("anim-");return{interval:20,runnings:{},timer:null,start:function(e){var f=a(e);if(!this.runnings[f]){this.runnings[f]=e;this.startTimer()}},stop:function(e){this.notRun(e)},notRun:function(e){delete this.runnings[a(e)];c.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(e){this.notRun(e)},resume:function(e){this.start(e)},startTimer:function(){var e=this;if(!e.timer)e.timer=setTimeout(function(){if(e.runFrames())e.stopTimer();
else{e.timer=null;e.startTimer()}},e.interval)},stopTimer:function(){var e=this.timer;if(e){clearTimeout(e);this.timer=null}},runFrames:function(){var e=true,f=this.runnings,b;for(b in f)if(f.hasOwnProperty(b)){e=false;f[b]._runFrame()}return e}}});
KISSY.add("anim/base",function(c,a,l,e,f,b,i){function d(m,n,p,h,j,o){if(m=a.get(m)){if(!(this instanceof d))return new d(m,n,p,h,j,o);var y=c.isPlainObject(p);n=n;this.domEl=m;if(c.isPlainObject(n))n=String(c.param(n,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var q=n,u=m;m={};var v=r.length,C=u.cloneNode(true);a.insertAfter(C,u);u=C.style;for(k(C,q);v--;){var D=r[v];if(u[D])m[D]=(w[D]||w["*"]).getter(C,D)}q=x(q);for(var E in q)m[E]=(w[E]||w["*"]).getter(C,
E);a.remove(C);this.props=m;this.targetStyle=n;if(y)y=c.merge(A,p);else{y=c.clone(A);if(p)y.duration=parseFloat(p)||1;if(c.isString(h)||c.isFunction(h))y.easing=h;if(c.isFunction(j))y.complete=j;if(o!==i)y.nativeSupport=o}if(!c.isEmptyObject(x(n)))y.nativeSupport=false;this.config=y;if(y.nativeSupport&&z()&&c.isString(h=y.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(h)||(h=e.NativeTimeFunction[h])){y.easing=h;this.transitionName=z()}if(c.isFunction(j))this.callback=j}}function g(m,n){return n}function k(m,
n){if(f.ie&&n.indexOf(t)>-1){var p=n.match(/opacity\s*:\s*([^;]+)(;|$)/);p&&a.css(m,t,parseFloat(p[1]))}m.style.cssText+=";"+n;p=x(n);for(var h in p)m[h]=p[h]}function x(m){for(var n={},p=0;p<s.length;p++){var h=s[p].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(h=m.match(RegExp(h+"\\s*:([^;]+)(;|$)")))n[s[p]]=c.trim(h[1])}return n}var r,s,t,A,B;l=l.Target;r="borderBottomWidth borderBottomStyle borderLeftWidth borderLeftStyle borderRightWidth borderRightStyle borderSpacing borderTopWidth borderTopStyle bottom fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
s=[];t="opacity";A={duration:1,easing:"easeNone",nativeSupport:true};d.PROPS=r;d.CUSTOM_ATTRS=s;d.PROP_OPS={"*":{getter:function(m,n){var p=a.css(m,n),h=parseFloat(p);p=(p+"").replace(/^[-\d.]+/,"");if(isNaN(h))return{v:p,u:"",f:g};return{v:h,u:p,f:this.interpolate}},setter:function(m,n,p){return a.css(m,n,p)},interpolate:function(m,n,p){return(m+(n-m)*p).toFixed(3)},eq:function(m,n){return m.v==n.v&&m.u==n.u}}};var w=d.PROP_OPS;c.augment(d,l,{isRunning:false,elapsedTime:0,start:0,finish:0,duration:0,
run:function(){var m=this,n=m.config,p=m.domEl,h,j=m.props,o={},y;if(m.fire("start")!==false){m.stop();h=n.duration*1E3;m.duration=h;if(m.transitionName)setTimeout(function(){m._nativeRun()},10);else{for(y in j)o[y]=(w[y]||w["*"]).getter(p,y);m.source=o;p=c.now();h=p+h;n=n.easing;if(c.isString(n))n=e[n]||e.easeNone;m.start=p;m.finish=h;m.easing=n;b.start(m)}m.isRunning=true;return m}},_complete:function(){this.fire("complete");this.callback&&this.callback()},_runFrame:function(){var m=this.domEl,
n=this.finish,p=this.start,h=this.duration,j=c.now(),o=this.source,y=this.easing,q=this.props,u;p=j-p;h=j>n?1:p/h;var v,C;this.elapsedTime=p;for(u in q){p=o[u];v=q[u];var D;D=v;var E=p,F=w[u];D=F&&F.eq?F.eq(D,E):w["*"].eq(D,E);if(!D){if(v.v==0)v.u=p.u;if(p.u!==v.u){p.v=0;p.u=v.u}D=v.f(p.v,v.v,y(h))+v.u;(w[u]||w["*"]).setter(m,u,D);if(v.f==g){p.v=v.v;p.u=v.u}}}if(this.fire("step")===false||(C=j>n)){this.stop();C&&this._complete()}},_nativeRun:function(){var m=this,n=m.domEl,p=m.duration,h=m.config.easing,
j=m.transitionName,o={};o[j+"Property"]="all";o[j+"Duration"]=p+"ms";o[j+"TimingFunction"]=h;a.css(n,o);setTimeout(function(){k(n,m.targetStyle)},0);c.later(function(){m.stop(true)},p)},stop:function(m){if(this.isRunning){if(this.transitionName)this._nativeStop(m);else{if(m){k(this.domEl,this.targetStyle);this._complete()}b.stop(this)}this.isRunning=false;return this}},_nativeStop:function(m){var n=this.domEl,p=this.props,h;if(m){this._clearNativeProperty();this._complete()}else{for(h in p)a.css(n,
h,a._getComputedStyle(n,h));this._clearNativeProperty()}},_clearNativeProperty:function(){var m={},n=this.domEl,p=this.transitionName;m[p+"Property"]="none";m[p+"Duration"]="";m[p+"TimingFunction"]="";a.css(n,m)}});d.supportTransition=function(){if(B)return B;var m="transition",n,p=document.documentElement;if(p.style[m]!==i)n=m;else c.each(["Webkit","Moz","O"],function(h){if(p.style[m=h+"Transition"]!==i){n=m;return false}});return B=n};var z=d.supportTransition;return d},{requires:["dom","event",
"./easing","ua","./manager"]});
KISSY.add("anim/color",function(c,a,l){function e(k){k=k.toLowerCase();var x;if(x=k.match(b))return[parseInt(x[1]),parseInt(x[2]),parseInt(x[3])];else if(x=k.match(i)){for(k=1;k<x.length;k++)if(x[k].length<2)x[k]+=x[k];return[parseInt(x[1],16),parseInt(x[2],16),parseInt(x[3],16)]}if(f[k])return f[k];c.log("only allow rgb or hex color string : "+k,"warn");return[255,255,255]}var f={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,
0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},b=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,i=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,d="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),g=l.PROP_OPS;l=l.PROPS;l.push.apply(l,d);g.color={getter:function(k,x){return{v:e(a.css(k,x)),u:"",f:this.interpolate}},
setter:g["*"].setter,interpolate:function(k,x,r){var s=g["*"].interpolate;return"rgb("+[Math.floor(s(k[0],x[0],r)),Math.floor(s(k[1],x[1],r)),Math.floor(s(k[2],x[2],r))].join(", ")+")"},eq:function(k,x){return k.v+""==x.v+""}};c.each(d,function(k){g[k]=g.color})},{requires:["dom","./base"]});
KISSY.add("anim/scroll",function(c,a,l){var e=l.PROP_OPS;l.CUSTOM_ATTRS.push("scrollLeft","scrollTop");e.scrollLeft=e.scrollTop={getter:function(f,b){return{v:f[b],u:"",f:e["*"].interpolate}},setter:function(f,b,i){f[b]=i}}},{requires:["dom","./base"]});KISSY.add("anim",function(c,a,l){a.Easing=l;return a},{requires:["anim/base","anim/easing","anim/color","anim/scroll"]});
KISSY.add("node/anim-plugin",function(c,a,l,e,f){function b(w,z,m,n,p,h,j){if(z==="toggle"){p=a.css(w,g)===k?1:0;z="show"}if(p)a.css(w,g,a.data(w,g)||"");var o={},y={};c.each(B[z],function(q){if(q===x){o[x]=a.css(w,x);a.css(w,x,r)}else if(q===s){o[s]=a.css(w,s);y.opacity=p?1:0;p&&a.css(w,s,0)}else if(q===t){o[t]=a.css(w,t);y.height=p?a.css(w,t)||w.naturalHeight:0;p&&a.css(w,t,0)}else if(q===A){o[A]=a.css(w,A);y.width=p?a.css(w,A)||w.naturalWidth:0;p&&a.css(w,A,0)}});return(new l(w,y,m,h||"easeOut",
function(){if(!p){var q=w.style,u=q[g];if(u!==k){u&&a.data(w,g,u);q[g]=k}o[t]&&a.css(w,{height:o[t]});o[A]&&a.css(w,{width:o[A]});o[s]&&a.css(w,{opacity:o[s]});o[x]&&a.css(w,{overflow:o[x]})}n&&c.isFunction(n)&&n()},j)).run()}var i=e.prototype,d="ksAnims"+c.now(),g="display",k="none",x="overflow",r="hidden",s="opacity",t="height",A="width",B={show:[x,s,t,A],fade:[s],slide:[x,t]};e.__ANIM_KEY=d;(function(w){function z(m,n){var p=a.data(m,d);p||a.data(m,d,p=[]);n.on("complete",function(){var h=a.data(m,
d);if(h){var j=c.indexOf(n,h);j>=0&&h.splice(j,1);h.length||a.removeData(m,d)}});p.push(n)}w.animate=function(){var m=c.makeArray(arguments);c.each(this,function(n){var p=l.apply(f,[n].concat(m)).run();z(n,p)});return this};w.stop=function(m){c.each(this,function(n){var p=a.data(n,d);if(p){c.each(p,function(h){h.stop(m)});a.removeData(n,d)}});return this};c.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(m,
n){w[n]=function(p,h,j,o){if(a[n]&&arguments.length===0)a[n](this);else{if(o===f)o=false;c.each(this,function(y){var q=b(y,m[0],p,h,m[1],j,o);z(y,q)})}return this}})})(i)},{requires:["dom","anim","./base"]});KISSY.add("node",function(c,a,l){l.KeyCodes=a.KeyCodes;return l},{requires:["event","node/base","node/attach","node/override","node/anim-plugin"]});
KISSY.add("json/json2",function(c,a){function l(t){return t<10?"0"+t:t}function e(t){g.lastIndex=0;return g.test(t)?'"'+t.replace(g,function(A){var B=r[A];return typeof B==="string"?B:"\\u"+("0000"+A.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function f(t,A){var B,w,z,m,n=k,p,h=A[t];if(h&&typeof h==="object"&&typeof h.toJSON==="function")h=h.toJSON(t);if(typeof s==="function")h=s.call(A,t,h);switch(typeof h){case "string":return e(h);case "number":return isFinite(h)?String(h):"null";case "boolean":case "null":return String(h);
case "object":if(!h)return"null";k+=x;p=[];if(Object.prototype.toString.apply(h)==="[object Array]"){m=h.length;for(B=0;B<m;B+=1)p[B]=f(B,h)||"null";z=p.length===0?"[]":k?"[\n"+k+p.join(",\n"+k)+"\n"+n+"]":"["+p.join(",")+"]";k=n;return z}if(s&&typeof s==="object"){m=s.length;for(B=0;B<m;B+=1){w=s[B];if(typeof w==="string")if(z=f(w,h))p.push(e(w)+(k?": ":":")+z)}}else for(w in h)if(Object.hasOwnProperty.call(h,w))if(z=f(w,h))p.push(e(w)+(k?": ":":")+z);z=p.length===0?"{}":k?"{\n"+k+p.join(",\n"+k)+
"\n"+n+"}":"{"+p.join(",")+"}";k=n;return z}}var b=window,i=b.JSON;if(!i||a.ie<9)i=b.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+l(this.getUTCMonth()+1)+"-"+l(this.getUTCDate())+"T"+l(this.getUTCHours())+":"+l(this.getUTCMinutes())+":"+l(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,x,r={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s;if(typeof i.stringify!=="function")i.stringify=function(t,A,B){var w;x=k="";if(typeof B==="number")for(w=0;w<B;w+=1)x+=" ";else if(typeof B==="string")x=B;if((s=A)&&typeof A!=="function"&&(typeof A!=="object"||typeof A.length!=="number"))throw Error("JSON.stringify");return f("",{"":t})};if(typeof i.parse!==
"function")i.parse=function(t,A){function B(z,m){var n,p,h=z[m];if(h&&typeof h==="object")for(n in h)if(Object.hasOwnProperty.call(h,n)){p=B(h,n);if(p!==undefined)h[n]=p;else delete h[n]}return A.call(z,m,h)}var w;t=String(t);d.lastIndex=0;if(d.test(t))t=t.replace(d,function(z){return"\\u"+("0000"+z.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){w=eval("("+t+")");return typeof A==="function"?B({"":w},""):w}throw new SyntaxError("JSON.parse");};return i},{requires:["ua"]});KISSY.add("json",function(c,a){return{parse:function(l){if(l==null||l==="")return null;return a.parse(l)},stringify:a.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/xhrobject",function(c,a){function l(b){var i=b.responseText,d=b.responseXML,g=b.config,k=g.converters,x=b.converters||{},r,s,t=g.contents,A=g.dataType;if(i||d){for(g=b.mimeType||b.getResponseHeader("Content-Type");A[0]=="*";)A.shift();if(!A.length)for(r in t)if(t[r].test(g)){A[0]!=r&&A.unshift(r);break}A[0]=A[0]||"text";if(A[0]=="text"&&i!=undefined)s=i;else if(A[0]=="xml"&&d!=undefined)s=d;else c.each(["text","xml"],function(w){var z=A[0];if(x[w]&&x[w][z]||k[w]&&k[w][z]){A.unshift(w);
s=w=="text"?i:d;return false}})}t=A[0];for(g=1;g<A.length;g++){r=A[g];var B=x[t]&&x[t][r]||k[t]&&k[t][r];if(!B)throw"no covert for "+t+" => "+r;s=B(s);t=r}b.responseData=s}function e(b){c.mix(this,{responseData:null,config:b||{},timeoutTimer:null,responseText:null,responseXML:null,responseHeadersString:"",responseHeaders:null,requestHeaders:{},readyState:0,state:0,statusText:null,status:0,transport:null})}var f=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;c.augment(e,a.Target,{setRequestHeader:function(b,i){this.requestHeaders[b]=
i;return this},getAllResponseHeaders:function(){return this.state===2?this.responseHeadersString:null},getResponseHeader:function(b){var i;if(this.state===2){if(!this.responseHeaders)for(this.responseHeaders={};i=f.exec(this.responseHeadersString);)this.responseHeaders[i[1]]=i[2];i=this.responseHeaders[b]}return i===undefined?null:i},overrideMimeType:function(b){if(!this.state)this.mimeType=b;return this},abort:function(b){b=b||"abort";this.transport&&this.transport.abort(b);this.callback(0,b);return this},
callback:function(b,i){if(this.state!=2){this.state=2;this.readyState=4;var d;if(b>=200&&b<300||b==304)if(b==304){i="notmodified";d=true}else try{l(this);i="success";d=true}catch(g){i="parsererror : "+g}else if(b<0)b=0;this.status=b;this.statusText=i;d?this.fire("success"):this.fire("error");this.fire("complete");this.transport=undefined}}});return e},{requires:["event"]});
KISSY.add("ajax/base",function(c,a,l,e){function f(z){z=c.mix(c.clone(w),z||{},undefined,undefined,true);if(z.crossDomain==null){var m=k.exec(z.url.toLowerCase());z.crossDomain=!!(m&&(m[1]!=t[1]||m[2]!=t[2]||(m[3]||(m[1]==="http:"?80:443))!=(t[3]||(t[1]==="http:"?80:443))))}if(z.processData&&z.data&&!c.isString(z.data))z.data=c.param(z.data,undefined,undefined,z.serializeArray);z.type=z.type.toUpperCase();z.hasContent=!r.test(z.type);if(!z.hasContent){if(z.data)z.url+=(/\?/.test(z.url)?"&":"?")+z.data;
if(z.cache===false)z.url+=(/\?/.test(z.url)?"&":"?")+"_ksTS="+(c.now()+"_"+c.guid())}z.dataType=c.trim(z.dataType||"*").split(g);z.context=z.context||z;return z}function b(z,m){d.fire(z,{ajaxConfig:m.config,xhr:m})}function i(z){var m=this.config;z=z.type;this.timeoutTimer&&clearTimeout(this.timeoutTimer);m[z]&&m[z].call(m.context,this.responseData,this.statusText,this);b(z,this)}function d(z){if(z.url){z=f(z);var m=new e(z);b("start",m);var n=new (B[z.dataType[0]]||B["*"])(m);m.transport=n;z.contentType&&
m.setRequestHeader("Content-Type",z.contentType);var p=z.dataType[0],h=z.accepts;m.setRequestHeader("Accept",p&&h[p]?h[p]+(p!=="*"?", */*; q=0.01":""):h["*"]);for(var j in z.headers)m.setRequestHeader(j,z.headers[j]);m.on("complete success error",i);m.readyState=1;b("send",m);if(z.async&&z.timeout>0)m.timeoutTimer=setTimeout(function(){m.abort("timeout")},z.timeout);try{m.state=1;n.send()}catch(o){m.status<2?m.callback(-1,o):c.error(o)}return m}}var g=/\s+/,k=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,
x=function(z){return z},r=/^(?:GET|HEAD)$/,s,t;try{s=location.href}catch(A){s=document.createElement("a");s.href="";s=s.href}t=k.exec(s);s=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(t[1]);var B={},w={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:true,serializeArray:true,processData:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},converters:{text:{json:a.parse,
html:x,text:x,xml:c.parseXML}},contents:{xml:/xml/,html:/html/,json:/json/}};w.converters.html=w.converters.text;c.mix(d,l.Target);c.mix(d,{isLocal:s,setupConfig:function(z){c.mix(w,z,undefined,undefined,true)},setupTransport:function(z,m){B[z]=m},getTransport:function(z){return B[z]},getConfig:function(){return w}});return d},{requires:["json","event","./xhrobject"]});
KISSY.add("ajax/xhr",function(c,a){function l(){try{return new window.XMLHttpRequest}catch(b){}}a.xhr=window.ActiveXObject?function(){var b;if(!(b=!a.isLocal&&l()))a:{try{b=new window.ActiveXObject("Microsoft.XMLHTTP");break a}catch(i){}b=void 0}return b}:l;var e=a.xhr(),f=false;if(e){if("withCredentials"in e)f=true;e=function(b){this.xhrObj=b};c.augment(e,{send:function(){var b=this,i=b.xhrObj,d=i.config;if(d.crossDomain&&!f)c.error("do not allow crossdomain xhr !");else{var g=a.xhr(),k,x;b.xhr=
g;d.username?g.open(d.type,d.url,d.async,d.username,d.password):g.open(d.type,d.url,d.async);if(k=d.xhrFields)for(x in k)g[x]=k[x];i.mimeType&&g.overrideMimeType&&g.overrideMimeType(i.mimeType);if(!d.crossDomain&&!i.requestHeaders["X-Requested-With"])i.requestHeaders["X-Requested-With"]="XMLHttpRequest";try{for(x in i.requestHeaders)g.setRequestHeader(x,i.requestHeaders[x])}catch(r){}g.send(d.hasContent&&d.data||null);if(!d.async||g.readyState==4)b._callback();else g.onreadystatechange=function(){b._callback()}}},
abort:function(){this._callback(0,1)},_callback:function(b,i){try{var d=this.xhr,g=this.xhrObj,k=g.config;if(i||d.readyState==4){d.onreadystatechange=c.noop;if(i)d.readyState!==4&&d.abort();else{var x=d.status;g.responseHeadersString=d.getAllResponseHeaders();var r=d.responseXML;if(r&&r.documentElement)g.responseXML=r;g.responseText=d.responseText;try{var s=d.statusText}catch(t){s=""}if(!x&&a.isLocal&&!k.crossDomain)x=g.responseText?200:404;else if(x===1223)x=204;g.callback(x,s)}}}catch(A){d.onreadystatechange=
c.noop;i||g.callback(-1,A)}}});a.setupTransport("*",e);return a}},{requires:["./base"]});
KISSY.add("ajax/script",function(c,a){function l(f){if(!f.config.crossDomain&&!f.config.forceScript)return new (a.getTransport("*"))(f);this.xhrObj=f;return 0}var e=document;a.setupConfig({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{text:{script:function(f){c.globalEval(f);return f}}}});c.augment(l,{send:function(){var f=this,b,i=this.xhrObj.config,d=e.head||e.getElementsByTagName("head")[0]||
e.documentElement;f.head=d;b=e.createElement("script");f.script=b;b.async="async";if(i.scriptCharset)b.charset=i.scriptCharset;b.src=i.url;b.onerror=b.onload=b.onreadystatechange=function(g){g=g||window.event;f._callback((g.type||"error").toLowerCase())};d.insertBefore(b,d.firstChild)},_callback:function(f,b){var i=this.script,d=this.xhrObj,g=this.head;if(i)if(b||!i.readyState||/loaded|complete/.test(i.readyState)||f=="error"){i.onerror=i.onload=i.onreadystatechange=null;if(g&&i.parentNode){i.src=
"#";g.removeChild(i)}this.head=this.script=undefined;if(!b&&f!="error")d.callback(200,"success");else f=="error"&&d.callback(500,"scripterror")}},abort:function(){this._callback(0,1)}});a.setupTransport("script",l);return a},{requires:["./base","./xhr"]});
KISSY.add("ajax/jsonp",function(c,a){a.setupConfig({jsonp:"callback",jsonpCallback:function(){return c.guid("jsonp")}});a.on("start",function(l){l=l.xhr;var e=l.config;if(e.dataType[0]=="jsonp"){var f,b=e.jsonpCallback,i=c.isFunction(b)?b():b,d=window[i];e.url+=(/\?/.test(e.url)?"&":"?")+e.jsonp+"="+i;window[i]=function(g){if(arguments.length>1)g=c.makeArray(arguments);f=[g]};l.on("complete",function(){window[i]=d;if(d===undefined)try{delete window[i]}catch(g){}else f&&d(f[0])});l.converters=l.converters||
{};l.converters.script=l.converters.script||{};l.converters.script.json=function(){f||c.error(" not call jsonpCallback : "+i);return f[0]};e.dataType.length=2;e.dataType[0]="script";e.dataType[1]="json"}});return a},{requires:["./base"]});KISSY.add("ajax/form-serializer",function(c,a){return{serialize:function(l){l=a.get(l);var e={};c.each(l.elements,function(f){f.disabled||(e[f.name]=a.val(f))});return c.param(e,undefined,undefined,false)}}},{requires:["dom"]});
KISSY.add("ajax/form",function(c,a,l,e){a.on("start",function(f){f=f.xhr.config;if(f.form){var b=l.get(f.form);if((b.encoding||b.enctype).toLowerCase()!="multipart/form-data"){if(b=e.serialize(b))if(f.hasContent){f.data=f.data||"";if(f.data)f.data+="&";f.data+=b}else f.url+=(/\?/.test(f.url)?"&":"?")+b}else{b=f.dataType[0];if(b=="*")b="text";f.dataType.length=2;f.dataType[0]="iframe";f.dataType[1]=b}}});return a},{requires:["./base","dom","./form-serializer"]});
KISSY.add("ajax/iframe-upload",function(c,a,l,e){function f(i){this.xhr=i}var b=document;e.setupConfig({converters:{iframe:e.getConfig().converters.text,text:{iframe:function(i){return i}}}});c.augment(f,{send:function(){var i=this.xhr,d=i.config,g,k=a.get(d.form);this.attrs={target:a.attr(k,"target")||"",action:a.attr(k,"action")||""};this.form=k;var x=c.guid("ajax-iframe");i.iframe=a.create("<iframe  id='"+x+"' name='"+x+"' style='position:absolute;left:-9999px;top:-9999px;'/>");i.iframeId=x;a.prepend(i.iframe,
b.body||b.documentElement);a.attr(k,{target:i.iframeId,action:d.url});if(d.data){g=d.data;d=d.serializeArray;g=c.unparam(g);x=[];for(var r in g)for(var s=c.makeArray(g[r]),t=0;t<s.length;t++){var A=b.createElement("input");A.type="hidden";A.name=r+(d?"[]":"");A.value=s[t];a.append(A,k);x.push(A)}g=x}this.fields=g;l.on(i.iframe,"load error",this._callback,this);k.submit()},_callback:function(i){var d=this.xhr;i=i.type;var g=d.iframe;if(g){a.attr(this.form,this.attrs);if(i=="load"){i=g.contentWindow.document;
d.responseXML=i;d.responseText=a.text(i.body);d.callback(200,"success")}else i=="error"&&d.callback(500,"error");a.remove(this.fields);l.detach(g);setTimeout(function(){a.remove(g)},30);d.iframe=null}},abort:function(){this._callback(0,1)}});e.setupTransport("iframe",f);return e},{requires:["dom","event","./base"]});
KISSY.add("ajax",function(c,a){c.mix(a,{get:function(l,e,f,b,i){if(c.isFunction(e)){b=f;f=e;e=undefined}return a({type:i||"get",url:l,data:e,success:f,dataType:b})},post:function(l,e,f,b){if(c.isFunction(e)){b=f;f=e;e=undefined}return a.get(l,e,f,b,"post")},jsonp:function(l,e,f){if(c.isFunction(e)){f=e;e=undefined}return a.get(l,e,f,"jsonp")},getScript:c.getScript,getJSON:function(l,e,f){if(c.isFunction(e)){f=e;e=undefined}return a.get(l,e,f,"json")},upload:function(l,e,f,b,i){if(c.isFunction(f)){i=
b;b=f;f=undefined}return a({url:l,type:"post",dataType:i,form:e,data:f,success:b})}});return a},{requires:["ajax/base","ajax/xhrobject","ajax/xhr","ajax/script","ajax/jsonp","ajax/form","ajax/iframe-upload"]});
KISSY.add("base/attribute",function(c,a){function l(){this.__attrs={};this.__attrVals={}}function e(f){f+="";return f.charAt(0).toUpperCase()+f.substring(1)}c.augment(l,{__getDefAttrs:function(){return c.clone(this.__attrs)},addAttr:function(f,b,i){if(this.__attrs[f])c.mix(this.__attrs[f],b,i);else this.__attrs[f]=c.clone(b||{});return this},hasAttr:function(f){return f&&this.__attrs.hasOwnProperty(f)},removeAttr:function(f){if(this.hasAttr(f)){delete this.__attrs[f];delete this.__attrVals[f]}return this},
set:function(f,b){var i=this.get(f);if(i!==b)if(false!==this.__fireAttrChange("before",f,i,b)){this.__set(f,b);this.__fireAttrChange("after",f,i,this.__attrVals[f]);return this}},__fireAttrChange:function(f,b,i,d){return this.fire(f+e(b)+"Change",{attrName:b,prevVal:i,newVal:d})},__set:function(f,b){var i,d=(this.__attrs[f]=this.__attrs[f]||{}).setter;if(d)i=d.call(this,b);if(i!==a)b=i;this.__attrVals[f]=b},get:function(f){var b;b=(b=this.__attrs[f])&&b.getter;f=f in this.__attrVals?this.__attrVals[f]:
this.__getDefAttrVal(f);if(b)f=b.call(this,f);return f},__getDefAttrVal:function(f){f=this.__attrs[f];var b;if(f){if(b=f.valueFn){b=b.call(this);if(b!==a)f.value=b;delete f.valueFn}return f.value}},reset:function(f){if(this.hasAttr(f))return this.set(f,this.__getDefAttrVal(f));for(f in this.__attrs)this.hasAttr(f)&&this.reset(f);return this}});l.__capitalFirst=e;return l});
KISSY.add("base/base",function(c,a,l){function e(f){a.call(this);for(var b=this.constructor;b;){var i=b.ATTRS;if(i){var d=void 0;for(d in i)i.hasOwnProperty(d)&&this.addAttr(d,i[d],false)}b=b.superclass?b.superclass.constructor:null}if(f)for(var g in f)f.hasOwnProperty(g)&&this.__set(g,f[g])}c.augment(e,l.Target,a);return e},{requires:["./attribute","event"]});KISSY.add("base",function(c,a){return a},{requires:["base/base"]});
KISSY.add("cookie/base",function(c){var a=document,l=encodeURIComponent,e=decodeURIComponent;return{get:function(f){var b;if(c.isString(f)&&f!=="")if(f=String(a.cookie).match(RegExp("(?:^| )"+f+"(?:(?:=([^;]*))|;|$)")))b=f[1]?e(f[1]):"";return b},set:function(f,b,i,d,g,k){b=String(l(b));var x=i;if(typeof x==="number"){x=new Date;x.setTime(x.getTime()+i*864E5)}if(x instanceof Date)b+="; expires="+x.toUTCString();if(c.isString(d)&&d!=="")b+="; domain="+d;if(c.isString(g)&&g!=="")b+="; path="+g;if(k)b+=
"; secure";a.cookie=f+"="+b},remove:function(f,b,i,d){this.set(f,"",-1,b,i,d)}}});KISSY.add("cookie",function(c,a){return a},{requires:["cookie/base"]});
KISSY.add("core",function(c,a,l,e,f,b,i,d,g,k){i.getScript=c.getScript;a={UA:a,DOM:l,Event:e,EventTarget:e.Target,EventObject:e.Object,Node:f,NodeList:f,JSON:b,Ajax:i,IO:i,ajax:i,io:i,jsonp:i.jsonp,Anim:d,Easing:d.Easing,Base:g,Cookie:k,one:f.one,all:f.all,get:l.get,query:l.query};c.mix(c,a);return a},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
