/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
(function(){var d=require("jsdom").jsdom;document=d("<html><head></head><body></body></html>");window=document.createWindow();location=window.location;navigator=window.navigator;KISSY={__HOST:window};exports.KISSY=window.KISSY=KISSY})();
(function(d){function c(j){for(var a=0;a<j.length;a++)if(j[a].match(/\/$/))j[a]+="index";return j}function v(j,a){if(!a)return a;if(d.isArray(a)){for(var f=0;f<a.length;f++)a[f]=v(j,a[f]);return a}if(a.lastIndexOf("../",0)==0||a.lastIndexOf("./",0)==0){f="";var u;if((u=j.lastIndexOf("/"))!=-1)f=j.substring(0,u+1);return p.normalize(f+a)}else return a.indexOf("./")!=-1||a.indexOf("../")!=-1?p.normalize(a):a}var p=require("path");d.Env={};d.Env.mods={};var o=d.Env.mods;(function(j,a){for(var f in a)if(a.hasOwnProperty(f))j[f]=
a[f]})(d,{Config:{base:__filename.replace(/[^/]*$/i,"")},add:function(j,a,f){o[j]={name:j,fn:a};d.mix(o[j],f)},_packages:function(j){var a;a=this.__packages=this.__packages||{};for(var f=0;f<j.length;f++){var u=j[f];a[u.name]=u;if(u.path&&!u.path.match(/\/$/))u.path+="/"}},_getPath:function(j){var a=this.__packages=this.__packages||{},f="",u;for(u in a)if(a.hasOwnProperty(u))if(j.lastIndexOf(u,0)==0)if(u.length>f)f=u;return(a[f]&&a[f].path||this.Config.base)+j},_combine:function(j,a){var f=this,u;
if(d.isObject(j))d.each(j,function(x,q){d.each(x,function(t){f._combine(t,q)})});else{u=f.__combines=f.__combines||{};if(a)u[j]=a;else return u[j]||j}},require:function(j){j=o[j];var a=this.onRequire&&this.onRequire(j);if(a!==undefined)return a;return j&&j.value},_attach:function(j){var a=this._getPath(this._combine(j)),f=o[j];f||require(a);f=o[j];if(!f.attached){f.requires=f.requires||[];a=f.requires;v(j,a);j=[this];for(var u=0;u<a.length;u++){this._attach(a[u]);j.push(this.require(a[u]))}f.value=
f.fn.apply(null,j);f.attached=true}},use:function(j,a){j=j.replace(/\s+/g,"").split(",");c(j);var f=this,u=[this];d.each(j,function(x){f._attach(x);u.push(f.require(x))});a&&a.apply(null,u)}})})(KISSY);
(function(d,c,v){var p={mix:function(a,f,u,x){if(!f||!a)return a;if(u===v)u=true;var q,t,w;if(x&&(w=x.length))for(q=0;q<w;q++){t=x[q];if(t in f)if(u||!(t in a))a[t]=f[t]}else for(t in f)if(u||!(t in a))a[t]=f[t];return a}},o=d&&d[c]||{},j=0;d=o.__HOST||(o.__HOST=d||{});c=d[c]=p.mix(o,p,false);c.mix(c,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.20dev",merge:function(){var a={},f,u=arguments.length;for(f=0;f<u;f++)c.mix(a,arguments[f]);return a},augment:function(){var a=arguments,
f=a.length-2,u=a[0],x=a[f],q=a[f+1],t=1;if(!c.isArray(q)){x=q;q=v;f++}if(!c.isBoolean(x)){x=v;f++}for(;t<f;t++)c.mix(u.prototype,a[t].prototype||a[t],x,q);return u},extend:function(a,f,u,x){if(!f||!a)return a;var q=Object.create?function(y,A){return Object.create(y,{constructor:{value:A}})}:function(y,A){function l(){}l.prototype=y;var i=new l;i.constructor=A;return i},t=f.prototype,w;w=q(t,a);a.prototype=c.mix(w,a.prototype);a.superclass=q(t,f);u&&c.mix(w,u);x&&c.mix(a,x);return a},__init:function(){this.Config=
this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var a=arguments,f=a.length,u=null,x,q,t,w=a[f-1]===true&&f--;for(x=0;x<f;x++){t=(""+a[x]).split(".");u=w?d:this;for(q=d[t[0]]===u?1:0;q<t.length;++q)u=u[t[q]]=u[t[q]]||{}}return u},app:function(a,f){var u=c.isString(a),x=u?d[a]||{}:a,q=0,t=c.__APP_INIT_METHODS.length;for(c.mix(x,this,true,c.__APP_MEMBERS);q<t;q++)c[c.__APP_INIT_METHODS[q]].call(x);c.mix(x,c.isFunction(f)?f():f);u&&(d[a]=x);return x},config:function(a){for(var f in a)this["_"+
f]&&this["_"+f](a[f])},log:function(a,f,u){if(c.Config.debug){if(u)a=u+": "+a;if(d.console!==v&&console.log)console[f&&console[f]?f:"log"](a)}},error:function(a){if(c.Config.debug)throw a;},guid:function(a){return(a||"")+j++}});c.__init();return c})(this,"KISSY");
(function(d,c){var v=d.__HOST,p=Object.prototype.toString,o=Array.prototype.indexOf,j=Array.prototype.lastIndexOf,a=Array.prototype.filter,f=String.prototype.trim,u=/^\s+|\s+$/g,x={};d.mix(d,{type:function(q){return q==null?String(q):x[p.call(q)]||"object"},isNull:function(q){return q===null},isUndefined:function(q){return q===c},isEmptyObject:function(q){for(var t in q)return false;return true},isPlainObject:function(q){return q&&p.call(q)==="[object Object]"&&"isPrototypeOf"in q},clone:function(q,
t,w){var y=q,A,l,i=w||{};if(q&&((A=d.isArray(q))||d.isPlainObject(q))){if(q["__~ks_cloned"])return i[q["__~ks_cloned"]];q["__~ks_cloned"]=y=d.guid();i[y]=q;if(A)y=t?d.filter(q,t):q.concat();else{y={};for(l in q)if(l!=="__~ks_cloned"&&q.hasOwnProperty(l)&&(!t||t.call(q,q[l],l,q)!==false))y[l]=d.clone(q[l],t,i)}}if(!w){d.each(i,function(m){if(m["__~ks_cloned"])try{delete m["__~ks_cloned"]}catch(g){m["__~ks_cloned"]=c}});i=c}return y},trim:f?function(q){return q==c?"":f.call(q)}:function(q){return q==
c?"":q.toString().replace(u,"")},substitute:function(q,t,w){if(!d.isString(q)||!d.isPlainObject(t))return q;return q.replace(w||/\\?\{([^{}]+)\}/g,function(y,A){if(y.charAt(0)==="\\")return y.slice(1);return t[A]!==c?t[A]:""})},each:function(q,t,w){var y,A=0,l=q.length,i=l===c||d.type(q)==="function";w=w||v;if(i)for(y in q){if(t.call(w,q[y],y,q)===false)break}else for(y=q[0];A<l&&t.call(w,y,A,q)!==false;y=q[++A]);return q},indexOf:o?function(q,t){return o.call(t,q)}:function(q,t){for(var w=0,y=t.length;w<
y;++w)if(t[w]===q)return w;return-1},lastIndexOf:j?function(q,t){return j.call(t,q)}:function(q,t){for(var w=t.length-1;w>=0;w--)if(t[w]===q)break;return w},unique:function(q,t){t&&q.reverse();for(var w=q.slice(),y=0,A,l;y<w.length;){for(l=w[y];(A=d.lastIndexOf(l,w))!==y;)w.splice(A,1);y+=1}t&&w.reverse();return w},inArray:function(q,t){return d.indexOf(q,t)>-1},filter:a?function(q,t,w){return a.call(q,t,w||this)}:function(q,t,w){var y=[];d.each(q,function(A,l,i){if(t.call(w||this,A,l,i))y.push(A)});
return y},now:function(){return(new Date).getTime()}});d.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(q,t){x["[object "+q+"]"]=t=q.toLowerCase();d["is"+q]=function(w){return d.type(w)==t}})})(KISSY);
(function(d,c){function v(b){b=b.split("/");for(var h=[],e=0;e<b.length;e++){var s=b[e];if(s!=".")s==".."?h.pop():h.push(s)}return h.join("/")}function p(b,h){if(!h)return h;if(d.isArray(h)){for(var e=0;e<h.length;e++)h[e]=p(b,h[e]);return h}if(h.lastIndexOf("../",0)==0||h.lastIndexOf("./",0)==0){e=w;var s;if((s=b.lastIndexOf("/"))!=-1)e=b.substring(0,s+1);return v(e+h)}else return h.indexOf("./")!=-1||h.indexOf("../")!=-1?v(h):h}function o(b){return b.replace(/(-min)?\.js[^/]*$/i,w)}function j(b){if(b.charAt(b.length-
1)!="/")b+="/";b=d.trim(b);if(!b.match(/^(http(s)?)|(file):/i)&&b.lastIndexOf("/",0)!=0)b=g+b;return v(b)}function a(b){return b.replace(/\?.*$/,"")}function f(b){for(var h=0;h<b.length;h++)if(b[h].match(/\/$/))b[h]+="index";return b}if(!d.use){var u=d.__HOST,x=!u.getSelection&&u.ActiveXObject,q=u.document,t=q.getElementsByTagName("head")[0]||q.documentElement,w="",y=2,A=3,l=4,i=d.mix,m=q.createElement("script").readyState?function(b,h){var e=b.onreadystatechange;b.onreadystatechange=function(){var s=
b.readyState;if(s==="loaded"||s==="complete"){b.onreadystatechange=null;e&&e();h.call(this)}}}:function(b,h){b.addEventListener("load",h,false)},g=location.href.replace(/[^/]*$/i,w);u={__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,add:function(b,h,e){var s=this.Env.mods,n;if(d.isString(b)&&!e&&d.isPlainObject(h)){n={};n[b]=h;b=n}if(d.isPlainObject(b)){d.each(b,function(B,C){B.name=C;s[C]&&i(B,s[C],false)});i(s,b);return this}if(d.isString(b)){var z;if(e&&(z=e.host)){b=s[z];if(!b){d.error("module "+
z+" can not be found !");return this}if(this.__isAttached(z))h.call(this,this);else{b.fns=b.fns||[];b.fns.push(h)}return this}this.__registerModule(b,h,e);if(e&&e.attach===false)return this;h=s[b];b=p(b,h.requires);if(this.__isAttached(b))this.__attachMod(h);else if(this.Config.debug&&!h)for(b=(h=d.makeArray(b)).length-1;b>=0;b--)a(h[b]);return this}if(d.isFunction(b)){e=h;h=b;if(x){if(+new Date-this.__startLoadTime<15)(b=this.__startLoadModuleName)?this.__registerModule(b,h,e):d.error("\u4ece\u7f13\u5b58\u8bfb\u53d6\uff1f\uff1f\u4f46\u662f\u8bf7\u6c42\u524d\u8bb0\u5f55\u6ca1\u6709\u6a21\u5757\u540d");
else{b=this.__findModuleNameByInteractive();this.__registerModule(b,h,e)}this.__startLoadModuleName=null;this.__startLoadTime=0}else this.__currentModule={def:h,config:e};return this}d.error("invalid format for KISSY.add !");return this},__findModuleNameByInteractive:function(){for(var b=document.getElementsByTagName("script"),h,e=0;e<b.length;e++){var s=b[e];if(s.readyState=="interactive"){h=s;break}}h||d.error("\u627e\u4e0d\u5230 interactive \u72b6\u6001\u7684 script");b=h.src;if(b.lastIndexOf(this.Config.base,0)==0)return o(b.substring(this.Config.base.length));
h=this.__packages;for(var n in h)if(h.hasOwnProperty(n))if(b.lastIndexOf(h[n].path,0)==0)return o(b.substring(h[n].path.length));d.error("interactive \u72b6\u6001\u7684 script \u6ca1\u6709\u5bf9\u5e94\u5305 \uff1a"+b)},__registerModule:function(b,h,e){e=e||{};var s=this.Env.mods,n=s[b]||{};i(n,{name:b,status:y});n.fns=n.fns||[];n.fns.push(h);i(s[b]=n,e)},_packages:function(b){var h;h=this.__packages=this.__packages||{};for(var e=0;e<b.length;e++){var s=b[e];h[s.name]=s;if(s.path)s.path=j(s.path)}},_combine:function(b,h){var e=this,s;if(d.isObject(b))d.each(b,
function(n,z){d.each(n,function(B){e._combine(B,z)})});else{s=e.__combines=e.__combines||{};if(h)s[b]=h;else return s[b]||b}},__mixMods:function(b){var h=this.Env.mods,e=b.Env.mods,s;for(s in e)this.__mixMod(h,e,s,b)},__mixMod:function(b,h,e,s){var n=b[e]||{},z=n.status;d.mix(n,d.clone(h[e]));if(z)n.status=z;s&&this.__buildPath(n,s.Config.base);b[e]=n},use:function(b,h,e){b=b.replace(/\s+/g,w).split(",");f(b);e=e||{};var s=this,n,z,B=b.length,C;e.global&&s.__mixMods(e.global);if(s.__isAttached(b)){e=
s.__getModules(b);h&&h.apply(s,e)}else{for(z=0;z<B&&(n=b[z]);z++)s.__attachModByName(n,function(){if(!C&&s.__isAttached(b)){C=true;var E=s.__getModules(b);h&&h.apply(s,E)}},e);return s}},__getModules:function(b){var h=[this];b=b||[];for(var e=0;e<b.length;e++)h.push(this.require(b[e]));return h},require:function(b){b=this.Env.mods[a(b)];var h=this.onRequire&&this.onRequire(b);if(h!==undefined)return h;return b&&b.value},__getPackagePath:function(b){var h=this._combine(b.name),e=this.__packages||{},
s="",n;for(n in e)if(e.hasOwnProperty(n))if(h.lastIndexOf(n,0)==0)if(n.length>s)s=n;e=(h=e[s])&&h.path||this.Config.base;if(h&&h.charset)b.charset=h.charset;return e},__attachModByName:function(b,h,e){var s=this.Env.mods;/^([^?]+)(\?.*)?$/.test(b);b=RegExp.$1;var n=RegExp.$2,z=s[b];if(!z){z=this.Config.componentJsName||function(B,C){return B+"-min.js"+(C?C:"")};z={path:d.isFunction(z)?z(this._combine(b),n):z,charset:"utf-8"};s[b]=z}z.name=b;z&&z.status===l||this.__attach(z,h,e)},__attach:function(b,
h,e){function s(){if(!G&&n.__isAttached(b.requires)){b.status===y&&n.__attachMod(b);if(b.status===l){G=true;h()}}}var n=this,z=n.Env.mods,B=(b.requires||[]).concat(),C=0,E=B.length;for(b.requires=B;C<E;C++){B[C]=p(b.name,B[C]);var F=z[a(B[C])];F&&F.status===l||n.__attachModByName(B[C],s,e)}n.__buildPath(b,n.__getPackagePath(b));n.__load(b,function(){if(n.__currentModule){n.__registerModule(b.name,n.__currentModule.def,n.__currentModule.config);n.__currentModule=null}var D=b.requires||[],K=[];b.requires=
D;for(var J=D.length-1;J>=0;J--){D[J]=p(b.name,D[J]);var I=D[J],H=z[a(I)],N=d.inArray(I,B);H&&H.status===l||N||n.__attachModByName(I,s,e);if(!N&&(!H||H.status<y))K.push(I)}K.length!=0&&K.unshift(b.name);s()},e);var G=false},__attachMod:function(b){var h=this,e=b.fns;e&&d.each(e,function(s){s=d.isFunction(s)?s.apply(h,h.__getModules(b.requires)):s;b.value=b.value||s});b.status=l},__isAttached:function(b){for(var h=this.Env.mods,e,s=(b=d.makeArray(b)).length-1;s>=0;s--){e=a(b[s]);e=h[e]||{};if(e.status!==
l)return false}return true},__load:function(b,h,e){function s(){B[z]=y;if(b.status!==A){e.global&&n.__mixMod(n.Env.mods,e.global.Env.mods,b.name,e.global);if(b.status!==l)b.status=y;h()}}var n=this,z=b.fullpath,B=d.Env._loadQueue,C=B[z];b.status=b.status||0;if(b.status<1&&C)b.status=C.nodeName?1:y;if(b.status<1&&z){b.status=1;if(x){n.__startLoadModuleName=b.name;n.__startLoadTime=Number(+new Date)}C=n.getScript(z,{success:function(){s()},error:function(){b.status=A;B[z]=y},charset:b.charset});B[z]=
C}else b.status===1?m(C,s):h()},__buildPath:function(b,h){var e=this.Config;if(!b.fullpath&&b.path)b.fullpath=(h||e.base)+b.path;if(b.fullpath&&e.debug)b.fullpath=b.fullpath.replace(/-min/ig,w)},getScript:function(b,h,e){var s=/\.css(?:\?|$)/i.test(b),n=q.createElement(s?"link":"script"),z=h,B,C,E;if(d.isPlainObject(z)){h=z.success;B=z.error;C=z.timeout;e=z.charset}if(s){n.href=b;n.rel="stylesheet"}else{n.src=b;n.async=true}if(e)n.charset=e;if(s)d.isFunction(h)&&h.call(n);else m(n,function(){if(E){E.cancel();
E=c}d.isFunction(h)&&h.call(n)});if(d.isFunction(B))E=d.later(function(){E=c;B()},(C||this.Config.timeout)*1E3);t.insertBefore(n,t.firstChild);return n}};i(d,u);var k=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,r=/(seed|kissy)(-min)?\.js/i;d.__initLoader=function(){var b=q.getElementsByTagName("script");b=b[b.length-1];var h=b.src,e=b.getAttribute("data-combo-prefix")||"??";b=b.getAttribute("data-combo-sep")||",";b=h.split(b);var s=b[0];e=s.indexOf(e);if(e==-1)h=h.replace(k,"$1");else{h=s.substring(0,e);
e=s.substring(e+2,s.length);if(e.match(r))h+=e.replace(k,"$1");else for(e=1;e<b.length;e++){s=b[e];if(s.match(r)){h+=s.replace(k,"$1");break}}}if(!h.match(/^(http(s)?)|(file):/i)&&h.lastIndexOf("/",0)!=0)h=g+h;b=h;this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=j(b);if(!this.Config.timeout)this.Config.timeout=10};d.__initLoader();d.each(u,function(b,h){d.__APP_MEMBERS.push(h)});d.__APP_INIT_METHODS.push("__initLoader")}})(KISSY);
(function(d,c){function v(l){var i=typeof l;return l===null||i!=="object"&&i!=="function"}function p(l){return Array.prototype.slice.call(l)}var o=d.__HOST,j=o.document,a=j.documentElement,f=encodeURIComponent("[]"),u=false,x=[],q=false,t=/^#?([\w-]+)$/,w=/^(\w+)\[\]$/,y=/\S/;d.mix(d,{isWindow:function(l){return d.type(l)==="object"&&"setInterval"in l},makeArray:function(l){if(l===null||l===c)return[];if(d.isArray(l))return l;if(typeof l.length!=="number"||d.isString(l)||d.isFunction(l))return[l];
return p(l)},param:function(l,i){if(!d.isPlainObject(l))return"";i=i||"&";var m=[],g,k;for(g in l){k=l[g];g=encodeURIComponent(g);if(v(k))m.push(g,"=",encodeURIComponent(k+""),i);else if(d.isArray(k)&&k.length)for(var r=0,b=k.length;r<b;++r)v(k[r])&&m.push(g,f+"=",encodeURIComponent(k[r]+""),i)}m.pop();return m.join("")},unparam:function(l,i){if(typeof l!=="string"||(l=d.trim(l)).length===0)return{};for(var m={},g=l.split(i||"&"),k,r,b,h,e=0,s=g.length;e<s;++e){k=g[e].split("=");r=decodeURIComponent(k[0]);
try{b=decodeURIComponent(k[1]||"")}catch(n){b=k[1]||""}if((h=r.match(w))&&h[1]){m[h[1]]=m[h[1]]||[];m[h[1]].push(b)}else m[r]=b}return m},globalEval:function(l){if(l&&y.test(l)){var i=j.getElementsByTagName("head")[0]||a,m=j.createElement("script");m.text=l;i.insertBefore(m,i.firstChild);i.removeChild(m)}},later:function(l,i,m,g,k){i=i||0;g=g||{};var r=l,b=d.makeArray(k),h;if(d.isString(l))r=g[l];r||d.error("method undefined");l=function(){r.apply(g,b)};h=m?setInterval(l,i):setTimeout(l,i);return{id:h,
interval:m,cancel:function(){this.interval?clearInterval(h):clearTimeout(h)}}},ready:function(l){q||this._bindReady();u?l.call(o,this):x.push(l);return this},_bindReady:function(){var l=this,i=j.documentElement.doScroll,m=i?"onreadystatechange":"DOMContentLoaded",g=function(){l._fireReady()};q=true;if(j.readyState==="complete")return g();if(j.addEventListener){var k=function(){j.removeEventListener(m,k,false);g()};j.addEventListener(m,k,false);o.addEventListener("load",g,false)}else{var r=function(){if(j.readyState===
"complete"){j.detachEvent(m,r);g()}};j.attachEvent(m,r);o.attachEvent("onload",g);var b=false;try{b=o.frameElement==null}catch(h){}if(i&&b){var e=function(){try{i("left");g()}catch(s){setTimeout(e,1)}};e()}}},_fireReady:function(){if(!u){u=true;if(x){for(var l,i=0;l=x[i++];)l.call(o,this);x=null}}},available:function(l,i){if((l=(l+"").match(t)[1])&&d.isFunction(i))var m=1,g=d.later(function(){if(j.getElementById(l)&&(i()||1)||++m>500)g.cancel()},40,true)}});try{p(a.childNodes)}catch(A){p=function(l){for(var i=
[],m=l.length-1;m>=0;m--)i[m]=l[m];return i}}if(location&&(location.search||"").indexOf("ks-debug")!==-1)d.Config.debug=true})(KISSY);(function(d){d.config({combine:{core:["dom","ua","event","node","json","ajax","anim","base","cookie"]}})})(KISSY);
KISSY.add("ua/base",function(){var d=navigator.userAgent,c="",v="",p,o={},j=function(a){var f=0;return parseFloat(a.replace(/\./g,function(){return f++===0?".":""}))};if((p=d.match(/AppleWebKit\/([\d.]*)/))&&p[1]){o[c="webkit"]=j(p[1]);if((p=d.match(/Chrome\/([\d.]*)/))&&p[1])o[v="chrome"]=j(p[1]);else if((p=d.match(/\/([\d.]*) Safari/))&&p[1])o[v="safari"]=j(p[1]);if(/ Mobile\//.test(d))o.mobile="apple";else if(p=d.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))o.mobile=p[0].toLowerCase()}else if((p=
d.match(/Presto\/([\d.]*)/))&&p[1]){o[c="presto"]=j(p[1]);if((p=d.match(/Opera\/([\d.]*)/))&&p[1]){o[v="opera"]=j(p[1]);if((p=d.match(/Opera\/.* Version\/([\d.]*)/))&&p[1])o[v]=j(p[1]);if((p=d.match(/Opera Mini[^;]*/))&&p)o.mobile=p[0].toLowerCase();else if((p=d.match(/Opera Mobi[^;]*/))&&p)o.mobile=p[0]}}else if((p=d.match(/MSIE\s([^;]*)/))&&p[1]){o[c="trident"]=0.1;o[v="ie"]=j(p[1]);if((p=d.match(/Trident\/([\d.]*)/))&&p[1])o[c]=j(p[1])}else if(p=d.match(/Gecko/)){o[c="gecko"]=0.1;if((p=d.match(/rv:([\d.]*)/))&&
p[1])o[c]=j(p[1]);if((p=d.match(/Firefox\/([\d.]*)/))&&p[1])o[v="firefox"]=j(p[1])}o.core=c;o.shell=v;o._numberify=j;return o});
KISSY.add("ua/extra",function(d,c){var v=navigator.userAgent,p,o,j={},a=c._numberify;if(v.match(/360SE/))j[o="se360"]=3;else if(v.match(/Maxthon/)&&(p=window.external)){o="maxthon";try{j[o]=a(p.max_version)}catch(f){j[o]=0.1}}else if(p=v.match(/TencentTraveler\s([\d.]*)/))j[o="tt"]=p[1]?a(p[1]):0.1;else if(v.match(/TheWorld/))j[o="theworld"]=3;else if(p=v.match(/SE\s([\d.]*)/))j[o="sougou"]=p[1]?a(p[1]):0.1;o&&(j.shell=o);d.mix(c,j);return c},{requires:["ua/base"]});
KISSY.add("ua",function(d,c){return c},{requires:["ua/extra"]});KISSY.add("dom/base",function(d,c){function v(p,o){return p&&p.nodeType===o}return{_isElementNode:function(p){return v(p,1)},_isKSNode:function(p){var o=d.require("node/node");return o&&v(p,o.TYPE)},_getWin:function(p){return p&&"scrollTo"in p&&p.document?p:v(p,9)?p.defaultView||p.parentWindow:p===c?window:false},_nodeTypeIs:v}});
KISSY.add("dom/attr",function(d,c,v,p){var o=document.documentElement,j=!o.hasAttribute,a=o.textContent!==p?"textContent":"innerText",f=c._isElementNode,u=/^(?:href|src|style)/,x=/^(?:href|src|colspan|rowspan)/,q=/\r/g,t=/^(?:radio|checkbox)/,w={readonly:"readOnly"},y={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};j&&d.mix(w,{"for":"htmlFor","class":"className"});var A={tabindex:{getter:function(l){return l.tabIndex},setter:function(l,i){if(isNaN(parseInt(i))){l.removeAttribute("tabindex");
l.removeAttribute("tabIndex")}else l.tabIndex=i}},style:{getter:function(l){return l.style.cssText},setter:function(l,i){l.style.cssText=i}},checked:{setter:function(l,i){l.checked=!!i}},disabled:{setter:function(l,i){l.disabled=!!i}}};d.mix(c,{attr:function(l,i,m,g){if(d.isPlainObject(i)){g=m;for(var k in i)c.attr(l,k,i[k],g)}else if(i=d.trim(i)){i=i.toLowerCase();if(g&&y[i])return c[i](l,m);i=w[i]||i;var r=A[i];if(m===p){l=c.get(l);if(!f(l))return p;if(r&&r.getter)return r.getter(l);var b;u.test(i)||
(b=l[i]);if(b===p)b=l.getAttribute(i);if(j)if(x.test(i))b=l.getAttribute(i,2);return b===null?p:b}d.each(c.query(l),function(h){if(f(h))r&&r.setter?r.setter(h,m):h.setAttribute(i,""+m)})}},removeAttr:function(l,i){i=i.toLowerCase();d.each(c.query(l),function(m){if(f(m)){c.attr(m,i,"");m.removeAttribute(i)}})},hasAttr:j?function(l,i){i=i.toLowerCase();var m=c.get(l).getAttributeNode(i);return!!(m&&m.specified)}:function(l,i){i=i.toLowerCase();return c.get(l).hasAttribute(i)},val:function(l,i){if(i===
p){var m=c.get(l);if(!f(m))return p;if(m&&m.nodeName.toUpperCase()==="option".toUpperCase())return(m.attributes.value||{}).specified?m.value:m.text;if(m&&m.nodeName.toUpperCase()==="select".toUpperCase()){var g=m.selectedIndex,k=m.options;if(g<0)return null;else if(m.type==="select-one")return c.val(k[g]);m=[];for(var r=0,b=k.length;r<b;++r)k[r].selected&&m.push(c.val(k[r]));return m}if(v.webkit&&t.test(m.type))return m.getAttribute("value")===null?"on":m.value;return(m.value||"").replace(q,"")}d.each(c.query(l),
function(h){if(h&&h.nodeName.toUpperCase()==="select".toUpperCase()){if(d.isNumber(i))i+="";var e=d.makeArray(i),s=h.options,n;r=0;for(b=s.length;r<b;++r){n=s[r];n.selected=d.inArray(c.val(n),e)}if(!e.length)h.selectedIndex=-1}else if(f(h))h.value=i})},text:function(l,i){if(i===p){var m=c.get(l);if(f(m))return m[a]||"";else if(c._nodeTypeIs(m,3))return m.nodeValue}else d.each(c.query(l),function(g){if(f(g))g[a]=i;else if(c._nodeTypeIs(g,3))g.nodeValue=i})}});return c},{requires:["dom/base","ua"]});
KISSY.add("dom/class",function(d,c,v){function p(a,f,u,x){if(!(f=d.trim(f)))return x?false:v;a=c.query(a);var q=0,t=a.length;f=f.split(o);for(var w;q<t;q++){w=a[q];if(c._isElementNode(w)){w=u(w,f,f.length);if(w!==v)return w}}if(x)return false;return v}var o=/[\.\s]\s*\.?/,j=/[\n\t]/g;d.mix(c,{hasClass:function(a,f){return p(a,f,function(u,x,q){if(u=u.className){u=" "+u+" ";for(var t=0,w=true;t<q;t++)if(u.indexOf(" "+x[t]+" ")<0){w=false;break}if(w)return true}},true)},addClass:function(a,f){p(a,f,
function(u,x,q){var t=u.className;if(t){var w=" "+t+" ";t=t;for(var y=0;y<q;y++)if(w.indexOf(" "+x[y]+" ")<0)t+=" "+x[y];u.className=d.trim(t)}else u.className=f},v)},removeClass:function(a,f){p(a,f,function(u,x,q){var t=u.className;if(t)if(q){t=(" "+t+" ").replace(j," ");for(var w=0,y;w<q;w++)for(y=" "+x[w]+" ";t.indexOf(y)>=0;)t=t.replace(y," ");u.className=d.trim(t)}else u.className=""},v)},replaceClass:function(a,f,u){c.removeClass(a,f);c.addClass(a,u)},toggleClass:function(a,f,u){var x=d.isBoolean(u),
q;p(a,f,function(t,w,y){for(var A=0,l;A<y;A++){l=w[A];q=x?!u:c.hasClass(t,l);c[q?"removeClass":"addClass"](t,l)}},v)}});return c},{requires:["dom/base"]});
KISSY.add("dom/create",function(d,c,v,p){function o(e){var s=e.cloneNode(true);if(v.ie<8)s.innerHTML=e.innerHTML;return s}function j(e,s,n,z){if(n){var B=d.guid("ks-tmp-"),C=RegExp(A);s+='<span id="'+B+'"></span>';d.available(B,function(){var E=c.get("head"),F,G,D,K,J,I;for(C.lastIndex=0;F=C.exec(s);)if((D=(G=F[1])?G.match(i):false)&&D[2]){F=f.createElement("script");F.src=D[2];if((K=G.match(m))&&K[2])F.charset=K[2];F.async=true;E.appendChild(F)}else if((I=F[2])&&I.length>0)d.globalEval(I);(J=f.getElementById(B))&&
c.remove(J);d.isFunction(z)&&z()});a(e,s)}else{a(e,s);d.isFunction(z)&&z()}}function a(e,s){s=(s+"").replace(A,"");try{e.innerHTML=s}catch(n){for(;e.firstChild;)e.removeChild(e.firstChild);s&&e.appendChild(c.create(s))}}var f=document,u=v.ie,x=c._nodeTypeIs,q=c._isElementNode,t=c._isKSNode,w=f.createElement("div"),y=/<(\w+)/,A=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,l=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,i=/\ssrc=(['"])(.*?)\1/i,m=/\scharset=(['"])(.*?)\1/i;d.mix(c,{create:function(e,
s,n){if(x(e,1)||x(e,3))return o(e);if(t(e))return o(e[0]);if(!(e=d.trim(e)))return null;var z=null;z=c._creators;var B,C="div",E;if(B=l.exec(e))z=(n||f).createElement(B[1]);else{if((B=y.exec(e))&&(E=B[1])&&d.isFunction(z[E=E.toLowerCase()]))C=E;e=z[C](e,n).childNodes;if(e.length===1)n=e[0].parentNode.removeChild(e[0]);else{e=e;E=n||f;n=null;if(e&&(e.push||e.item)&&e[0]){E=E||e[0].ownerDocument;n=E.createDocumentFragment();if(e.item)e=d.makeArray(e);E=0;for(z=e.length;E<z;E++)n.appendChild(e[E])}n=
n}z=n}n=z;q(n)&&d.isPlainObject(s)&&c.attr(n,s,true);return n},_creators:{div:function(e,s){var n=s?s.createElement("div"):w;n.innerHTML=e;return n}},html:function(e,s,n,z){if(s===p){e=c.get(e);if(q(e))return e.innerHTML}else d.each(c.query(e),function(B){q(B)&&j(B,s,n,z)})},remove:function(e){d.each(c.query(e),function(s){q(s)&&s.parentNode&&s.parentNode.removeChild(s)})}});if(u||v.gecko||v.webkit){var g=c._creators,k=c.create,r=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,b={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},h;for(h in b)(function(e){g[h]=function(s,n){return k("<"+e+">"+s+"</"+e+">",null,n)}})(b[h]);if(u){g.script=function(e,s){var n=s?s.createElement("div"):w;n.innerHTML="-"+e;n.removeChild(n.firstChild);return n};if(u<8)g.tbody=function(e,s){var n=k("<table>"+e+"</table>",null,s),z=n.children.tags("tbody")[0];n.children.length>1&&z&&!r.test(e)&&z.parentNode.removeChild(z);return n}}d.mix(g,{optgroup:g.option,th:g.td,thead:g.tbody,tfoot:g.tbody,
caption:g.tbody,colgroup:g.tbody})}return c},{requires:["dom/base","ua"]});
KISSY.add("dom/data",function(d,c,v){var p=window,o="_ks_data_"+d.now(),j={},a={},f={EMBED:1,OBJECT:1,APPLET:1};d.mix(c,{data:function(u,x,q){if(d.isPlainObject(x))for(var t in x)c.data(u,t,x[t]);else if(q===v){u=c.get(u);var w;if(!(!u||f[u.nodeName])){if(u==p)u=a;w=(t=u&&u.nodeType)?j:u;u=w[t?u[o]:o];if(d.isString(x)&&u)return u[x];return u}}else c.query(u).each(function(y){if(!(!y||f[y.nodeName])){if(y==p)y=a;var A=j,l;if(y&&y.nodeType){if(!(l=y[o]))l=y[o]=d.guid()}else{l=o;A=y}if(x&&q!==v){A[l]||
(A[l]={});A[l][x]=q}}})},removeData:function(u,x){c.query(u).each(function(q){if(q){if(q==p)q=a;var t,w=j,y,A=q&&q.nodeType;if(A)t=q[o];else{w=q;t=o}if(t){y=w[t];if(x){if(y){delete y[x];d.isEmptyObject(y)&&c.removeData(q)}}else{if(A)q.removeAttribute&&q.removeAttribute(o);else try{delete q[o]}catch(l){}A&&delete w[t]}}}})}});return c},{requires:["dom/base"]});
KISSY.add("dom/insertion",function(d,c){d.mix(c,{insertBefore:function(v,p){if((v=c.get(v))&&(p=c.get(p))&&p.parentNode)p.parentNode.insertBefore(v,p);return v},insertAfter:function(v,p){if((v=c.get(v))&&(p=c.get(p))&&p.parentNode)p.nextSibling?p.parentNode.insertBefore(v,p.nextSibling):p.parentNode.appendChild(v);return v},append:function(v,p){if((v=c.get(v))&&(p=c.get(p)))p.appendChild&&p.appendChild(v)},prepend:function(v,p){if((v=c.get(v))&&(p=c.get(p)))p.firstChild?c.insertBefore(v,p.firstChild):
p.appendChild(v)}});return c},{requires:["dom/base"]});
KISSY.add("dom/offset",function(d,c,v,p){function o(k){var r=0,b=0,h=x(k[y]);if(k[g]){k=k[g]();r=k[A];b=k[l];if(v.mobile!=="apple"){r+=c[i](h);b+=c[m](h)}}return{left:r,top:b}}var j=window,a=document,f=c._isElementNode,u=c._nodeTypeIs,x=c._getWin,q=a.compatMode==="CSS1Compat",t=Math.max,w=parseInt,y="ownerDocument",A="left",l="top",i="scrollLeft",m="scrollTop",g="getBoundingClientRect";d.mix(c,{offset:function(k,r){if(!(k=c.get(k))||!k[y])return null;if(r===p)return o(k);var b=k;if(c.css(b,"position")===
"static")b.style.position="relative";var h=o(b),e={},s,n;for(n in r){s=w(c.css(b,n),10)||0;e[n]=s+r[n]-h[n]}c.css(b,e)},scrollIntoView:function(k,r,b,h){if((k=c.get(k))&&k[y]){h=h===p?true:!!h;b=b===p?true:!!b;if(!r||r===j)return k.scrollIntoView(b);r=c.get(r);if(u(r,9))r=x(r);var e=r&&"scrollTo"in r&&r.document,s=c.offset(k),n=e?{left:c.scrollLeft(r),top:c.scrollTop(r)}:c.offset(r),z={left:s[A]-n[A],top:s[l]-n[l]};s=e?c.viewportHeight(r):r.clientHeight;n=e?c.viewportWidth(r):r.clientWidth;var B=
c[i](r),C=c[m](r),E=B+n,F=C+s,G=k.offsetHeight;k=k.offsetWidth;var D=z.left+B-(w(c.css(r,"borderLeftWidth"))||0);z=z.top+C-(w(c.css(r,"borderTopWidth"))||0);var K=D+k,J=z+G,I,H;if(G>s||z<C||b)I=z;else if(J>F)I=J-s;if(h)if(k>n||D<B||b)H=D;else if(K>E)H=K-n;if(e){if(I!==p||H!==p)r.scrollTo(H,I)}else{if(I!==p)r[m]=I;if(H!==p)r[i]=H}}}});d.each(["Left","Top"],function(k,r){var b="scroll"+k;c[b]=function(h){var e=0,s=x(h),n;if(s&&(n=s.document))e=s[r?"pageYOffset":"pageXOffset"]||n.documentElement[b]||
n.body[b];else if(f(h=c.get(h)))e=h[b];return e}});d.each(["Width","Height"],function(k){c["doc"+k]=function(r){r=r||a;return t(q?r.documentElement["scroll"+k]:r.body["scroll"+k],c["viewport"+k](r))};c["viewport"+k]=function(r){var b="inner"+k;r=x(r);var h=r.document;return b in r?r[b]:q?h.documentElement["client"+k]:h.body["client"+k]}});return c},{requires:["dom/base","ua"]});
KISSY.add("dom/style",function(d,c,v,p){function o(m,g){var k=c.get(m),r=g===u?k.offsetWidth:k.offsetHeight;d.each(g===u?["Left","Right"]:["Top","Bottom"],function(b){r-=parseFloat(c._getComputedStyle(k,"padding"+b))||0;r-=parseFloat(c._getComputedStyle(k,"border"+b+"Width"))||0});return r}function j(m,g,k){var r=k;if(k===x&&t.test(g)){r=0;if(d.inArray(c.css(m,"position"),["absolute","fixed"])){k=m[g==="left"?"offsetLeft":"offsetTop"];if(v.ie===8||v.opera)k-=q(c.css(m.offsetParent,"border-"+g+"-width"))||
0;r=k-(q(c.css(m,"margin-"+g))||0)}}return r}var a=document,f=a.documentElement,u="width",x="auto",q=parseInt,t=/^(?:left|top)/,w=/^(?:width|height|top|left|right|bottom|margin|padding)/i,y=/-([a-z])/ig,A=function(m,g){return g.toUpperCase()},l={},i={};d.mix(c,{_CUSTOM_STYLES:l,_getComputedStyle:function(m,g){var k="",r=m.ownerDocument;if(m.style)k=r.defaultView.getComputedStyle(m,null)[g];return k},css:function(m,g,k){if(d.isPlainObject(g))for(var r in g)c.css(m,r,g[r]);else{if(g.indexOf("-")>0)g=
g.replace(y,A);g=l[g]||g;if(k===p){m=c.get(m);r="";if(m&&m.style){r=g.get?g.get(m):m.style[g];if(r===""&&!g.get)r=j(m,g,c._getComputedStyle(m,g))}return r===p?"":r}else{if(k===null||k==="")k="";else if(!isNaN(new Number(k))&&w.test(g))k+="px";(g===u||g==="height")&&parseFloat(k)<0||d.each(c.query(m),function(b){if(b&&b.style){g.set?g.set(b,k):b.style[g]=k;if(k==="")b.style.cssText||b.removeAttribute("style")}})}}},width:function(m,g){if(g===p)return o(m,u);else c.css(m,u,g)},height:function(m,g){if(g===
p)return o(m,"height");else c.css(m,"height",g)},show:function(m){c.query(m).each(function(g){if(g){g.style.display=c.data(g,"display")||"";if(c.css(g,"display")==="none"){var k=g.tagName,r=i[k],b;if(!r){b=a.createElement(k);a.body.appendChild(b);r=c.css(b,"display");c.remove(b);i[k]=r}c.data(g,"display",r);g.style.display=r}}})},hide:function(m){c.query(m).each(function(g){if(g){var k=g.style,r=k.display;if(r!=="none"){r&&c.data(g,"display",r);k.display="none"}}})},toggle:function(m){c.query(m).each(function(g){if(g)g.style.display===
"none"?c.show(g):c.hide(g)})},addStyleSheet:function(m,g){var k;if(g&&(g=g.replace("#","")))k=c.get("#"+g);if(!k){k=c.create("<style>",{id:g});c.get("head").appendChild(k);if(k.styleSheet)k.styleSheet.cssText=m;else k.appendChild(a.createTextNode(m))}},unselectable:function(m){c.query(m).each(function(g){if(g)if(v.gecko)g.style.MozUserSelect="none";else if(v.webkit)g.style.KhtmlUserSelect="none";else if(v.ie||v.opera){var k=0,r=g.getElementsByTagName("*");for(g.setAttribute("unselectable","on");g=
r[k++];)switch(g.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:g.setAttribute("unselectable","on")}}})}});if(f.style.cssFloat!==p)l["float"]="cssFloat";else if(f.style.styleFloat!==p)l["float"]="styleFloat";return c},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(d,c,v){function p(i,m){var g,k,r=[],b;k=d.require("sizzle");m=o(m);if(d.isString(i)){i=d.trim(i);if(A.test(i)){if(k=j(i.slice(1),m))r=[k]}else if(g=l.exec(i)){k=g[1];b=g[2];g=g[3];if(m=k?j(k,m):m)if(g)if(!k||i.indexOf(q)!==-1)r=f(g,b,m);else{if((k=j(k,m))&&c.hasClass(k,g))r=[k]}else if(b)r=a(b,m)}else if(k)r=k(i,m);else u(i)}else if(i&&(i[w]||i[y]))r=i[w]?[i[w]()]:i[y]();else if(i&&(d.isArray(i)||i&&!i.nodeType&&i.item&&!i.setTimeout))r=i;else if(i)r=[i];if(r&&!r.nodeType&&
r.item&&!r.setTimeout)r=d.makeArray(r);r.each=function(h,e){return d.each(r,h,e)};return r}function o(i){if(i===v)i=x;else if(d.isString(i)&&A.test(i))i=j(i.slice(1),x);else if(i&&i.nodeType!==1&&i.nodeType!==9)i=null;return i}function j(i,m){if(m.nodeType!==9)m=m.ownerDocument;return m.getElementById(i)}function a(i,m){return m.getElementsByTagName(i)}function f(i,m,g){g=i=g.getElementsByClassName(i);var k=0,r=0,b=i.length,h;if(m&&m!==t){g=[];for(m=m.toUpperCase();k<b;++k){h=i[k];if(h.tagName===
m)g[r++]=h}}return g}function u(i){d.error("Unsupported selector: "+i)}var x=document,q=" ",t="*",w="getDOMNode",y=w+"s",A=/^#[\w-]+$/,l=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var i=x.createElement("div");i.appendChild(x.createComment(""));if(i.getElementsByTagName(t).length>0)a=function(m,g){var k=g.getElementsByTagName(m);if(m===t){for(var r=[],b=0,h=0,e;e=k[b++];)if(e.nodeType===1)r[h++]=e;k=r}return k}})();x.getElementsByClassName||(f=x.querySelectorAll?function(i,m,g){return g.querySelectorAll((m?
m:"")+"."+i)}:function(i,m,g){m=g.getElementsByTagName(m||t);g=[];var k=0,r=0,b=m.length,h,e;for(i=q+i+q;k<b;++k){h=m[k];if((e=h.className)&&(q+e+q).indexOf(i)>-1)g[r++]=h}return g});d.mix(c,{query:p,get:function(i,m){return p(i,m)[0]||null},filter:function(i,m,g){g=p(i,g);var k=d.require("sizzle"),r,b,h,e=[];if(d.isString(m)&&(r=l.exec(m))&&!r[1]){b=r[2];h=r[3];m=function(s){return!(b&&s.tagName!==b.toUpperCase()||h&&!c.hasClass(s,h))}}if(d.isFunction(m))e=d.filter(g,m);else if(m&&k)e=k._filter(i,
m+"");else u(m);return e},test:function(i,m,g){i=p(i,g);return i.length&&c.filter(i,m,g).length===i.length}});return c},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(d,c,v,p){if(!v.ie)return c;d=document;v=d.documentElement;var o=c._CUSTOM_STYLES,j=/^-?\d+(?:px)?$/i,a=/^-?\d/,f=/^(?:width|height)$/;try{if(v.style.opacity===p&&v.filters)o.opacity={get:function(x){var q=100;try{q=x.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(t){try{q=x.filters("alpha").opacity}catch(w){}}return q/100+""},set:function(x,q){var t=x.style,w=(x.currentStyle||0).filter||"";t.zoom=1;if(w)if(w=w.replace(/alpha\(opacity=.+\)/ig,""))w+=", ";
t.filter=w+"alpha(opacity="+q*100+")"}}}catch(u){}if(!(d.defaultView||{}).getComputedStyle&&v.currentStyle)c._getComputedStyle=function(x,q){var t=x.style,w=x.currentStyle[q];if(f.test(q))w=c[q](x)+"px";else if(!j.test(w)&&a.test(w)){var y=t.left,A=x.runtimeStyle.left;x.runtimeStyle.left=x.currentStyle.left;t.left=q==="fontSize"?"1em":w||0;w=t.pixelLeft+"px";t.left=y;x.runtimeStyle.left=A}return w};return c},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(d,c,v){function p(a,f,u,x){if(!(a=c.get(a)))return null;if(f===v)f=1;var q=null,t,w;if(d.isNumber(f)&&f>=0){if(f===0)return a;t=0;w=f;f=function(){return++t===w}}for(;a=a[u];)if(j(a)&&(!f||c.test(a,f))&&(!x||x(a))){q=a;break}return q}function o(a,f,u){var x=[];var q=a=c.get(a);if(a&&u)q=a.parentNode;if(q){u=0;for(q=q.firstChild;q;q=q.nextSibling)if(j(q)&&q!==a&&(!f||c.test(q,f)))x[u++]=q}return x}var j=c._isElementNode;d.mix(c,{parent:function(a,f){return p(a,f,
"parentNode",function(u){return u.nodeType!=11})},next:function(a,f){return p(a,f,"nextSibling",v)},prev:function(a,f){return p(a,f,"previousSibling",v)},siblings:function(a,f){return o(a,f,true)},children:function(a,f){return o(a,f,v)},contains:function(a,f){var u=false;if((a=c.get(a))&&(f=c.get(f)))if(a.contains){if(f.nodeType===3){f=f.parentNode;if(f===a)return true}if(f)return a.contains(f)}else if(a.compareDocumentPosition)return!!(a.compareDocumentPosition(f)&16);else for(;!u&&(f=f.parentNode);)u=
f==a;return u}});return c},{requires:["dom/base"]});KISSY.add("dom",function(d,c){return c},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/object",function(d,c){function v(j,a,f){this.currentTarget=j;this.originalEvent=a||{};if(a){this.type=a.type;this._fix()}else{this.type=f;this.target=j}this.currentTarget=j;this.fixed=true}var p=document,o="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");d.augment(v,
{_fix:function(){var j=this.originalEvent,a=o.length,f,u=this.currentTarget;for(u=u.nodeType===9?u:u.ownerDocument||p;a;){f=o[--a];this[f]=j[f]}if(!this.target)this.target=this.srcElement||p;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===c&&this.clientX!==c){j=u.documentElement;a=u.body;this.pageX=this.clientX+(j&&j.scrollLeft||a&&a.scrollLeft||
0)-(j&&j.clientLeft||a&&a.clientLeft||0);this.pageY=this.clientY+(j&&j.scrollTop||a&&a.scrollTop||0)-(j&&j.clientTop||a&&a.clientTop||0)}if(this.which===c)this.which=this.charCode!==c?this.charCode:this.keyCode;if(this.metaKey===c)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==c)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var j=this.originalEvent;if(j.preventDefault)j.preventDefault();else j.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var j=
this.originalEvent;if(j.stopPropagation)j.stopPropagation();else j.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var j=this.originalEvent;j.stopImmediatePropagation?j.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(j){j?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return v});
KISSY.add("event/base",function(d,c,v,p){function o(l,i,m,g,k){if(d.isString(i))i=c.query(i);if(d.isArray(i)){d.each(i,function(r){A[l](r,m,g,k)});return true}if((m=d.trim(m))&&m.indexOf(t)>0){d.each(m.split(t),function(r){A[l](i,r,g,k)});return true}return p}function j(l){return l&&l.nodeType!==3&&l.nodeType!==8?c.data(l,q):-1}function a(l,i){l&&l.nodeType!==3&&l.nodeType!==8&&c.data(l,q,i)}var f=document,u=f.addEventListener?function(l,i,m,g){l.addEventListener&&l.addEventListener(i,m,!!g)}:function(l,
i,m){l.attachEvent&&l.attachEvent("on"+i,m)},x=f.removeEventListener?function(l,i,m,g){l.removeEventListener&&l.removeEventListener(i,m,!!g)}:function(l,i,m){l.detachEvent&&l.detachEvent("on"+i,m)},q="ksEventTargetId",t=" ",w=d.now(),y={},A={EVENT_GUID:q,special:{},add:function(l,i,m,g){if(!o("add",l,i,m,g)){var k=j(l),r,b,h,e,s;if(!(k===-1||!i||!d.isFunction(m))){if(!k){a(l,k=w++);y[k]={target:l,events:{}}}b=y[k].events;if(!b[i]){r=((k=!l.isCustomEventTarget)||l._supportSpecialEvent)&&A.special[i]||
{};h=function(n,z){if(!n||!n.fixed)n=new v(l,n,i);if(d.isPlainObject(z)){var B=n.type;d.mix(n,z);n.type=B}r.setup&&r.setup(n);return(r.handle||A._handle)(l,n)};b[i]={handle:h,listeners:[]};e=r.fix||i;s=r.capture;r.init&&r.init.apply(null,d.makeArray(arguments));k&&r.fix!==false&&u(l,e,h,s)}b[i].listeners.push({fn:m,scope:g||l})}}},__getListeners:function(l,i){var m,g=[];if(m=(A.__getEvents(l)||{})[i])g=m.listeners;return g},__getEvents:function(l){var i=j(l),m;if(i!==-1)if(i&&(m=y[i]))if(m.target===
l)return m.events||{}},remove:function(l,i,m,g){if(!o("remove",l,i,m,g)){var k=A.__getEvents(l),r=j(l),b,h,e,s,n,z,B=(!l.isCustomEventTarget||l._supportSpecialEvent)&&A.special[i]||{};if(k!==p){g=g||l;if(b=k[i]){h=b.listeners;e=h.length;if(d.isFunction(m)&&e){n=s=0;for(z=[];s<e;++s)if(m!==h[s].fn||g!==h[s].scope)z[n++]=h[s];b.listeners=z;e=z.length}if(m===p||e===0){if(!l.isCustomEventTarget){B=A.special[i]||{};if(B.fix!==false)x(l,B.fix||i,b.handle)}delete k[i]}}B.destroy&&B.destroy.apply(null,d.makeArray(arguments));
if(i===p||d.isEmptyObject(k)){for(i in k)A.remove(l,i);delete y[r];c.removeData(l,q)}}}},_handle:function(l,i){var m=A.__getListeners(l,i.type);m=m.slice(0);for(var g,k=0,r=m.length;k<r;++k){g=m[k];g=g.fn.call(g.scope,i);if(g!==p){i.result=g;g===false&&i.halt()}if(i.isImmediatePropagationStopped)break}return g},_getCache:function(l){return y[l]},__getID:j,_simpleAdd:u,_simpleRemove:x};A.on=A.add;return A},{requires:["dom","event/object"]});
KISSY.add("event/target",function(d,c,v,p){return{isCustomEventTarget:true,fire:function(o,j){var a=v.data(this,c.EVENT_GUID)||-1;if((a=((c._getCache(a)||{}).events||{})[o])&&d.isFunction(a.handle))return a.handle(p,j)},on:function(o,j,a){c.add(this,o,j,a);return this},detach:function(o,j,a){c.remove(this,o,j,a);return this}}},{requires:["event/base","dom"]});
KISSY.add("event/focusin",function(d,c){document.addEventListener&&d.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(v){c.special[v.name]={fix:v.fix,capture:true,setup:function(p){p.type=v.name}}})},{requires:["event/base"]});
KISSY.add("event/mouseenter",function(d,c,v,p){p.ie||d.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(o){c.special[o.name]={fix:o.fix,setup:function(j){j.type=o.name},handle:function(j,a){if(v._isKSNode(j))j=j[0];var f=a.relatedTarget;try{for(;f&&f!==j;)f=f.parentNode;f!==j&&c._handle(j,a)}catch(u){}}}})},{requires:["event/base","dom","ua"]});
KISSY.add("event",function(d,c,v){c.Target=v;return c},{requires:["event/base","event/target","event/object","event/focusin","event/mouseenter"]});
KISSY.add("node/node",function(d,c,v){function p(o,j,a){if(!(this instanceof p))return new p(o,j,a);if(!o){this.length=0;return v}if(d.isString(o)){o=c.create(o,j,a);if(o.nodeType===11)return new (d.require("node/nodelist"))(o.childNodes)}else if(o instanceof p)return o;else o=o;this[0]=o;return v}p.TYPE="-ks-Node";d.augment(p,{length:1,getDOMNode:function(){return this[0]},nodeType:p.TYPE});p.one=function(o,j){var a=c.get(o,j);return a?new p(a,v,v):null};return p},{requires:["dom"]});
KISSY.add("node/nodelist",function(d,c,v,p){function o(f){if(!(this instanceof o))return new o(f);j.push.apply(this,d.makeArray(f)||[]);return p}var j=Array.prototype,a=c._isElementNode;d.mix(o.prototype,{length:0,item:function(f){var u=null,x,q;if(a(f)){x=0;for(q=this.length;x<q;x++)if(f===this[x]){f=x;break}}if(a(this[f]))u=new v(this[f]);return u},getDOMNodes:function(){return j.slice.call(this)},each:function(f,u){var x=this.length,q=0,t;for(t=new v(this[0]);q<x&&f.call(u||t,t,q,this)!==false;t=
new v(this[++q]));return this}});o.all=function(f,u){return new o(c.query(f,u,true))};return o},{requires:["dom","node/node"]});
KISSY.add("node/attach",function(d,c,v,p,o,j){function a(b,h,e,s){b=[this[b?m:i]()].concat(d.makeArray(h));if(h[e]===j&&(e!=1||d.isString(h[0])))return s.apply(c,b);s.apply(c,b);return this}function f(b,h){d.each(b,function(e){d.each([A,l],function(s,n){s[e]=function(z){switch(h){case g:return function(){return a.call(this,n,arguments,1,z)};case k:return function(){return a.call(this,n,arguments,0,z)};case r:return function(){var B=this[n?m:i]();return(B=z.apply(c,[B].concat(d.makeArray(arguments))))?
new (d.isArray(B)?o:p)(B):null};default:return function(){var B=this[n?m:i]();B=z.apply(c,[B].concat(d.makeArray(arguments)));return B===j?this:B}}}(c[e])})})}function u(b,h,e){b&&d.each(this,function(s){var n;if(h||d.isString(b))n=c.create(b);else{if(t(b,1)||t(b,3))n=b;if(w(b))n=b[0]}c[e](n,s)});return this}function x(b,h){if((b=c.get(b))&&b.appendChild)d.each(this,function(e){c[h](e,b)});return this}function q(b,h){b.__wrap=b.__wrap||[];b.__wrap.push(h)}var t=c._nodeTypeIs,w=c._isKSNode,y=d.require("event/target"),
A=p.prototype,l=o.prototype,i="getDOMNode",m=i+"s",g=1,k=2,r=4;d.mix(A,{one:function(b){return p.one(b,this[0])},all:function(b){return o.all(b,this[0])}});f(["data","removeData"],g);f(["hasClass","addClass","removeClass","replaceClass","toggleClass"],j);f(["attr","removeAttr"],g);f(["val","text"],k);f(["css"],g);f(["width","height"],k);f(["offset"],k);f(["scrollIntoView"],j);f(["parent","next","prev","siblings","children"],r);f(["contains"],j);f(["html","unselectable"],k);f(["remove"],j);d.each(["insertBefore",
"insertAfter"],function(b){A[b]=function(h){c[b].call(c,this[0],h);return this}});d.each([A,l],function(b,h){d.each(["append","prepend"],function(e){b[e]=function(s){return u.call(this,s,h,e)};b[e+"To"]=function(s){return x.call(this,s,e)}})});d.augment(p,y,{fire:null,on:function(b,h,e){function s(z){var B=d.makeArray(arguments);B.shift();z.target=new p(z.target);if(z.relatedTarget)z.relatedTarget=new p(z.relatedTarget);B.unshift(z);return h.apply(e||n,B)}var n=this;v.add(this[0],b,s,e);q(h,s);return this},
detach:function(b,h,e){if(d.isFunction(h)){h=h.__wrap||[];for(var s=0;s<h.length;s++)v.remove(this[0],b,h[s],e)}else v.remove(this[0],b,h,e);return this}});d.augment(o,y,{fire:null});A._supportSpecialEvent=true;d.each({on:"add",detach:"remove"},function(b,h){l[h]=function(e,s,n){for(var z=0;z<this.length;z++)this.item(z).on(e,s,n)}})},{requires:["dom","event","node/node","node/nodelist"]});KISSY.add("node",function(d,c,v){c.List=v;return c},{requires:["node/node","node/nodelist","node/attach"]});
KISSY.add("json/json2",function(){function d(t){return t<10?"0"+t:t}function c(t){a.lastIndex=0;return a.test(t)?'"'+t.replace(a,function(w){var y=x[w];return typeof y==="string"?y:"\\u"+("0000"+w.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function v(t,w){var y,A,l,i,m=f,g,k=w[t];if(k&&typeof k==="object"&&typeof k.toJSON==="function")k=k.toJSON(t);if(typeof q==="function")k=q.call(w,t,k);switch(typeof k){case "string":return c(k);case "number":return isFinite(k)?String(k):"null";case "boolean":case "null":return String(k);
case "object":if(!k)return"null";f+=u;g=[];if(Object.prototype.toString.apply(k)==="[object Array]"){i=k.length;for(y=0;y<i;y+=1)g[y]=v(y,k)||"null";l=g.length===0?"[]":f?"[\n"+f+g.join(",\n"+f)+"\n"+m+"]":"["+g.join(",")+"]";f=m;return l}if(q&&typeof q==="object"){i=q.length;for(y=0;y<i;y+=1){A=q[y];if(typeof A==="string")if(l=v(A,k))g.push(c(A)+(f?": ":":")+l)}}else for(A in k)if(Object.hasOwnProperty.call(k,A))if(l=v(A,k))g.push(c(A)+(f?": ":":")+l);l=g.length===0?"{}":f?"{\n"+f+g.join(",\n"+f)+
"\n"+m+"}":"{"+g.join(",")+"}";f=m;return l}}var p=window,o=p.JSON;if(!o)o=p.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+d(this.getUTCMonth()+1)+"-"+d(this.getUTCDate())+"T"+d(this.getUTCHours())+":"+d(this.getUTCMinutes())+":"+d(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var j=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,u,x={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},q;if(typeof o.stringify!=="function")o.stringify=function(t,w,y){var A;u=f="";if(typeof y==="number")for(A=0;A<y;A+=1)u+=" ";else if(typeof y==="string")u=y;if((q=w)&&typeof w!=="function"&&(typeof w!=="object"||typeof w.length!=="number"))throw Error("JSON.stringify");return v("",{"":t})};if(typeof o.parse!==
"function")o.parse=function(t,w){function y(l,i){var m,g,k=l[i];if(k&&typeof k==="object")for(m in k)if(Object.hasOwnProperty.call(k,m)){g=y(k,m);if(g!==undefined)k[m]=g;else delete k[m]}return w.call(l,i,k)}var A;t=String(t);j.lastIndex=0;if(j.test(t))t=t.replace(j,function(l){return"\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){A=eval("("+t+")");return typeof w==="function"?y({"":A},""):A}throw new SyntaxError("JSON.parse");};return o});KISSY.add("json",function(d,c){return{parse:function(v){if(v==null||v==="")return null;return c.parse(v)},stringify:c.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/impl",function(d,c,v,p){function o(n){n=d.merge(s,n);if(!n.url)return p;if(n.data&&!d.isString(n.data))n.data=d.param(n.data);n.context=n.context||n;var z,B=k,C,E=n.type.toUpperCase();if(n.dataType===y){z=n.jsonpCallback||y+d.now();n.url=n.url+(n.url.indexOf("?")===-1?"?":"&")+(n.jsonp+"="+z);n.dataType=A;var F=f[z];f[z]=function(I){if(d.isFunction(F))F(I);else{f[z]=p;try{delete f[z]}catch(H){}}j([k,r],I,B,D,n)}}if(n.data&&E===x)n.url=n.url+(n.url.indexOf("?")===-1?"?":"&")+n.data;
if(n.dataType===A){a(i,n);E=d.getScript(n.url,z?null:function(){j([k,r],l,B,D,n)});a(m,n);return E}var G=false,D=n.xhr();a(i,n);D.open(E,n.url,n.async);try{if(n.data||n.contentType)D.setRequestHeader(t,n.contentType);D.setRequestHeader("Accept",n.dataType&&n.accepts[n.dataType]?n.accepts[n.dataType]+", */*; q=0.01":n.accepts._default)}catch(K){}D.onreadystatechange=function(I){if(!D||D.readyState===0||I==="abort"){G||j(r,null,b,D,n);G=true;if(D)D.onreadystatechange=u}else if(!G&&D&&(D.readyState===
4||I===h)){G=true;D.onreadystatechange=u;var H;if(I===h)H=h;else{a:{try{H=D.status>=200&&D.status<300||D.status===304||D.status===1223;break a}catch(N){}H=false}H=H?k:b}B=H;try{H=D;var M=n.dataType,O=l,P,L=H;if(!d.isString(L)){O=H.getResponseHeader(t)||l;L=(P=M==="xml"||!M&&O.indexOf("xml")>=0)?H.responseXML:H.responseText;if(P&&L.documentElement.nodeName===e)throw e;}if(d.isString(L))if(M===w||!M&&O.indexOf(w)>=0)L=v.parse(L);C=L}catch(Q){B=e}j([B===k?k:b,r],C,B,D,n);if(I===h){D.abort();a(g,n)}if(n.async)D=
null}};a(m,n);try{D.send(E===q?n.data:null)}catch(J){j([b,r],C,b,D,n)}n.async||a(r,n);return D}function j(n,z,B,C,E){if(d.isArray(n))d.each(n,function(F){j(F,z,B,C,E)});else{B===n&&E[n]&&E[n].call(E.context,z,B,C);a(n,E)}}function a(n,z){o.fire(n,{ajaxConfig:z})}var f=window,u=function(){},x="GET",q="POST",t="Content-Type",w="json",y=w+"p",A="script",l="",i="start",m="send",g="stop",k="success",r="complete",b="error",h="timeout",e="parsererror",s={type:x,url:l,contentType:"application/x-www-form-urlencoded",
async:true,data:null,xhr:f.ActiveXObject?function(){if(f.XmlHttpRequest)try{return new f.XMLHttpRequest}catch(n){}try{return new f.ActiveXObject("Microsoft.XMLHTTP")}catch(z){}}:function(){return new f.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};d.mix(o,c.Target);d.mix(o,{get:function(n,z,B,C,E){if(d.isFunction(z)){C=B;B=z}return o({type:E||
x,url:n,data:z,success:function(F,G,D){B&&B.call(this,F,G,D)},dataType:C})},post:function(n,z,B,C){if(d.isFunction(z)){C=B;B=z;z=p}return o.get(n,z,B,C,q)},jsonp:function(n,z,B){if(d.isFunction(z)){B=z;z=null}return o.get(n,z,B,y)}});return o},{requires:["event","json"]});KISSY.add("ajax",function(d,c){return c},{requires:["ajax/impl"]});
KISSY.add("anim/easing",function(){var d=Math,c=d.PI,v=d.pow,p=d.sin,o=1.70158,j={easeNone:function(a){return a},easeIn:function(a){return a*a},easeOut:function(a){return(2-a)*a},easeBoth:function(a){return(a*=2)<1?0.5*a*a:0.5*(1- --a*(a-2))},easeInStrong:function(a){return a*a*a*a},easeOutStrong:function(a){return 1- --a*a*a*a},easeBothStrong:function(a){return(a*=2)<1?0.5*a*a*a*a:0.5*(2-(a-=2)*a*a*a)},elasticIn:function(a){if(a===0||a===1)return a;return-(v(2,10*(a-=1))*p((a-0.075)*2*c/0.3))},elasticOut:function(a){if(a===
0||a===1)return a;return v(2,-10*a)*p((a-0.075)*2*c/0.3)+1},elasticBoth:function(a){if(a===0||(a*=2)===2)return a;if(a<1)return-0.5*v(2,10*(a-=1))*p((a-0.1125)*2*c/0.45);return v(2,-10*(a-=1))*p((a-0.1125)*2*c/0.45)*0.5+1},backIn:function(a){if(a===1)a-=0.0010;return a*a*((o+1)*a-o)},backOut:function(a){return(a-=1)*a*((o+1)*a+o)+1},backBoth:function(a){if((a*=2)<1)return 0.5*a*a*(((o*=1.525)+1)*a-o);return 0.5*((a-=2)*a*(((o*=1.525)+1)*a+o)+2)},bounceIn:function(a){return 1-j.bounceOut(1-a)},bounceOut:function(a){return a<
1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375},bounceBoth:function(a){if(a<0.5)return j.bounceIn(a*2)*0.5;return j.bounceOut(a*2-1)*0.5+0.5}};j.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return j});
KISSY.add("anim/base",function(d,c,v,p,o,j){function a(g,k,r,b,h,e){if(!(g=c.get(g)))return j;if(!(this instanceof a))return new a(g,k,r,b,h,e);var s=d.isPlainObject(r);k=k;this.domEl=g;if(d.isPlainObject(k))k=String(d.param(k,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var n={},z=A.length,B;y.innerHTML='<div style="'+k+'"></div>';for(g=y.firstChild.style;z--;)if(B=g[A[z]])n[A[z]]=x(B);this.props=n;this.targetStyle=k;if(s)s=d.merge(m,r);else{s=d.clone(m);
if(r)s.duration=w(r)||1;if(d.isString(b)||d.isFunction(b))s.easing=b;if(d.isFunction(h))s.complete=h;if(e!==j)s.nativeSupport=e}this.config=s;if(s.nativeSupport&&f()&&d.isString(b=s.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(b)||(b=p.NativeTimeFunction[b])){s.easing=b;this.transitionName=f()}d.isFunction(h)&&this.on(i,h);return j}function f(){var g="transition",k;if(y.style[g]!==j)k=g;else d.each(["Webkit","Moz","O"],function(r){if(y.style[g=r+"Transition"]!==j){k=g;return false}});f=function(){return k};
return k}function u(g,k,r){o.ie&&r.indexOf(l)>-1&&c.css(g,l,k[l].v);g.style.cssText+=";"+r}function x(g){var k=w(g);g=(g+"").replace(/^[-\d.]+/,"");return isNaN(k)?{v:g,u:"",f:t}:{v:k,u:g,f:q}}function q(g,k,r){return(g+(k-g)*r).toFixed(3)}function t(g,k,r){for(var b=2,h,e,s=[],n=[];h=3,e=arguments[b-1],b--;)if(e.substr(0,4)==="rgb(")for(e=e.match(/\d+/g);h--;)s.push(~~e[h]);else if(e.substr(0,j||1)==="#"){if(e.length===4)e="#"+e.substr(1,j||1)+e.substr(1,j||1)+e.substr(2,j||1)+e.substr(2,j||1)+e.substr(3,
j||1)+e.substr(3,j||1);for(;h--;)s.push(parseInt(e.substr(1+h*2,2),16))}else return k;for(;h--;){b=~~(s[h+3]+(s[h]-s[h+3])*r);n.push(b<0?0:b>255?255:b)}return"rgb("+n.join(",")+")"}var w=parseFloat;v=d.require("event/target");var y=c.create("<div>"),A="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
l="opacity",i="complete",m={duration:1,easing:"easeNone",nativeSupport:true};d.augment(a,v,{run:function(){var g=this,k=g.config,r=g.domEl,b,h,e,s,n=g.props,z={},B;for(B in n)z[B]=x(c.css(r,B));if(g.fire("start")!==false){g.stop();if(g.transitionName)g._nativeRun();else{b=k.duration*1E3;e=d.now();s=e+b;h=k.easing;if(d.isString(h))h=p[h]||p.easeNone;g.timer=d.later(k=function(){var C=d.now(),E=C>s?1:(C-e)/b,F,G,D;for(B in n){F=z[B];G=n[B];if(G.v==0)G.u=F.u;if(F.u!==G.u)F.v=0;c.css(r,B,G.f(F.v,G.v,
h(E))+G.u)}if(g.fire("step")===false||(D=C>s)){g.stop();D&&g.fire(i)}},13,true);k()}return g}},_nativeRun:function(){var g=this,k=g.config,r=g.domEl,b=g.props,h=k.duration*1E3;k=k.easing;var e=g.transitionName,s={};s[e+"Property"]="all";s[e+"Duration"]=h+"ms";s[e+"TimingFunction"]=k;c.css(r,s);d.later(function(){u(r,b,g.targetStyle)},0);d.later(function(){g.stop(true)},h)},stop:function(g){if(this.transitionName)this._nativeStop(g);else{if(this.timer){this.timer.cancel();this.timer=j}if(g){u(this.domEl,
this.props,this.targetStyle);this.fire(i)}}return this},_nativeStop:function(g){var k=this.domEl,r=this.transitionName,b=this.props,h;if(g){c.css(k,r+"Property","none");this.fire(i)}else{for(h in b)c.css(k,h,c._getComputedStyle(k,h));c.css(k,r+"Property","none")}}});a.supportTransition=function(){return!!f()};return a},{requires:["dom","event","anim/easing","ua"]});
KISSY.add("anim/node-plugin",function(d,c,v,p,o){function j(l,i,m,g,k){if(i==="toggle"){k=c.css(l,f)===u?1:0;i="show"}if(k)c.css(l,f,c.data(l,f)||"");var r={},b={};d.each(A[i],function(h){if(h===x){r[x]=c.css(l,x);c.css(l,x,q)}else if(h===t){r[t]=c.css(l,t);b.opacity=k?1:0;k&&c.css(l,t,0)}else if(h===w){r[w]=c.css(l,w);b.height=k?c.css(l,w)||l.naturalHeight:0;k&&c.css(l,w,0)}else if(h===y){r[y]=c.css(l,y);b.width=k?c.css(l,y)||l.naturalWidth:0;k&&c.css(l,y,0)}});(new v(l,b,m,"easeOut",function(){if(!k){var h=
l.style,e=h[f];if(e!==u){e&&c.data(l,f,e);h[f]=u}r[w]&&c.css(l,{height:r[w]});r[y]&&c.css(l,{width:r[y]});r[t]&&c.css(l,{opacity:r[t]});r[x]&&c.css(l,{overflow:r[x]})}g&&d.isFunction(g)&&g()})).run()}p=d.require("node/node").prototype;var a=d.require("node/nodelist").prototype,f="display",u="none",x="overflow",q="hidden",t="opacity",w="height",y="width",A={show:[x,t,w,y],fade:[t],slide:[x,w]};d.each([p,a],function(l){l.animate=function(){var i=d.makeArray(arguments);d.each(this,function(m){v.apply(o,
[m].concat(i)).run()});return this};d.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(i,m){l[m]=function(g,k){c[m]&&arguments.length===0?c[m](this):d.each(this,function(r){j(r,i[0],g,k,i[1])});return this}})})},{requires:["dom","anim/base","node"]});KISSY.add("anim",function(d,c,v){c.Easing=v;return c},{requires:["anim/base","anim/easing","anim/node-plugin"]});
KISSY.add("base/attribute",function(d,c){function v(){this.__attrs={};this.__attrVals={}}function p(o){o+="";return o.charAt(0).toUpperCase()+o.substring(1)}d.augment(v,{__getDefAttrs:function(){return d.clone(this.__attrs)},addAttr:function(o,j){this.__attrs[o]=d.clone(j||{});return this},hasAttr:function(o){return o&&this.__attrs.hasOwnProperty(o)},removeAttr:function(o){if(this.hasAttr(o)){delete this.__attrs[o];delete this.__attrVals[o]}return this},set:function(o,j){var a=this.get(o);if(a!==
j)if(false!==this.__fireAttrChange("before",o,a,j)){this.__set(o,j);this.__fireAttrChange("after",o,a,this.__attrVals[o]);return this}},__fireAttrChange:function(o,j,a,f){return this.fire(o+p(j)+"Change",{attrName:j,prevVal:a,newVal:f})},__set:function(o,j){var a,f=this.__attrs[o];if(f=f&&f.setter)a=f.call(this,j);if(a!==c)j=a;this.__attrVals[o]=j},get:function(o){var j;j=(j=this.__attrs[o])&&j.getter;o=o in this.__attrVals?this.__attrVals[o]:this.__getDefAttrVal(o);if(j)o=j.call(this,o);return o},
__getDefAttrVal:function(o){o=this.__attrs[o];var j;if(o){if(j=o.valueFn){j=j.call(this);if(j!==c)o.value=j;delete o.valueFn}return o.value}},reset:function(o){if(this.hasAttr(o))return this.set(o,this.__getDefAttrVal(o));for(o in this.__attrs)this.hasAttr(o)&&this.reset(o);return this}});v.__capitalFirst=p;return v});
KISSY.add("base/base",function(d,c){function v(p){c.call(this);for(var o=this.constructor;o;){var j=o.ATTRS;if(j){var a=void 0;for(a in j)j.hasOwnProperty(a)&&!this.hasAttr(a)&&this.addAttr(a,j[a])}o=o.superclass?o.superclass.constructor:null}if(p)for(var f in p)p.hasOwnProperty(f)&&this.__set(f,p[f])}d.augment(v,d.require("event/target"),c);return v},{requires:["base/attribute","event"]});KISSY.add("base",function(d,c){return c},{requires:["base/base"]});
KISSY.add("cookie/base",function(d){function c(j){return d.isString(j)&&j!==""}var v=document,p=encodeURIComponent,o=decodeURIComponent;return{get:function(j){var a;if(c(j))if(j=String(v.cookie).match(RegExp("(?:^| )"+j+"(?:(?:=([^;]*))|;|$)")))a=j[1]?o(j[1]):"";return a},set:function(j,a,f,u,x,q){a=String(p(a));var t=f;if(typeof t==="number"){t=new Date;t.setTime(t.getTime()+f*864E5)}if(t instanceof Date)a+="; expires="+t.toUTCString();if(c(u))a+="; domain="+u;if(c(x))a+="; path="+x;if(q)a+="; secure";
v.cookie=j+"="+a},remove:function(j,a,f,u){this.set(j,"",0,a,f,u)}}});KISSY.add("cookie",function(d,c){return c},{requires:["cookie/base"]});KISSY.add("core",function(d,c,v,p,o,j,a,f,u,x){c={UA:c,DOM:v,Event:p,EventTarget:p.Target,Node:o,JSON:j,Ajax:a,IO:a,ajax:a,io:a,jsonp:a.jsonp,Anim:f,Easing:f.Easing,Base:u,Cookie:x,one:o.one,all:o.List.all,get:v.get,query:v.query};d.mix(d,c);return c},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
