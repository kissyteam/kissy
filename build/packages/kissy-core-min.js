/*
Copyright 2010, KISSY UI Library v1.0.4
MIT Licensed
build: 493 Mar 17 14:02
*/
(function(k,s,t){if(k[s]===t)k[s]={};s=k[s];var q=k.document,u=Array.prototype,v=u.forEach,f=u.indexOf,h=/^\s+|\s+$/g,n=function(b,c,e,i){if(!c||!b)return b;if(e===t)e=true;var l,a,d;if(i&&(d=i.length))for(l=0;l<d;l++){a=i[l];if(a in c)if(e||!(a in b))b[a]=c[a]}else for(a in c)if(e||!(a in b))b[a]=c[a];return b},w=false,r=[],x=false;n(s,{version:"1.0.4",_init:function(){this.Env={mods:{}};this.Config={debug:true}},add:function(b,c){var e=this;e.Env.mods[b]={name:b,fn:c};c(e);return e},ready:function(b){x||
this._bindReady();w?b.call(k,this):r.push(b);return this},_bindReady:function(){var b=this,c=q.documentElement.doScroll,e=c?"onreadystatechange":"DOMContentLoaded";x=true;if(q.attachEvent){if(k!=k.top){function i(){if(q.readyState==="complete"){q.detachEvent(e,i);b._fireReady()}}q.attachEvent(e,i)}else{function l(){try{c("left");b._fireReady()}catch(d){setTimeout(l,1)}}l()}k.attachEvent("onload",function(){b._fireReady()})}else{function a(){q.removeEventListener(e,a,false);b._fireReady()}q.addEventListener(e,
a,false)}},_fireReady:function(){if(!w){w=true;if(r){for(var b,c=0;b=r[c++];)b.call(k,this);r=null}}},mix:n,merge:function(){var b=arguments,c={},e,i=b.length;for(e=0;e<i;++e)n(c,b[e]);return c},extend:function(b,c,e,i){if(!c||!b)return b;var l=Object.prototype,a=c.prototype,d=function(g){function j(){}j.prototype=g;return new j}(a);b.prototype=d;d.constructor=b;b.superclass=a;if(c!==Object&&a.constructor===l.constructor)a.constructor=c;e&&n(d,e);i&&n(b,i);return b},augment:function(b,c,e,i){return n(b.prototype,
c.prototype,e,i)},weave:function(b,c,e,i){var l=[e[i],b];c==="before"&&l.reverse();e[i]=function(){for(var a=0,d;a<2;++a)d=l[a].apply(this,arguments);return d};return this},cloneTo:function(b){var c=k[b]||{};n(c,this);c._init();n(c.Env.mods,this.Env.mods);return k[b]=c},namespace:function(){var b=arguments,c=b.length,e=null,i,l,a;for(i=0;i<c;++i){a=(""+b[i]).split(".");e=this;for(l=k[a[0]]===e?1:0;l<a.length;++l)e=e[a[l]]=e[a[l]]||{}}return e},each:v?function(b,c,e){v.call(b,c,e);return this}:function(b,
c,e){var i=b&&b.length||0,l;for(l=0;l<i;++l)c.call(e||this,b[l],l,b);return this},indexOf:f?function(b,c){return f.call(c,b)}:function(b,c){for(var e=0,i=c.length;e<i;++e)if(c[e]===b)return e;return-1},trim:String.prototype.trim?function(b){return(b||"").trim()}:function(b){return(b||"").replace(h,"")},log:function(b,c,e){if(this.Config.debug){e&&(b=e+": "+b);if(k.console!==t&&console.log)console[c&&console[c]?c:"log"](b)}return this}});s._init()})(window,"KISSY");
KISSY.add("selector",function(k,s){function t(a,d,g){var j,m=[],p,o;if(typeof a===x){a=k.trim(a);if(e.test(a)){if(d=u(a.slice(1)))m=[d]}else if(j=i.exec(a)){p=j[1];o=j[2];j=j[3];if(d=p?u(p):q(d))if(j){if(!p||a.indexOf(b)!==-1)m=f(j,o,d)}else if(o)m=v(d,o)}else if(a.indexOf(",")>-1)if(r.querySelectorAll)m=r.querySelectorAll(a);else{p=a.split(",");o=[];m=0;for(a=p.length;m<a;++m)o=o.concat(t(p[m],d));m=n(o)}}else if(a&&a.nodeType)m=[a];else if(a&&a.item)m=a;if(m.item)m=h(m);g||w(m);return m}function q(a){if(a===
s)a=r;else if(typeof a===x&&e.test(a))a=u(a.slice(1));else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function u(a){return r.getElementById(a)}function v(a,d){return a.getElementsByTagName(d)}function f(a,d,g){g=a=g.getElementsByClassName(a);var j=0,m=0,p=a.length,o;if(d&&d!==c){g=[];for(d=d.toUpperCase();j<p;++j){o=a[j];if(o.tagName===d)g[m++]=o}}return g}function h(a){return Array.prototype.slice.call(a)}function n(a){var d=false;a.sort(function(j,m){j=j.sourceIndex-m.sourceIndex;if(j===
0)d=true;return j});if(d)for(var g=1;g<a.length;g++)a[g]===a[g-1]&&a.splice(g--,1);return a}function w(a){a.each=function(d,g){k.each(a,d,g)}}var r=document,x="string",b=" ",c="*",e=/^#[\w-]+$/,i=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=r.createElement("div");a.appendChild(r.createComment(""));if(a.getElementsByTagName(c).length>0)v=function(d,g){d=d.getElementsByTagName(g);if(g===c){g=[];for(var j=0,m=0,p;p=d[j++];)if(p.nodeType===1)g[m++]=p;d=g}return d}})();r.getElementsByClassName||
(f=r.querySelectorAll?function(a,d,g){return g.querySelectorAll((d?d:"")+"."+a)}:function(a,d,g){d=g.getElementsByTagName(d||c);g=[];var j=0,m=0,p=d.length,o,y;for(a=b+a+b;j<p;++j){o=d[j];if((y=o.className)&&(b+y+b).indexOf(a)>-1)g[m++]=o}return g});try{h(r.documentElement.childNodes)}catch(l){h=function(a){for(var d=[],g=0,j=a.length;g<j;++g)d[g]=a[g];return d}}k.query=t;k.get=function(a,d){return t(a,d,true)[0]||null}});
KISSY.add("dom-base",function(k,s){var t=document.documentElement.textContent!==s?"textContent":"innerText";k.Dom={query:k.query,get:k.get,attr:function(f,h,n){if(f&&f.getAttribute){if(n===s)return f.getAttribute(attr)||"";f.setAttribute(attr,n)}},removeAttr:function(f,h){f&f.removeAttribute&&f.removeAttribute(h)},hasClass:function(f,h){if(!h||!f.className)return false;return(" "+f.className+" ").indexOf(" "+h+" ")>-1},addClass:function(f,h){if(h)q(f,h)||(f.className+=" "+h)},removeClass:function(f,
h){if(q(f,h)){f.className=(" "+f.className+" ").replace(" "+h+" "," ");q(f,h)&&v(f,h)}},replaceClass:function(f,h,n){v(f,h);u(f,n)},toggleClass:function(f,h,n){(n!==s?n:!q(f,h))?u(f,h):v(f,h)},css:function(){},text:function(f,h){if(h===s)return(f||{})[t]||"";if(f)f[t]=h},html:function(){},val:function(){},create:function(){}};var q=k.Dom.hasClass,u=k.Dom.addClass,v=k.Dom.removeClass});
