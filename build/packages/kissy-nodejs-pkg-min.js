/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
(function(){var c=require("jsdom").jsdom;document=c("<html><head></head><body></body></html>");window=document.createWindow();location=window.location;navigator=window.navigator;KISSY={__HOST:window};exports.KISSY=window.KISSY=KISSY})();
(function(c){function d(j){for(var b=0;b<j.length;b++)if(j[b].match(/\/$/))j[b]+="index";return j}function s(j,b){if(!b)return b;if(c.isArray(b)){for(var f=0;f<b.length;f++)b[f]=s(j,b[f]);return b}if(b.lastIndexOf("../",0)==0||b.lastIndexOf("./",0)==0){f="";var v;if((v=j.lastIndexOf("/"))!=-1)f=j.substring(0,v+1);return h.normalize(f+b)}else return b.indexOf("./")!=-1||b.indexOf("../")!=-1?h.normalize(b):b}var h=require("path");c.Env={};c.Env.mods={};var i=c.Env.mods;(function(j,b){for(var f in b)if(b.hasOwnProperty(f))j[f]=
b[f]})(c,{Config:{base:__filename.replace(/[^/]*$/i,"")},add:function(j,b,f){if(c.isFunction(j)){f=b;b=j;j=this.currentModName}i[j]={name:j,fn:b};c.mix(i[j],f)},_packages:function(j){var b;b=this.__packages=this.__packages||{};for(var f=0;f<j.length;f++){var v=j[f];b[v.name]=v;if(v.path&&!v.path.match(/\/$/))v.path+="/"}},_getPath:function(j){var b=this.__packages=this.__packages||{},f="",v;for(v in b)if(b.hasOwnProperty(v))if(j.lastIndexOf(v,0)==0)if(v.length>f)f=v;return(b[f]&&b[f].path||this.Config.base)+
j},_combine:function(j,b){var f=this,v;if(c.isObject(j))c.each(j,function(y,u){c.each(y,function(x){f._combine(x,u)})});else{v=f.__combines=f.__combines||{};if(b)v[j]=b;else return v[j]||j}},require:function(j){j=i[j];var b=this.onRequire&&this.onRequire(j);if(b!==undefined)return b;return j&&j.value},_attach:function(j){var b=this._getPath(this._combine(j)),f=i[j];if(!f){this.currentModName=j;require(b)}f=i[j];if(!f.attached){f.requires=f.requires||[];b=f.requires;s(j,b);j=[this];for(var v=0;v<b.length;v++){this._attach(b[v]);
j.push(this.require(b[v]))}f.value=f.fn.apply(null,j);f.attached=true}},use:function(j,b){j=j.replace(/\s+/g,"").split(",");d(j);var f=this,v=[this];c.each(j,function(y){f._attach(y);v.push(f.require(y))});b&&b.apply(null,v)}})})(KISSY);
(function(c,d){var s=this,h={mix:function(b,f,v,y){if(!f||!b)return b;if(v===d)v=true;var u,x,z;if(y&&(z=y.length))for(u=0;u<z;u++){x=y[u];if(x in f)if(v||!(x in b))b[x]=f[x]}else for(x in f)if(v||!(x in b))b[x]=f[x];return b}},i=s&&s[c]||{},j=0;s=i.__HOST||(i.__HOST=s||{});c=s[c]=h.mix(i,h,false);c.mix(c,{__APP_MEMBERS:["namespace"],__APP_INIT_METHODS:["__init"],version:"1.20dev",buildTime:"20110504114328",merge:function(){var b={},f,v=arguments.length;for(f=0;f<v;f++)c.mix(b,arguments[f]);return b},
augment:function(){var b=c.makeArray(arguments),f=b.length-2,v=b[0],y=b[f],u=b[f+1],x=1;if(!c.isArray(u)){y=u;u=d;f++}if(!c.isBoolean(y)){y=d;f++}for(;x<f;x++)c.mix(v.prototype,b[x].prototype||b[x],y,u);return v},extend:function(b,f,v,y){if(!f||!b)return b;var u=Object.create?function(A,B){return Object.create(A,{constructor:{value:B}})}:function(A,B){function t(){}t.prototype=A;var o=new t;o.constructor=B;return o},x=f.prototype,z;z=u(x,b);b.prototype=c.mix(z,b.prototype);b.superclass=u(x,f);v&&
c.mix(z,v);y&&c.mix(b,y);return b},__init:function(){this.Config=this.Config||{};this.Env=this.Env||{};this.Config.debug=""},namespace:function(){var b=c.makeArray(arguments),f=b.length,v=null,y,u,x,z=b[f-1]===true&&f--;for(y=0;y<f;y++){x=(""+b[y]).split(".");v=z?s:this;for(u=s[x[0]]===v?1:0;u<x.length;++u)v=v[x[u]]=v[x[u]]||{}}return v},app:function(b,f){var v=c.isString(b),y=v?s[b]||{}:b,u=0,x=c.__APP_INIT_METHODS.length;for(c.mix(y,this,true,c.__APP_MEMBERS);u<x;u++)c[c.__APP_INIT_METHODS[u]].call(y);
c.mix(y,c.isFunction(f)?f():f);v&&(s[b]=y);return y},config:function(b){for(var f in b)this["_"+f]&&this["_"+f](b[f])},log:function(b,f,v){if(c.Config.debug){if(v)b=v+": "+b;if(s.console!==d&&console.log)console[f&&console[f]?f:"log"](b)}},error:function(b){if(c.Config.debug)throw b;},guid:function(b){return(b||"")+j++}});c.__init();return c})("KISSY");
(function(c,d){function s(){if(l)return l;var k="";c.each(q,function(a){k+=a+"|"});k=k.slice(0,-1);return l=RegExp(k,"g")}function h(){if(n)return n;var k="";c.each(m,function(a){k+=a+"|"});k+="&#(\\d{1,5});";return n=RegExp(k,"g")}function i(k){var a=typeof k;return k===null||a!=="object"&&a!=="function"}var j=c.__HOST,b=Object.prototype.toString,f=Array.prototype,v=f.indexOf,y=f.lastIndexOf,u=f.filter,x=String.prototype.trim,z=f.map,A=/^\s+|\s+$/g,B=encodeURIComponent("[]"),t=/^(\w+)\[\]$/,o={},
q={"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"'},m={},l,n,w;for(w in q)m[q[w]]=w;c.mix(c,{type:function(k){return k==null?String(k):o[b.call(k)]||"object"},isNull:function(k){return k===null},isUndefined:function(k){return k===d},isEmptyObject:function(k){for(var a in k)if(a!==d)return false;return true},isPlainObject:function(k){return k&&b.call(k)==="[object Object]"&&"isPrototypeOf"in k},clone:function(k,a,g){var e=k,p,r,C=g||{};if(k&&((p=c.isArray(k))||c.isPlainObject(k))){if(k["__~ks_cloned"])return C[k["__~ks_cloned"]];
k["__~ks_cloned"]=e=c.guid();C[e]=k;if(p)e=a?c.filter(k,a):k.concat();else{e={};for(r in k)if(r!=="__~ks_cloned"&&k.hasOwnProperty(r)&&(!a||a.call(k,k[r],r,k)!==false))e[r]=c.clone(k[r],a,C)}}if(!g){c.each(C,function(D){if(D["__~ks_cloned"])try{delete D["__~ks_cloned"]}catch(F){D["__~ks_cloned"]=d}});C=d}return e},trim:x?function(k){return k==d?"":x.call(k)}:function(k){return k==d?"":k.toString().replace(A,"")},substitute:function(k,a,g){if(!c.isString(k)||!c.isPlainObject(a))return k;return k.replace(g||
/\\?\{([^{}]+)\}/g,function(e,p){if(e.charAt(0)==="\\")return e.slice(1);return a[p]!==d?a[p]:""})},each:function(k,a,g){var e,p=0,r=k&&k.length,C=r===d||c.type(k)==="function";g=g||j;if(C)for(e in k){if(a.call(g,k[e],e,k)===false)break}else for(e=k[0];p<r&&a.call(g,e,p,k)!==false;e=k[++p]);return k},indexOf:v?function(k,a){return v.call(a,k)}:function(k,a){for(var g=0,e=a.length;g<e;++g)if(a[g]===k)return g;return-1},lastIndexOf:y?function(k,a){return y.call(a,k)}:function(k,a){for(var g=a.length-
1;g>=0;g--)if(a[g]===k)break;return g},unique:function(k,a){var g=k.slice();a&&g.reverse();for(var e=0,p,r;e<g.length;){for(r=g[e];(p=c.lastIndexOf(r,g))!==e;)g.splice(p,1);e+=1}a&&g.reverse();return g},inArray:function(k,a){return c.indexOf(k,a)>-1},filter:u?function(k,a,g){return u.call(k,a,g||this)}:function(k,a,g){var e=[];c.each(k,function(p,r,C){if(a.call(g||this,p,r,C))e.push(p)});return e},map:z?function(k,a,g){return z.call(k,a,g||this)}:function(k,a,g){for(var e=k.length,p=Array(e),r=0;r<
e;r++)if(r in k)p[r]=a.call(g||this,k[r],r,k);return p},now:function(){return(new Date).getTime()},fromUnicode:function(k){return k.replace(/\\u([a-f\d]{4})/ig,function(a,g){return String.fromCharCode(parseInt(g,16))})},escapeHTML:function(k){return k.replace(s(),function(a){return m[a]})},unEscapeHTML:function(k){return k.replace(h(),function(a,g){return q[a]||String.fromCharCode(+g)})},makeArray:function(k){if(k===null||k===d)return[];if(c.isArray(k))return k;if(typeof k.length!=="number"||c.isString(k)||
c.isFunction(k))return[k];for(var a=[],g=0,e=k.length;g<e;g++)a[g]=k[g];return a},param:function(k,a){if(!c.isPlainObject(k))return"";a=a||"&";var g=[],e,p;for(e in k){p=k[e];e=encodeURIComponent(e);if(i(p))g.push(e,"=",encodeURIComponent(p+""),a);else if(c.isArray(p)&&p.length)for(var r=0,C=p.length;r<C;++r)i(p[r])&&g.push(e,B+"=",encodeURIComponent(p[r]+""),a)}g.pop();return g.join("")},unparam:function(k,a){if(typeof k!=="string"||(k=c.trim(k)).length===0)return{};for(var g={},e=k.split(a||"&"),
p,r,C,D,F=0,G=e.length;F<G;++F){p=e[F].split("=");r=decodeURIComponent(p[0]);try{C=decodeURIComponent(p[1]||"")}catch(E){C=p[1]||""}if((D=r.match(t))&&D[1]){g[D[1]]=g[D[1]]||[];g[D[1]].push(C)}else g[r]=C}return g},later:function(k,a,g,e,p){a=a||0;e=e||{};var r=k,C=c.makeArray(p),D;if(c.isString(k))r=e[k];r||c.error("method undefined");k=function(){r.apply(e,C)};D=g?setInterval(k,a):setTimeout(k,a);return{id:D,interval:g,cancel:function(){this.interval?clearInterval(D):clearTimeout(D)}}}});c.mix(c,
{isBoolean:i,isNumber:i,isString:i,isFunction:i,isArray:i,isDate:i,isRegExp:i,isObject:i});c.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(k,a){o["[object "+k+"]"]=a=k.toLowerCase();c["is"+k]=function(g){return c.type(g)==a}})})(KISSY);
(function(c,d){function s(a){a=a.split("/");for(var g=[],e,p=0;p<a.length;p++){e=a[p];if(e!=".")e==".."?g.pop():g.push(e)}return g.join("/")}function h(a,g){if(!g)return g;if(c.isArray(g)){for(var e=0;e<g.length;e++)g[e]=h(a,g[e]);return g}if(g.lastIndexOf("../",0)==0||g.lastIndexOf("./",0)==0){e=z;var p;if((p=a.lastIndexOf("/"))!=-1)e=a.substring(0,p+1);return s(e+g)}else return g.indexOf("./")!=-1||g.indexOf("../")!=-1?s(g):g}function i(a){return a.replace(/(-min)?\.js[^/]*$/i,z)}function j(a){if(a.charAt(a.length-
1)!="/")a+="/";a=c.trim(a);if(!a.match(/^(http(s)?)|(file):/i)&&a.lastIndexOf("/",0)!=0)a=n+a;return s(a)}function b(a){for(var g=0;g<a.length;g++)if(a[g].match(/\/$/))a[g]+="index";return a}function f(a){var g=a.src,e=a.getAttribute("data-combo-prefix")||"??";a=a.getAttribute("data-combo-sep")||",";a=g.split(a);var p,r=a[0];e=r.indexOf(e);if(e==-1)p=g.replace(w,"$1");else{p=r.substring(0,e);g=r.substring(e+2,r.length);if(g.match(k))p+=g.replace(w,"$1");else c.each(a,function(C){if(C.match(k)){p+=
C.replace(w,"$1");return false}})}if(!p.match(/^(http(s)?)|(file):/i)&&p.lastIndexOf("/",0)!=0)p=n+p;return p}if(!c.use){var v=c.__HOST,y=!!navigator.userAgent.match(/MSIE/),u=v.document,x=u.getElementsByTagName("head")[0]||u.documentElement,z="",A=2,B=3,t=4,o=c.mix,q=u.addEventListener?function(a,g){a.addEventListener("load",g,false)}:function(a,g){var e=a.onreadystatechange;a.onreadystatechange=function(){var p=a.readyState;if(p==="loaded"||p==="complete"){a.onreadystatechange=null;e&&e();g.call(this)}}},
m=/\.css(?:\?|$)/i,l=encodeURIComponent(c.buildTime),n=location.href.replace(/[^/]*$/i,z);v={__currentModule:null,__startLoadTime:0,__startLoadModuleName:null,add:function(a,g,e){var p=this.Env.mods,r;if(c.isString(a)&&!e&&c.isPlainObject(g)){r={};r[a]=g;a=r}if(c.isPlainObject(a)){c.each(a,function(D,F){D.name=F;p[F]&&o(D,p[F],false)});o(p,a);return this}if(c.isString(a)){var C;if(e&&(C=e.host)){a=p[C];if(!a)return this;if(this.__isAttached(C))g.call(this,this);else{a.fns=a.fns||[];a.fns.push(g)}return this}this.__registerModule(a,
g,e);if(e&&e.attach===false)return this;g=p[a];a=h(a,g.requires);if(this.__isAttached(a))this.__attachMod(g);else if(this.Config.debug&&!g)for(a=c.makeArray(a).length-1;a>=0;a--);return this}if(c.isFunction(a)){e=g;g=a;if(y){a=this.__findModuleNameByInteractive();this.__registerModule(a,g,e);this.__startLoadModuleName=null;this.__startLoadTime=0}else this.__currentModule={def:g,config:e};return this}return this},__findModuleNameByInteractive:function(){for(var a=document.getElementsByTagName("script"),
g,e,p=0;p<a.length;p++){e=a[p];if(e.readyState=="interactive"){g=e;break}}if(!g)return this.__startLoadModuleName;a=g.src;if(a.lastIndexOf(this.Config.base,0)==0)return i(a.substring(this.Config.base.length));g=this.__packages;for(var r in g){e=g[r].path;if(g.hasOwnProperty(r)&&a.lastIndexOf(e,0)==0)return i(a.substring(e.length))}},__registerModule:function(a,g,e){e=e||{};var p=this.Env.mods,r=p[a]||{};o(r,{name:a,status:A});r.fns=r.fns||[];r.fns.push(g);o(p[a]=r,e)},_packages:function(a){var g;
g=this.__packages=this.__packages||{};c.each(a,function(e){g[e.name]=e;if(e.path)e.path=j(e.path);if(e.tag)e.tag=encodeURIComponent(e.tag)})},_combine:function(a,g){var e=this,p;if(c.isObject(a))c.each(a,function(r,C){c.each(r,function(D){e._combine(D,C)})});else{p=e.__combines=e.__combines||{};if(g)p[a]=g;else return p[a]||a}},__mixMods:function(a){var g=this.Env.mods,e=a.Env.mods,p;for(p in e)this.__mixMod(g,e,p,a)},__mixMod:function(a,g,e,p){var r=a[e]||{},C=r.status;c.mix(r,c.clone(g[e]));if(C)r.status=
C;p&&this.__buildPath(r,p.Config.base);a[e]=r},use:function(a,g,e){a=a.replace(/\s+/g,z).split(",");b(a);e=e||{};var p=this,r;e.global&&p.__mixMods(e.global);if(p.__isAttached(a)){var C=p.__getModules(a);g&&g.apply(p,C)}else{c.each(a,function(D){p.__attachModByName(D,function(){if(!r&&p.__isAttached(a)){r=true;var F=p.__getModules(a);g&&g.apply(p,F)}},e)});return p}},__getModules:function(a){var g=this,e=[g];c.each(a,function(p){e.push(g.require(p))});return e},require:function(a){a=this.Env.mods[a];
var g=this.onRequire&&this.onRequire(a);if(g!==undefined)return g;return a&&a.value},__getPackagePath:function(a){if(a.packagepath)return a.packagepath;var g=this._combine(a.name),e=this.__packages||{},p="",r;for(r in e)if(e.hasOwnProperty(r)&&g.lastIndexOf(r,0)==0&&r.length>p)p=r;e=(g=e[p])&&g.path||this.Config.base;if(g&&g.charset)a.charset=g.charset;a.tag=g?g.tag:l;return a.packagepath=e},__attachModByName:function(a,g,e){var p=this.Env.mods,r=p[a];if(!r){r=this.Config.componentJsName||function(C){return C+
"-min.js"};r={path:c.isFunction(r)?r(this._combine(a)):r,charset:"utf-8"};p[a]=r}r.name=a;r&&r.status===t||this.__attach(r,g,e)},__attach:function(a,g,e){function p(){if(!F&&r.__isAttached(a.requires)){a.status===A&&r.__attachMod(a);if(a.status===t){F=true;g()}}}var r=this,C=r.Env.mods,D=(a.requires||[]).concat();a.requires=D;c.each(D,function(G,E,J){G=J[E]=h(a.name,G);(E=C[G])&&E.status===t||r.__attachModByName(G,p,e)});r.__buildPath(a,r.__getPackagePath(a));r.__load(a,function(){a.requires=a.requires||
[];var G=[];c.each(a.requires,function(E,J,K){E=K[J]=h(a.name,E);J=C[E];K=c.inArray(E,D);J&&J.status===t||K||r.__attachModByName(E,p,e);if(!K&&(!J||J.status<A))G.push(E)});G.length!=0&&G.unshift(a.name);if(c.isString(a.csspath)||c.isString(a.cssfullpath)){r.__buildPath(a,r.__getPackagePath(a));c.getScript(a.cssfullpath)}p()},e);var F=false},__attachMod:function(a){var g=this,e=a.fns;e&&c.each(e,function(p){p=c.isFunction(p)?p.apply(g,g.__getModules(a.requires)):p;a.value=a.value||p});a.status=t},
__isAttached:function(a){var g=this.Env.mods,e=true;c.each(a,function(p){p=g[p];if(!p||p.status!==t)return e=false});return e},__load:function(a,g,e){function p(){e.global&&C.__mixMod(C.Env.mods,e.global.Env.mods,a.name,e.global)}function r(){F[D]=A;if(a.status!==B){p();if(a.status!==t)a.status=A;g()}}var C=this,D=a.fullpath,F=c.Env._loadQueue,G=F[D];a.status=a.status||0;if(a.status<1&&G)a.status=G.nodeName?1:A;if(c.isString(a.cssfullpath)){c.getScript(a.cssfullpath);a.cssfullpath=a.csspath=A}if(a.status<
1&&D){a.status=1;if(y){C.__startLoadModuleName=a.name;C.__startLoadTime=Number(+new Date)}G=c.getScript(D,{success:function(){if(C.__currentModule){C.__registerModule(a.name,C.__currentModule.def,C.__currentModule.config);C.__currentModule=null}p();if(!(a.fns&&a.fns.length>0))a.status=B;r()},error:function(){a.status=B;r()},charset:a.charset});m.test(D)||(F[D]=G)}else a.status===1?q(G,r):g()},__buildPath:function(a,g){function e(r,C){if(!a[r]&&a[C]){a[C]=h(a.name,a[C]);a[r]=(g||p.base)+a[C]}if(a[r]&&
p.debug)a[r]=a[r].replace(/-min/ig,z);if(a[r]&&!a[r].match(/\?t=/)&&a.tag)a[r]+="?t="+a.tag}var p=this.Config;e("fullpath","path");e("cssfullpath","csspath")},getScript:function(a,g,e){var p=/\.css(?:\?|$)/i.test(a),r=u.createElement(p?"link":"script"),C=g,D,F,G;if(c.isPlainObject(C)){g=C.success;D=C.error;F=C.timeout;e=C.charset}if(p){r.href=a;r.rel="stylesheet"}else{r.src=a;r.async=true}if(e)r.charset=e;if(p)c.isFunction(g)&&g.call(r);else q(r,function(){if(G){G.cancel();G=d}c.isFunction(g)&&g.call(r)});
if(c.isFunction(D)){u.addEventListener&&r.addEventListener("error",function(){if(G){G.cancel();G=d}D.call(r)},false);G=c.later(function(){G=d;D()},(F||this.Config.timeout)*1E3)}x.insertBefore(r,x.firstChild);return r}};o(c,v);var w=/^(.*)(seed|kissy)(-min)?\.js[^/]*/i,k=/(seed|kissy)(-min)?\.js/i;c.__initLoader=function(){var a=u.getElementsByTagName("script");a=f(a[a.length-1]);this.Env.mods={};this.Env._loadQueue={};if(!this.Config.base)this.Config.base=j(a);if(!this.Config.timeout)this.Config.timeout=
10};c.__initLoader();c.each(v,function(a,g){c.__APP_MEMBERS.push(g)});c.__APP_INIT_METHODS.push("__initLoader")}})(KISSY);
(function(c){var d=c.__HOST,s=d.document,h=s.documentElement,i=false,j=[],b=false,f=/^#?([\w-]+)$/,v=/\S/;c.mix(c,{isWindow:function(y){return c.type(y)==="object"&&"setInterval"in y&&"document"in y&&y.document.nodeType==9},globalEval:function(y){if(y&&v.test(y)){var u=s.getElementsByTagName("head")[0]||h,x=s.createElement("script");x.text=y;u.insertBefore(x,u.firstChild);u.removeChild(x)}},ready:function(y){b||this._bindReady();i?y.call(d,this):j.push(y);return this},_bindReady:function(){var y=
this,u=s.documentElement.doScroll,x=u?"onreadystatechange":"DOMContentLoaded",z=function(){y._fireReady()};b=true;if(s.readyState==="complete")return z();if(s.addEventListener){var A=function(){s.removeEventListener(x,A,false);z()};s.addEventListener(x,A,false);d.addEventListener("load",z,false)}else{var B=function(){if(s.readyState==="complete"){s.detachEvent(x,B);z()}};s.attachEvent(x,B);d.attachEvent("onload",z);var t=false;try{t=d.frameElement==null}catch(o){}if(u&&t){var q=function(){try{u("left");
z()}catch(m){setTimeout(q,1)}};q()}}},_fireReady:function(){if(!i){i=true;if(j){for(var y,u=0;y=j[u++];)y.call(d,this);j=null}}},available:function(y,u){if((y=(y+"").match(f)[1])&&c.isFunction(u))var x=1,z=c.later(function(){if(s.getElementById(y)&&(u()||1)||++x>500)z.cancel()},40,true)}});if(location&&(location.search||"").indexOf("ks-debug")!==-1)c.Config.debug=true})(KISSY);(function(c){c.config({combine:{core:["dom","ua","event","node","json","ajax","anim","base","cookie"]}})})(KISSY);
KISSY.add("ua/base",function(){var c=navigator.userAgent,d="",s="",h,i={},j=function(b){var f=0;return parseFloat(b.replace(/\./g,function(){return f++===0?".":""}))};if((h=c.match(/AppleWebKit\/([\d.]*)/))&&h[1]){i[d="webkit"]=j(h[1]);if((h=c.match(/Chrome\/([\d.]*)/))&&h[1])i[s="chrome"]=j(h[1]);else if((h=c.match(/\/([\d.]*) Safari/))&&h[1])i[s="safari"]=j(h[1]);if(/ Mobile\//.test(c))i.mobile="apple";else if(h=c.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))i.mobile=h[0].toLowerCase()}else if((h=
c.match(/Presto\/([\d.]*)/))&&h[1]){i[d="presto"]=j(h[1]);if((h=c.match(/Opera\/([\d.]*)/))&&h[1]){i[s="opera"]=j(h[1]);if((h=c.match(/Opera\/.* Version\/([\d.]*)/))&&h[1])i[s]=j(h[1]);if((h=c.match(/Opera Mini[^;]*/))&&h)i.mobile=h[0].toLowerCase();else if((h=c.match(/Opera Mobi[^;]*/))&&h)i.mobile=h[0]}}else if((h=c.match(/MSIE\s([^;]*)/))&&h[1]){i[d="trident"]=0.1;i[s="ie"]=j(h[1]);if((h=c.match(/Trident\/([\d.]*)/))&&h[1])i[d]=j(h[1])}else if(h=c.match(/Gecko/)){i[d="gecko"]=0.1;if((h=c.match(/rv:([\d.]*)/))&&
h[1])i[d]=j(h[1]);if((h=c.match(/Firefox\/([\d.]*)/))&&h[1])i[s="firefox"]=j(h[1])}i.core=d;i.shell=s;i._numberify=j;return i});
KISSY.add("ua/extra",function(c,d){var s=navigator.userAgent,h,i,j={},b=d._numberify;if(s.match(/360SE/))j[i="se360"]=3;else if(s.match(/Maxthon/)&&(h=window.external)){i="maxthon";try{j[i]=b(h.max_version)}catch(f){j[i]=0.1}}else if(h=s.match(/TencentTraveler\s([\d.]*)/))j[i="tt"]=h[1]?b(h[1]):0.1;else if(s.match(/TheWorld/))j[i="theworld"]=3;else if(h=s.match(/SE\s([\d.]*)/))j[i="sougou"]=h[1]?b(h[1]):0.1;i&&(j.shell=i);c.mix(d,j);return d},{requires:["ua/base"]});
KISSY.add("ua",function(c,d){return d},{requires:["ua/extra"]});KISSY.add("dom/base",function(c,d){function s(h,i){return h&&h.nodeType===i}return{_isElementNode:function(h){return s(h,1)},_isKSNode:function(h){var i=c.require("node/node");return i&&s(h,i.TYPE)},_getWin:function(h){return h&&"scrollTo"in h&&h.document?h:s(h,9)?h.defaultView||h.parentWindow:h===d?window:false},_nodeTypeIs:s}});
KISSY.add("dom/attr",function(c,d,s,h){var i=document.documentElement,j=!i.hasAttribute,b=i.textContent!==h?"textContent":"innerText",f=d._isElementNode,v=/^(?:href|src|style)/,y=/^(?:href|src|colspan|rowspan)/,u=/\r/g,x=/^(?:radio|checkbox)/,z={readonly:"readOnly"},A={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};j&&c.mix(z,{"for":"htmlFor","class":"className"});var B={tabindex:{getter:function(t){return t.tabIndex},setter:function(t,o){if(isNaN(parseInt(o))){t.removeAttribute("tabindex");
t.removeAttribute("tabIndex")}else t.tabIndex=o}},style:{getter:function(t){return t.style.cssText},setter:function(t,o){t.style.cssText=o}},checked:{setter:function(t,o){t.checked=!!o}},disabled:{setter:function(t,o){t.disabled=!!o}}};c.mix(d,{attr:function(t,o,q,m){if(c.isPlainObject(o)){m=q;for(var l in o)d.attr(t,l,o[l],m)}else if(o=c.trim(o)){o=o.toLowerCase();if(m&&A[o])return d[o](t,q);o=z[o]||o;var n=B[o];if(q===h){t=d.get(t);if(!f(t))return h;if(n&&n.getter)return n.getter(t);var w;v.test(o)||
(w=t[o]);if(w===h)w=t.getAttribute(o);if(j)if(y.test(o))w=t.getAttribute(o,2);return w===null?h:w}c.each(d.query(t),function(k){if(f(k))n&&n.setter?n.setter(k,q):k.setAttribute(o,""+q)})}},removeAttr:function(t,o){o=o.toLowerCase();c.each(d.query(t),function(q){if(f(q)){d.attr(q,o,"");q.removeAttribute(o)}})},hasAttr:j?function(t,o){o=o.toLowerCase();var q=d.get(t).getAttributeNode(o);return!!(q&&q.specified)}:function(t,o){o=o.toLowerCase();return d.get(t).hasAttribute(o)},val:function(t,o){if(o===
h){var q=d.get(t);if(!f(q))return h;if(q&&q.nodeName.toUpperCase()==="option".toUpperCase())return(q.attributes.value||{}).specified?q.value:q.text;if(q&&q.nodeName.toUpperCase()==="select".toUpperCase()){var m=q.selectedIndex,l=q.options;if(m<0)return null;else if(q.type==="select-one")return d.val(l[m]);q=[];for(var n=0,w=l.length;n<w;++n)l[n].selected&&q.push(d.val(l[n]));return q}if(s.webkit&&x.test(q.type))return q.getAttribute("value")===null?"on":q.value;return(q.value||"").replace(u,"")}c.each(d.query(t),
function(k){if(k&&k.nodeName.toUpperCase()==="select".toUpperCase()){if(c.isNumber(o))o+="";var a=c.makeArray(o),g=k.options,e;n=0;for(w=g.length;n<w;++n){e=g[n];e.selected=c.inArray(d.val(e),a)}if(!a.length)k.selectedIndex=-1}else if(f(k))k.value=o})},text:function(t,o){if(o===h){var q=d.get(t);if(f(q))return q[b]||"";else if(d._nodeTypeIs(q,3))return q.nodeValue}else c.each(d.query(t),function(m){if(f(m))m[b]=o;else if(d._nodeTypeIs(m,3))m.nodeValue=o})}});return d},{requires:["dom/base","ua"]});
KISSY.add("dom/class",function(c,d,s){function h(b,f,v,y){if(!(f=c.trim(f)))return y?false:s;b=d.query(b);var u=0,x=b.length;f=f.split(i);for(var z;u<x;u++){z=b[u];if(d._isElementNode(z)){z=v(z,f,f.length);if(z!==s)return z}}if(y)return false;return s}var i=/[\.\s]\s*\.?/,j=/[\n\t]/g;c.mix(d,{hasClass:function(b,f){return h(b,f,function(v,y,u){if(v=v.className){v=" "+v+" ";for(var x=0,z=true;x<u;x++)if(v.indexOf(" "+y[x]+" ")<0){z=false;break}if(z)return true}},true)},addClass:function(b,f){h(b,f,
function(v,y,u){var x=v.className;if(x){var z=" "+x+" ";x=x;for(var A=0;A<u;A++)if(z.indexOf(" "+y[A]+" ")<0)x+=" "+y[A];v.className=c.trim(x)}else v.className=f},s)},removeClass:function(b,f){h(b,f,function(v,y,u){var x=v.className;if(x)if(u){x=(" "+x+" ").replace(j," ");for(var z=0,A;z<u;z++)for(A=" "+y[z]+" ";x.indexOf(A)>=0;)x=x.replace(A," ");v.className=c.trim(x)}else v.className=""},s)},replaceClass:function(b,f,v){d.removeClass(b,f);d.addClass(b,v)},toggleClass:function(b,f,v){var y=c.isBoolean(v),
u;h(b,f,function(x,z,A){for(var B=0,t;B<A;B++){t=z[B];u=y?!v:d.hasClass(x,t);d[u?"removeClass":"addClass"](x,t)}},s)}});return d},{requires:["dom/base"]});
KISSY.add("dom/create",function(c,d,s,h){function i(a){var g=a.cloneNode(true);if(s.ie<8)g.innerHTML=a.innerHTML;return g}function j(a,g,e,p){if(e){var r=c.guid("ks-tmp-"),C=RegExp(B);g+='<span id="'+r+'"></span>';c.available(r,function(){var D=d.get("head"),F,G,E,J,K,I;for(C.lastIndex=0;F=C.exec(g);)if((E=(G=F[1])?G.match(o):false)&&E[2]){F=f.createElement("script");F.src=E[2];if((J=G.match(q))&&J[2])F.charset=J[2];F.async=true;D.appendChild(F)}else if((I=F[2])&&I.length>0)c.globalEval(I);(K=f.getElementById(r))&&
d.remove(K);c.isFunction(p)&&p()});b(a,g)}else{b(a,g);c.isFunction(p)&&p()}}function b(a,g){g=(g+"").replace(B,"");try{a.innerHTML=g}catch(e){for(;a.firstChild;)a.removeChild(a.firstChild);g&&a.appendChild(d.create(g))}}var f=document,v=s.ie,y=d._nodeTypeIs,u=d._isElementNode,x=d._isKSNode,z=f.createElement("div"),A=/<(\w+)/,B=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,t=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,o=/\ssrc=(['"])(.*?)\1/i,q=/\scharset=(['"])(.*?)\1/i;c.mix(d,{create:function(a,
g,e){if(y(a,1)||y(a,3))return i(a);if(x(a))return i(a[0]);if(!(a=c.trim(a)))return null;var p=null;p=d._creators;var r,C="div",D;if(r=t.exec(a))p=(e||f).createElement(r[1]);else{if((r=A.exec(a))&&(D=r[1])&&c.isFunction(p[D=D.toLowerCase()]))C=D;a=p[C](a,e).childNodes;if(a.length===1)e=a[0].parentNode.removeChild(a[0]);else{a=a;D=e||f;e=null;if(a&&(a.push||a.item)&&a[0]){D=D||a[0].ownerDocument;e=D.createDocumentFragment();if(a.item)a=c.makeArray(a);D=0;for(p=a.length;D<p;D++)e.appendChild(a[D])}e=
e}p=e}e=p;u(e)&&c.isPlainObject(g)&&d.attr(e,g,true);return e},_creators:{div:function(a,g){var e=g?g.createElement("div"):z;e.innerHTML=a;return e}},html:function(a,g,e,p){if(g===h){a=d.get(a);if(u(a))return a.innerHTML}else c.each(d.query(a),function(r){u(r)&&j(r,g,e,p)})},remove:function(a){c.each(d.query(a),function(g){u(g)&&g.parentNode&&g.parentNode.removeChild(g)})}});if(v||s.gecko||s.webkit){var m=d._creators,l=d.create,n=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,w={option:"select",
td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},k;for(k in w)(function(a){m[k]=function(g,e){return l("<"+a+">"+g+"</"+a+">",null,e)}})(w[k]);if(v){m.script=function(a,g){var e=g?g.createElement("div"):z;e.innerHTML="-"+a;e.removeChild(e.firstChild);return e};if(v<8)m.tbody=function(a,g){var e=l("<table>"+a+"</table>",null,g),p=e.children.tags("tbody")[0];e.children.length>1&&p&&!n.test(a)&&p.parentNode.removeChild(p);return e}}c.mix(m,{optgroup:m.option,th:m.td,thead:m.tbody,tfoot:m.tbody,
caption:m.tbody,colgroup:m.tbody})}return d},{requires:["dom/base","ua"]});
KISSY.add("dom/data",function(c,d,s){var h=window,i="_ks_data_"+c.now(),j={},b={},f={EMBED:1,OBJECT:1,APPLET:1};c.mix(d,{data:function(v,y,u){if(c.isPlainObject(y))for(var x in y)d.data(v,x,y[x]);else if(u===s){v=d.get(v);var z;if(!(!v||f[v.nodeName])){if(v==h)v=b;z=(x=v&&v.nodeType)?j:v;v=z[x?v[i]:i];if(c.isString(y)&&v)return v[y];return v}}else d.query(v).each(function(A){if(!(!A||f[A.nodeName])){if(A==h)A=b;var B=j,t;if(A&&A.nodeType){if(!(t=A[i]))t=A[i]=c.guid()}else{t=i;B=A}if(y&&u!==s){B[t]||
(B[t]={});B[t][y]=u}}})},removeData:function(v,y){d.query(v).each(function(u){if(u){if(u==h)u=b;var x,z=j,A,B=u&&u.nodeType;if(B)x=u[i];else{z=u;x=i}if(x){A=z[x];if(y){if(A){delete A[y];c.isEmptyObject(A)&&d.removeData(u)}}else{if(B)u.removeAttribute&&u.removeAttribute(i);else try{delete u[i]}catch(t){}B&&delete z[x]}}}})}});return d},{requires:["dom/base"]});
KISSY.add("dom/insertion",function(c,d){c.mix(d,{insertBefore:function(s,h){if((s=d.get(s))&&(h=d.get(h))&&h.parentNode)h.parentNode.insertBefore(s,h);return s},insertAfter:function(s,h){if((s=d.get(s))&&(h=d.get(h))&&h.parentNode)h.nextSibling?h.parentNode.insertBefore(s,h.nextSibling):h.parentNode.appendChild(s);return s},append:function(s,h){if((s=d.get(s))&&(h=d.get(h)))h.appendChild&&h.appendChild(s)},prepend:function(s,h){if((s=d.get(s))&&(h=d.get(h)))h.firstChild?d.insertBefore(s,h.firstChild):
h.appendChild(s)}});return d},{requires:["dom/base"]});
KISSY.add("dom/offset",function(c,d,s,h){function i(l){var n=0,w=0,k=y(l[A]);if(l[m]){l=l[m]();n=l[B];w=l[t];if(s.mobile!=="apple"){n+=d[o](k);w+=d[q](k)}}return{left:n,top:w}}var j=window,b=document,f=d._isElementNode,v=d._nodeTypeIs,y=d._getWin,u=b.compatMode==="CSS1Compat",x=Math.max,z=parseInt,A="ownerDocument",B="left",t="top",o="scrollLeft",q="scrollTop",m="getBoundingClientRect";c.mix(d,{offset:function(l,n){if(!(l=d.get(l))||!l[A])return null;if(n===h)return i(l);var w=l;if(d.css(w,"position")===
"static")w.style.position="relative";var k=i(w),a={},g,e;for(e in n){g=z(d.css(w,e),10)||0;a[e]=g+n[e]-k[e]}d.css(w,a)},scrollIntoView:function(l,n,w,k){if((l=d.get(l))&&l[A]){k=k===h?true:!!k;w=w===h?true:!!w;if(!n||n===j)return l.scrollIntoView(w);n=d.get(n);if(v(n,9))n=y(n);var a=n&&"scrollTo"in n&&n.document,g=d.offset(l),e=a?{left:d.scrollLeft(n),top:d.scrollTop(n)}:d.offset(n),p={left:g[B]-e[B],top:g[t]-e[t]};g=a?d.viewportHeight(n):n.clientHeight;e=a?d.viewportWidth(n):n.clientWidth;var r=
d[o](n),C=d[q](n),D=r+e,F=C+g,G=l.offsetHeight;l=l.offsetWidth;var E=p.left+r-(z(d.css(n,"borderLeftWidth"))||0);p=p.top+C-(z(d.css(n,"borderTopWidth"))||0);var J=E+l,K=p+G,I,H;if(G>g||p<C||w)I=p;else if(K>F)I=K-g;if(k)if(l>e||E<r||w)H=E;else if(J>D)H=J-e;if(a){if(I!==h||H!==h)n.scrollTo(H,I)}else{if(I!==h)n[q]=I;if(H!==h)n[o]=H}}}});c.each(["Left","Top"],function(l,n){var w="scroll"+l;d[w]=function(k){var a=0,g=y(k),e;if(g&&(e=g.document))a=g[n?"pageYOffset":"pageXOffset"]||e.documentElement[w]||
e.body[w];else if(f(k=d.get(k)))a=k[w];return a}});c.each(["Width","Height"],function(l){d["doc"+l]=function(n){n=n||b;return x(u?n.documentElement["scroll"+l]:n.body["scroll"+l],d["viewport"+l](n))};d["viewport"+l]=function(n){var w="inner"+l;n=y(n);var k=n.document;return w in n?n[w]:u?k.documentElement["client"+l]:k.body["client"+l]}});return d},{requires:["dom/base","ua"]});
KISSY.add("dom/style",function(c,d,s,h){function i(q,m){var l=d.get(q),n=m===v?l.offsetWidth:l.offsetHeight;c.each(m===v?["Left","Right"]:["Top","Bottom"],function(w){n-=parseFloat(d._getComputedStyle(l,"padding"+w))||0;n-=parseFloat(d._getComputedStyle(l,"border"+w+"Width"))||0});return n}function j(q,m,l){var n=l;if(l===y&&x.test(m)){n=0;if(c.inArray(d.css(q,"position"),["absolute","fixed"])){l=q[m==="left"?"offsetLeft":"offsetTop"];if(s.ie===8||s.opera)l-=u(d.css(q.offsetParent,"border-"+m+"-width"))||
0;n=l-(u(d.css(q,"margin-"+m))||0)}}return n}var b=document,f=b.documentElement,v="width",y="auto",u=parseInt,x=/^(?:left|top)/,z=/^(?:width|height|top|left|right|bottom|margin|padding)/i,A=/-([a-z])/ig,B=function(q,m){return m.toUpperCase()},t={},o={};c.mix(d,{_CUSTOM_STYLES:t,_getComputedStyle:function(q,m){var l="",n=q.ownerDocument;if(q.style)l=n.defaultView.getComputedStyle(q,null)[m];return l},css:function(q,m,l){if(c.isPlainObject(m))for(var n in m)d.css(q,n,m[n]);else{if(m.indexOf("-")>0)m=
m.replace(A,B);m=t[m]||m;if(l===h){q=d.get(q);n="";if(q&&q.style){n=m.get?m.get(q):q.style[m];if(n===""&&!m.get)n=j(q,m,d._getComputedStyle(q,m))}return n===h?"":n}else{if(l===null||l==="")l="";else if(!isNaN(new Number(l))&&z.test(m))l+="px";(m===v||m==="height")&&parseFloat(l)<0||c.each(d.query(q),function(w){if(w&&w.style){m.set?m.set(w,l):w.style[m]=l;if(l==="")w.style.cssText||w.removeAttribute("style")}})}}},width:function(q,m){if(m===h)return i(q,v);else d.css(q,v,m)},height:function(q,m){if(m===
h)return i(q,"height");else d.css(q,"height",m)},show:function(q){d.query(q).each(function(m){if(m){m.style.display=d.data(m,"display")||"";if(d.css(m,"display")==="none"){var l=m.tagName,n=o[l],w;if(!n){w=b.createElement(l);b.body.appendChild(w);n=d.css(w,"display");d.remove(w);o[l]=n}d.data(m,"display",n);m.style.display=n}}})},hide:function(q){d.query(q).each(function(m){if(m){var l=m.style,n=l.display;if(n!=="none"){n&&d.data(m,"display",n);l.display="none"}}})},toggle:function(q){d.query(q).each(function(m){if(m)d.css.display===
"none"?d.show(m):d.hide(m)})},addStyleSheet:function(q,m){var l;if(m&&(m=m.replace("#","")))l=d.get("#"+m);if(!l){l=d.create("<style>",{id:m});d.get("head").appendChild(l);if(l.styleSheet)l.styleSheet.cssText=q;else l.appendChild(b.createTextNode(q))}},unselectable:function(q){d.query(q).each(function(m){if(m)if(s.gecko)m.style.MozUserSelect="none";else if(s.webkit)m.style.KhtmlUserSelect="none";else if(s.ie||s.opera){var l=0,n=m.getElementsByTagName("*");for(m.setAttribute("unselectable","on");m=
n[l++];)switch(m.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:m.setAttribute("unselectable","on")}}})}});if(f.style.cssFloat!==h)t["float"]="cssFloat";else if(f.style.styleFloat!==h)t["float"]="styleFloat";return d},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(c,d,s){function h(o,q){var m,l,n=[],w;l=c.require("sizzle");q=i(q);if(c.isString(o)){o=c.trim(o);if(B.test(o)){if(l=j(o.slice(1),q))n=[l]}else if(m=t.exec(o)){l=m[1];w=m[2];m=m[3];if(q=l?j(l,q):q)if(m)if(!l||o.indexOf(u)!==-1)n=f(m,w,q);else{if((l=j(l,q))&&d.hasClass(l,m))n=[l]}else if(w)n=b(w,q)}else if(l)n=l(o,q);else v(o)}else if(o&&(o[z]||o[A]))n=o[z]?[o[z]()]:o[A]();else if(o&&(c.isArray(o)||o&&!o.nodeType&&o.item&&!o.setTimeout))n=o;else if(o)n=[o];if(n&&!n.nodeType&&
n.item&&!n.setTimeout)n=c.makeArray(n);n.each=function(k,a){return c.each(n,k,a)};return n}function i(o){if(o===s)o=y;else if(c.isString(o)&&B.test(o))o=j(o.slice(1),y);else if(o&&o.nodeType!==1&&o.nodeType!==9)o=null;return o}function j(o,q){if(q.nodeType!==9)q=q.ownerDocument;return q.getElementById(o)}function b(o,q){return q.getElementsByTagName(o)}function f(o,q,m){m=o=m.getElementsByClassName(o);var l=0,n=0,w=o.length,k;if(q&&q!==x){m=[];for(q=q.toUpperCase();l<w;++l){k=o[l];if(k.tagName===
q)m[n++]=k}}return m}function v(o){c.error("Unsupported selector: "+o)}var y=document,u=" ",x="*",z="getDOMNode",A=z+"s",B=/^#[\w-]+$/,t=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var o=y.createElement("div");o.appendChild(y.createComment(""));if(o.getElementsByTagName(x).length>0)b=function(q,m){var l=m.getElementsByTagName(q);if(q===x){for(var n=[],w=0,k=0,a;a=l[w++];)if(a.nodeType===1)n[k++]=a;l=n}return l}})();y.getElementsByClassName||(f=y.querySelectorAll?function(o,q,m){return m.querySelectorAll((q?
q:"")+"."+o)}:function(o,q,m){q=m.getElementsByTagName(q||x);m=[];var l=0,n=0,w=q.length,k,a;for(o=u+o+u;l<w;++l){k=q[l];if((a=k.className)&&(u+a+u).indexOf(o)>-1)m[n++]=k}return m});c.mix(d,{query:h,get:function(o,q){return h(o,q)[0]||null},filter:function(o,q,m){m=h(o,m);var l=c.require("sizzle"),n,w,k,a=[];if(c.isString(q)&&(n=t.exec(q))&&!n[1]){w=n[2];k=n[3];q=function(g){return!(w&&g.tagName!==w.toUpperCase()||k&&!d.hasClass(g,k))}}if(c.isFunction(q))a=c.filter(m,q);else if(q&&l)a=l._filter(o,
q+"");else v(q);return a},test:function(o,q,m){o=h(o,m);return o.length&&d.filter(o,q,m).length===o.length}});return d},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(c,d,s,h,i){if(!s.ie)return d;s=document;h=s.documentElement;var j=d._CUSTOM_STYLES,b=/^-?\d+(?:px)?$/i,f=/^-?\d/,v=/^(?:width|height)$/;try{if(h.style.opacity==i&&h.filters)j.opacity={get:function(u){var x=100;try{x=u.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(z){try{x=u.filters("alpha").opacity}catch(A){}}return x/100+""},set:function(u,x){var z=u.style,A=(u.currentStyle||0).filter||"";z.zoom=1;if(A)A=c.trim(A.replace(/alpha\(opacity[=:][^)]+\),?/ig,
""));if(A&&x!=1)A+=", ";z.filter=A+(x!=1?"alpha(opacity="+x*100+")":"")}}}catch(y){}if(!(s.defaultView||{}).getComputedStyle&&h.currentStyle)d._getComputedStyle=function(u,x){var z=u.style,A=u.currentStyle[x];if(v.test(x))A=d[x](u)+"px";else if(!b.test(A)&&f.test(A)){var B=z.left,t=u.runtimeStyle.left;u.runtimeStyle.left=u.currentStyle.left;z.left=x==="fontSize"?"1em":A||0;A=z.pixelLeft+"px";z.left=B;u.runtimeStyle.left=t}return A};return d},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(c,d,s){function h(b,f,v,y){if(!(b=d.get(b)))return null;if(f===s)f=1;var u=null,x,z;if(c.isNumber(f)&&f>=0){if(f===0)return b;x=0;z=f;f=function(){return++x===z}}for(;b=b[v];)if(j(b)&&(!f||d.test(b,f))&&(!y||y(b))){u=b;break}return u}function i(b,f,v){var y=[];var u=b=d.get(b);if(b&&v)u=b.parentNode;if(u){v=0;for(u=u.firstChild;u;u=u.nextSibling)if(j(u)&&u!==b&&(!f||d.test(u,f)))y[v++]=u}return y}var j=d._isElementNode;c.mix(d,{parent:function(b,f){return h(b,f,
"parentNode",function(v){return v.nodeType!=11})},next:function(b,f){return h(b,f,"nextSibling",s)},prev:function(b,f){return h(b,f,"previousSibling",s)},siblings:function(b,f){return i(b,f,true)},children:function(b,f){return i(b,f,s)},contains:function(b,f){var v=false;if((b=d.get(b))&&(f=d.get(f)))if(b.contains){if(f.nodeType===3){f=f.parentNode;if(f===b)return true}if(f)return b.contains(f)}else if(b.compareDocumentPosition)return!!(b.compareDocumentPosition(f)&16);else for(;!v&&(f=f.parentNode);)v=
f==b;return v}});return d},{requires:["dom/base"]});KISSY.add("dom",function(c,d){return d},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/object",function(c,d){function s(j,b,f){this.currentTarget=j;this.originalEvent=b||{};if(b){this.type=b.type;this._fix()}else{this.type=f;this.target=j}this.currentTarget=j;this.fixed=true}var h=document,i="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");c.augment(s,
{_fix:function(){var j=this.originalEvent,b=i.length,f,v=this.currentTarget;for(v=v.nodeType===9?v:v.ownerDocument||h;b;){f=i[--b];this[f]=j[f]}if(!this.target)this.target=this.srcElement||h;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===d&&this.clientX!==d){j=v.documentElement;b=v.body;this.pageX=this.clientX+(j&&j.scrollLeft||b&&b.scrollLeft||
0)-(j&&j.clientLeft||b&&b.clientLeft||0);this.pageY=this.clientY+(j&&j.scrollTop||b&&b.scrollTop||0)-(j&&j.clientTop||b&&b.clientTop||0)}if(this.which===d)this.which=this.charCode!==d?this.charCode:this.keyCode;if(this.metaKey===d)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==d)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var j=this.originalEvent;if(j.preventDefault)j.preventDefault();else j.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var j=
this.originalEvent;if(j.stopPropagation)j.stopPropagation();else j.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var j=this.originalEvent;j.stopImmediatePropagation?j.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(j){j?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return s});
KISSY.add("event/base",function(c,d,s,h){function i(t,o,q,m,l){if(c.isString(o))o=d.query(o);if(c.isArray(o)){c.each(o,function(n){B[t](n,q,m,l)});return true}if((q=c.trim(q))&&q.indexOf(x)>0){c.each(q.split(x),function(n){B[t](o,n,m,l)});return true}return h}function j(t){return t&&t.nodeType!==3&&t.nodeType!==8?d.data(t,u):-1}function b(t,o){t&&t.nodeType!==3&&t.nodeType!==8&&d.data(t,u,o)}var f=document,v=f.addEventListener?function(t,o,q,m){t.addEventListener&&t.addEventListener(o,q,!!m)}:function(t,
o,q){t.attachEvent&&t.attachEvent("on"+o,q)},y=f.removeEventListener?function(t,o,q,m){t.removeEventListener&&t.removeEventListener(o,q,!!m)}:function(t,o,q){t.detachEvent&&t.detachEvent("on"+o,q)},u="ksEventTargetId",x=" ",z=c.now(),A={},B={EVENT_GUID:u,special:{},add:function(t,o,q,m){if(!i("add",t,o,q,m)){var l=j(t),n,w,k,a,g;if(!(l===-1||!o||!c.isFunction(q))){if(!l){b(t,l=z++);A[l]={target:t,events:{}}}w=A[l].events;if(!w[o]){n=((l=!t.isCustomEventTarget)||t._supportSpecialEvent)&&B.special[o]||
{};k=function(e,p){if(!e||!e.fixed)e=new s(t,e,o);if(c.isPlainObject(p)){var r=e.type;c.mix(e,p);e.type=r}n.setup&&n.setup(e);return(n.handle||B._handle)(t,e)};w[o]={handle:k,listeners:[]};a=n.fix||o;g=n.capture;n.init&&n.init.apply(null,c.makeArray(arguments));l&&n.fix!==false&&v(t,a,k,g)}w[o].listeners.push({fn:q,scope:m||t})}}},__getListeners:function(t,o){var q,m=[];if(q=(B.__getEvents(t)||{})[o])m=q.listeners;return m},__getEvents:function(t){var o=j(t),q;if(o!==-1)if(o&&(q=A[o]))if(q.target===
t)return q.events||{}},remove:function(t,o,q,m){if(!i("remove",t,o,q,m)){var l=B.__getEvents(t),n=j(t),w,k,a,g,e,p,r=(!t.isCustomEventTarget||t._supportSpecialEvent)&&B.special[o]||{};if(l!==h){m=m||t;if(w=l[o]){k=w.listeners;a=k.length;if(c.isFunction(q)&&a){e=g=0;for(p=[];g<a;++g)if(q!==k[g].fn||m!==k[g].scope)p[e++]=k[g];w.listeners=p;a=p.length}if(q===h||a===0){if(!t.isCustomEventTarget){r=B.special[o]||{};if(r.fix!==false)y(t,r.fix||o,w.handle)}delete l[o]}}r.destroy&&r.destroy.apply(null,c.makeArray(arguments));
if(o===h||c.isEmptyObject(l)){for(o in l)B.remove(t,o);delete A[n];d.removeData(t,u)}}}},_handle:function(t,o){var q=B.__getListeners(t,o.type);q=q.slice(0);for(var m,l,n=0,w=q.length;n<w;++n){m=q[n];m=m.fn.call(m.scope,o);if(l!==false)l=m;if(m!==h){o.result=m;m===false&&o.halt()}if(o.isImmediatePropagationStopped)break}return l},_getCache:function(t){return A[t]},__getID:j,_simpleAdd:v,_simpleRemove:y};B.on=B.add;return B},{requires:["dom","event/object"]});
KISSY.add("event/target",function(c,d,s,h){return{isCustomEventTarget:true,fire:function(i,j){var b=s.data(this,d.EVENT_GUID)||-1;if((b=((d._getCache(b)||{}).events||{})[i])&&c.isFunction(b.handle))return b.handle(h,j)},on:function(i,j,b){d.add(this,i,j,b);return this},detach:function(i,j,b){d.remove(this,i,j,b);return this}}},{requires:["event/base","dom"]});
KISSY.add("event/focusin",function(c,d){document.addEventListener&&c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(s){d.special[s.name]={fix:s.fix,capture:true,setup:function(h){h.type=s.name}}})},{requires:["event/base"]});
KISSY.add("event/mouseenter",function(c,d,s,h){h.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(i){d.special[i.name]={fix:i.fix,setup:function(j){j.type=i.name},handle:function(j,b){if(s._isKSNode(j))j=j[0];var f=b.relatedTarget;try{for(;f&&f!==j;)f=f.parentNode;f!==j&&d._handle(j,b)}catch(v){}}}})},{requires:["event/base","dom","ua"]});
KISSY.add("event",function(c,d,s){d.Target=s;return d},{requires:["event/base","event/target","event/object","event/focusin","event/mouseenter"]});
KISSY.add("node/node",function(c,d,s){function h(i,j,b){if(!(this instanceof h))return new h(i,j,b);if(!i){this.length=0;return s}if(c.isString(i)){i=d.create(i,j,b);if(i.nodeType===11)return new (c.require("node/nodelist"))(i.childNodes)}else if(i instanceof h)return i;else i=i;this[0]=i;return s}h.TYPE="-ks-Node";c.augment(h,{length:1,getDOMNode:function(){return this[0]},nodeType:h.TYPE});h.one=function(i,j){var b=d.get(i,j);return b?new h(b,s,s):null};return h},{requires:["dom"]});
KISSY.add("node/nodelist",function(c,d,s,h){function i(f){if(!(this instanceof i))return new i(f);j.push.apply(this,c.makeArray(f)||[]);return h}var j=Array.prototype,b=d._isElementNode;c.mix(i.prototype,{length:0,item:function(f){var v=null,y,u;if(b(f)){y=0;for(u=this.length;y<u;y++)if(f===this[y]){f=y;break}}if(b(this[f]))v=new s(this[f]);return v},getDOMNodes:function(){return j.slice.call(this)},each:function(f,v){var y=this.length,u=0,x;for(x=new s(this[0]);u<y&&f.call(v||x,x,u,this)!==false;x=
new s(this[++u]));return this}});i.all=function(f,v){return new i(d.query(f,v,true))};return i},{requires:["dom","node/node"]});
KISSY.add("node/attach",function(c,d,s,h,i,j){function b(w,k,a,g){w=[this[w?q:o]()].concat(c.makeArray(k));if(k[a]===j&&(a!=1||c.isString(k[0])))return g.apply(d,w);g.apply(d,w);return this}function f(w,k){c.each(w,function(a){c.each([B,t],function(g,e){g[a]=function(p){switch(k){case m:return function(){return b.call(this,e,arguments,1,p)};case l:return function(){return b.call(this,e,arguments,0,p)};case n:return function(){var r=this[e?q:o]();return(r=p.apply(d,[r].concat(c.makeArray(arguments))))?
new (c.isArray(r)?i:h)(r):null};default:return function(){var r=this[e?q:o]();r=p.apply(d,[r].concat(c.makeArray(arguments)));return r===j?this:r}}}(d[a])})})}function v(w,k,a){w&&c.each(this,function(g){var e;if(k||c.isString(w))e=d.create(w);else{if(x(w,1)||x(w,3))e=w;if(z(w))e=w[0]}d[a](e,g)});return this}function y(w,k){if((w=d.get(w))&&w.appendChild)c.each(this,function(a){d[k](a,w)});return this}function u(w,k){w.__wrap=w.__wrap||[];w.__wrap.push(k)}var x=d._nodeTypeIs,z=d._isKSNode,A=c.require("event/target"),
B=h.prototype,t=i.prototype,o="getDOMNode",q=o+"s",m=1,l=2,n=4;c.mix(B,{one:function(w){return h.one(w,this[0])},all:function(w){return i.all(w,this[0])}});f(["data","removeData"],m);f(["hasClass","addClass","removeClass","replaceClass","toggleClass"],j);f(["attr","removeAttr"],m);f(["val","text"],l);f(["css"],m);f(["width","height"],l);f(["offset"],l);f(["scrollIntoView"],j);f(["parent","next","prev","siblings","children"],n);f(["contains"],j);f(["html","unselectable"],l);f(["remove"],j);c.each(["insertBefore",
"insertAfter"],function(w){B[w]=function(k){d[w].call(d,this[0],k);return this}});c.each([B,t],function(w,k){c.each(["append","prepend"],function(a){w[a]=function(g){return v.call(this,g,k,a)};w[a+"To"]=function(g){return y.call(this,g,a)}})});c.augment(h,A,{fire:null,on:function(w,k,a){function g(p){var r=c.makeArray(arguments);r.shift();p.target=new h(p.target);if(p.relatedTarget)p.relatedTarget=new h(p.relatedTarget);r.unshift(p);return k.apply(a||e,r)}var e=this;s.add(this[0],w,g,a);u(k,g);return this},
detach:function(w,k,a){if(c.isFunction(k)){k=k.__wrap||[];for(var g=0;g<k.length;g++)s.remove(this[0],w,k[g],a)}else s.remove(this[0],w,k,a);return this}});c.augment(i,A,{fire:null});B._supportSpecialEvent=true;c.each({on:"add",detach:"remove"},function(w,k){t[k]=function(a,g,e){for(var p=0;p<this.length;p++)this.item(p).on(a,g,e)}})},{requires:["dom","event","./node","./nodelist"]});KISSY.add("node",function(c,d,s){d.List=s;return d},{requires:["node/node","node/nodelist","node/attach"]});
KISSY.add("json/json2",function(){function c(x){return x<10?"0"+x:x}function d(x){b.lastIndex=0;return b.test(x)?'"'+x.replace(b,function(z){var A=y[z];return typeof A==="string"?A:"\\u"+("0000"+z.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+x+'"'}function s(x,z){var A,B,t,o,q=f,m,l=z[x];if(l&&typeof l==="object"&&typeof l.toJSON==="function")l=l.toJSON(x);if(typeof u==="function")l=u.call(z,x,l);switch(typeof l){case "string":return d(l);case "number":return isFinite(l)?String(l):"null";case "boolean":case "null":return String(l);
case "object":if(!l)return"null";f+=v;m=[];if(Object.prototype.toString.apply(l)==="[object Array]"){o=l.length;for(A=0;A<o;A+=1)m[A]=s(A,l)||"null";t=m.length===0?"[]":f?"[\n"+f+m.join(",\n"+f)+"\n"+q+"]":"["+m.join(",")+"]";f=q;return t}if(u&&typeof u==="object"){o=u.length;for(A=0;A<o;A+=1){B=u[A];if(typeof B==="string")if(t=s(B,l))m.push(d(B)+(f?": ":":")+t)}}else for(B in l)if(Object.hasOwnProperty.call(l,B))if(t=s(B,l))m.push(d(B)+(f?": ":":")+t);t=m.length===0?"{}":f?"{\n"+f+m.join(",\n"+f)+
"\n"+q+"}":"{"+m.join(",")+"}";f=q;return t}}var h=window,i=h.JSON;if(!i)i=h.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var j=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,v,y={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;if(typeof i.stringify!=="function")i.stringify=function(x,z,A){var B;v=f="";if(typeof A==="number")for(B=0;B<A;B+=1)v+=" ";else if(typeof A==="string")v=A;if((u=z)&&typeof z!=="function"&&(typeof z!=="object"||typeof z.length!=="number"))throw Error("JSON.stringify");return s("",{"":x})};if(typeof i.parse!==
"function")i.parse=function(x,z){function A(t,o){var q,m,l=t[o];if(l&&typeof l==="object")for(q in l)if(Object.hasOwnProperty.call(l,q)){m=A(l,q);if(m!==undefined)l[q]=m;else delete l[q]}return z.call(t,o,l)}var B;x=String(x);j.lastIndex=0;if(j.test(x))x=x.replace(j,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(x.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){B=eval("("+x+")");return typeof z==="function"?A({"":B},""):B}throw new SyntaxError("JSON.parse");};return i});KISSY.add("json",function(c,d){return{parse:function(s){if(s==null||s==="")return null;return d.parse(s)},stringify:d.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/impl",function(c,d,s,h){function i(e){e=c.merge(g,e);if(!e.url)return h;if(e.data&&!c.isString(e.data))e.data=c.param(e.data);e.context=e.context||e;var p,r=l,C,D=e.type.toUpperCase();if(e.dataType===A){p=e.jsonpCallback||c.guid(A);e.url=e.url+(e.url.indexOf("?")===-1?"?":"&")+(e.jsonp+"="+p);e.dataType=B;var F=f[p];f[p]=function(I){if(c.isFunction(F))F(I);else{f[p]=h;try{delete f[p]}catch(H){}}j([l,n],I,r,E,e)}}if(e.data&&D===y)e.url=e.url+(e.url.indexOf("?")===-1?"?":"&")+e.data;
if(e.dataType===B){b(o,e);D=c.getScript(e.url,p?null:function(){j([l,n],t,r,E,e)});b(q,e);return D}var G=false,E=e.xhr();b(o,e);E.open(D,e.url,e.async);try{if(e.data||e.contentType)E.setRequestHeader(x,e.contentType);E.setRequestHeader("Accept",e.dataType&&e.accepts[e.dataType]?e.accepts[e.dataType]+", */*; q=0.01":e.accepts._default)}catch(J){}E.onreadystatechange=function(I){if(!E||E.readyState===0||I==="abort"){G||j(n,null,w,E,e);G=true;if(E)E.onreadystatechange=v}else if(!G&&E&&(E.readyState===
4||I===k)){G=true;E.onreadystatechange=v;var H;if(I===k)H=k;else{a:{try{H=E.status>=200&&E.status<300||E.status===304||E.status===1223;break a}catch(P){}H=false}H=H?l:w}r=H;try{H=E;var M=e.dataType,N=t,O,L=H;if(!c.isString(L)){N=H.getResponseHeader(x)||t;L=(O=M==="xml"||!M&&N.indexOf("xml")>=0)?H.responseXML:H.responseText;if(O&&L.documentElement.nodeName===a)throw a;}if(c.isString(L))if(M===z||!M&&N.indexOf(z)>=0)L=s.parse(L);C=L}catch(Q){r=a}j([r===l?l:w,n],C,r,E,e);if(I===k){E.abort();b(m,e)}if(e.async)E=
null}};b(q,e);try{E.send(D===u?e.data:null)}catch(K){j([w,n],C,w,E,e)}e.async||b(n,e);return E}function j(e,p,r,C,D){if(c.isArray(e))c.each(e,function(F){j(F,p,r,C,D)});else{r===e&&D[e]&&D[e].call(D.context,p,r,C);b(e,D)}}function b(e,p){i.fire(e,{ajaxConfig:p})}var f=window,v=function(){},y="GET",u="POST",x="Content-Type",z="json",A=z+"p",B="script",t="",o="start",q="send",m="stop",l="success",n="complete",w="error",k="timeout",a="parsererror",g={type:y,url:t,contentType:"application/x-www-form-urlencoded",
async:true,data:null,xhr:f.ActiveXObject?function(){if(f.XmlHttpRequest)try{return new f.XMLHttpRequest}catch(e){}try{return new f.ActiveXObject("Microsoft.XMLHTTP")}catch(p){}}:function(){return new f.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"},jsonp:"callback"};c.mix(i,d.Target);c.mix(i,{get:function(e,p,r,C,D){if(c.isFunction(p)){C=r;r=p}return i({type:D||
y,url:e,data:p,success:function(F,G,E){r&&r.call(this,F,G,E)},dataType:C})},post:function(e,p,r,C){if(c.isFunction(p)){C=r;r=p;p=h}return i.get(e,p,r,C,u)},jsonp:function(e,p,r){if(c.isFunction(p)){r=p;p=null}return i.get(e,p,r,A)}});return i},{requires:["event","json"]});KISSY.add("ajax",function(c,d){return d},{requires:["ajax/impl"]});
KISSY.add("anim/easing",function(){var c=Math,d=c.PI,s=c.pow,h=c.sin,i=1.70158,j={easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;return-(s(2,10*(b-=1))*h((b-0.075)*2*d/0.3))},elasticOut:function(b){if(b===
0||b===1)return b;return s(2,-10*b)*h((b-0.075)*2*d/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*s(2,10*(b-=1))*h((b-0.1125)*2*d/0.45);return s(2,-10*(b-=1))*h((b-0.1125)*2*d/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((i+1)*b-i)},backOut:function(b){return(b-=1)*b*((i+1)*b+i)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((i*=1.525)+1)*b-i);return 0.5*((b-=2)*b*(((i*=1.525)+1)*b+i)+2)},bounceIn:function(b){return 1-j.bounceOut(1-b)},bounceOut:function(b){return b<
1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return j.bounceIn(b*2)*0.5;return j.bounceOut(b*2-1)*0.5+0.5}};j.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return j});
KISSY.add("anim/manager",function(c){function d(h){h[s]=h[s]||c.guid("anim-");return h[s]}var s=c.guid("anim-");return{interval:20,runnings:{},timer:null,start:function(h){var i=d(h);if(!this.runnings[i]){this.runnings[i]=h;this.startTimer()}},stop:function(h){this.notRun(h)},notRun:function(h){delete this.runnings[d(h)];c.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(h){this.notRun(h)},resume:function(h){this.start(h)},startTimer:function(){var h=this;if(!h.timer)h.timer=setTimeout(function(){if(h.runFrames())h.stopTimer();
else{h.timer=null;h.startTimer()}},h.interval)},stopTimer:function(){var h=this.timer;if(h){clearTimeout(h);this.timer=null}},runFrames:function(){var h=true,i=this.runnings,j;for(j in i)if(i.hasOwnProperty(j)){h=false;i[j]._runFrame()}return h}}});
KISSY.add("anim/base",function(c,d,s,h,i,j,b){function f(m,l,n,w,k,a){if(!(m=d.get(m)))return b;if(!(this instanceof f))return new f(m,l,n,w,k,a);var g=c.isPlainObject(n);l=l;this.domEl=m;if(c.isPlainObject(l))l=String(c.param(l,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var e=l,p=m,r;m={};var C=x.length;p=d.insertAfter(p.cloneNode(true),p);r=p.style;for(y(p,e);C--;){var D=x[C];if(r[D])m[D]=(o[D]||o["*"]).getter(p,D)}e=u(e);for(var F in e)m[F]=(o[F]||
o["*"]).getter(p,F);d.remove(p);this.props=m;this.targetStyle=l;if(g)g=c.merge(B,n);else{g=c.clone(B);if(n)g.duration=parseFloat(n)||1;if(c.isString(w)||c.isFunction(w))g.easing=w;if(c.isFunction(k))g.complete=k;if(a!==b)g.nativeSupport=a}if(!c.isEmptyObject(u(l)))g.nativeSupport=false;this.config=g;if(g.nativeSupport&&q()&&c.isString(w=g.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(w)||(w=h.NativeTimeFunction[w])){g.easing=w;this.transitionName=q()}if(c.isFunction(k))this.callback=k;return b}function v(m,
l){return l}function y(m,l){if(i.ie&&l.indexOf(A)>-1){var n=l.match(/opacity\s*:\s*([^;]+)(;|$)/);n&&d.css(m,A,parseFloat(n[1]))}m.style.cssText+=";"+l;n=u(l);for(var w in n)m[w]=n[w]}function u(m){for(var l={},n=0;n<z.length;n++){var w=z[n].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(w=m.match(RegExp(w+"\\s*:([^;]+)(;|$)")))l[z[n]]=c.trim(w[1])}return l}var x,z,A,B,t;s=s.Target;x="borderBottomWidth borderBottomStyle borderLeftWidth borderLeftStyle borderRightWidth borderRightStyle borderSpacing borderTopWidth borderTopStyle bottom fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
z=[];A="opacity";B={duration:1,easing:"easeNone",nativeSupport:true};f.PROPS=x;f.CUSTOM_ATTRS=z;f.PROP_OPS={"*":{getter:function(m,l){var n=d.css(m,l),w=parseFloat(n);n=(n+"").replace(/^[-\d.]+/,"");if(isNaN(w))return{v:n,u:"",f:v};return{v:w,u:n,f:this.interpolate}},setter:function(m,l,n){return d.css(m,l,n)},interpolate:function(m,l,n){return(m+(l-m)*n).toFixed(3)}}};var o=f.PROP_OPS;c.augment(f,s,{isRunning:false,elapsedTime:0,start:0,finish:0,duration:0,run:function(){var m=this.config,l=this.domEl,
n,w=this.props,k={},a;if(this.fire("start")!==false){this.stop();this.duration=n=m.duration*1E3;if(this.transitionName)this._nativeRun();else{for(a in w)k[a]=(o[a]||o["*"]).getter(l,a);this.source=k;l=c.now();n=l+n;m=m.easing;if(c.isString(m))m=h[m]||h.easeNone;this.start=l;this.finish=n;this.easing=m;j.start(this)}this.isRunning=true;return this}},_complete:function(){this.fire("complete");this.callback&&this.callback()},_runFrame:function(){var m=this.domEl,l=this.finish,n=this.start,w=this.duration,
k=c.now(),a=this.source,g=this.easing,e=this.props,p;n=k-n;w=k>l?1:n/w;var r,C;this.elapsedTime=n;for(p in e){n=a[p];r=e[p];if(r.v==0)r.u=n.u;if(n.u!==r.u){n.v=0;n.u=r.u}n=r.f(n.v,r.v,g(w))+r.u;(o[p]||o["*"]).setter(m,p,n)}if(this.fire("step")===false||(C=k>l)){this.stop();C&&this._complete()}},_nativeRun:function(){var m=this,l=m.domEl,n=m.duration,w=m.config.easing,k=m.transitionName,a={};a[k+"Property"]="all";a[k+"Duration"]=n+"ms";a[k+"TimingFunction"]=w;d.css(l,a);c.later(function(){y(l,m.targetStyle)},
0);c.later(function(){m.stop(true)},n)},stop:function(m){if(this.transitionName)this._nativeStop(m);else{if(m){y(this.domEl,this.targetStyle);this._complete()}j.stop(this)}this.isRunning=false;return this},_nativeStop:function(m){var l=this.domEl,n=this.transitionName,w=this.props,k;if(m){d.css(l,n+"Property","none");this._complete()}else{for(k in w)d.css(l,k,d._getComputedStyle(l,k));d.css(l,n+"Property","none")}}});f.supportTransition=function(){if(t)return t;var m="transition",l,n=document.body;
if(n.style[m]!==b)l=m;else c.each(["Webkit","Moz","O"],function(w){if(n.style[m=w+"Transition"]!==b){l=m;return false}});return t=l};var q=f.supportTransition;return f},{requires:["dom","event","./easing","ua","./manager"]});
KISSY.add("anim/node-plugin",function(c,d,s,h,i){function j(t,o,q,m,l){if(o==="toggle"){l=d.css(t,f)===v?1:0;o="show"}if(l)d.css(t,f,d.data(t,f)||"");var n={},w={};c.each(B[o],function(k){if(k===y){n[y]=d.css(t,y);d.css(t,y,u)}else if(k===x){n[x]=d.css(t,x);w.opacity=l?1:0;l&&d.css(t,x,0)}else if(k===z){n[z]=d.css(t,z);w.height=l?d.css(t,z)||t.naturalHeight:0;l&&d.css(t,z,0)}else if(k===A){n[A]=d.css(t,A);w.width=l?d.css(t,A)||t.naturalWidth:0;l&&d.css(t,A,0)}});(new s(t,w,q,"easeOut",function(){if(!l){var k=
t.style,a=k[f];if(a!==v){a&&d.data(t,f,a);k[f]=v}n[z]&&d.css(t,{height:n[z]});n[A]&&d.css(t,{width:n[A]});n[x]&&d.css(t,{opacity:n[x]});n[y]&&d.css(t,{overflow:n[y]})}m&&c.isFunction(m)&&m()})).run()}h=c.require("node/node").prototype;var b=c.require("node/nodelist").prototype,f="display",v="none",y="overflow",u="hidden",x="opacity",z="height",A="width",B={show:[y,x,z,A],fade:[x],slide:[y,z]};c.each([h,b],function(t){t.animate=function(){var o=c.makeArray(arguments);c.each(this,function(q){s.apply(i,
[q].concat(o)).run()});return this};c.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(o,q){t[q]=function(m,l){d[q]&&arguments.length===0?d[q](this):c.each(this,function(n){j(n,o[0],m,l,o[1])});return this}})})},{requires:["dom","anim/base","node"]});
KISSY.add("anim/color",function(c,d,s){function h(y){y=y.toLowerCase();var u;if(u=y.match(j))return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])];else if(u=y.match(b)){for(y=1;y<u.length;y++)if(u[y].length<2)u[y]+=u[y];return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}if(i[y])return i[y];return[255,255,255]}var i={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],
olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},j=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,b=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,f="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),v=s.PROP_OPS;s=s.PROPS;s.push.apply(s,f);v.color={getter:function(y,u){return{v:h(d.css(y,u)),u:"",f:this.interpolate}},setter:v["*"].setter,interpolate:function(y,u,x){var z=
v["*"].interpolate;return"rgb("+[Math.floor(z(y[0],u[0],x)),Math.floor(z(y[1],u[1],x)),Math.floor(z(y[2],u[2],x))].join(", ")+")"}};c.each(f,function(y){v[y]=v.color})},{requires:["dom","./base"]});KISSY.add("anim/scroll",function(c,d,s){var h=s.PROP_OPS;s.CUSTOM_ATTRS.push("scrollLeft","scrollTop");h.scrollLeft=h.scrollTop={getter:function(i,j){return{v:i[j],u:"",f:h["*"].interpolate}},setter:function(i,j,b){i[j]=b}}},{requires:["dom","./base"]});
KISSY.add("anim",function(c,d,s){d.Easing=s;return d},{requires:["anim/base","anim/easing","anim/node-plugin","anim/color","anim/scroll"]});
KISSY.add("base/attribute",function(c,d){function s(){this.__attrs={};this.__attrVals={}}function h(i){i+="";return i.charAt(0).toUpperCase()+i.substring(1)}c.augment(s,{__getDefAttrs:function(){return c.clone(this.__attrs)},addAttr:function(i,j,b){if(this.__attrs[i])c.mix(this.__attrs[i],j,b);else this.__attrs[i]=c.clone(j||{});return this},hasAttr:function(i){return i&&this.__attrs.hasOwnProperty(i)},removeAttr:function(i){if(this.hasAttr(i)){delete this.__attrs[i];delete this.__attrVals[i]}return this},
set:function(i,j){var b=this.get(i);if(b!==j)if(false!==this.__fireAttrChange("before",i,b,j)){this.__set(i,j);this.__fireAttrChange("after",i,b,this.__attrVals[i]);return this}},__fireAttrChange:function(i,j,b,f){return this.fire(i+h(j)+"Change",{attrName:j,prevVal:b,newVal:f})},__set:function(i,j){var b,f=this.__attrs[i];if(f=f&&f.setter)b=f.call(this,j);if(b!==d)j=b;this.__attrVals[i]=j},get:function(i){var j;j=(j=this.__attrs[i])&&j.getter;i=i in this.__attrVals?this.__attrVals[i]:this.__getDefAttrVal(i);
if(j)i=j.call(this,i);return i},__getDefAttrVal:function(i){i=this.__attrs[i];var j;if(i){if(j=i.valueFn){j=j.call(this);if(j!==d)i.value=j;delete i.valueFn}return i.value}},reset:function(i){if(this.hasAttr(i))return this.set(i,this.__getDefAttrVal(i));for(i in this.__attrs)this.hasAttr(i)&&this.reset(i);return this}});s.__capitalFirst=h;return s});
KISSY.add("base/base",function(c,d){function s(h){d.call(this);for(var i=this.constructor;i;){var j=i.ATTRS;if(j){var b=void 0;for(b in j)j.hasOwnProperty(b)&&this.addAttr(b,j[b],false)}i=i.superclass?i.superclass.constructor:null}if(h)for(var f in h)h.hasOwnProperty(f)&&this.__set(f,h[f])}c.augment(s,c.require("event/target"),d);return s},{requires:["base/attribute","event"]});KISSY.add("base",function(c,d){return d},{requires:["base/base"]});
KISSY.add("cookie/base",function(c){var d=document,s=encodeURIComponent,h=decodeURIComponent;return{get:function(i){var j;if(c.isString(i)&&i!=="")if(i=String(d.cookie).match(RegExp("(?:^| )"+i+"(?:(?:=([^;]*))|;|$)")))j=i[1]?h(i[1]):"";return j},set:function(i,j,b,f,v,y){j=String(s(j));var u=b;if(typeof u==="number"){u=new Date;u.setTime(u.getTime()+b*864E5)}if(u instanceof Date)j+="; expires="+u.toUTCString();if(c.isString(f)&&f!=="")j+="; domain="+f;if(c.isString(v)&&v!=="")j+="; path="+v;if(y)j+=
"; secure";d.cookie=i+"="+j},remove:function(i,j,b,f){this.set(i,"",0,j,b,f)}}});KISSY.add("cookie",function(c,d){return d},{requires:["cookie/base"]});KISSY.add("core",function(c,d,s,h,i,j,b,f,v,y){d={UA:d,DOM:s,Event:h,EventTarget:h.Target,Node:i,NodeList:i.List,JSON:j,Ajax:b,IO:b,ajax:b,io:b,jsonp:b.jsonp,Anim:f,Easing:f.Easing,Base:v,Cookie:y,one:i.one,all:i.List.all,get:s.get,query:s.query};c.mix(c,d);return d},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
