/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("ua/base",function(){var f=navigator.userAgent,a="",l="",c,e={},g=function(b){var d=0;return parseFloat(b.replace(/\./g,function(){return d++===0?".":""}))};if((c=f.match(/AppleWebKit\/([\d.]*)/))&&c[1]){e[a="webkit"]=g(c[1]);if((c=f.match(/Chrome\/([\d.]*)/))&&c[1])e[l="chrome"]=g(c[1]);else if((c=f.match(/\/([\d.]*) Safari/))&&c[1])e[l="safari"]=g(c[1]);if(/ Mobile\//.test(f))e.mobile="apple";else if(c=f.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))e.mobile=c[0].toLowerCase()}else if((c=
f.match(/Presto\/([\d.]*)/))&&c[1]){e[a="presto"]=g(c[1]);if((c=f.match(/Opera\/([\d.]*)/))&&c[1]){e[l="opera"]=g(c[1]);if((c=f.match(/Opera\/.* Version\/([\d.]*)/))&&c[1])e[l]=g(c[1]);if((c=f.match(/Opera Mini[^;]*/))&&c)e.mobile=c[0].toLowerCase();else if((c=f.match(/Opera Mobi[^;]*/))&&c)e.mobile=c[0]}}else if((c=f.match(/MSIE\s([^;]*)/))&&c[1]){e[a="trident"]=0.1;e[l="ie"]=g(c[1]);if((c=f.match(/Trident\/([\d.]*)/))&&c[1])e[a]=g(c[1])}else if(c=f.match(/Gecko/)){e[a="gecko"]=0.1;if((c=f.match(/rv:([\d.]*)/))&&
c[1])e[a]=g(c[1]);if((c=f.match(/Firefox\/([\d.]*)/))&&c[1])e[l="firefox"]=g(c[1])}e.core=a;e.shell=l;e._numberify=g;return e});
KISSY.add("ua/extra",function(f,a){var l=navigator.userAgent,c,e,g={},b=a._numberify;if(l.match(/360SE/))g[e="se360"]=3;else if(l.match(/Maxthon/)&&(c=window.external)){e="maxthon";try{g[e]=b(c.max_version)}catch(d){g[e]=0.1}}else if(c=l.match(/TencentTraveler\s([\d.]*)/))g[e="tt"]=c[1]?b(c[1]):0.1;else if(l.match(/TheWorld/))g[e="theworld"]=3;else if(c=l.match(/SE\s([\d.]*)/))g[e="sougou"]=c[1]?b(c[1]):0.1;e&&(g.shell=e);f.mix(a,g);return a},{requires:["ua/base"]});
KISSY.add("ua",function(f,a){return a},{requires:["ua/extra"]});KISSY.add("dom/base",function(f,a){function l(c,e){return c&&c.nodeType===e}return{_isElementNode:function(c){return l(c,1)},_getWin:function(c){return c&&"scrollTo"in c&&c.document?c:l(c,9)?c.defaultView||c.parentWindow:c==a?window:false},_nodeTypeIs:l,_isNodeList:function(c){return c&&!c.nodeType&&c.item&&!c.setTimeout}}});
KISSY.add("dom/attr",function(f,a,l,c){function e(h,j){j=r[j]||j;var w=n[j];if(!h)return c;return w&&w.get?w.get(h,j):h[j]}l=document.documentElement;var g=!l.hasAttribute,b=l.textContent!==c?"textContent":"innerText",d=a._isElementNode,i=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,q=/^(?:button|input|object|select|textarea)$/i,v=/^a(?:rea)?$/i,t=/:|^on/,s=/\r/g,x={},m={val:1,css:1,html:1,text:1,data:1,width:1,height:1,
offset:1},p={tabindex:{get:function(h){var j=h.getAttributeNode("tabindex");return j&&j.specified?parseInt(j.value,10):q.test(h.nodeName)||v.test(h.nodeName)&&h.href?0:c}},style:{get:function(h){return h.style.cssText},set:function(h,j){h.style.cssText=j}}},r={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},
u={get:function(h,j){return a.prop(h,j)?j.toLowerCase():c},set:function(h,j,w){if(j===false)a.removeAttr(h,w);else{j=r[w]||w;if(j in h)h[j]=true;h.setAttribute(w,w.toLowerCase())}return w}},n={},k={},o={option:{get:function(h){var j=h.attributes.value;return!j||j.specified?h.value:h.text}},select:{get:function(h){var j=h.selectedIndex,w=h.options;h=h.type==="select-one";if(j<0)return null;else if(h)return a.val(w[j]);j=[];h=0;for(var y=w.length;h<y;++h)w[h].selected&&j.push(a.val(w[h]));return j},
set:function(h,j){var w=f.makeArray(j);f.each(h.options,function(y){y.selected=f.inArray(a.val(y),w)});if(!w.length)h.selectedIndex=-1;return w}}};if(g){k={get:function(h,j){var w;return(w=h.getAttributeNode(j))&&w.nodeValue!==""?w.nodeValue:c},set:function(h,j,w){if(h=h.getAttributeNode(w))h.nodeValue=j}};x=r;p.tabIndex=p.tabindex;f.each(["href","src","width","height","colSpan","rowSpan"],function(h){p[h]={get:function(j){j=j.getAttribute(h,2);return j===null?c:j}}});o.button=p.value=k}f.each(["radio",
"checkbox"],function(h){o[h]={get:function(j){return j.getAttribute("value")===null?"on":j.value},set:function(j,w){if(f.isArray(w))return j.checked=f.inArray(a.val(j),w)}}});f.mix(a,{prop:function(h,j,w){if(f.isPlainObject(j))for(var y in j)a.prop(h,y,j[y]);else{h=a.query(h);j=r[j]||j;var z=n[j];if(w!==c)f.each(h,function(A){if(z&&z.set)z.set(A,w,j);else A[j]=w});else if(h=h[0])return e(h,j)}},hasProp:function(h,j){return e(h,j)!==c},removeProp:function(h,j){j=r[j]||j;a.query(h).each(function(w){try{w[j]=
c;delete w[j]}catch(y){}})},attr:function(h,j,w,y){if(f.isPlainObject(j)){y=w;for(var z in j)a.attr(h,z,j[z],y)}else if(j=f.trim(j)){j=j.toLowerCase();if(y&&m[j])return a[j](h,w);j=x[j]||j;var A;A=i.test(j)?u:t.test(j)?k:p[j];if(w===c){h=a.get(h);if(d(h)){if(h.nodeName.toLowerCase()=="form")A=k;if(A&&A.get)return A.get(h,j);h=h.getAttribute(j);return h===null?c:h}}else f.each(a.query(h),function(B){if(d(B))A&&A.set?A.set(B,w,j):B.setAttribute(j,""+w)})}},removeAttr:function(h,j){j=j.toLowerCase();
j=x[j]||j;f.each(a.query(h),function(w){if(d(w)){var y;w.removeAttribute(j);if(i.test(j)&&(y=r[j]||j)in w)w[y]=false}})},hasAttr:g?function(h,j){j=j.toLowerCase();var w=a.get(h).getAttributeNode(j);return!!(w&&w.specified)}:function(h,j){j=j.toLowerCase();return a.get(h).hasAttribute(j)},val:function(h,j){var w,y;if(j===c){var z=a.get(h);if(z){if((w=o[z.nodeName.toLowerCase()]||o[z.type])&&"get"in w&&(y=w.get(z,"value"))!==c)return y;y=z.value;return typeof y==="string"?y.replace(s,""):y==null?"":
y}}else a.query(h).each(function(A){if(A.nodeType===1){var B=j;if(B==null)B="";else if(typeof B==="number")B+="";else if(f.isArray(B))B=f.map(B,function(C){return C==null?"":C+""});w=o[A.nodeName.toLowerCase()]||o[A.type];if(!w||!("set"in w)||w.set(A,B,"value")===c)A.value=B}})},text:function(h,j){if(j===c){var w=a.get(h);if(d(w))return w[b]||"";else if(a._nodeTypeIs(w,3))return w.nodeValue;return c}else f.each(a.query(h),function(y){if(d(y))y[b]=j;else if(a._nodeTypeIs(y,3))y.nodeValue=j})}});return a},
{requires:["./base","ua"]});
KISSY.add("dom/class",function(f,a,l){function c(b,d,i,q){if(!(d=f.trim(d)))return q?false:l;b=a.query(b);var v=0,t=b.length,s=d.split(e);for(d=[];v<s.length;v++){var x=f.trim(s[v]);x&&d.push(x)}for(v=0;v<t;v++){s=b[v];if(a._isElementNode(s)){s=i(s,d,d.length);if(s!==l)return s}}if(q)return false;return l}var e=/[\.\s]\s*\.?/,g=/[\n\t]/g;f.mix(a,{hasClass:function(b,d){return c(b,d,function(i,q,v){if(i=i.className){i=(" "+i+" ").replace(g," ");for(var t=0,s=true;t<v;t++)if(i.indexOf(" "+q[t]+" ")<
0){s=false;break}if(s)return true}},true)},addClass:function(b,d){c(b,d,function(i,q,v){var t=i.className;if(t){var s=(" "+t+" ").replace(g," ");t=t;for(var x=0;x<v;x++)if(s.indexOf(" "+q[x]+" ")<0)t+=" "+q[x];i.className=f.trim(t)}else i.className=d},l)},removeClass:function(b,d){c(b,d,function(i,q,v){var t=i.className;if(t)if(v){t=(" "+t+" ").replace(g," ");for(var s=0,x;s<v;s++)for(x=" "+q[s]+" ";t.indexOf(x)>=0;)t=t.replace(x," ");i.className=f.trim(t)}else i.className=""},l)},replaceClass:function(b,
d,i){a.removeClass(b,d);a.addClass(b,i)},toggleClass:function(b,d,i){var q=f.isBoolean(i),v;c(b,d,function(t,s,x){for(var m=0,p;m<x;m++){p=s[m];v=q?!i:a.hasClass(t,p);a[v?"removeClass":"addClass"](t,p)}},l)}});return a},{requires:["dom/base"]});
KISSY.add("dom/create",function(f,a,l,c){function e(y,z){if(f.isPlainObject(z))if(t(y))a.attr(y,z,true);else y.nodeType==11&&f.each(y.childNodes,function(A){a.attr(A,z,true)});return y}function g(y,z){var A=null,B,C;if(y&&(y.push||y.item)&&y[0]){z=z||y[0].ownerDocument;A=z.createDocumentFragment();if(y.item)y=f.makeArray(y);B=0;for(C=y.length;B<C;B++)A.appendChild(y[B])}else f.log("Unable to convert "+y+" to fragment.");return A}function b(y,z,A,B){if(A){var C=f.guid("ks-tmp-"),D=RegExp(p);z+='<span id="'+
C+'"></span>';f.available(C,function(){var F=a.get("head"),E,G,H,J,K,I;for(D.lastIndex=0;E=D.exec(z);)if((H=(G=E[1])?G.match(u):false)&&H[2]){E=i.createElement("script");E.src=H[2];if((J=G.match(n))&&J[2])E.charset=J[2];E.async=true;F.appendChild(E)}else if((I=E[2])&&I.length>0)f.globalEval(I);(K=i.getElementById(C))&&a.remove(K);f.isFunction(B)&&B()});d(y,z)}else{d(y,z);f.isFunction(B)&&B()}}function d(y,z){z=(z+"").replace(p,"");try{y.innerHTML=z}catch(A){for(;y.firstChild;)y.removeChild(y.firstChild);
z&&y.appendChild(a.create(z))}}var i=document,q=l.ie,v=a._nodeTypeIs,t=a._isElementNode,s=i.createElement("div"),x=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,m=/<(\w+)/,p=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,r=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,u=/\ssrc=(['"])(.*?)\1/i,n=/\scharset=(['"])(.*?)\1/i;f.mix(a,{create:function(y,z,A){if(v(y,1)||v(y,3)){z=y;A=z.cloneNode(true);if(l.ie<8)A.innerHTML=z.innerHTML;return A}if(!(y=f.trim(y)))return null;var B=
null;B=a._creators;var C,D="div",F;if(C=r.exec(y))B=(A||i).createElement(C[1]);else{y=y.replace(x,"<$1></$2>");if((C=m.exec(y))&&(F=C[1])&&f.isFunction(B[F=F.toLowerCase()]))D=F;y=B[D](y,A).childNodes;B=y.length===1?y[0].parentNode.removeChild(y[0]):g(y,A||i)}return e(B,z)},_creators:{div:function(y,z){var A=z?z.createElement("div"):s;A.innerHTML="w<div>"+y+"</div>";return A.lastChild}},html:function(y,z,A,B){if(z===c){y=a.get(y);if(t(y))return y.innerHTML}else f.each(a.query(y),function(C){t(C)&&
b(C,z,A,B)})},remove:function(y){f.each(a.query(y),function(z){z.parentNode&&z.parentNode.removeChild(z)})},_nl2frag:g});if(q||l.gecko||l.webkit){var k=a._creators,o=a.create,h=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,j={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},w;for(w in j)(function(y){k[w]=function(z,A){return o("<"+y+">"+z+"</"+y+">",null,A)}})(j[w]);if(q){k.script=function(y,z){var A=z?z.createElement("div"):s;A.innerHTML="-"+y;A.removeChild(A.firstChild);
return A};if(q<8)k.tbody=function(y,z){var A=o("<table>"+y+"</table>",null,z),B=A.children.tags("tbody")[0];A.children.length>1&&B&&!h.test(y)&&B.parentNode.removeChild(B);return A}}f.mix(k,{optgroup:k.option,th:k.td,thead:k.tbody,tfoot:k.tbody,caption:k.tbody,colgroup:k.tbody})}return a},{requires:["./base","ua"]});
KISSY.add("dom/data",function(f,a,l){var c=window,e="_ks_data_"+f.now(),g={},b={},d={};d.applet=1;d.object=1;d.embed=1;var i={hasData:function(t,s){if(t)if(s!==l){if(s in t)return true}else if(!f.isEmptyObject(t))return true;return false}},q={hasData:function(t,s){if(t==c)return q.hasData(b,s);return i.hasData(t[e],s)},data:function(t,s,x){if(t==c)return q.data(b,s,x);t=t[e]=t[e]||{};if(x!==l)t[s]=x;else return s!==l?t[s]:t},removeData:function(t,s){if(t==c)return q.removeData(b,s);var x=t[e];if(x)if(s!==
l){delete x[s];f.isEmptyObject(x)&&q.removeData(t,l)}else delete t[e]}},v={hasData:function(t,s){var x=t[e];if(!x)return false;return i.hasData(g[x],s)},data:function(t,s,x){if(!d[t.nodeName.toLowerCase()]){var m=t[e];m||(m=t[e]=f.guid());t=g[m]=g[m]||{};if(x!==l)t[s]=x;else return s!==l?t[s]:t}},removeData:function(t,s){var x=t[e];if(x){var m=g[x];if(m)if(s!==l){delete m[s];f.isEmptyObject(m)&&v.removeData(t,l)}else{delete g[x];try{delete t[e]}catch(p){}t.removeAttribute&&t.removeAttribute(e)}}}};
f.mix(a,{hasData:function(t,s){var x=false;a.query(t).each(function(m){x=m&&m.nodeType?x||v.hasData(m,s):x||q.hasData(m,s)});return x},data:function(t,s,x){if(f.isPlainObject(s))for(var m in s)a.data(t,m,s[m]);else if(x===l)return(t=a.get(t))&&t.nodeType?v.data(t,s,x):q.data(t,s,x);else a.query(t).each(function(p){p&&p.nodeType?v.data(p,s,x):q.data(p,s,x)})},removeData:function(t,s){a.query(t).each(function(x){x&&x.nodeType?v.removeData(x,s):q.removeData(x,s)})}});return a},{requires:["./base"]});
KISSY.add("dom/insertion",function(f,a){function l(b,d,i){b=a.query(b);d=a.query(d);if(b=c(b)){var q;if(d.length>1)q=b.cloneNode(true);for(var v=0;v<d.length;v++){var t=d[v],s=v>0?q.cloneNode(true):b;i(s,t)}}}var c=a._nl2frag;f.mix(a,{insertBefore:function(b,d){l(b,d,function(i,q){q.parentNode&&q.parentNode.insertBefore(i,q)})},insertAfter:function(b,d){l(b,d,function(i,q){q.parentNode&&q.parentNode.insertBefore(i,q.nextSibling)})},appendTo:function(b,d){l(b,d,function(i,q){q.appendChild(i)})},prependTo:function(b,
d){l(b,d,function(i,q){q.insertBefore(i,q.firstChild)})}});var e={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},g;for(g in e)a[g]=a[e[g]];return a},{requires:["./create"]});
KISSY.add("dom/offset",function(f,a,l,c){function e(h){var j,w=0;j=0;var y=b.body,z=t(h[p]);if(h[o]){j=h[o]();w=j[r];j=j[u];h=d&&b.documentMode!=9&&(s?i.clientTop:y.clientTop)||0;w-=d&&b.documentMode!=9&&(s?i.clientLeft:y.clientLeft)||0;j-=h;if(l.mobile!=="apple"){w+=a[n](z);j+=a[k](z)}}return{left:w,top:j}}var g=window,b=document,d=l.ie,i=b.documentElement,q=a._isElementNode,v=a._nodeTypeIs,t=a._getWin,s=b.compatMode==="CSS1Compat",x=Math.max,m=parseInt,p="ownerDocument",r="left",u="top",n="scrollLeft",
k="scrollTop",o="getBoundingClientRect";f.mix(a,{offset:function(h,j){if((h=a.get(h))&&h[p]){if(j===c)return e(h);var w=h;if(a.css(w,"position")==="static")w.style.position="relative";var y=e(w),z={},A,B;for(B in j){A=m(a.css(w,B),10)||0;z[B]=A+j[B]-y[B]}a.css(w,z)}},scrollIntoView:function(h,j,w,y){if((h=a.get(h))&&h[p]){y=y===c?true:!!y;w=w===c?true:!!w;if(!j||(j=a.get(j))===g)h.scrollIntoView(w);else{if(v(j,9))j=t(j);var z=!!t(j),A=a.offset(h),B=z?{left:a.scrollLeft(j),top:a.scrollTop(j)}:a.offset(j),
C={left:A[r]-B[r],top:A[u]-B[u]};A=z?a.viewportHeight(j):j.clientHeight;z=z?a.viewportWidth(j):j.clientWidth;B=a[n](j);var D=a[k](j),F=B+z,E=D+A,G=h.offsetHeight;h=h.offsetWidth;var H=C.left+B-(m(a.css(j,"borderLeftWidth"))||0);C=C.top+D-(m(a.css(j,"borderTopWidth"))||0);var J=H+h,K=C+G,I,L;if(G>A||C<D||w)I=C;else if(K>E)I=K-A;if(y)if(h>z||H<B||w)L=H;else if(J>F)L=J-z;a[k](j,I);a[n](j,L)}}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0});f.each(["Left","Top"],function(h,j){var w="scroll"+
h;a[w]=function(y,z){if(f.isNumber(y))arguments.callee(g,y);else{y=a.get(y);var A=0,B=t(y);if(B){if(z!==c){A=h=="Left"?z:a.scrollLeft(B);var C=h=="Top"?z:a.scrollTop(B);B.scrollTo(A,C)}A=B.document;A=B[j?"pageYOffset":"pageXOffset"]||A.documentElement[w]||A.body[w]}else if(q(y=a.get(y)))A=z!==c?y[w]=z:y[w];return z===c?A:c}}});f.each(["Width","Height"],function(h){a["doc"+h]=function(j){j=a.get(j);j=t(j).document;return x(j.documentElement["scroll"+h],j.body["scroll"+h],a["viewport"+h](j))};a["viewport"+
h]=function(j){j=a.get(j);var w="inner"+h;j=t(j);var y=j.document;return w in j?j[w]:s?y.documentElement["client"+h]:y.body["client"+h]}});return a},{requires:["./base","ua"]});
KISSY.add("dom/style",function(f,a,l,c){function e(n,k){var o=a.get(n);if(f.isWindow(o))return k==q?a.viewportWidth(o):a.viewportHeight(o);else if(o.nodeType==9)return k==q?a.docWidth(o):a.docHeight(o);var h=k===q?o.offsetWidth:o.offsetHeight;f.each(k===q?["Left","Right"]:["Top","Bottom"],function(j){h-=parseFloat(a._getComputedStyle(o,"padding"+j))||0;h-=parseFloat(a._getComputedStyle(o,"border"+j+"Width"))||0});return h}function g(n,k,o){var h=o;if(o===v&&s.test(k)){h=0;if(f.inArray(a.css(n,"position"),
["absolute","fixed"])){o=n[k==="left"?"offsetLeft":"offsetTop"];if(i&&document.documentMode!=9||l.opera)o-=n.offsetParent["client"+(k=="left"?"Left":"Top")]||0;h=o-(t(a.css(n,"margin-"+k))||0)}}return h}var b=document,d=b.documentElement,i=l.ie,q="width",v="auto",t=parseInt,s=/^(?:left|top)/,x=/^(?:width|height|top|left|right|bottom|margin|padding)/i,m=/-([a-z])/ig,p=function(n,k){return k.toUpperCase()},r={},u={};f.mix(a,{_CUSTOM_STYLES:r,_getComputedStyle:function(n,k){var o="",h=n.ownerDocument;
if(n.style)o=h.defaultView.getComputedStyle(n,null)[k];return o},css:function(n,k,o){if(f.isPlainObject(k))for(var h in k)a.css(n,h,k[h]);else{if(k.indexOf("-")>0)k=k.replace(m,p);h=k;k=r[k]||k;if(o===c){n=a.get(n);var j="";if(n&&n.style){j=k.get?k.get(n,h):n.style[k];if(j===""&&!k.get)j=g(n,k,a._getComputedStyle(n,k))}return j===c?"":j}else{if(o===null||o==="")o="";else if(!isNaN(new Number(o))&&x.test(k))o+="px";(k===q||k==="height")&&parseFloat(o)<0||f.each(a.query(n),function(w){if(w&&w.style){k.set?
k.set(w,o):w.style[k]=o;if(o==="")w.style.cssText||w.removeAttribute("style")}})}}},width:function(n,k){if(k===c)return e(n,q);else a.css(n,q,k)},height:function(n,k){if(k===c)return e(n,"height");else a.css(n,"height",k)},show:function(n){a.query(n).each(function(k){if(k){k.style.display=a.data(k,"display")||"";if(a.css(k,"display")==="none"){var o=k.tagName,h=u[o],j;if(!h){j=b.createElement(o);b.body.appendChild(j);h=a.css(j,"display");a.remove(j);u[o]=h}a.data(k,"display",h);k.style.display=h}}})},
hide:function(n){a.query(n).each(function(k){if(k){var o=k.style,h=o.display;if(h!=="none"){h&&a.data(k,"display",h);o.display="none"}}})},toggle:function(n){a.query(n).each(function(k){if(k)a.css(k,"display")==="none"?a.show(k):a.hide(k)})},addStyleSheet:function(n,k,o){if(f.isString(n)){o=k;k=n;n=window}n=a.get(n);n=a._getWin(n).document;var h;if(o&&(o=o.replace("#","")))h=a.get("#"+o,n);if(!h){h=a.create("<style>",{id:o},n);a.get("head",n).appendChild(h);if(h.styleSheet)h.styleSheet.cssText=k;
else h.appendChild(n.createTextNode(k))}},unselectable:function(n){a.query(n).each(function(k){if(k)if(l.gecko)k.style.MozUserSelect="none";else if(l.webkit)k.style.KhtmlUserSelect="none";else if(l.ie||l.opera){var o=0,h=k.getElementsByTagName("*");for(k.setAttribute("unselectable","on");k=h[o++];)switch(k.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:k.setAttribute("unselectable","on")}}})}});if(d.style.cssFloat!==c)r["float"]="cssFloat";else if(d.style.styleFloat!==
c)r["float"]="styleFloat";return a},{requires:["dom/base","ua"]});
KISSY.add("dom/selector",function(f,a,l){function c(m,p){var r,u,n=[],k;u=f.require("sizzle");p=e(p);if(f.isString(m))if(m.indexOf(",")!=-1){r=m.split(",");f.each(r,function(o){n.push.apply(n,f.makeArray(c(o,p)))})}else{m=f.trim(m);if(t.test(m)){if(u=g(m.slice(1),p))n=[u]}else if(r=s.exec(String(m))){u=r[1];k=r[2];r=r[3];if(p=u?g(u,p):p)if(r)if(!u||m.indexOf(v)!==-1)n=f.makeArray(x(r,k,p));else{if((u=g(u,p))&&a.hasClass(u,r))n=[u]}else if(k)n=b(k,p)}else if(u)n=u(m,p);else d(m)}else if(m&&(f.isArray(m)||
q(m)))n=m;else if(m)n=[m];if(q(n))n=f.makeArray(n);n.each=function(o,h){return f.each(n,o,h)};return n}function e(m){if(m===l)m=i;else if(f.isString(m)&&t.test(m))m=g(m.slice(1),i);else if(f.isArray(m)||q(m))m=m[0]||null;else if(m&&m.nodeType!==1&&m.nodeType!==9)m=null;return m}function g(m,p){if(!p)return null;if(p.nodeType!==9)p=p.ownerDocument;return p.getElementById(m)}function b(m,p){return p.getElementsByTagName(m)}function d(m){f.error("Unsupported selector: "+m)}var i=document,q=a._isNodeList,
v=" ",t=/^#[\w-]+$/,s=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var m=i.createElement("div");m.appendChild(i.createComment(""));if(m.getElementsByTagName("*").length>0)b=function(p,r){var u=f.makeArray(r.getElementsByTagName(p));if(p==="*"){for(var n=[],k=0,o=0,h;h=u[k++];)if(h.nodeType===1)n[o++]=h;u=n}return u}})();var x=i.getElementsByClassName?function(m,p,r){r=m=f.makeArray(r.getElementsByClassName(m));var u=0,n=0,k=m.length,o;if(p&&p!=="*"){r=[];for(p=p.toUpperCase();u<k;++u){o=
m[u];if(o.tagName===p)r[n++]=o}}return r}:i.querySelectorAll?function(m,p,r){return r.querySelectorAll((p?p:"")+"."+m)}:function(m,p,r){p=r.getElementsByTagName(p||"*");r=[];var u=0,n=0,k=p.length,o,h;for(m=v+m+v;u<k;++u){o=p[u];if((h=o.className)&&(v+h+v).indexOf(m)>-1)r[n++]=o}return r};f.mix(a,{query:c,get:function(m,p){return c(m,p)[0]||null},filter:function(m,p,r){var u=c(m,r),n=f.require("sizzle"),k,o,h,j=[];if(f.isString(p)&&(k=s.exec(p))&&!k[1]){o=k[2];h=k[3];p=function(w){return!(o&&w.tagName.toLowerCase()!==
o.toLowerCase()||h&&!a.hasClass(w,h))}}if(f.isFunction(p))j=f.filter(u,p);else if(p&&n)j=n._filter(m,p,r);else d(p);return j},test:function(m,p,r){m=c(m,r);return m.length&&a.filter(m,p,r).length===m.length}});return a},{requires:["dom/base"]});
KISSY.add("dom/style-ie",function(f,a,l,c,e){if(!l.ie)return a;c=document;var g=c.documentElement,b=a._CUSTOM_STYLES,d=/^-?\d+(?:px)?$/i,i=/^-?\d/,q=/^(?:width|height)$/;try{if(g.style.opacity==e&&g.filters)b.opacity={get:function(x){var m=100;try{m=x.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(p){try{m=x.filters("alpha").opacity}catch(r){if(x=((x.currentStyle||0).filter||"").match(/alpha\(opacity[=:]([^)]+)\)/))m=parseInt(f.trim(x[1]))}}return m/100+""},set:function(x,m){var p=x.style,
r=(x.currentStyle||0).filter||"";p.zoom=1;if(r)r=f.trim(r.replace(/alpha\(opacity[=:][^)]+\),?/ig,""));if(r&&m!=1)r+=", ";p.filter=r+(m!=1?"alpha(opacity="+m*100+")":"")}}}catch(v){f.log("IE filters ActiveX is disabled. ex = "+v)}l=l.ie==8;var t={},s={get:function(x,m){var p=x.currentStyle[m]+"";if(p.indexOf("px")<0)p=t[p]?t[p]:0;return p}};t.thin=l?"1px":"2px";t.medium=l?"3px":"4px";t.thick=l?"5px":"6px";f.each(["","Top","Left","Right","Bottom"],function(x){b["border"+x+"Width"]=s});if(!(c.defaultView||
{}).getComputedStyle&&g.currentStyle)a._getComputedStyle=function(x,m){var p=x.style,r=x.currentStyle[m];if(q.test(m))r=a[m](x)+"px";else if(!d.test(r)&&i.test(r)){var u=p.left,n=x.runtimeStyle.left;x.runtimeStyle.left=x.currentStyle.left;p.left=m==="fontSize"?"1em":r||0;r=p.pixelLeft+"px";p.left=u;x.runtimeStyle.left=n}return r};return a},{requires:["./base","ua","./style"]});
KISSY.add("dom/traversal",function(f,a,l){function c(d,i,q,v,t,s){if(!(d=a.get(d)))return null;if(i===0)return d;s||(d=d[q]);if(!d)return null;t=t&&a.get(t)||null;if(i===l)i=1;s=[];var x=f.isArray(i),m,p;if(f.isNumber(i)){m=0;p=i;i=function(){return++m===p}}do if(b(d)&&e(d,i)&&(!v||v(d))){s.push(d);if(!x)break}while(d!=t&&(d=d[q]));return x?s:s[0]||null}function e(d,i){if(!i)return true;if(f.isArray(i))for(var q=0;q<i.length;q++){if(a.test(d,i[q]))return true}else if(a.test(d,i))return true;return false}
function g(d,i,q){var v=[];var t=d=a.get(d);if(d&&q)t=d.parentNode;if(t){q=0;for(t=t.firstChild;t;t=t.nextSibling)if(b(t)&&t!==d&&(!i||a.test(t,i)))v[q++]=t}return v}var b=a._isElementNode;f.mix(a,{closest:function(d,i,q){return c(d,i,"parentNode",function(v){return v.nodeType!=11},q,true)},parent:function(d,i,q){return c(d,i,"parentNode",function(v){return v.nodeType!=11},q)},next:function(d,i){return c(d,i,"nextSibling",l)},prev:function(d,i){return c(d,i,"previousSibling",l)},siblings:function(d,
i){return g(d,i,true)},children:function(d,i){return g(d,i,l)},contains:document.documentElement.contains?function(d,i){d=a.get(d);i=a.get(i);if(d.nodeType==3)return false;var q;if(i.nodeType==3){i=i.parentNode;q=true}else if(i.nodeType==9)return false;else q=d!==i;return q&&(d.contains?d.contains(i):true)}:document.documentElement.compareDocumentPosition?function(d,i){d=a.get(d);i=a.get(i);return!!(d.compareDocumentPosition(i)&16)}:0,equals:function(d,i){d=a.query(d);i=a.query(i);if(d.length!=i.length)return false;
for(var q=d.length;q>=0;q--)if(d[q]!=i[q])return false;return true}});return a},{requires:["./base"]});KISSY.add("dom",function(f,a){return a},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("event/object",function(f,a){function l(g,b,d){this.currentTarget=g;this.originalEvent=b||{};if(b){this.type=b.type;this._fix()}else{this.type=d;this.target=g}this.currentTarget=g;this.fixed=true}var c=document,e="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");
f.augment(l,{_fix:function(){var g=this.originalEvent,b=e.length,d,i=this.currentTarget;for(i=i.nodeType===9?i:i.ownerDocument||c;b;){d=e[--b];this[d]=g[d]}if(!this.target)this.target=this.srcElement||c;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===a&&this.clientX!==a){g=i.documentElement;b=i.body;this.pageX=this.clientX+(g&&g.scrollLeft||b&&b.scrollLeft||
0)-(g&&g.clientLeft||b&&b.clientLeft||0);this.pageY=this.clientY+(g&&g.scrollTop||b&&b.scrollTop||0)-(g&&g.clientTop||b&&b.clientTop||0)}if(this.which===a)this.which=this.charCode!==a?this.charCode:this.keyCode;if(this.metaKey===a)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==a)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var g=this.originalEvent;if(g.preventDefault)g.preventDefault();else g.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var g=
this.originalEvent;if(g.stopPropagation)g.stopPropagation();else g.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var g=this.originalEvent;g.stopImmediatePropagation?g.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(g){g?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});return l});
KISSY.add("event/base",function(f,a,l,c){function e(p,r,u){if((u=f.trim(u))&&u.indexOf(v)>0){var n=f.makeArray(arguments);f.each(u.split(v),function(k){var o=f.clone(n);o.splice(0,3,r,k);m[p].apply(m,o)});return true}return c}function g(p){return p&&p.nodeType!==3&&p.nodeType!==8}function b(p,r,u,n,k){var o=m.special[r]||{};if(!n.length&&(!o.setup||o.setup.call(p)===false))i(p,r,u);o.add&&o.add.call(p,k)}var d=document,i=d.addEventListener?function(p,r,u,n){p.addEventListener&&p.addEventListener(r,
u,!!n)}:function(p,r,u){p.attachEvent&&p.attachEvent("on"+r,u)},q=d.removeEventListener?function(p,r,u,n){p.removeEventListener&&p.removeEventListener(r,u,!!n)}:function(p,r,u){p.detachEvent&&p.detachEvent("on"+r,u)},v=" ",t="",s="trigger-none-"+f.now(),x="ksEventTargetId"+f.now(),m={_data:function(){var p=f.makeArray(arguments);p.splice(1,0,x);return a.data.apply(a,p)},_removeData:function(){var p=f.makeArray(arguments);p.splice(1,0,x);return a.removeData.apply(a,p)},special:{},add:function(p,r,
u,n,k){if(e("add",p,r,u,n,k))return p;a.query(p).each(function(o){var h=!o.isCustomEventTarget,j;if(!(!o||!r||!f.isFunction(u)||h&&!g(o))){(j=m._data(o))||m._data(o,j={});var w=j.events=j.events||{};w=w[r]=w[r]||[];var y={fn:u,scope:n||o,data:k},z=j.handler;if(!z){z=j.handler=function(A,B){if(!(A&&A.type==t)){var C=z.target;if(!A||!A.fixed)A=new l(C,A);f.isPlainObject(B)&&f.mix(A,B);return m._handle(C,A)}};z.target=o}if(h){b(o,r,z,w,y);o=null}w.push(y)}});return p},__getListeners:function(p,r){return(m.__getEvents(p)||
{})[r]||[]},__getEvents:function(p){return(p=m._data(p))&&p.events},remove:function(p,r,u,n,k){if(e("remove",p,r,u,n))return p;a.query(p).each(function(o){var h=m._data(o),j=h&&h.events,w,y,z,A,B,C=!o.isCustomEventTarget,D=C&&m.special[r]||{};if(!(!o||!C&&!g(o)||!j))if(r===c)for(r in j)m.remove(o,r);else{n=n||o;if(w=j[r]){y=w.length;if(f.isFunction(u)&&y){A=z=0;for(B=[];z<y;++z){var F=false,E=w[z];if(u!==E.fn||n!==E.scope){B[A++]=E;F=true}else if(k!==G){var G=E.data;if(!k&&G||G&&!k){B[A++]=E;F=true}else if(k&&
G)if(!k.equals||!G.equals)f.error("no equals in data");else if(!G.equals(k)){B[A++]=E;F=true}}!F&&D.remove&&D.remove.call(o,E)}j[r]=B;y=B.length}if(u===c||y===0){if(C&&(!D.tearDown||D.tearDown.call(o)===false))q(o,r,h.handler);delete j[r]}}if(f.isEmptyObject(j)){h.handler.target=null;delete h.handler;delete h.events;m._removeData(o)}}});return p},_handle:function(p,r){for(var u=m.__getListeners(p,r.type).slice(0),n,k,o=0,h=u.length;o<h;++o){n=u[o];n=n.fn.call(n.scope,r,n.data);if(n!==c){if(k!==false)k=
n;n===false&&r.halt()}if(r.isImmediatePropagationStopped)break}return k},fire:function(p,r,u){if(!e("fire",p,r,u)){var n;a.query(p).each(function(k){var o=!k.isCustomEventTarget;u=u||{};u.type=r;if(o){o=u;var h;if(g(k)){o=new l(k,o);var j=o.target=k,w="on"+r;do{var y=(m._data(j)||{}).handler;o.currentTarget=j;y&&y.call(j,o);if(j[w]&&j[w].call(j)===false){h=false;o.preventDefault()}j=j.parentNode||j.ownerDocument||j===k.ownerDocument&&window}while(j&&!o.isPropagationStopped);if(!o.isDefaultPrevented)if(!(r===
"click"&&k.nodeName.toLowerCase()=="a")){var z;try{if(w&&k[r]){if(z=k[w])k[w]=null;t=r;k[r]()}}catch(A){}if(z)k[w]=z;t=s}}k=h;if(k!==c)n=k}else if((k=m._data(k))&&f.isFunction(k.handler))n=k.handler(c,u)});return n}},_batchForType:e,_simpleAdd:i,_simpleRemove:q};m.on=m.add;m.detach=m.remove;return m},{requires:["dom","event/object"]});
KISSY.add("event/target",function(f,a){return{isCustomEventTarget:true,fire:function(l,c){return a.fire(this,l,c)},on:function(l,c,e){a.add(this,l,c,e);return this},detach:function(l,c,e){a.remove(this,l,c,e);return this}}},{requires:["./base","dom"]});
KISSY.add("event/focusin",function(f,a,l){a.ie||f.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(c){function e(b){return l.fire(b.target,c.name)}var g=0;l.special[c.name]={setup:function(){g++===0&&document.addEventListener(c.fix,e,true)},tearDown:function(){--g===0&&document.removeEventListener(c.fix,e,true)}}});return l},{requires:["ua","./base"]});
KISSY.add("event/hashchange",function(f,a,l,c){c=document.documentMode||c.ie;if(!("onhashchange"in window)||c<8){var e,g=[],b=t();a.special.hashchange={setup:function(){-1===f.indexOf(this,g)&&g.push(this);e||d()},tearDown:function(){var s=f.indexOf(this,g);s>=0&&g.splice(s,1);if(g.length===0){e&&clearTimeout(e);e=null}}};var d=function(){i()},i=function(){var s=t();if(s!==b){q(s);b=s}e=setTimeout(i,50)},q=function(s){v(s)},v=function(s){f.log("hash changed : "+s);for(s=0;s<g.length;s++)a._handle(g[s],
{type:"hashchange"})},t=function(){return"#"+location.href.replace(/^[^#]*#?(.*)$/,"$1")};c<8&&function(){var s;d=function(){if(!s){s=l.create('<iframe style="display: none" height="0" width="0" tabindex="-1" title="empty"/>');l.prepend(s,document.documentElement);a.add(s,"load",function(){a.remove(s,"load");q(t());a.add(s,"load",x);i()});var x=function(){var m=f.trim(s.contentWindow.document.body.innerHTML),p=t();if(m!=p)b=location.hash=m;v(m)}}};q=function(x){x="<html><body>"+x+"</body></html>";
var m=s.contentWindow.document;try{m.open();m.write(x);m.close();return true}catch(p){return false}}}()}},{requires:["./base","dom","ua"]});
KISSY.add("event/valuechange",function(f,a,l){function c(m){var p=l.data(m,v);if(!p){p=+new Date;l.data(m,v,p)}return p}function e(m){m=c(m);delete t[m];if(s[m]){clearTimeout(s[m]);delete s[m]}}function g(m){e(m.target)}function b(m){var p=c(m);s[p]||(s[p]=setTimeout(function(){var r=m.value;if(r!==t[p]){a._handle(m,{type:q,prevVal:t[p],newVal:r});t[p]=r}s[p]=setTimeout(arguments.callee,x)},x))}function d(m){var p=m.target;if(m.type=="focus"){m=c(p);t[m]=p.value}b(p)}function i(m){e(m);a.remove(m,
"blur",g);a.remove(m,"mousedown keyup keydown focus",d);l.removeData(m,v)}var q="valueChange",v="event/valuechange",t={},s={},x=50;a.special[q]={fix:false,setup:function(){var m=this.nodeName.toLowerCase();if("input"==m||"textarea"==m){i(this);a.on(this,"blur",g);a.on(this,"mousedown keyup keydown focus",d)}},tearDown:function(){i(this)}};return a},{requires:["./base","dom"]});
KISSY.add("event/delegate",function(f,a,l){function c(d){return d.fn===undefined&&d.selector===undefined?true:d.fn===undefined?this.selector==d.selector:this.fn==d.fn&&this.selector==d.selector&&this.scope==d.scope}function e(d,i){var q,v=a.closest(d.target,[i.selector],this);if(v)for(var t=0;t<v.length;t++){d.currentTarget=v[t];var s=i.fn.call(i.scope||this,d);if(s===false||d.isPropagationStopped||d.isImmediatePropagationStopped){if(s===false)q=s;if(d.isPropagationStopped||d.isImmediatePropagationStopped)break}}return q}
var g=l._batchForType,b={focus:"focusin",blur:"focusout"};f.mix(l,{delegate:function(d,i,q,v,t){if(g("delegate",d,i,q,v,t))return d;a.query(d).each(function(s){if(!s.isCustomEventTarget){i=b[i]||i;l.on(s,i,e,s,{fn:v,selector:q,scope:t,equals:c})}});return d},undelegate:function(d,i,q,v,t){if(g("undelegate",d,i,q,v,t))return d;a.query(d).each(function(s){if(!s.isCustomEventTarget){i=b[i]||i;l.remove(s,i,e,s,{fn:v,selector:q,scope:t,equals:c})}});return d}});return l},{requires:["dom","./base"]});
KISSY.add("event/mouseenter",function(f,a,l,c){c.ie||f.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(e){function g(b){var d=this,i=b.relatedTarget;b.type=e.name;try{if(!(i&&i!==document&&!i.parentNode)){i=l.closest(i,function(v){return v==d});i!==d&&a._handle(d,b)}}catch(q){f.log("withinElement :"+q)}}a.special[e.name]={setup:function(){a.add(this,e.fix,g)},tearDown:function(){a.remove(this,e.fix,g)}}});return a},{requires:["./base","dom","ua"]});
KISSY.add("event",function(f,a,l,c){a.Target=l;a.Object=c;return a},{requires:["event/base","event/target","event/object","event/focusin","event/hashchange","event/valuechange","event/delegate","event/mouseenter"]});
KISSY.add("node/base",function(f,a,l){function c(b,d,i){if(!(this instanceof c))return new c(b,d,i);if(b)if(f.isString(b)){b=a.create(b,d,i);if(b.nodeType===11){e.push.apply(this,f.makeArray(b.childNodes));return l}}else if(f.isArray(b)||g(b)){e.push.apply(this,f.makeArray(b));return l}else b=b;else return l;this[0]=b;this.length=1;return l}var e=Array.prototype,g=a._isNodeList;f.augment(c,{length:0,item:function(b){if(f.isNumber(b)){if(b>=this.length)return null;return new c(this[b],l,l)}else return new c(b,
l,l)},add:function(b,d,i){if(f.isNumber(d)){i=d;d=l}b=f.makeArray(c.all(b,d));d=new c(this,l,l);if(i===l)e.push.apply(d,b);else{i=[i,0];i.push.apply(i,b);e.splice.apply(d,i)}return d},slice:function(b,d){return new c(e.slice.call(this,b,d),l,l)},getDOMNodes:function(){return e.slice.call(this)},each:function(b,d){var i=this.length,q=0,v;for(v=new c(this[0],l,l);q<i&&b.call(d||v,v,q,this)!==false;v=new c(this[++q],l,l));return this},getDOMNode:function(){return this[0]},all:function(b){if(this.length>
0)return c.all(b,this[0]);return new c(l,l,l)}});c.prototype.one=function(b){b=this.all(b);return b.length?b:null};c.all=function(b,d){if(f.isString(b)&&(b=f.trim(b))&&b.length>=3&&f.startsWith(b,"<")&&f.endsWith(b,">")){if(d){if(d.getDOMNode)d=d.getDOMNode();if(d.ownerDocument)d=d.ownerDocument}return new c(b,l,d)}return new c(a.query(b,d),l,l)};c.one=function(b,d){var i=c.all(b,d);return i.length?i:null};return c},{requires:["dom"]});
KISSY.add("node/attach",function(f,a,l,c,e){function g(d,i,q){q.unshift(i);d=a[d].apply(a,q);if(d===e)return i;return d}var b=c.prototype;f.each(["equals","contains","scrollTop","scrollLeft","height","width","addStyleSheet","appendTo","prependTo","insertBefore","before","after","insertAfter","test","hasClass","addClass","removeClass","replaceClass","toggleClass","removeAttr","hasAttr","hasProp","toggle","scrollIntoView","remove","removeData","hasData","unselectable"],function(d){b[d]=function(){var i=
f.makeArray(arguments);return g(d,this,i)}});f.each(["filter","parent","closest","next","prev","siblings","children"],function(d){b[d]=function(){var i=f.makeArray(arguments);i.unshift(this);i=a[d].apply(a,i);i=i===e?this:i===null?null:new c(i);return i}});f.each({attr:1,text:1,css:1,val:0,prop:1,offset:1,html:0,data:1},function(d,i){b[i]=function(){var q=f.makeArray(arguments);if(q[d]===e){q.unshift(this);q=a[i].apply(a,q)}else q=g(i,this,q);return q}});f.each(["on","detach","fire","delegate","undelegate"],
function(d){b[d]=function(){var i=f.makeArray(arguments);i.unshift(this);return l[d].apply(l,i)}})},{requires:["dom","event","./base"]});KISSY.add("node/override",function(f,a,l,c){f.each(["append","prepend","before","after"],function(e){c.prototype[e]=function(g){g=g;if(f.isString(g))g=a.create(g);a[e](g,this);return this}})},{requires:["dom","event","./base","./attach"]});
KISSY.add("anim/easing",function(){var f=Math,a=f.PI,l=f.pow,c=f.sin,e=1.70158,g={easeNone:function(b){return b},easeIn:function(b){return b*b},easeOut:function(b){return(2-b)*b},easeBoth:function(b){return(b*=2)<1?0.5*b*b:0.5*(1- --b*(b-2))},easeInStrong:function(b){return b*b*b*b},easeOutStrong:function(b){return 1- --b*b*b*b},easeBothStrong:function(b){return(b*=2)<1?0.5*b*b*b*b:0.5*(2-(b-=2)*b*b*b)},elasticIn:function(b){if(b===0||b===1)return b;return-(l(2,10*(b-=1))*c((b-0.075)*2*a/0.3))},elasticOut:function(b){if(b===
0||b===1)return b;return l(2,-10*b)*c((b-0.075)*2*a/0.3)+1},elasticBoth:function(b){if(b===0||(b*=2)===2)return b;if(b<1)return-0.5*l(2,10*(b-=1))*c((b-0.1125)*2*a/0.45);return l(2,-10*(b-=1))*c((b-0.1125)*2*a/0.45)*0.5+1},backIn:function(b){if(b===1)b-=0.0010;return b*b*((e+1)*b-e)},backOut:function(b){return(b-=1)*b*((e+1)*b+e)+1},backBoth:function(b){if((b*=2)<1)return 0.5*b*b*(((e*=1.525)+1)*b-e);return 0.5*((b-=2)*b*(((e*=1.525)+1)*b+e)+2)},bounceIn:function(b){return 1-g.bounceOut(1-b)},bounceOut:function(b){return b<
1/2.75?7.5625*b*b:b<2/2.75?7.5625*(b-=1.5/2.75)*b+0.75:b<2.5/2.75?7.5625*(b-=2.25/2.75)*b+0.9375:7.5625*(b-=2.625/2.75)*b+0.984375},bounceBoth:function(b){if(b<0.5)return g.bounceIn(b*2)*0.5;return g.bounceOut(b*2-1)*0.5+0.5}};g.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};return g});
KISSY.add("anim/manager",function(f){function a(c){c[l]=c[l]||f.guid("anim-");return c[l]}var l=f.guid("anim-");return{interval:20,runnings:{},timer:null,start:function(c){var e=a(c);if(!this.runnings[e]){this.runnings[e]=c;this.startTimer()}},stop:function(c){this.notRun(c)},notRun:function(c){delete this.runnings[a(c)];f.isEmptyObject(this.runnings)&&this.stopTimer()},pause:function(c){this.notRun(c)},resume:function(c){this.start(c)},startTimer:function(){var c=this;if(!c.timer)c.timer=setTimeout(function(){if(c.runFrames())c.stopTimer();
else{c.timer=null;c.startTimer()}},c.interval)},stopTimer:function(){var c=this.timer;if(c){clearTimeout(c);this.timer=null}},runFrames:function(){var c=true,e=this.runnings,g;for(g in e)if(e.hasOwnProperty(g)){c=false;e[g]._runFrame()}return c}}});
KISSY.add("anim/base",function(f,a,l,c,e,g,b){function d(n,k,o,h,j,w){if(n=a.get(n)){if(!(this instanceof d))return new d(n,k,o,h,j,w);var y=f.isPlainObject(o);k=k;this.domEl=n;if(f.isPlainObject(k))k=String(f.param(k,";")).replace(/=/g,":").replace(/%23/g,"#").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();var z=k,A=n;n={};var B=t.length,C=A.cloneNode(true);a.insertAfter(C,A);A=C.style;for(q(C,z);B--;){var D=t[B];if(A[D])n[D]=(r[D]||r["*"]).getter(C,D)}z=v(z);for(var F in z)n[F]=(r[F]||r["*"]).getter(C,
F);a.remove(C);this.props=n;this.targetStyle=k;if(y)y=f.merge(m,o);else{y=f.clone(m);if(o)y.duration=parseFloat(o)||1;if(f.isString(h)||f.isFunction(h))y.easing=h;if(f.isFunction(j))y.complete=j;if(w!==b)y.nativeSupport=w}if(!f.isEmptyObject(v(k)))y.nativeSupport=false;this.config=y;if(y.nativeSupport&&u()&&f.isString(h=y.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(h)||(h=c.NativeTimeFunction[h])){y.easing=h;this.transitionName=u()}if(f.isFunction(j))this.callback=j}}function i(n,k){return k}function q(n,
k){if(e.ie&&k.indexOf(x)>-1){var o=k.match(/opacity\s*:\s*([^;]+)(;|$)/);o&&a.css(n,x,parseFloat(o[1]))}n.style.cssText+=";"+k;o=v(k);for(var h in o)n[h]=o[h]}function v(n){for(var k={},o=0;o<s.length;o++){var h=s[o].replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if(h=n.match(RegExp(h+"\\s*:([^;]+)(;|$)")))k[s[o]]=f.trim(h[1])}return k}var t,s,x,m,p;l=l.Target;t="borderBottomWidth borderBottomStyle borderLeftWidth borderLeftStyle borderRightWidth borderRightStyle borderSpacing borderTopWidth borderTopStyle bottom fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" ");
s=[];x="opacity";m={duration:1,easing:"easeNone",nativeSupport:true};d.PROPS=t;d.CUSTOM_ATTRS=s;d.PROP_OPS={"*":{getter:function(n,k){var o=a.css(n,k),h=parseFloat(o);o=(o+"").replace(/^[-\d.]+/,"");if(isNaN(h))return{v:o,u:"",f:i};return{v:h,u:o,f:this.interpolate}},setter:function(n,k,o){return a.css(n,k,o)},interpolate:function(n,k,o){return(n+(k-n)*o).toFixed(3)},eq:function(n,k){return n.v==k.v&&n.u==k.u}}};var r=d.PROP_OPS;f.augment(d,l,{isRunning:false,elapsedTime:0,start:0,finish:0,duration:0,
run:function(){var n=this.config,k=this.domEl,o,h=this.props,j={},w;if(!this.isRunning)if(this.fire("start")!==false){this.stop();this.duration=o=n.duration*1E3;if(this.transitionName)this._nativeRun();else{for(w in h)j[w]=(r[w]||r["*"]).getter(k,w);this.source=j;k=f.now();o=k+o;n=n.easing;if(f.isString(n))n=c[n]||c.easeNone;this.start=k;this.finish=o;this.easing=n;g.start(this)}this.isRunning=true;return this}},_complete:function(){this.fire("complete");this.callback&&this.callback()},_runFrame:function(){var n=
this.domEl,k=this.finish,o=this.start,h=this.duration,j=f.now(),w=this.source,y=this.easing,z=this.props,A;o=j-o;h=j>k?1:o/h;var B,C;this.elapsedTime=o;for(A in z){o=w[A];B=z[A];var D;D=B;var F=o,E=r[A];D=E&&E.eq?E.eq(D,F):r["*"].eq(D,F);if(!D){if(B.v==0)B.u=o.u;if(o.u!==B.u){o.v=0;o.u=B.u}D=B.f(o.v,B.v,y(h))+B.u;(r[A]||r["*"]).setter(n,A,D);if(B.f==i){o.v=B.v;o.u=B.u}}}if(this.fire("step")===false||(C=j>k)){this.stop();C&&this._complete()}},_nativeRun:function(){var n=this,k=n.domEl,o=n.duration,
h=n.config.easing,j=n.transitionName,w={};w[j+"Property"]="all";w[j+"Duration"]=o+"ms";w[j+"TimingFunction"]=h;a.css(k,w);f.later(function(){q(k,n.targetStyle)},0);f.later(function(){n.stop(true)},o)},stop:function(n){if(this.isRunning){if(this.transitionName)this._nativeStop(n);else{if(n){q(this.domEl,this.targetStyle);this._complete()}g.stop(this)}this.isRunning=false;return this}},_nativeStop:function(n){var k=this.domEl,o=this.transitionName,h=this.props,j;if(n){a.css(k,o+"Property","none");this._complete()}else{for(j in h)a.css(k,
j,a._getComputedStyle(k,j));a.css(k,o+"Property","none")}}});d.supportTransition=function(){if(p)return p;var n="transition",k,o=document.documentElement;if(o.style[n]!==b)k=n;else f.each(["Webkit","Moz","O"],function(h){if(o.style[n=h+"Transition"]!==b){k=n;return false}});return p=k};var u=d.supportTransition;return d},{requires:["dom","event","./easing","ua","./manager"]});
KISSY.add("anim/color",function(f,a,l){function c(q){q=q.toLowerCase();var v;if(v=q.match(g))return[parseInt(v[1]),parseInt(v[2]),parseInt(v[3])];else if(v=q.match(b)){for(q=1;q<v.length;q++)if(v[q].length<2)v[q]+=v[q];return[parseInt(v[1],16),parseInt(v[2],16),parseInt(v[3],16)]}if(e[q])return e[q];f.log("only allow rgb or hex color string : "+q,"warn");return[255,255,255]}var e={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,
0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255]},g=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,b=/^#?([0-9A-F]{1,2})([0-9A-F]{1,2})([0-9A-F]{1,2})$/i,d="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),i=l.PROP_OPS;l=l.PROPS;l.push.apply(l,d);i.color={getter:function(q,v){return{v:c(a.css(q,v)),u:"",f:this.interpolate}},
setter:i["*"].setter,interpolate:function(q,v,t){var s=i["*"].interpolate;return"rgb("+[Math.floor(s(q[0],v[0],t)),Math.floor(s(q[1],v[1],t)),Math.floor(s(q[2],v[2],t))].join(", ")+")"},eq:function(q,v){return q.v+""==v.v+""}};f.each(d,function(q){i[q]=i.color})},{requires:["dom","./base"]});
KISSY.add("anim/scroll",function(f,a,l){var c=l.PROP_OPS;l.CUSTOM_ATTRS.push("scrollLeft","scrollTop");c.scrollLeft=c.scrollTop={getter:function(e,g){return{v:e[g],u:"",f:c["*"].interpolate}},setter:function(e,g,b){e[g]=b}}},{requires:["dom","./base"]});KISSY.add("anim",function(f,a,l){a.Easing=l;return a},{requires:["anim/base","anim/easing","anim/color","anim/scroll"]});
KISSY.add("node/anim-plugin",function(f,a,l,c,e){function g(r,u,n,k,o,h,j){if(u==="toggle"){o=a.css(r,i)===q?1:0;u="show"}if(o)a.css(r,i,a.data(r,i)||"");var w={},y={};f.each(p[u],function(z){if(z===v){w[v]=a.css(r,v);a.css(r,v,t)}else if(z===s){w[s]=a.css(r,s);y.opacity=o?1:0;o&&a.css(r,s,0)}else if(z===x){w[x]=a.css(r,x);y.height=o?a.css(r,x)||r.naturalHeight:0;o&&a.css(r,x,0)}else if(z===m){w[m]=a.css(r,m);y.width=o?a.css(r,m)||r.naturalWidth:0;o&&a.css(r,m,0)}});return(new l(r,y,n,h||"easeOut",
function(){if(!o){var z=r.style,A=z[i];if(A!==q){A&&a.data(r,i,A);z[i]=q}w[x]&&a.css(r,{height:w[x]});w[m]&&a.css(r,{width:w[m]});w[s]&&a.css(r,{opacity:w[s]});w[v]&&a.css(r,{overflow:w[v]})}k&&f.isFunction(k)&&k()},j)).run()}var b=c.prototype,d="ksAnims"+f.now(),i="display",q="none",v="overflow",t="hidden",s="opacity",x="height",m="width",p={show:[v,s,x,m],fade:[s],slide:[v,x]};c.__ANIM_KEY=d;(function(r){function u(n,k){var o=a.data(n,d);o||a.data(n,d,o=[]);k.on("complete",function(){var h=a.data(n,
d);if(h){var j=f.indexOf(k,h);j>=0&&h.splice(j,1);h.length||a.removeData(n,d)}});o.push(k)}r.animate=function(){var n=f.makeArray(arguments);f.each(this,function(k){var o=l.apply(e,[k].concat(n)).run();u(k,o)});return this};r.stop=function(n){f.each(this,function(k){var o=a.data(k,d);if(o){f.each(o,function(h){h.stop(n)});a.removeData(k,d)}});return this};f.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",1],slideUp:["slide",0]},function(n,
k){r[k]=function(o,h,j,w){a[k]&&arguments.length===0?a[k](this):f.each(this,function(y){var z=g(y,n[0],o,h,n[1],j,w);u(y,z)});return this}})})(b)},{requires:["dom","anim","./base"]});KISSY.add("node",function(f,a){return a},{requires:["node/base","node/attach","node/override","node/anim-plugin"]});
KISSY.add("json/json2",function(f,a){function l(x){return x<10?"0"+x:x}function c(x){i.lastIndex=0;return i.test(x)?'"'+x.replace(i,function(m){var p=t[m];return typeof p==="string"?p:"\\u"+("0000"+m.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+x+'"'}function e(x,m){var p,r,u,n,k=q,o,h=m[x];if(h&&typeof h==="object"&&typeof h.toJSON==="function")h=h.toJSON(x);if(typeof s==="function")h=s.call(m,x,h);switch(typeof h){case "string":return c(h);case "number":return isFinite(h)?String(h):"null";case "boolean":case "null":return String(h);
case "object":if(!h)return"null";q+=v;o=[];if(Object.prototype.toString.apply(h)==="[object Array]"){n=h.length;for(p=0;p<n;p+=1)o[p]=e(p,h)||"null";u=o.length===0?"[]":q?"[\n"+q+o.join(",\n"+q)+"\n"+k+"]":"["+o.join(",")+"]";q=k;return u}if(s&&typeof s==="object"){n=s.length;for(p=0;p<n;p+=1){r=s[p];if(typeof r==="string")if(u=e(r,h))o.push(c(r)+(q?": ":":")+u)}}else for(r in h)if(Object.hasOwnProperty.call(h,r))if(u=e(r,h))o.push(c(r)+(q?": ":":")+u);u=o.length===0?"{}":q?"{\n"+q+o.join(",\n"+q)+
"\n"+k+"}":"{"+o.join(",")+"}";q=k;return u}}var g=window,b=g.JSON;if(!b||a.ie<9)b=g.JSON={};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+l(this.getUTCMonth()+1)+"-"+l(this.getUTCDate())+"T"+l(this.getUTCHours())+":"+l(this.getUTCMinutes())+":"+l(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,q,v,t={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},s;if(typeof b.stringify!=="function")b.stringify=function(x,m,p){var r;v=q="";if(typeof p==="number")for(r=0;r<p;r+=1)v+=" ";else if(typeof p==="string")v=p;if((s=m)&&typeof m!=="function"&&(typeof m!=="object"||typeof m.length!=="number"))throw Error("JSON.stringify");return e("",{"":x})};if(typeof b.parse!==
"function")b.parse=function(x,m){function p(u,n){var k,o,h=u[n];if(h&&typeof h==="object")for(k in h)if(Object.hasOwnProperty.call(h,k)){o=p(h,k);if(o!==undefined)h[k]=o;else delete h[k]}return m.call(u,n,h)}var r;x=String(x);d.lastIndex=0;if(d.test(x))x=x.replace(d,function(u){return"\\u"+("0000"+u.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(x.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){r=eval("("+x+")");return typeof m==="function"?p({"":r},""):r}throw new SyntaxError("JSON.parse");};return b},{requires:["ua"]});KISSY.add("json",function(f,a){return{parse:function(l){if(l==null||l==="")return null;return a.parse(l)},stringify:a.stringify}},{requires:["json/json2"]});
KISSY.add("ajax/xhrobject",function(f,a){function l(g){var b=g.responseText,d=g.responseXML,i=g.config,q=i.converters,v=g.converters||{},t,s,x=i.contents,m=i.dataType;if(b||d){for(i=g.mimeType||g.getResponseHeader("Content-Type");m[0]=="*";)m.shift();if(!m.length)for(t in x)if(x[t].test(i)){m[0]!=t&&m.unshift(t);break}m[0]=m[0]||"text";if(m[0]=="text"&&b!=undefined)s=b;else if(m[0]=="xml"&&d!=undefined)s=d;else f.each(["text","xml"],function(r){var u=m[0];if(v[r]&&v[r][u]||q[r]&&q[r][u]){m.unshift(r);
s=r=="text"?b:d;return false}})}x=m[0];for(i=1;i<m.length;i++){t=m[i];var p=v[x]&&v[x][t]||q[x]&&q[x][t];if(!p)throw"no covert for "+x+" => "+t;s=p(s);x=t}g.responseData=s}function c(g){f.mix(this,{responseData:null,config:g||{},timeoutTimer:null,responseText:null,responseXML:null,responseHeadersString:"",responseHeaders:null,requestHeaders:{},readyState:0,state:0,statusText:null,status:0,transport:null})}var e=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg;f.augment(c,a.Target,{setRequestHeader:function(g,b){this.requestHeaders[g]=
b;return this},getAllResponseHeaders:function(){return this.state===2?this.responseHeadersString:null},getResponseHeader:function(g){var b;if(this.state===2){if(!this.responseHeaders)for(this.responseHeaders={};b=e.exec(this.responseHeadersString);)this.responseHeaders[b[1]]=b[2];b=this.responseHeaders[g]}return b===undefined?null:b},overrideMimeType:function(g){if(!this.state)this.mimeType=g;return this},abort:function(g){g=g||"abort";this.transport&&this.transport.abort(g);this.callback(0,g);return this},
callback:function(g,b){if(this.state!=2){this.state=2;this.readyState=4;var d;if(g>=200&&g<300||g==304)if(g==304){b="notmodified";d=true}else try{l(this);b="success";d=true}catch(i){b="parsererror : "+i}else if(g<0)g=0;this.status=g;this.statusText=b;d?this.fire("success"):this.fire("error");this.fire("complete");this.transport=undefined}}});return c},{requires:["event"]});
KISSY.add("ajax/base",function(f,a,l,c){function e(u){u=f.mix(f.clone(r),u||{},undefined,undefined,true);if(u.crossDomain==null){var n=q.exec(u.url.toLowerCase());u.crossDomain=!!(n&&(n[1]!=x[1]||n[2]!=x[2]||(n[3]||(n[1]==="http:"?80:443))!=(x[3]||(x[1]==="http:"?80:443))))}if(u.processData&&u.data&&!f.isString(u.data))u.data=f.param(u.data,undefined,undefined,u.serializeArray);u.type=u.type.toUpperCase();u.hasContent=!t.test(u.type);if(!u.hasContent){if(u.data)u.url+=(/\?/.test(u.url)?"&":"?")+u.data;
if(u.cache===false)u.url+=(/\?/.test(u.url)?"&":"?")+"_ksTS="+(f.now()+"_"+f.guid())}u.dataType=f.trim(u.dataType||"*").split(i);u.context=u.context||u;return u}function g(u,n){d.fire(u,{ajaxConfig:n.config,xhr:n})}function b(u){var n=this.config;u=u.type;this.timeoutTimer&&clearTimeout(this.timeoutTimer);n[u]&&n[u].call(n.context,this.responseData,this.statusText,this);g(u,this)}function d(u){if(u.url){u=e(u);var n=new c(u);g("start",n);var k=new (p[u.dataType[0]]||p["*"])(n);n.transport=k;u.contentType&&
n.setRequestHeader("Content-Type",u.contentType);var o=u.dataType[0],h=u.accepts;n.setRequestHeader("Accept",o&&h[o]?h[o]+(o!=="*"?", */*; q=0.01":""):h["*"]);for(var j in u.headers)n.setRequestHeader(j,u.headers[j]);n.on("complete success error",b);n.readyState=1;g("send",n);if(u.async&&u.timeout>0)n.timeoutTimer=setTimeout(function(){n.abort("timeout")},u.timeout);try{n.state=1;k.send()}catch(w){n.status<2?n.callback(-1,w):f.error(w)}return n}}var i=/\s+/,q=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,
v=function(u){return u},t=/^(?:GET|HEAD)$/,s,x;try{s=location.href}catch(m){s=document.createElement("a");s.href="";s=s.href}x=q.exec(s);s=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(x[1]);var p={},r={type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",async:true,serializeArray:true,processData:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},converters:{text:{json:a.parse,
html:v,text:v,xml:f.parseXML}},contents:{xml:/xml/,html:/html/,json:/json/}};r.converters.html=r.converters.text;f.mix(d,l.Target);f.mix(d,{isLocal:s,setupConfig:function(u){f.mix(r,u,undefined,undefined,true)},setupTransport:function(u,n){p[u]=n},getTransport:function(u){return p[u]},getConfig:function(){return r}});return d},{requires:["json","event","./xhrobject"]});
KISSY.add("ajax/xhr",function(f,a){function l(){try{return new window.XMLHttpRequest}catch(g){}}a.xhr=window.ActiveXObject?function(g){var b;if(a.isLocal&&!g)a:{try{b=new window.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}b=void 0}return b||l()}:l;var c=a.xhr(),e=false;if(c){if("withCredentials"in c)e=true;c=function(g){this.xhrObj=g};f.augment(c,{send:function(){var g=this,b=g.xhrObj,d=b.config;if(d.crossDomain&&!e)f.error("do not allow crossdomain xhr !");else{var i=a.xhr(),q,v;g.xhr=i;
d.username?i.open(d.type,d.url,d.async,d.username,d.password):i.open(d.type,d.url,d.async);if(q=d.xhrFields)for(v in q)i[v]=q[v];b.mimeType&&i.overrideMimeType&&i.overrideMimeType(b.mimeType);if(!d.crossDomain&&!b.requestHeaders["X-Requested-With"])b.requestHeaders["X-Requested-With"]="XMLHttpRequest";try{for(v in b.requestHeaders)i.setRequestHeader(v,b.requestHeaders[v])}catch(t){}i.send(d.hasContent&&d.data||null);if(!d.async||i.readyState==4)g._callback();else i.onreadystatechange=function(){g._callback()}}},
abort:function(){this._callback(0,1)},_callback:function(g,b){try{var d=this.xhr,i=this.xhrObj,q=i.config;if(b||d.readyState==4){d.onreadystatechange=f.noop;if(b)d.readyState!==4&&d.abort();else{var v=d.status;i.responseHeadersString=d.getAllResponseHeaders();var t=d.responseXML;if(t&&t.documentElement)i.responseXML=t;i.responseText=d.responseText;try{var s=d.statusText}catch(x){s=""}if(!v&&a.isLocal&&!q.crossDomain)v=i.responseText?200:404;else if(v===1223)v=204;i.callback(v,s)}}}catch(m){d.onreadystatechange=
f.noop;b||i.callback(-1,m)}}});a.setupTransport("*",c);return a}},{requires:["./base"]});
KISSY.add("ajax/script",function(f,a){function l(c){if(!c.config.crossDomain&&!c.config.forceScript)return new (a.getTransport("*"))(c);this.xhrObj=c;return 0}a.setupConfig({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{text:{script:function(c){f.globalEval(c);return c}}}});f.augment(l,{send:function(){var c=this,e,g=this.xhrObj.config,b=document.head||document.getElementsByTagName("head")[0]||
document.documentElement;c.head=b;e=document.createElement("script");c.script=e;e.async="async";if(g.scriptCharset)e.charset=g.scriptCharset;e.src=g.url;e.onerror=e.onload=e.onreadystatechange=function(d){d=d||window.event;c._callback((d.type||"error").toLowerCase())};b.insertBefore(e,b.firstChild)},_callback:function(c,e){var g=this.script,b=this.xhrObj,d=this.head;if(e||!g.readyState||/loaded|complete/.test(g.readyState)||c=="error"){g.onerror=g.onload=g.onreadystatechange=null;d&&g.parentNode&&
d.removeChild(g);this.head=this.script=undefined;if(!e&&c!="error")b.callback(200,"success");else c=="error"&&b.callback(500,"scripterror")}},abort:function(){this._callback(0,1)}});a.setupTransport("script",l);return a},{requires:["./base","./xhr"]});
KISSY.add("ajax/jsonp",function(f,a){a.setupConfig({jsonp:"callback",jsonpCallback:function(){return f.guid("jsonp")}});a.on("start",function(l){l=l.xhr;var c=l.config;if(c.dataType[0]=="jsonp"){var e,g=c.jsonpCallback,b=f.isFunction(g)?g():g,d=window[b];c.url+=(/\?/.test(c.url)?"&":"?")+c.jsonp+"="+b;window[b]=function(i){e=[i]};l.on("complete",function(){window[b]=d;if(d===undefined)try{delete window[b]}catch(i){}else e&&d(e[0])});l.converters=l.converters||{};l.converters.script=l.converters.script||
{};l.converters.script.json=function(){e||f.error(" not call jsonpCallback : "+b);return e[0]};c.dataType.length=2;c.dataType[0]="script";c.dataType[1]="json"}});return a},{requires:["./base"]});KISSY.add("ajax/form-serializer",function(f,a){return{serialize:function(l){l=a.get(l);var c={};f.each(l.elements,function(e){e.disabled||(c[e.name]=a.val(e))});return f.param(c,undefined,undefined,false)}}},{requires:["dom"]});
KISSY.add("ajax/form",function(f,a,l,c){a.on("start",function(e){e=e.xhr.config;if(e.form){var g=l.get(e.form);if((g.encoding||g.enctype).toLowerCase()!="multipart/form-data"){if(g=c.serialize(g))if(e.hasContent){e.data=e.data||"";if(e.data)e.data+="&";e.data+=g}else e.url+=(/\?/.test(e.url)?"&":"?")+g}else{g=e.dataType[0];if(g=="*")g="text";e.dataType.length=2;e.dataType[0]="iframe";e.dataType[1]=g}}});return a},{requires:["./base","dom","./form-serializer"]});
KISSY.add("ajax/iframe-upload",function(f,a,l,c){function e(b){this.xhr=b}var g=document;c.setupConfig({converters:{iframe:c.getConfig().converters.text,text:{iframe:function(b){return b}}}});f.augment(e,{send:function(){var b=this.xhr,d=b.config,i,q=a.get(d.form);this.attrs={target:a.attr(q,"target")||"",action:a.attr(q,"action")||""};this.form=q;var v=f.guid("ajax-iframe");b.iframe=a.create("<iframe  id='"+v+"' name='"+v+"' style='position:absolute;left:-9999px;top:-9999px;'/>");b.iframeId=v;a.prepend(b.iframe,
g.body||g.documentElement);a.attr(q,{target:b.iframeId,action:d.url});if(d.data){i=d.data;d=d.serializeArray;i=f.unparam(i);v=[];for(var t in i)for(var s=f.makeArray(i[t]),x=0;x<s.length;x++){var m=g.createElement("input");m.type="hidden";m.name=t+(d?"[]":"");m.value=s[x];a.append(m,q);v.push(m)}i=v}this.fields=i;l.on(b.iframe,"load error",this._callback,this);q.submit()},_callback:function(b){var d=this.xhr;b=b.type;var i=d.iframe;a.attr(this.form,this.attrs);if(b=="load"){b=i.contentWindow.document;
d.responseXML=b;d.responseText=a.text(b.body);d.callback(200,"success")}else b=="error"&&d.callback(500,"error");a.remove(this.fields);l.detach(i);setTimeout(function(){a.remove(i)},30);d.iframe=null},abort:function(){this._callback(0,1)}});c.setupTransport("iframe",e);return c},{requires:["dom","event","./base"]});
KISSY.add("ajax",function(f,a){f.mix(a,{get:function(l,c,e,g,b){if(f.isFunction(c)){g=e;e=c;c=undefined}return a({type:b||"get",url:l,data:c,success:e,dataType:g})},post:function(l,c,e,g){if(f.isFunction(c)){g=e;e=c;c=undefined}return a.get(l,c,e,g,"post")},jsonp:function(l,c,e){if(f.isFunction(c)){e=c;c=undefined}return a.get(l,c,e,"jsonp")},getScript:f.getScript,getJSON:function(l,c,e){if(f.isFunction(c)){e=c;c=undefined}return a.get(l,c,e,"json")},upload:function(l,c,e,g,b){if(f.isFunction(e)){b=
g;g=e;e=undefined}return a({url:l,type:"post",dataType:b,form:c,data:e,success:g})}});return a},{requires:["ajax/base","ajax/xhrobject","ajax/xhr","ajax/script","ajax/jsonp","ajax/form","ajax/iframe-upload"]});
KISSY.add("base/attribute",function(f,a){function l(){this.__attrs={};this.__attrVals={}}function c(e){e+="";return e.charAt(0).toUpperCase()+e.substring(1)}f.augment(l,{__getDefAttrs:function(){return f.clone(this.__attrs)},addAttr:function(e,g,b){if(this.__attrs[e])f.mix(this.__attrs[e],g,b);else this.__attrs[e]=f.clone(g||{});return this},hasAttr:function(e){return e&&this.__attrs.hasOwnProperty(e)},removeAttr:function(e){if(this.hasAttr(e)){delete this.__attrs[e];delete this.__attrVals[e]}return this},
set:function(e,g){var b=this.get(e);if(b!==g)if(false!==this.__fireAttrChange("before",e,b,g)){this.__set(e,g);this.__fireAttrChange("after",e,b,this.__attrVals[e]);return this}},__fireAttrChange:function(e,g,b,d){return this.fire(e+c(g)+"Change",{attrName:g,prevVal:b,newVal:d})},__set:function(e,g){var b,d=(this.__attrs[e]=this.__attrs[e]||{}).setter;if(d)b=d.call(this,g);if(b!==a)g=b;this.__attrVals[e]=g},get:function(e){var g;g=(g=this.__attrs[e])&&g.getter;e=e in this.__attrVals?this.__attrVals[e]:
this.__getDefAttrVal(e);if(g)e=g.call(this,e);return e},__getDefAttrVal:function(e){e=this.__attrs[e];var g;if(e){if(g=e.valueFn){g=g.call(this);if(g!==a)e.value=g;delete e.valueFn}return e.value}},reset:function(e){if(this.hasAttr(e))return this.set(e,this.__getDefAttrVal(e));for(e in this.__attrs)this.hasAttr(e)&&this.reset(e);return this}});l.__capitalFirst=c;return l});
KISSY.add("base/base",function(f,a,l){function c(e){a.call(this);for(var g=this.constructor;g;){var b=g.ATTRS;if(b){var d=void 0;for(d in b)b.hasOwnProperty(d)&&this.addAttr(d,b[d],false)}g=g.superclass?g.superclass.constructor:null}if(e)for(var i in e)e.hasOwnProperty(i)&&this.__set(i,e[i])}f.augment(c,l.Target,a);return c},{requires:["./attribute","event"]});KISSY.add("base",function(f,a){return a},{requires:["base/base"]});
KISSY.add("cookie/base",function(f){var a=document,l=encodeURIComponent,c=decodeURIComponent;return{get:function(e){var g;if(f.isString(e)&&e!=="")if(e=String(a.cookie).match(RegExp("(?:^| )"+e+"(?:(?:=([^;]*))|;|$)")))g=e[1]?c(e[1]):"";return g},set:function(e,g,b,d,i,q){g=String(l(g));var v=b;if(typeof v==="number"){v=new Date;v.setTime(v.getTime()+b*864E5)}if(v instanceof Date)g+="; expires="+v.toUTCString();if(f.isString(d)&&d!=="")g+="; domain="+d;if(f.isString(i)&&i!=="")g+="; path="+i;if(q)g+=
"; secure";a.cookie=e+"="+g},remove:function(e,g,b,d){this.set(e,"",-1,g,b,d)}}});KISSY.add("cookie",function(f,a){return a},{requires:["cookie/base"]});
KISSY.add("core",function(f,a,l,c,e,g,b,d,i,q){b.getScript=f.getScript;a={UA:a,DOM:l,Event:c,EventTarget:c.Target,EventObject:c.Object,Node:e,NodeList:e,JSON:g,Ajax:b,IO:b,ajax:b,io:b,jsonp:b.jsonp,Anim:d,Easing:d.Easing,Base:i,Cookie:q,one:e.one,all:e.all,get:l.get,query:l.query};f.mix(f,a);return a},{requires:["ua","dom","event","node","json","ajax","anim","base","cookie"]});KISSY.use("core");
