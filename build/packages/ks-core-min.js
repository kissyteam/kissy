/*
Copyright 2010, KISSY UI Library v1.1.2dev
MIT Licensed
build time: ${build.time}
*/
(function(b,k,j){if(b[k]===j)b[k]={};k=b[k];var o=b.document,f=function(m,i,n,w){if(!i||!m)return m;if(n===j)n=true;var v,y,h;if(w&&(h=w.length))for(v=0;v<h;v++){y=w[v];if(y in i)if(n||!(y in m))m[y]=i[y]}else for(y in i)if(n||!(y in m))m[y]=i[y];return m},p=false,d=[],l=false,q=/^#?([\w-]+)$/;f(k,{version:"1.1.2dev",_init:function(){this.Env={mods:{},guid:0}},add:function(m,i){this.Env.mods[m]={name:m,fn:i};i(this);return this},ready:function(m){l||this._bindReady();p?m.call(b,this):d.push(m);return this},
_bindReady:function(){var m=this,i=o.documentElement.doScroll,n=i?"onreadystatechange":"DOMContentLoaded",w=function(){m._fireReady()};l=true;if(o.readyState==="complete")return w();if(o.addEventListener){var v=function(){o.removeEventListener(n,v,false);w()};o.addEventListener(n,v,false);b.addEventListener("load",w,false)}else{var y=function(){if(o.readyState==="complete"){o.detachEvent(n,y);w()}};o.attachEvent(n,y);b.attachEvent("onload",w);if(b==b.top){var h=function(){try{i("left");w()}catch(a){setTimeout(h,
1)}};h()}}},_fireReady:function(){if(!p){p=true;if(d){for(var m,i=0;m=d[i++];)m.call(b,this);d=null}}},available:function(m,i){if((m=(m+"").match(q)[1])&&k.isFunction(i))var n=1,w=k.later(function(){if(o.getElementById(m)&&(i()||1)||++n>500)w.cancel()},40,true)},mix:f,merge:function(){var m={},i,n=arguments.length;for(i=0;i<n;++i)f(m,arguments[i]);return m},augment:function(){var m=arguments,i=m.length-2,n=m[0],w=m[i],v=m[i+1],y=1;if(!k.isArray(v)){w=v;v=j;i++}if(!k.isBoolean(w)){w=j;i++}for(;y<i;y++)f(n.prototype,
m[y].prototype||m[y],w,v);return n},extend:function(m,i,n,w){if(!i||!m)return m;var v=Object.prototype,y=i.prototype,h=function(a){function c(){}c.prototype=a;return new c}(y);m.prototype=h;h.constructor=m;m.superclass=y;if(i!==Object&&y.constructor===v.constructor)y.constructor=i;n&&f(h,n);w&&f(m,w);return m},namespace:function(){var m=arguments.length,i=null,n,w,v;for(n=0;n<m;++n){v=(""+arguments[n]).split(".");i=this;for(w=b[v[0]]===i?1:0;w<v.length;++w)i=i[v[w]]=i[v[w]]||{}}return i},app:function(m,
i){var n=b[m]||{};f(n,this,true,["_init","add","namespace"]);n._init();return f(b[m]=n,typeof i==="function"?i():i)},log:function(m,i,n){if(this.Config.debug){if(n)m=n+": "+m;if(b.console!==j&&console.log)console[i&&console[i]?i:"log"](m)}return this},error:function(m){if(this.Config.debug)throw m;},guid:function(m){var i=this.Env.guid++ +"";return m?m+i:i}});k._init();k.Config={debug:""}})(window,"KISSY");
KISSY.add("lang",function(b,k){function j(a){var c=typeof a;return a===null||c!=="object"&&c!=="function"}var o=window,f=document,p=location,d=Array.prototype,l=d.indexOf,q=d.filter,m=String.prototype.trim,i=Object.prototype.toString,n=encodeURIComponent,w=decodeURIComponent,v=/^\s+|\s+$/g,y=/^(\w+)\[\]$/,h=/\S/;b.mix(b,{isUndefined:function(a){return a===k},isBoolean:function(a){return typeof a==="boolean"},isString:function(a){return typeof a==="string"},isNumber:function(a){return typeof a==="number"&&
isFinite(a)},isPlainObject:function(a){return a&&i.call(a)==="[object Object]"&&!a.nodeType&&!a.setInterval},isEmptyObject:function(a){for(var c in a)return false;return true},isFunction:function(a){return i.call(a)==="[object Function]"},isArray:function(a){return i.call(a)==="[object Array]"},trim:m?function(a){return a==k?"":m.call(a)}:function(a){return a==k?"":a.toString().replace(v,"")},substitute:function(a,c,e){if(!b.isString(a)||!b.isPlainObject(c))return a;return a.replace(e||/\\?\{([^{}]+)\}/g,
function(g,r){if(g.charAt(0)==="\\")return g.slice(1);return c[r]!==k?c[r]:""})},each:function(a,c,e){var g,r=0,z=a.length,t=z===k||b.isFunction(a);e=e||o;if(t)for(g in a){if(c.call(e,a[g],g,a)===false)break}else for(g=a[0];r<z&&c.call(e,g,r,a)!==false;g=a[++r]);return a},indexOf:l?function(a,c){return l.call(c,a)}:function(a,c){for(var e=0,g=c.length;e<g;++e)if(c[e]===a)return e;return-1},inArray:function(a,c){return b.indexOf(a,c)>-1},makeArray:function(a){if(a===null||a===k)return[];if(b.isArray(a))return a;
if(typeof a.length!=="number"||typeof a==="string"||b.isFunction(a))return[a];if(a.item&&b.UA.ie){for(var c=[],e=0,g=a.length;e<g;++e)c[e]=a[e];return c}return d.slice.call(a)},filter:q?function(a,c,e){return q.call(a,c,e)}:function(a,c,e){var g=[];b.each(a,function(r,z,t){c.call(e,r,z,t)&&g.push(r)});return g},param:function(a,c){if(!b.isPlainObject(a))return"";c=c||"&";var e=[],g,r;for(g in a){r=a[g];g=n(g);if(j(r))e.push(g,"=",n(r+""),c);else if(b.isArray(r)&&r.length)for(var z=0,t=r.length;z<
t;++z)j(r[z])&&e.push(g,"[]=",n(r[z]+""),c)}e.pop();return e.join("")},unparam:function(a,c){if(typeof a!=="string"||(a=b.trim(a)).length===0)return{};var e={};a=a.split(c||"&");for(var g,r,z,t=0,u=a.length;t<u;++t){c=a[t].split("=");g=w(c[0]);try{r=w(c[1]||"")}catch(A){r=c[1]||""}if((z=g.match(y))&&z[1]){e[z[1]]=e[z[1]]||[];e[z[1]].push(r)}else e[g]=r}return e},later:function(a,c,e,g,r){c=c||0;g=g||{};var z=a,t=b.makeArray(r),u;if(typeof a==="string")z=g[a];z||b.error("method undefined");a=function(){z.apply(g,
t)};u=e?setInterval(a,c):setTimeout(a,c);return{id:u,interval:e,cancel:function(){this.interval?clearInterval(u):clearTimeout(u)}}},clone:function(a){var c=a,e,g;if(a&&((e=b.isArray(a))||b.isPlainObject(a))){c=e?[]:{};for(g in a)if(a.hasOwnProperty(g))c[g]=b.clone(a[g])}return c},now:function(){return(new Date).getTime()},globalEval:function(a){if(a&&h.test(a)){var c=f.getElementsByTagName("head")[0]||f.documentElement,e=f.createElement("script");e.text=a;c.insertBefore(e,c.firstChild);c.removeChild(e)}}});
if(p&&p.search&&p.search.indexOf("ks-debug")!==-1)b.Config.debug=true});
KISSY.add("ua",function(b){var k=navigator.userAgent,j,o,f,p,d={webkit:0,trident:0,gecko:0,presto:0,chrome:0,safari:0,firefox:0,ie:0,opera:0},l=function(q){var m=0;return parseFloat(q.replace(/\./g,function(){return m++===0?".":""}))};if((j=k.match(/AppleWebKit\/([\d.]*)/))&&j[1]){d[o="webkit"]=l(j[1]);if((j=k.match(/Chrome\/([\d.]*)/))&&j[1])d[f="chrome"]=l(j[1]);else if((j=k.match(/\/([\d.]*) Safari/))&&j[1])d[f="safari"]=l(j[1]);if(/ Mobile\//.test(k))d.mobile="apple";else if(j=k.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))d.mobile=
j[0].toLowerCase()}else if((j=k.match(/Presto\/([\d.]*)/))&&j[1]){d[o="presto"]=l(j[1]);if((j=k.match(/Opera\/([\d.]*)/))&&j[1]){d[f="opera"]=l(j[1]);if((j=k.match(/Opera\/.* Version\/([\d.]*)/))&&j[1])d[f]=l(j[1]);if((j=k.match(/Opera Mini[^;]*/))&&j)d.mobile=j[0].toLowerCase();else if((j=k.match(/Opera Mobi[^;]*/))&&j)d[f="mobile"]=j[0]}}else if((j=k.match(/MSIE\s([^;]*)/))&&(p=j[1])){d[o="trident"]=0.1;d[f="ie"]=p<8&&document.documentMode?8:p;if((j=k.match(/Trident\/([\d.]*)/))&&j[1])d[o]=l(j[1])}else if(j=
k.match(/Gecko/)){d[o="gecko"]=0.1;if((j=k.match(/rv:([\d.]*)/))&&j[1])d[o]=l(j[1]);if((j=k.match(/Firefox\/([\d.]*)/))&&j[1])d[f="firefox"]=l(j[1])}d.core=o;d.shell=f;d._numberify=l;b.UA=d});KISSY.add("dom",function(b,k){function j(o,f){return o&&o.nodeType===f}b.DOM={_isElementNode:function(o){return j(o,1)},_isKSNode:function(o){return b.Node&&j(o,b.Node.TYPE)},_getWin:function(o){return o&&"scrollTo"in o&&o.document?o:j(o,9)?o.defaultView||o.parentWindow:o===k?window:false},_nodeTypeIs:j}});
KISSY.add("selector",function(b,k){function j(a,c){var e,g=[],r,z;c=o(c);if(b.isString(a)){a=b.trim(a);if(y.test(a)){if(a=f(a.slice(1),c))g=[a]}else if(e=h.exec(a)){r=e[1];z=e[2];e=e[3];if(c=r?f(r,c):c)if(e)if(!r||a.indexOf(i)!==-1)g=d(e,z,c);else{if((a=f(r,c))&&m.hasClass(a,e))g=[a]}else if(z)g=p(z,c)}else if(b.ExternalSelector)return b.ExternalSelector(a,c);else l(a)}else if(a&&(a[w]||a[v]))g=a[w]?[a[w]()]:a[v]();else if(a&&(b.isArray(a)||a.item&&!a.nodeType))g=a;else if(a)g=[a];if(g.item)g=b.makeArray(g);
g.each=function(t,u){return b.each(g,t,u)};return g}function o(a){if(a===k)a=q;else if(b.isString(a)&&y.test(a))a=f(a.slice(1),q);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function f(a,c){if(c.nodeType!==9)c=c.ownerDocument;return c.getElementById(a)}function p(a,c){return c.getElementsByTagName(a)}function d(a,c,e){e=a=e.getElementsByClassName(a);var g=0,r=0,z=a.length,t;if(c&&c!==n){e=[];for(c=c.toUpperCase();g<z;++g){t=a[g];if(t.tagName===c)e[r++]=t}}return e}function l(a){b.error("Unsupported selector: "+
a)}var q=document,m=b.DOM,i=" ",n="*",w="getDOMNode",v=w+"s",y=/^#[\w-]+$/,h=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=q.createElement("div");a.appendChild(q.createComment(""));if(a.getElementsByTagName(n).length>0)p=function(c,e){e=e.getElementsByTagName(c);if(c===n){c=[];for(var g=0,r=0,z;z=e[g++];)if(z.nodeType===1)c[r++]=z;e=c}return e}})();q.getElementsByClassName||(d=q.querySelectorAll?function(a,c,e){return e.querySelectorAll((c?c:"")+"."+a)}:function(a,c,e){c=e.getElementsByTagName(c||
n);e=[];var g=0,r=0,z=c.length,t,u;for(a=i+a+i;g<z;++g){t=c[g];if((u=t.className)&&(i+u+i).indexOf(a)>-1)e[r++]=t}return e});b.query=j;b.get=function(a,c){return j(a,c)[0]||null};b.mix(m,{query:j,get:b.get,filter:function(a,c){var e=j(a),g,r,z,t=[];if(b.isString(c)&&(g=h.exec(c))&&!g[1]){r=g[2];z=g[3];c=function(u){return!(r&&u.tagName!==r.toUpperCase()||z&&!m.hasClass(u,z))}}if(b.isFunction(c))t=b.filter(e,c);else if(c&&b.ExternalSelector)t=b.ExternalSelector._filter(a,c);else l(c);return t},test:function(a,
c){a=j(a);return m.filter(a,c).length===a.length}})});
KISSY.add("dom-class",function(b,k){function j(d,l,q,m){if(!(l=b.trim(l)))return m?false:k;d=b.query(d);var i=0,n=d.length;l=l.split(f);for(var w;i<n;i++){w=d[i];if(o._isElementNode(w)){w=q(w,l,l.length);if(w!==k)return w}}if(m)return false}var o=b.DOM,f=/[\.\s]\s*\.?/,p=/[\n\t]/g;b.mix(o,{hasClass:function(d,l){return j(d,l,function(q,m,i){if(q=q.className){q=" "+q+" ";for(var n=0,w=true;n<i;n++)if(q.indexOf(" "+m[n]+" ")<0){w=false;break}if(w)return true}},true)},addClass:function(d,l){j(d,l,function(q,
m,i){var n=q.className;if(n){var w=" "+n+" ";n=n;for(var v=0;v<i;v++)if(w.indexOf(" "+m[v]+" ")<0)n+=" "+m[v];q.className=b.trim(n)}else q.className=l})},removeClass:function(d,l){j(d,l,function(q,m,i){var n=q.className;if(n)if(i){n=(" "+n+" ").replace(p," ");for(var w=0,v;w<i;w++)for(v=" "+m[w]+" ";n.indexOf(v)>=0;)n=n.replace(v," ");q.className=b.trim(n)}else q.className=""})},replaceClass:function(d,l,q){o.removeClass(d,l);o.addClass(d,q)},toggleClass:function(d,l,q){var m=b.isBoolean(q),i;j(d,
l,function(n,w,v){for(var y=0,h;y<v;y++){h=w[y];i=m?!q:o.hasClass(n,h);o[i?"removeClass":"addClass"](n,h)}})}})});
KISSY.add("dom-attr",function(b,k){function j(h,a){return a&&a.nodeName.toUpperCase()===h.toUpperCase()}var o=b.UA,f=o.ie,p=f&&f<8,d=document.documentElement.textContent!==k?"textContent":"innerText",l=b.DOM,q=l._isElementNode,m=function(h){return l._nodeTypeIs(h,3)},i=/href|src|style/,n=/href|src|colspan|rowspan/,w=/\r/g,v=/radio|checkbox/,y={readonly:"readOnly"};p&&b.mix(y,{"for":"htmlFor","class":"className"});b.mix(l,{attr:function(h,a,c){if(b.isPlainObject(a))for(var e in a)l.attr(h,e,a[e]);
else if(a=b.trim(a)){a=a.toLowerCase();a=y[a]||a;if(c===k){h=b.get(h);if(!q(h))return k;var g;i.test(a)||(g=h[a]);if(g===k)g=h.getAttribute(a);if(p)if(n.test(a))g=h.getAttribute(a,2);else if(a==="style")g=h.style.cssText;return g===null?k:g}b.each(b.query(h),function(r){if(q(r))if(a==="style")r.style.cssText=c;else{if(a==="checked")r[a]=!!c;r.setAttribute(a,""+c)}})}},removeAttr:function(h,a){b.each(b.query(h),function(c){if(q(c)){l.attr(c,a,"");c.removeAttribute(a)}})},val:function(h,a){if(a===k){var c=
b.get(h);if(!q(c))return k;if(j("option",c))return(c.attributes.value||{}).specified?c.value:c.text;if(j("select",c)){var e=c.selectedIndex;h=c.options;if(e<0)return null;else if(c.type==="select-one")return l.val(h[e]);c=[];for(var g=0,r=h.length;g<r;++g)h[g].selected&&c.push(l.val(h[g]));return c}if(o.webkit&&v.test(c.type))return c.getAttribute("value")===null?"on":c.value;return(c.value||"").replace(w,"")}b.each(b.query(h),function(z){if(j("select",z)){if(b.isNumber(a))a+="";var t=b.makeArray(a),
u=z.options,A;g=0;for(r=u.length;g<r;++g){A=u[g];A.selected=b.inArray(l.val(A),t)}if(!t.length)z.selectedIndex=-1}else if(q(z))z.value=a})},text:function(h,a){if(a===k){h=b.get(h);if(q(h))return h[d]||"";else if(m(h))return h.nodeValue}else b.each(b.query(h),function(c){if(q(c))c[d]=a;else if(m(c))c.nodeValue=a})}})});
KISSY.add("dom-style",function(b,k){function j(a,c){var e=b.get(a),g=c===q?e.offsetWidth:e.offsetHeight;b.each(c===q?["Left","Right"]:["Top","Bottom"],function(r){g-=parseFloat(f._getComputedStyle(e,"padding"+r))||0;g-=parseFloat(f._getComputedStyle(e,"border"+r+"Width"))||0});return g}function o(a,c,e){var g=e;if(e===m&&n.test(c)){g=0;if(f.css(a,"position")==="absolute"){e=a[c==="left"?"offsetLeft":"offsetTop"];if(p.ie===8||p.opera)e-=i(f.css(a.offsetParent,"border-"+c+"-width"))||0;g=e-(i(f.css(a,
"margin-"+c))||0)}}return g}var f=b.DOM,p=b.UA,d=document,l=d.documentElement,q="width",m="auto",i=parseInt,n=/^left|top$/,w=/width|height|top|left|right|bottom|margin|padding/i,v=/-([a-z])/ig,y=function(a,c){return c.toUpperCase()},h={};b.mix(f,{_CUSTOM_STYLES:h,_getComputedStyle:function(a,c){var e="",g=a.ownerDocument;if(a.style)e=g.defaultView.getComputedStyle(a,null)[c];return e},css:function(a,c,e){if(b.isPlainObject(c))for(var g in c)f.css(a,g,c[g]);else{if(c.indexOf("-")>0)c=c.replace(v,y);
c=h[c]||c;if(e===k){a=b.get(a);g="";if(a&&a.style){g=c.get?c.get(a):a.style[c];if(g===""&&!c.get)g=o(a,c,f._getComputedStyle(a,c))}return g===k?"":g}else{if(e===null||e==="")e="";else if(!isNaN(new Number(e))&&w.test(c))e+="px";(c===q||c==="height")&&parseFloat(e)<0||b.each(b.query(a),function(r){if(r&&r.style){c.set?c.set(r,e):(r.style[c]=e);if(e==="")r.style.cssText||r.removeAttribute("style")}})}}},width:function(a,c){if(c===k)return j(a,q);else f.css(a,q,c)},height:function(a,c){if(c===k)return j(a,
"height");else f.css(a,"height",c)},addStyleSheet:function(a,c){var e;if(c)e=b.get(c);e||(e=f.create("<style>",{id:c}));b.get("head").appendChild(e);if(e.styleSheet)e.styleSheet.cssText=a;else e.appendChild(d.createTextNode(a))}});if(l.style.cssFloat!==k)h["float"]="cssFloat";else if(l.style.styleFloat!==k)h["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(b,k){if(b.UA.ie){var j=b.DOM,o=document,f=o.documentElement,p=j._CUSTOM_STYLES,d=/^-?\d+(?:px)?$/i,l=/^-?\d/,q=/^width|height$/;try{if(f.style.opacity===k&&f.filters)p.opacity={get:function(i){var n=100;try{n=i.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(w){try{n=i.filters("alpha").opacity}catch(v){}}return n/100+""},set:function(i,n){i=i.style;i.zoom=1;i.filter="alpha(opacity="+n*100+")"}}}catch(m){b.log("IE filters ActiveX is disabled. ex = "+m)}if(!(o.defaultView||
{}).getComputedStyle&&f.currentStyle)j._getComputedStyle=function(i,n){var w=i.style,v=i.currentStyle[n];if(q.test(n))v=j[n](i)+"px";else if(!d.test(v)&&l.test(v)){var y=w.left,h=i.runtimeStyle.left;i.runtimeStyle.left=i.currentStyle.left;w.left=n==="fontSize"?"1em":v||0;v=w.pixelLeft+"px";w.left=y;i.runtimeStyle.left=h}return v}}});
KISSY.add("dom-offset",function(b,k){function j(t){var u=0,A=0,s=i(t[a]);if(t[z]){t=t[z]();u=t[c];A=t[e];if(p.mobile!=="apple"){u+=f[g](s);A+=f[r](s)}}return{left:u,top:A}}function o(t,u){if(f.css(t,y)==="static")t.style[y]=h;var A=j(t),s={},x,B;for(B in u){x=v(f.css(t,B),10)||0;s[B]=x+u[B]-A[B]}f.css(t,s)}var f=b.DOM,p=b.UA,d=window,l=document,q=f._isElementNode,m=f._nodeTypeIs,i=f._getWin,n=l.compatMode==="CSS1Compat",w=Math.max,v=parseInt,y="position",h="relative",a="ownerDocument",c="left",e=
"top",g="scrollLeft",r="scrollTop",z="getBoundingClientRect";b.mix(f,{offset:function(t,u){if(!(t=b.get(t))||!t[a])return null;if(u===k)return j(t);o(t,u)},scrollIntoView:function(t,u,A,s){if((t=b.get(t))&&t[a]){s=s===k?true:!!s;A=A===k?true:!!A;if(!u||u===d)return t.scrollIntoView(A);u=b.get(u);if(m(u,9))u=i(u);var x=u&&"scrollTo"in u&&u.document,B=f.offset(t),C=x?{left:f.scrollLeft(u),top:f.scrollTop(u)}:f.offset(u),D={left:B[c]-C[c],top:B[e]-C[e]};B=x?f.viewportHeight(u):u.clientHeight;C=x?f.viewportWidth(u):
u.clientWidth;var G=f[g](u),E=f[r](u),F=G+C,M=E+B,I=t.offsetHeight;t=t.offsetWidth;var H=D.left+G-(v(f.css(u,"borderLeftWidth"))||0);D=D.top+E-(v(f.css(u,"borderTopWidth"))||0);var N=H+t,J=D+I,K,L;if(I>B||D<E||A)K=D;else if(J>M)K=J-B;if(s)if(t>C||H<G||A)L=H;else if(N>F)L=N-C;if(x){if(K!==k||L!==k)u.scrollTo(L,K)}else{if(K!==k)u[r]=K;if(L!==k)u[g]=L}}}});b.each(["Left","Top"],function(t,u){var A="scroll"+t;f[A]=function(s){var x=0,B=i(s),C;if(B&&(C=B.document))x=B[u?"pageYOffset":"pageXOffset"]||C.documentElement[A]||
C.body[A];else if(q(s=b.get(s)))x=s[A];return x}});b.each(["Width","Height"],function(t){f["doc"+t]=function(u){u=u||l;return w(n?u.documentElement["scroll"+t]:u.body["scroll"+t],f["viewport"+t](u))};f["viewport"+t]=function(u){var A="inner"+t;u=i(u);var s=u.document;return A in u?u[A]:n?s.documentElement["client"+t]:s.body["client"+t]}})});
KISSY.add("dom-traversal",function(b,k){function j(d,l,q,m){if(!(d=b.get(d)))return null;if(l===k)l=1;var i=null,n,w;if(b.isNumber(l)&&l>=0){if(l===0)return d;n=0;w=l;l=function(){return++n===w}}for(;d=d[q];)if(p(d)&&(!l||f.test(d,l))&&(!m||m(d))){i=d;break}return i}function o(d,l,q){var m=[];var i=d=b.get(d);if(d&&q)i=d.parentNode;if(i){q=0;for(i=i.firstChild;i;i=i.nextSibling)if(p(i)&&i!==d&&(!l||f.test(i,l)))m[q++]=i}return m}var f=b.DOM,p=f._isElementNode;b.mix(f,{parent:function(d,l){return j(d,
l,"parentNode",function(q){return q.nodeType!=11})},next:function(d,l){return j(d,l,"nextSibling")},prev:function(d,l){return j(d,l,"previousSibling")},siblings:function(d,l){return o(d,l,true)},children:function(d,l){return o(d,l)},contains:function(d,l){var q=false;if((d=b.get(d))&&(l=b.get(l)))if(d.contains)return d.contains(l);else if(d.compareDocumentPosition)return!!(d.compareDocumentPosition(l)&16);else for(;!q&&(l=l.parentNode);)q=l==d;return q}})});
KISSY.add("dom-create",function(b,k){function j(s,x){w(s)&&b.isPlainObject(x)&&q.attr(s,x);return s}function o(s,x){var B=null,C;if(s&&(s.push||s.item)&&s[0]){x=x||s[0].ownerDocument;B=x.createDocumentFragment();if(s.item)s=b.makeArray(s);x=0;for(C=s.length;x<C;x++)B.appendChild(s[x])}else b.log("Unable to convert "+s+" to fragment.");return B}function f(s){var x=s.cloneNode(true);if(m.ie<8)x.innerHTML=s.innerHTML;return x}function p(s,x,B,C){if(B){var D=b.guid("ks-tmp-"),G=new RegExp(a);x+='<span id="'+
D+'"></span>';b.available(D,function(){var E=b.get("head"),F,M,I,H,N,J;for(G.lastIndex=0;F=G.exec(x);)if((I=(M=F[1])?M.match(e):false)&&I[2]){F=l.createElement("script");F.src=I[2];if((H=M.match(g))&&H[2])F.charset=H[2];F.async=true;E.appendChild(F)}else if((J=F[2])&&J.length>0)b.globalEval(J);(N=l.getElementById(D))&&q.remove(N);b.isFunction(C)&&C()});d(s,x)}else{d(s,x);b.isFunction(C)&&C()}}function d(s,x){x=(x+"").replace(a,"");try{s.innerHTML=x}catch(B){for(;s.firstChild;)s.removeChild(s.firstChild);
x&&s.appendChild(q.create(x))}}var l=document,q=b.DOM,m=b.UA,i=m.ie,n=q._nodeTypeIs,w=q._isElementNode,v=q._isKSNode,y=l.createElement("div"),h=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,c=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,e=/\ssrc=(['"])(.*?)\1/i,g=/\scharset=(['"])(.*?)\1/i;b.mix(q,{create:function(s,x,B){if(n(s,1)||n(s,3))return f(s);if(v(s))return f(s[0]);if(!(s=b.trim(s)))return null;var C=null;C=q._creators;var D,G="div",E;if(D=c.exec(s))C=(B||l).createElement(D[1]);else{if((D=h.exec(s))&&
(E=D[1])&&b.isFunction(C[E=E.toLowerCase()]))G=E;s=C[G](s,B).childNodes;C=s.length===1?s[0].parentNode.removeChild(s[0]):o(s,B||l)}return j(C,x)},_creators:{div:function(s,x){x=x?x.createElement("div"):y;x.innerHTML=s;return x}},html:function(s,x,B,C){if(x===k){s=b.get(s);if(w(s))return s.innerHTML}else b.each(b.query(s),function(D){w(D)&&p(D,x,B,C)})},remove:function(s){b.each(b.query(s),function(x){w(x)&&x.parentNode&&x.parentNode.removeChild(x)})}});if(m.gecko||i){var r=q._creators,z=q.create,
t=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,u={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in u)(function(s){r[A]=function(x,B){return z("<"+s+">"+x+"</"+s+">",null,B)}})(u[A]);if(i){r.script=function(s,x){x=x?x.createElement("div"):y;x.innerHTML="-"+s;x.removeChild(x.firstChild);return x};if(i<8)r.tbody=function(s,x){x=z("<table>"+s+"</table>",null,x);var B=x.children.tags("tbody")[0];x.children.length>1&&B&&!t.test(s)&&B.parentNode.removeChild(B);
return x}}b.mix(r,{optgroup:r.option,th:r.td,thead:r.tbody,tfoot:r.tbody,caption:r.tbody,colgroup:r.tbody})}});KISSY.add("dom-insertion",function(b){b.mix(b.DOM,{insertBefore:function(k,j){if((k=b.get(k))&&(j=b.get(j))&&j.parentNode)j.parentNode.insertBefore(k,j);return k},insertAfter:function(k,j){if((k=b.get(k))&&(j=b.get(j))&&j.parentNode)j.nextSibling?j.parentNode.insertBefore(k,j.nextSibling):j.parentNode.appendChild(k);return k}})});
KISSY.add("event",function(b,k){function j(h,a,c,e,g){if(b.isString(a))a=b.query(a);if(b.isArray(a)){b.each(a,function(r){y[h](r,c,e,g)});return true}if((c=b.trim(c))&&c.indexOf(n)>0){b.each(c.split(n),function(r){y[h](a,r,e,g)});return true}}function o(h){return d(h)?h[i]:-1}function f(h,a){if(!d(h))return b.error("Text or comment node is not valid event target.");try{h[i]=a}catch(c){b.error(c)}}function p(h){try{h[i]=k;delete h[i]}catch(a){}}function d(h){return h&&h.nodeType!==3&&h.nodeType!==
8}var l=document,q=l.addEventListener?function(h,a,c,e){h.addEventListener&&h.addEventListener(a,c,!!e)}:function(h,a,c){h.attachEvent&&h.attachEvent("on"+a,c)},m=l.removeEventListener?function(h,a,c,e){h.removeEventListener&&h.removeEventListener(a,c,!!e)}:function(h,a,c){h.detachEvent&&h.detachEvent("on"+a,c)},i="ksEventTargetId",n=" ",w=b.now(),v={},y={EVENT_GUID:i,special:{},add:function(h,a,c,e){e=e||h;if(!j("add",h,a,c,e)){var g=o(h),r,z,t,u,A;if(!(g===-1||!a||!b.isFunction(c))){if(!g){f(h,
g=w++);v[g]={target:h,events:{}}}z=v[g].events;if(!z[a]){r=((g=!h.isCustomEventTarget)||h._supportSpecialEvent)&&y.special[a]||{};t=function(s,x){if(!s||!s.fixed){s=new b.EventObject(h,s,a);b.isPlainObject(x)&&b.mix(s,x)}r.setup&&r.setup(s);return(r.handle||y._handle)(h,s,z[a].listeners)};z[a]={handle:t,listeners:[]};u=r.fix||a;A=r.capture;if(g)q(h,u,t,A);else h._addEvent&&h._addEvent(u,t,A)}z[a].listeners.push({fn:c,scope:e})}}},remove:function(h,a,c,e){e=e||h;if(!j("remove",h,a,c,e)){var g=o(h),
r,z,t,u,A,s,x;if(g!==-1)if(g&&(r=v[g]))if(r.target===h){r=r.events||{};if(z=r[a]){t=z.listeners;s=t.length;if(b.isFunction(c)&&s){A=u=0;for(x=[];u<s;++u)if(c!==t[u].fn||e!==t[u].scope)x[A++]=t[u];z.listeners=x;s=x.length}if(c===k||s===0){if(h.isCustomEventTarget)h._addEvent&&h._removeEvent(a,z.handle);else m(h,a,z.handle);delete r[a]}}if(a===k||b.isEmptyObject(r)){for(a in r)y.remove(h,a);delete v[g];p(h)}}}},_handle:function(h,a,c){c=c.slice(0);for(var e,g=0,r=c.length;g<r;++g){e=c[g];e=e.fn.call(e.scope||
h,a);if(e===false&&h.isCustomEventTarget||a.isImmediatePropagationStopped)break}return e},_getCache:function(h){return v[h]},_simpleAdd:q,_simpleRemove:m};y.on=y.add;b.Event=y});
KISSY.add("event-object",function(b,k){function j(p,d,l){this.currentTarget=p;this.originalEvent=d||{};if(d){this.type=d.type;this._fix()}else{this.type=l;this.target=p}this.currentTarget=p;this.fixed=true}var o=document,f="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");b.augment(j,
{_fix:function(){var p=this.originalEvent,d=f.length,l,q=this.currentTarget;for(q=q.nodeType===9?q:q.ownerDocument||o;d;){l=f[--d];this[l]=p[l]}if(!this.target)this.target=this.srcElement||o;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===k&&this.clientX!==k){p=q.documentElement;d=q.body;this.pageX=this.clientX+(p&&p.scrollLeft||d&&d.scrollLeft||
0)-(p&&p.clientLeft||d&&d.clientLeft||0);this.pageY=this.clientY+(p&&p.scrollTop||d&&d.scrollTop||0)-(p&&p.clientTop||d&&d.clientTop||0)}if(this.which===k)this.which=this.charCode!==k?this.charCode:this.keyCode;if(this.metaKey===k)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==k)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var p=this.originalEvent;if(p.preventDefault)p.preventDefault();else p.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var p=
this.originalEvent;if(p.stopPropagation)p.stopPropagation();else p.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var p=this.originalEvent;p.stopImmediatePropagation?p.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(p){p?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});b.EventObject=j});
KISSY.add("event-target",function(b,k){var j=b.Event,o=j.EVENT_GUID;b.EventTarget={isCustomEventTarget:true,fire:function(f,p){if((f=((j._getCache(this[o]||-1)||{}).events||{})[f])&&b.isFunction(f.handle))return f.handle(k,p);return this},on:function(f,p,d){j.add(this,f,p,d);return this},detach:function(f,p){j.remove(this,f,p);return this}}});
KISSY.add("event-mouseenter",function(b){var k=b.Event;b.UA.ie||b.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(j){k.special[j.name]={fix:j.fix,setup:function(o){o.type=j.name},handle:function(o,f,p){var d=f.relatedTarget;try{for(;d&&d!==o;)d=d.parentNode;d!==o&&k._handle(o,f,p)}catch(l){}}}})});
KISSY.add("event-focusin",function(b){var k=b.Event;document.addEventListener&&b.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(j){k.special[j.name]={fix:j.fix,capture:true,setup:function(o){o.type=j.name}}})});
KISSY.add("node",function(b){function k(f,p,d){var l;if(!(this instanceof k))return new k(f,p,d);if(f){if(o(f,1)||o(f,3))l=f;else if(b.isString(f))l=j.create(f,p,d);this[0]=l}else this.length=0}var j=b.DOM,o=j._nodeTypeIs;k.TYPE="-ks-Node";b.augment(k,{length:1,getDOMNode:function(){return this[0]},nodeType:k.TYPE});b.one=function(f,p){return(f=b.get(f,p))?new k(f):null};b.Node=k});
KISSY.add("nodelist",function(b){function k(f){if(!(this instanceof k))return new k(f);o.push.apply(this,f||[])}var j=b.DOM,o=Array.prototype;b.mix(k.prototype,{length:0,item:function(f){var p=null;if(j._isElementNode(this[f]))p=new b.Node(this[f]);return p},getDOMNodes:function(){return o.slice.call(this)},each:function(f,p){var d=this.length,l=0,q;for(q=new b.Node(this[0]);l<d&&f.call(p||q,q,l,this)!==false;q=new b.Node(this[++l]));return this}});b.all=function(f,p){return new k(b.query(f,p,true))};
b.NodeList=k});
KISSY.add("node-attach",function(b,k){function j(v,arguments,y,h){var a=[this[v?m:q]()].concat(b.makeArray(arguments));if(arguments[y]===k)return h.apply(f,a);else{h.apply(f,a);return this}}function o(v,y){b.each(v,function(h){b.each([d,l],function(a,c){a[h]=function(e){switch(y){case i:return function(){return j.call(this,c,arguments,1,e)};case n:return function(){return j.call(this,c,arguments,0,e)};case w:return function(){var g=this[c?m:q]();return(g=e.apply(f,[g].concat(b.makeArray(arguments))))?new (b[b.isArray(g)?
"NodeList":"Node"])(g):null};default:return function(){var g=this[c?m:q]();g=e.apply(f,[g].concat(b.makeArray(arguments)));return g===k?this:g}}}(f[h])})})}var f=b.DOM,p=b.Event,d=b.Node.prototype,l=b.NodeList.prototype,q="getDOMNode",m=q+"s",i=1,n=2,w=4;b.mix(d,{one:function(v){return b.one(v,this[0])},all:function(v){return b.all(v,this[0])}});o(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);o(["attr","removeAttr"],i);o(["val","text"],n);o(["css"],i);o(["width","height"],n);
o(["offset"],n);o(["scrollIntoView"]);o(["parent","next","prev","siblings","children"],w);o(["contains"]);o(["html"],n);o(["remove"]);b.each(["insertBefore","insertAfter"],function(v){d[v]=function(y){f[v].call(f,this[0],y);return this}});b.each([d,l],function(v){b.mix(v,{append:function(y){y&&b.each(this,function(h){h.appendChild(f.create(y))});return this},appendTo:function(y){if((y=b.get(y))&&y.appendChild)b.each(this,function(h){y.appendChild(h)});return this}})});b.each([d,l],function(v){b.mix(v,
b.EventTarget,{_supportSpecialEvent:true});v._addEvent=function(y,h,a){for(var c=0,e=this.length;c<e;c++)p._simpleAdd(this[c],y,h,a)};v._removeEvent=function(y,h,a){for(var c=0,e=this.length;c<e;c++)p._simpleRemove(this[c],y,h,a)};delete v.fire})});
KISSY.add("ajax",function(b){var k=document,j=k.createElement("script").readyState?function(o,f){o.onreadystatechange=function(){var p=o.readyState;if(p==="loaded"||p==="complete"){o.onreadystatechange=null;f.call(this)}}}:function(o,f){o.onload=f};b.mix(b,{getScript:function(o,f,p){var d=b.get("head")||k.documentElement,l=k.createElement("script");l.src=o;if(p)l.charset=p;l.async=true;b.isFunction(f)&&j(l,f);d.insertBefore(l,d.firstChild)}})});
KISSY.add("cookie",function(b){function k(p){return b.isString(p)&&p!==""}var j=document,o=encodeURIComponent,f=decodeURIComponent;b.Cookie={get:function(p){var d;if(k(p))if(p=j.cookie.match("(?:^| )"+p+"(?:(?:=([^;]*))|;|$)"))d=p[1]?f(p[1]):"";return d},set:function(p,d,l,q,m,i){d=o(d);var n=l;if(typeof n==="number"){n=new Date;n.setTime(n.getTime()+l*864E5)}if(n instanceof Date)d+="; expires="+n.toUTCString();if(k(q))d+="; domain="+q;if(k(m))d+="; path="+m;if(i)d+="; secure";j.cookie=p+"="+d},remove:function(p,
d,l,q){this.set(p,"",0,d,l,q)}}});
