/*
Copyright 2010, KISSY UI Library v1.1.2dev
MIT Licensed
build time: ${build.time}
*/
(function(b,j,q){if(b[j]===q)b[j]={};j=b[j];var n=b.document,d=function(l,i,m,w){if(!i||!l)return l;if(m===q)m=true;var v,y,h;if(w&&(h=w.length))for(v=0;v<h;v++){y=w[v];if(y in i)if(m||!(y in l))l[y]=i[y]}else for(y in i)if(m||!(y in l))l[y]=i[y];return l},o=false,e=[],k=false,p=/^#?([\w-]+)$/;d(j,{version:"1.1.2dev",_init:function(){this.Env={mods:{},guid:0}},add:function(l,i){this.Env.mods[l]={name:l,fn:i};i(this);return this},ready:function(l){k||this._bindReady();o?l.call(b,this):e.push(l);return this},
_bindReady:function(){var l=this,i=n.documentElement.doScroll,m=i?"onreadystatechange":"DOMContentLoaded",w=function(){l._fireReady()};k=true;if(n.readyState==="complete")return w();if(n.addEventListener){var v=function(){n.removeEventListener(m,v,false);w()};n.addEventListener(m,v,false);b.addEventListener("load",w,false)}else{var y=function(){if(n.readyState==="complete"){n.detachEvent(m,y);w()}};n.attachEvent(m,y);b.attachEvent("onload",w);if(b==b.top){var h=function(){try{i("left");w()}catch(a){setTimeout(h,
1)}};h()}}},_fireReady:function(){if(!o){o=true;if(e){for(var l,i=0;l=e[i++];)l.call(b,this);e=null}}},available:function(l,i){if((l=(l+"").match(p)[1])&&j.isFunction(i))var m=1,w=j.later(function(){if(n.getElementById(l)&&(i()||1)||++m>500)w.cancel()},40,true)},mix:d,merge:function(){var l={},i,m=arguments.length;for(i=0;i<m;++i)d(l,arguments[i]);return l},augment:function(){var l=arguments,i=l.length-2,m=l[0],w=l[i],v=l[i+1],y=1;if(!j.isArray(v)){w=v;v=q;i++}if(!j.isBoolean(w)){w=q;i++}for(;y<i;y++)d(m.prototype,
l[y].prototype||l[y],w,v);return m},extend:function(l,i,m,w){if(!i||!l)return l;var v=Object.prototype,y=i.prototype,h=function(a){function c(){}c.prototype=a;return new c}(y);l.prototype=h;h.constructor=l;l.superclass=y;if(i!==Object&&y.constructor===v.constructor)y.constructor=i;m&&d(h,m);w&&d(l,w);return l},namespace:function(){var l=arguments.length,i=null,m,w,v;for(m=0;m<l;++m){v=(""+arguments[m]).split(".");i=this;for(w=b[v[0]]===i?1:0;w<v.length;++w)i=i[v[w]]=i[v[w]]||{}}return i},app:function(l,
i){var m=b[l]||{};d(m,this,true,["_init","add","namespace"]);m._init();return d(b[l]=m,typeof i==="function"?i():i)},log:function(l,i,m){if(this.Config.debug){if(m)l=m+": "+l;if(b.console!==q&&console.log)console[i&&console[i]?i:"log"](l)}return this},error:function(l){if(this.Config.debug)throw l;},guid:function(l){var i=this.Env.guid++ +"";return l?l+i:i}});j._init();j.Config={debug:""}})(window,"KISSY");
KISSY.add("lang",function(b,j){function q(a){var c=typeof a;return a===null||c!=="object"&&c!=="function"}var n=window,d=document,o=location,e=Array.prototype,k=e.indexOf,p=e.filter,l=String.prototype.trim,i=Object.prototype.toString,m=encodeURIComponent,w=decodeURIComponent,v=/^\s+|\s+$/g,y=/^(\w+)\[\]$/,h=/\S/;b.mix(b,{isUndefined:function(a){return a===j},isBoolean:function(a){return typeof a==="boolean"},isString:function(a){return typeof a==="string"},isNumber:function(a){return typeof a==="number"&&
isFinite(a)},isPlainObject:function(a){return a&&i.call(a)==="[object Object]"&&!a.nodeType&&!a.setInterval},isEmptyObject:function(a){for(var c in a)return false;return true},isFunction:function(a){return i.call(a)==="[object Function]"},isArray:function(a){return i.call(a)==="[object Array]"},trim:l?function(a){return a==j?"":l.call(a)}:function(a){return a==j?"":a.toString().replace(v,"")},substitute:function(a,c,f){if(!b.isString(a)||!b.isPlainObject(c))return a;return a.replace(f||/\\?\{([^{}]+)\}/g,
function(g,r){if(g.charAt(0)==="\\")return g.slice(1);return c[r]!==j?c[r]:""})},each:function(a,c,f){var g,r=0,z=a.length,t=z===j||b.isFunction(a);f=f||n;if(t)for(g in a){if(c.call(f,a[g],g,a)===false)break}else for(g=a[0];r<z&&c.call(f,g,r,a)!==false;g=a[++r]);return a},indexOf:k?function(a,c){return k.call(c,a)}:function(a,c){for(var f=0,g=c.length;f<g;++f)if(c[f]===a)return f;return-1},inArray:function(a,c){return b.indexOf(a,c)>-1},makeArray:function(a){if(a===null||a===j)return[];if(b.isArray(a))return a;
if(typeof a.length!=="number"||typeof a==="string"||b.isFunction(a))return[a];if(a.item&&b.UA.ie){for(var c=[],f=0,g=a.length;f<g;++f)c[f]=a[f];return c}return e.slice.call(a)},filter:p?function(a,c,f){return p.call(a,c,f)}:function(a,c,f){var g=[];b.each(a,function(r,z,t){c.call(f,r,z,t)&&g.push(r)});return g},param:function(a,c){if(!b.isPlainObject(a))return"";c=c||"&";var f=[],g,r;for(g in a){r=a[g];g=m(g);if(q(r))f.push(g,"=",m(r+""),c);else if(b.isArray(r)&&r.length)for(var z=0,t=r.length;z<
t;++z)q(r[z])&&f.push(g,"[]=",m(r[z]+""),c)}f.pop();return f.join("")},unparam:function(a,c){if(typeof a!=="string"||(a=b.trim(a)).length===0)return{};var f={};a=a.split(c||"&");for(var g,r,z,t=0,u=a.length;t<u;++t){c=a[t].split("=");g=w(c[0]);try{r=w(c[1]||"")}catch(A){r=c[1]||""}if((z=g.match(y))&&z[1]){f[z[1]]=f[z[1]]||[];f[z[1]].push(r)}else f[g]=r}return f},later:function(a,c,f,g,r){c=c||0;g=g||{};var z=a,t=b.makeArray(r),u;if(typeof a==="string")z=g[a];z||b.error("method undefined");a=function(){z.apply(g,
t)};u=f?setInterval(a,c):setTimeout(a,c);return{id:u,interval:f,cancel:function(){this.interval?clearInterval(u):clearTimeout(u)}}},clone:function(a){var c=a,f,g;if(a&&((f=b.isArray(a))||b.isPlainObject(a))){c=f?[]:{};for(g in a)if(a.hasOwnProperty(g))c[g]=b.clone(a[g])}return c},now:function(){return(new Date).getTime()},globalEval:function(a){if(a&&h.test(a)){var c=d.getElementsByTagName("head")[0]||d.documentElement,f=d.createElement("script");f.text=a;c.insertBefore(f,c.firstChild);c.removeChild(f)}}});
if(o&&o.search&&o.search.indexOf("ks-debug")!==-1)b.Config.debug=true});
KISSY.add("ua",function(b){var j=navigator.userAgent,q="",n="",d,o,e={webkit:0,trident:0,gecko:0,presto:0,chrome:0,safari:0,firefox:0,ie:0,opera:0},k=function(p){var l=0;return parseFloat(p.replace(/\./g,function(){return l++===0?".":""}))};if((d=j.match(/AppleWebKit\/([\d.]*)/))&&d[1]){e[q="webkit"]=k(d[1]);if((d=j.match(/Chrome\/([\d.]*)/))&&d[1])e[n="chrome"]=k(d[1]);else if((d=j.match(/\/([\d.]*) Safari/))&&d[1])e[n="safari"]=k(d[1]);if(/ Mobile\//.test(j))e.mobile="apple";else if(d=j.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))e.mobile=
d[0].toLowerCase()}else if((d=j.match(/Presto\/([\d.]*)/))&&d[1]){e[q="presto"]=k(d[1]);if((d=j.match(/Opera\/([\d.]*)/))&&d[1]){e[n="opera"]=k(d[1]);if((d=j.match(/Opera\/.* Version\/([\d.]*)/))&&d[1])e[n]=k(d[1]);if((d=j.match(/Opera Mini[^;]*/))&&d)e.mobile=d[0].toLowerCase();else if((d=j.match(/Opera Mobi[^;]*/))&&d)e.mobile=d[0]}}else if((d=j.match(/MSIE\s([^;]*)/))&&(o=d[1])){e[q="trident"]=0.1;e[n="ie"]=o<8&&document.documentMode?8:o;if((d=j.match(/Trident\/([\d.]*)/))&&d[1])e[q]=k(d[1])}else if(d=
j.match(/Gecko/)){e[q="gecko"]=0.1;if((d=j.match(/rv:([\d.]*)/))&&d[1])e[q]=k(d[1]);if((d=j.match(/Firefox\/([\d.]*)/))&&d[1])e[n="firefox"]=k(d[1])}e.core=q;e.shell=n;e._numberify=k;b.UA=e});KISSY.add("dom",function(b,j){function q(n,d){return n&&n.nodeType===d}b.DOM={_isElementNode:function(n){return q(n,1)},_isKSNode:function(n){return b.Node&&q(n,b.Node.TYPE)},_getWin:function(n){return n&&"scrollTo"in n&&n.document?n:q(n,9)?n.defaultView||n.parentWindow:n===j?window:false},_nodeTypeIs:q}});
KISSY.add("selector",function(b,j){function q(a,c){var f,g=[],r,z;c=n(c);if(b.isString(a)){a=b.trim(a);if(y.test(a)){if(a=d(a.slice(1),c))g=[a]}else if(f=h.exec(a)){r=f[1];z=f[2];f=f[3];if(c=r?d(r,c):c)if(f)if(!r||a.indexOf(i)!==-1)g=e(f,z,c);else{if((a=d(r,c))&&l.hasClass(a,f))g=[a]}else if(z)g=o(z,c)}else if(b.ExternalSelector)return b.ExternalSelector(a,c);else k(a)}else if(a&&(a[w]||a[v]))g=a[w]?[a[w]()]:a[v]();else if(a&&(b.isArray(a)||a.item&&!a.nodeType))g=a;else if(a)g=[a];if(g.item)g=b.makeArray(g);
g.each=function(t,u){return b.each(g,t,u)};return g}function n(a){if(a===j)a=p;else if(b.isString(a)&&y.test(a))a=d(a.slice(1),p);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function d(a,c){if(c.nodeType!==9)c=c.ownerDocument;return c.getElementById(a)}function o(a,c){return c.getElementsByTagName(a)}function e(a,c,f){f=a=f.getElementsByClassName(a);var g=0,r=0,z=a.length,t;if(c&&c!==m){f=[];for(c=c.toUpperCase();g<z;++g){t=a[g];if(t.tagName===c)f[r++]=t}}return f}function k(a){b.error("Unsupported selector: "+
a)}var p=document,l=b.DOM,i=" ",m="*",w="getDOMNode",v=w+"s",y=/^#[\w-]+$/,h=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=p.createElement("div");a.appendChild(p.createComment(""));if(a.getElementsByTagName(m).length>0)o=function(c,f){f=f.getElementsByTagName(c);if(c===m){c=[];for(var g=0,r=0,z;z=f[g++];)if(z.nodeType===1)c[r++]=z;f=c}return f}})();p.getElementsByClassName||(e=p.querySelectorAll?function(a,c,f){return f.querySelectorAll((c?c:"")+"."+a)}:function(a,c,f){c=f.getElementsByTagName(c||
m);f=[];var g=0,r=0,z=c.length,t,u;for(a=i+a+i;g<z;++g){t=c[g];if((u=t.className)&&(i+u+i).indexOf(a)>-1)f[r++]=t}return f});b.query=q;b.get=function(a,c){return q(a,c)[0]||null};b.mix(l,{query:q,get:b.get,filter:function(a,c){var f=q(a),g,r,z,t=[];if(b.isString(c)&&(g=h.exec(c))&&!g[1]){r=g[2];z=g[3];c=function(u){return!(r&&u.tagName!==r.toUpperCase()||z&&!l.hasClass(u,z))}}if(b.isFunction(c))t=b.filter(f,c);else if(c&&b.ExternalSelector)t=b.ExternalSelector._filter(a,c);else k(c);return t},test:function(a,
c){a=q(a);return l.filter(a,c).length===a.length}})});
KISSY.add("dom-class",function(b,j){function q(e,k,p,l){if(!(k=b.trim(k)))return l?false:j;e=b.query(e);var i=0,m=e.length;k=k.split(d);for(var w;i<m;i++){w=e[i];if(n._isElementNode(w)){w=p(w,k,k.length);if(w!==j)return w}}if(l)return false}var n=b.DOM,d=/[\.\s]\s*\.?/,o=/[\n\t]/g;b.mix(n,{hasClass:function(e,k){return q(e,k,function(p,l,i){if(p=p.className){p=" "+p+" ";for(var m=0,w=true;m<i;m++)if(p.indexOf(" "+l[m]+" ")<0){w=false;break}if(w)return true}},true)},addClass:function(e,k){q(e,k,function(p,
l,i){var m=p.className;if(m){var w=" "+m+" ";m=m;for(var v=0;v<i;v++)if(w.indexOf(" "+l[v]+" ")<0)m+=" "+l[v];p.className=b.trim(m)}else p.className=k})},removeClass:function(e,k){q(e,k,function(p,l,i){var m=p.className;if(m)if(i){m=(" "+m+" ").replace(o," ");for(var w=0,v;w<i;w++)for(v=" "+l[w]+" ";m.indexOf(v)>=0;)m=m.replace(v," ");p.className=b.trim(m)}else p.className=""})},replaceClass:function(e,k,p){n.removeClass(e,k);n.addClass(e,p)},toggleClass:function(e,k,p){var l=b.isBoolean(p),i;q(e,
k,function(m,w,v){for(var y=0,h;y<v;y++){h=w[y];i=l?!p:n.hasClass(m,h);n[i?"removeClass":"addClass"](m,h)}})}})});
KISSY.add("dom-attr",function(b,j){function q(h,a){return a&&a.nodeName.toUpperCase()===h.toUpperCase()}var n=b.UA,d=n.ie,o=d&&d<8,e=document.documentElement.textContent!==j?"textContent":"innerText",k=b.DOM,p=k._isElementNode,l=function(h){return k._nodeTypeIs(h,3)},i=/href|src|style/,m=/href|src|colspan|rowspan/,w=/\r/g,v=/radio|checkbox/,y={readonly:"readOnly"};o&&b.mix(y,{"for":"htmlFor","class":"className"});b.mix(k,{attr:function(h,a,c){if(b.isPlainObject(a))for(var f in a)k.attr(h,f,a[f]);
else if(a=b.trim(a)){a=a.toLowerCase();a=y[a]||a;if(c===j){h=b.get(h);if(!p(h))return j;var g;i.test(a)||(g=h[a]);if(g===j)g=h.getAttribute(a);if(o)if(m.test(a))g=h.getAttribute(a,2);else if(a==="style")g=h.style.cssText;return g===null?j:g}b.each(b.query(h),function(r){if(p(r))if(a==="style")r.style.cssText=c;else{if(a==="checked")r[a]=!!c;r.setAttribute(a,""+c)}})}},removeAttr:function(h,a){b.each(b.query(h),function(c){if(p(c)){k.attr(c,a,"");c.removeAttribute(a)}})},val:function(h,a){if(a===j){var c=
b.get(h);if(!p(c))return j;if(q("option",c))return(c.attributes.value||{}).specified?c.value:c.text;if(q("select",c)){var f=c.selectedIndex;h=c.options;if(f<0)return null;else if(c.type==="select-one")return k.val(h[f]);c=[];for(var g=0,r=h.length;g<r;++g)h[g].selected&&c.push(k.val(h[g]));return c}if(n.webkit&&v.test(c.type))return c.getAttribute("value")===null?"on":c.value;return(c.value||"").replace(w,"")}b.each(b.query(h),function(z){if(q("select",z)){if(b.isNumber(a))a+="";var t=b.makeArray(a),
u=z.options,A;g=0;for(r=u.length;g<r;++g){A=u[g];A.selected=b.inArray(k.val(A),t)}if(!t.length)z.selectedIndex=-1}else if(p(z))z.value=a})},text:function(h,a){if(a===j){h=b.get(h);if(p(h))return h[e]||"";else if(l(h))return h.nodeValue}else b.each(b.query(h),function(c){if(p(c))c[e]=a;else if(l(c))c.nodeValue=a})}})});
KISSY.add("dom-style",function(b,j){function q(a,c){var f=b.get(a),g=c===p?f.offsetWidth:f.offsetHeight;b.each(c===p?["Left","Right"]:["Top","Bottom"],function(r){g-=parseFloat(d._getComputedStyle(f,"padding"+r))||0;g-=parseFloat(d._getComputedStyle(f,"border"+r+"Width"))||0});return g}function n(a,c,f){var g=f;if(f===l&&m.test(c)){g=0;if(d.css(a,"position")==="absolute"){f=a[c==="left"?"offsetLeft":"offsetTop"];if(o.ie===8||o.opera)f-=i(d.css(a.offsetParent,"border-"+c+"-width"))||0;g=f-(i(d.css(a,
"margin-"+c))||0)}}return g}var d=b.DOM,o=b.UA,e=document,k=e.documentElement,p="width",l="auto",i=parseInt,m=/^left|top$/,w=/width|height|top|left|right|bottom|margin|padding/i,v=/-([a-z])/ig,y=function(a,c){return c.toUpperCase()},h={};b.mix(d,{_CUSTOM_STYLES:h,_getComputedStyle:function(a,c){var f="",g=a.ownerDocument;if(a.style)f=g.defaultView.getComputedStyle(a,null)[c];return f},css:function(a,c,f){if(b.isPlainObject(c))for(var g in c)d.css(a,g,c[g]);else{if(c.indexOf("-")>0)c=c.replace(v,y);
c=h[c]||c;if(f===j){a=b.get(a);g="";if(a&&a.style){g=c.get?c.get(a):a.style[c];if(g===""&&!c.get)g=n(a,c,d._getComputedStyle(a,c))}return g===j?"":g}else{if(f===null||f==="")f="";else if(!isNaN(new Number(f))&&w.test(c))f+="px";(c===p||c==="height")&&parseFloat(f)<0||b.each(b.query(a),function(r){if(r&&r.style){c.set?c.set(r,f):(r.style[c]=f);if(f==="")r.style.cssText||r.removeAttribute("style")}})}}},width:function(a,c){if(c===j)return q(a,p);else d.css(a,p,c)},height:function(a,c){if(c===j)return q(a,
"height");else d.css(a,"height",c)},addStyleSheet:function(a,c){var f;if(c)f=b.get(c);f||(f=d.create("<style>",{id:c}));b.get("head").appendChild(f);if(f.styleSheet)f.styleSheet.cssText=a;else f.appendChild(e.createTextNode(a))}});if(k.style.cssFloat!==j)h["float"]="cssFloat";else if(k.style.styleFloat!==j)h["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(b,j){if(b.UA.ie){var q=b.DOM,n=document,d=n.documentElement,o=q._CUSTOM_STYLES,e=/^-?\d+(?:px)?$/i,k=/^-?\d/,p=/^width|height$/;try{if(d.style.opacity===j&&d.filters)o.opacity={get:function(i){var m=100;try{m=i.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(w){try{m=i.filters("alpha").opacity}catch(v){}}return m/100+""},set:function(i,m){i=i.style;i.zoom=1;i.filter="alpha(opacity="+m*100+")"}}}catch(l){b.log("IE filters ActiveX is disabled. ex = "+l)}if(!(n.defaultView||
{}).getComputedStyle&&d.currentStyle)q._getComputedStyle=function(i,m){var w=i.style,v=i.currentStyle[m];if(p.test(m))v=q[m](i)+"px";else if(!e.test(v)&&k.test(v)){var y=w.left,h=i.runtimeStyle.left;i.runtimeStyle.left=i.currentStyle.left;w.left=m==="fontSize"?"1em":v||0;v=w.pixelLeft+"px";w.left=y;i.runtimeStyle.left=h}return v}}});
KISSY.add("dom-offset",function(b,j){function q(t){var u=0,A=0,s=i(t[a]);if(t[z]){t=t[z]();u=t[c];A=t[f];if(o.mobile!=="apple"){u+=d[g](s);A+=d[r](s)}}return{left:u,top:A}}function n(t,u){if(d.css(t,y)==="static")t.style[y]=h;var A=q(t),s={},x,B;for(B in u){x=v(d.css(t,B),10)||0;s[B]=x+u[B]-A[B]}d.css(t,s)}var d=b.DOM,o=b.UA,e=window,k=document,p=d._isElementNode,l=d._nodeTypeIs,i=d._getWin,m=k.compatMode==="CSS1Compat",w=Math.max,v=parseInt,y="position",h="relative",a="ownerDocument",c="left",f=
"top",g="scrollLeft",r="scrollTop",z="getBoundingClientRect";b.mix(d,{offset:function(t,u){if(!(t=b.get(t))||!t[a])return null;if(u===j)return q(t);n(t,u)},scrollIntoView:function(t,u,A,s){if((t=b.get(t))&&t[a]){s=s===j?true:!!s;A=A===j?true:!!A;if(!u||u===e)return t.scrollIntoView(A);u=b.get(u);if(l(u,9))u=i(u);var x=u&&"scrollTo"in u&&u.document,B=d.offset(t),C=x?{left:d.scrollLeft(u),top:d.scrollTop(u)}:d.offset(u),D={left:B[c]-C[c],top:B[f]-C[f]};B=x?d.viewportHeight(u):u.clientHeight;C=x?d.viewportWidth(u):
u.clientWidth;var G=d[g](u),E=d[r](u),F=G+C,M=E+B,I=t.offsetHeight;t=t.offsetWidth;var H=D.left+G-(v(d.css(u,"borderLeftWidth"))||0);D=D.top+E-(v(d.css(u,"borderTopWidth"))||0);var N=H+t,J=D+I,K,L;if(I>B||D<E||A)K=D;else if(J>M)K=J-B;if(s)if(t>C||H<G||A)L=H;else if(N>F)L=N-C;if(x){if(K!==j||L!==j)u.scrollTo(L,K)}else{if(K!==j)u[r]=K;if(L!==j)u[g]=L}}}});b.each(["Left","Top"],function(t,u){var A="scroll"+t;d[A]=function(s){var x=0,B=i(s),C;if(B&&(C=B.document))x=B[u?"pageYOffset":"pageXOffset"]||C.documentElement[A]||
C.body[A];else if(p(s=b.get(s)))x=s[A];return x}});b.each(["Width","Height"],function(t){d["doc"+t]=function(u){u=u||k;return w(m?u.documentElement["scroll"+t]:u.body["scroll"+t],d["viewport"+t](u))};d["viewport"+t]=function(u){var A="inner"+t;u=i(u);var s=u.document;return A in u?u[A]:m?s.documentElement["client"+t]:s.body["client"+t]}})});
KISSY.add("dom-traversal",function(b,j){function q(e,k,p,l){if(!(e=b.get(e)))return null;if(k===j)k=1;var i=null,m,w;if(b.isNumber(k)&&k>=0){if(k===0)return e;m=0;w=k;k=function(){return++m===w}}for(;e=e[p];)if(o(e)&&(!k||d.test(e,k))&&(!l||l(e))){i=e;break}return i}function n(e,k,p){var l=[];var i=e=b.get(e);if(e&&p)i=e.parentNode;if(i){p=0;for(i=i.firstChild;i;i=i.nextSibling)if(o(i)&&i!==e&&(!k||d.test(i,k)))l[p++]=i}return l}var d=b.DOM,o=d._isElementNode;b.mix(d,{parent:function(e,k){return q(e,
k,"parentNode",function(p){return p.nodeType!=11})},next:function(e,k){return q(e,k,"nextSibling")},prev:function(e,k){return q(e,k,"previousSibling")},siblings:function(e,k){return n(e,k,true)},children:function(e,k){return n(e,k)},contains:function(e,k){var p=false;if((e=b.get(e))&&(k=b.get(k)))if(e.contains)return e.contains(k);else if(e.compareDocumentPosition)return!!(e.compareDocumentPosition(k)&16);else for(;!p&&(k=k.parentNode);)p=k==e;return p}})});
KISSY.add("dom-create",function(b,j){function q(s,x){w(s)&&b.isPlainObject(x)&&p.attr(s,x);return s}function n(s,x){var B=null,C;if(s&&(s.push||s.item)&&s[0]){x=x||s[0].ownerDocument;B=x.createDocumentFragment();if(s.item)s=b.makeArray(s);x=0;for(C=s.length;x<C;x++)B.appendChild(s[x])}else b.log("Unable to convert "+s+" to fragment.");return B}function d(s){var x=s.cloneNode(true);if(l.ie<8)x.innerHTML=s.innerHTML;return x}function o(s,x,B,C){if(B){var D=b.guid("ks-tmp-"),G=new RegExp(a);x+='<span id="'+
D+'"></span>';b.available(D,function(){var E=b.get("head"),F,M,I,H,N,J;for(G.lastIndex=0;F=G.exec(x);)if((I=(M=F[1])?M.match(f):false)&&I[2]){F=k.createElement("script");F.src=I[2];if((H=M.match(g))&&H[2])F.charset=H[2];F.async=true;E.appendChild(F)}else if((J=F[2])&&J.length>0)b.globalEval(J);(N=k.getElementById(D))&&p.remove(N);b.isFunction(C)&&C()});e(s,x)}else{e(s,x);b.isFunction(C)&&C()}}function e(s,x){x=(x+"").replace(a,"");try{s.innerHTML=x}catch(B){for(;s.firstChild;)s.removeChild(s.firstChild);
x&&s.appendChild(p.create(x))}}var k=document,p=b.DOM,l=b.UA,i=l.ie,m=p._nodeTypeIs,w=p._isElementNode,v=p._isKSNode,y=k.createElement("div"),h=/<(\w+)/,a=/<script([^>]*)>([\s\S]*?)<\/script>/ig,c=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,f=/\ssrc=(['"])(.*?)\1/i,g=/\scharset=(['"])(.*?)\1/i;b.mix(p,{create:function(s,x,B){if(m(s,1)||m(s,3))return d(s);if(v(s))return d(s[0]);if(!(s=b.trim(s)))return null;var C=null;C=p._creators;var D,G="div",E;if(D=c.exec(s))C=(B||k).createElement(D[1]);else{if((D=h.exec(s))&&
(E=D[1])&&b.isFunction(C[E=E.toLowerCase()]))G=E;s=C[G](s,B).childNodes;C=s.length===1?s[0].parentNode.removeChild(s[0]):n(s,B||k)}return q(C,x)},_creators:{div:function(s,x){x=x?x.createElement("div"):y;x.innerHTML=s;return x}},html:function(s,x,B,C){if(x===j){s=b.get(s);if(w(s))return s.innerHTML}else b.each(b.query(s),function(D){w(D)&&o(D,x,B,C)})},remove:function(s){b.each(b.query(s),function(x){w(x)&&x.parentNode&&x.parentNode.removeChild(x)})}});if(l.gecko||i){var r=p._creators,z=p.create,
t=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,u={option:"select",td:"tr",tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"};for(var A in u)(function(s){r[A]=function(x,B){return z("<"+s+">"+x+"</"+s+">",null,B)}})(u[A]);if(i){r.script=function(s,x){x=x?x.createElement("div"):y;x.innerHTML="-"+s;x.removeChild(x.firstChild);return x};if(i<8)r.tbody=function(s,x){x=z("<table>"+s+"</table>",null,x);var B=x.children.tags("tbody")[0];x.children.length>1&&B&&!t.test(s)&&B.parentNode.removeChild(B);
return x}}b.mix(r,{optgroup:r.option,th:r.td,thead:r.tbody,tfoot:r.tbody,caption:r.tbody,colgroup:r.tbody})}});KISSY.add("dom-insertion",function(b){b.mix(b.DOM,{insertBefore:function(j,q){if((j=b.get(j))&&(q=b.get(q))&&q.parentNode)q.parentNode.insertBefore(j,q);return j},insertAfter:function(j,q){if((j=b.get(j))&&(q=b.get(q))&&q.parentNode)q.nextSibling?q.parentNode.insertBefore(j,q.nextSibling):q.parentNode.appendChild(j);return j}})});
KISSY.add("event",function(b,j){function q(h,a,c,f,g){if(b.isString(a))a=b.query(a);if(b.isArray(a)){b.each(a,function(r){y[h](r,c,f,g)});return true}if((c=b.trim(c))&&c.indexOf(m)>0){b.each(c.split(m),function(r){y[h](a,r,f,g)});return true}}function n(h){return e(h)?h[i]:-1}function d(h,a){if(!e(h))return b.error("Text or comment node is not valid event target.");try{h[i]=a}catch(c){b.error(c)}}function o(h){try{h[i]=j;delete h[i]}catch(a){}}function e(h){return h&&h.nodeType!==3&&h.nodeType!==
8}var k=document,p=k.addEventListener?function(h,a,c,f){h.addEventListener&&h.addEventListener(a,c,!!f)}:function(h,a,c){h.attachEvent&&h.attachEvent("on"+a,c)},l=k.removeEventListener?function(h,a,c,f){h.removeEventListener&&h.removeEventListener(a,c,!!f)}:function(h,a,c){h.detachEvent&&h.detachEvent("on"+a,c)},i="ksEventTargetId",m=" ",w=b.now(),v={},y={EVENT_GUID:i,special:{},add:function(h,a,c,f){f=f||h;if(!q("add",h,a,c,f)){var g=n(h),r,z,t,u,A;if(!(g===-1||!a||!b.isFunction(c))){if(!g){d(h,
g=w++);v[g]={target:h,events:{}}}z=v[g].events;if(!z[a]){r=((g=!h.isCustomEventTarget)||h._supportSpecialEvent)&&y.special[a]||{};t=function(s,x){if(!s||!s.fixed){s=new b.EventObject(h,s,a);b.isPlainObject(x)&&b.mix(s,x)}r.setup&&r.setup(s);return(r.handle||y._handle)(h,s,z[a].listeners)};z[a]={handle:t,listeners:[]};u=r.fix||a;A=r.capture;if(g)p(h,u,t,A);else h._addEvent&&h._addEvent(u,t,A)}z[a].listeners.push({fn:c,scope:f})}}},remove:function(h,a,c,f){f=f||h;if(!q("remove",h,a,c,f)){var g=n(h),
r,z,t,u,A,s,x;if(g!==-1)if(g&&(r=v[g]))if(r.target===h){r=r.events||{};if(z=r[a]){t=z.listeners;s=t.length;if(b.isFunction(c)&&s){A=u=0;for(x=[];u<s;++u)if(c!==t[u].fn||f!==t[u].scope)x[A++]=t[u];z.listeners=x;s=x.length}if(c===j||s===0){if(h.isCustomEventTarget)h._addEvent&&h._removeEvent(a,z.handle);else l(h,a,z.handle);delete r[a]}}if(a===j||b.isEmptyObject(r)){for(a in r)y.remove(h,a);delete v[g];o(h)}}}},_handle:function(h,a,c){c=c.slice(0);for(var f,g=0,r=c.length;g<r;++g){f=c[g];f=f.fn.call(f.scope||
h,a);if(f===false&&h.isCustomEventTarget||a.isImmediatePropagationStopped)break}return f},_getCache:function(h){return v[h]},_simpleAdd:p,_simpleRemove:l};y.on=y.add;b.Event=y});
KISSY.add("event-object",function(b,j){function q(o,e,k){this.currentTarget=o;this.originalEvent=e||{};if(e){this.type=e.type;this._fix()}else{this.type=k;this.target=o}this.currentTarget=o;this.fixed=true}var n=document,d="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");b.augment(q,
{_fix:function(){var o=this.originalEvent,e=d.length,k,p=this.currentTarget;for(p=p.nodeType===9?p:p.ownerDocument||n;e;){k=d[--e];this[k]=o[k]}if(!this.target)this.target=this.srcElement||n;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===j&&this.clientX!==j){o=p.documentElement;e=p.body;this.pageX=this.clientX+(o&&o.scrollLeft||e&&e.scrollLeft||
0)-(o&&o.clientLeft||e&&e.clientLeft||0);this.pageY=this.clientY+(o&&o.scrollTop||e&&e.scrollTop||0)-(o&&o.clientTop||e&&e.clientTop||0)}if(this.which===j)this.which=this.charCode!==j?this.charCode:this.keyCode;if(this.metaKey===j)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==j)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var o=this.originalEvent;if(o.preventDefault)o.preventDefault();else o.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var o=
this.originalEvent;if(o.stopPropagation)o.stopPropagation();else o.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var o=this.originalEvent;o.stopImmediatePropagation?o.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(o){o?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});b.EventObject=q});
KISSY.add("event-target",function(b,j){var q=b.Event,n=q.EVENT_GUID;b.EventTarget={isCustomEventTarget:true,fire:function(d,o){if((d=((q._getCache(this[n]||-1)||{}).events||{})[d])&&b.isFunction(d.handle))return d.handle(j,o);return this},on:function(d,o,e){q.add(this,d,o,e);return this},detach:function(d,o,e){q.remove(this,d,o,e);return this}}});
KISSY.add("event-mouseenter",function(b){var j=b.Event;b.UA.ie||b.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(q){j.special[q.name]={fix:q.fix,setup:function(n){n.type=q.name},handle:function(n,d,o){var e=d.relatedTarget;try{for(;e&&e!==n;)e=e.parentNode;e!==n&&j._handle(n,d,o)}catch(k){}}}})});
KISSY.add("event-focusin",function(b){var j=b.Event;document.addEventListener&&b.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(q){j.special[q.name]={fix:q.fix,capture:true,setup:function(n){n.type=q.name}}})});
KISSY.add("node",function(b){function j(d,o,e){var k;if(!(this instanceof j))return new j(d,o,e);if(d){if(n(d,1)||n(d,3))k=d;else if(b.isString(d))k=q.create(d,o,e);this[0]=k}else this.length=0}var q=b.DOM,n=q._nodeTypeIs;j.TYPE="-ks-Node";b.augment(j,{length:1,getDOMNode:function(){return this[0]},nodeType:j.TYPE});b.one=function(d,o){return(d=b.get(d,o))?new j(d):null};b.Node=j});
KISSY.add("nodelist",function(b){function j(d){if(!(this instanceof j))return new j(d);n.push.apply(this,d||[])}var q=b.DOM,n=Array.prototype;b.mix(j.prototype,{length:0,item:function(d){var o=null;if(q._isElementNode(this[d]))o=new b.Node(this[d]);return o},getDOMNodes:function(){return n.slice.call(this)},each:function(d,o){var e=this.length,k=0,p;for(p=new b.Node(this[0]);k<e&&d.call(o||p,p,k,this)!==false;p=new b.Node(this[++k]));return this}});b.all=function(d,o){return new j(b.query(d,o,true))};
b.NodeList=j});
KISSY.add("node-attach",function(b,j){function q(v,arguments,y,h){var a=[this[v?l:p]()].concat(b.makeArray(arguments));if(arguments[y]===j)return h.apply(d,a);else{h.apply(d,a);return this}}function n(v,y){b.each(v,function(h){b.each([e,k],function(a,c){a[h]=function(f){switch(y){case i:return function(){return q.call(this,c,arguments,1,f)};case m:return function(){return q.call(this,c,arguments,0,f)};case w:return function(){var g=this[c?l:p]();return(g=f.apply(d,[g].concat(b.makeArray(arguments))))?new (b[b.isArray(g)?
"NodeList":"Node"])(g):null};default:return function(){var g=this[c?l:p]();g=f.apply(d,[g].concat(b.makeArray(arguments)));return g===j?this:g}}}(d[h])})})}var d=b.DOM,o=b.Event,e=b.Node.prototype,k=b.NodeList.prototype,p="getDOMNode",l=p+"s",i=1,m=2,w=4;b.mix(e,{one:function(v){return b.one(v,this[0])},all:function(v){return b.all(v,this[0])}});n(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);n(["attr","removeAttr"],i);n(["val","text"],m);n(["css"],i);n(["width","height"],m);
n(["offset"],m);n(["scrollIntoView"]);n(["parent","next","prev","siblings","children"],w);n(["contains"]);n(["html"],m);n(["remove"]);b.each(["insertBefore","insertAfter"],function(v){e[v]=function(y){d[v].call(d,this[0],y);return this}});b.each([e,k],function(v){b.mix(v,{append:function(y){y&&b.each(this,function(h){h.appendChild(d.create(y))});return this},appendTo:function(y){if((y=b.get(y))&&y.appendChild)b.each(this,function(h){y.appendChild(h)});return this}})});b.each([e,k],function(v){b.mix(v,
b.EventTarget,{_supportSpecialEvent:true});v._addEvent=function(y,h,a){for(var c=0,f=this.length;c<f;c++)o._simpleAdd(this[c],y,h,a)};v._removeEvent=function(y,h,a){for(var c=0,f=this.length;c<f;c++)o._simpleRemove(this[c],y,h,a)};delete v.fire})});
KISSY.add("ajax",function(b){var j=document,q=j.createElement("script").readyState?function(n,d){n.onreadystatechange=function(){var o=n.readyState;if(o==="loaded"||o==="complete"){n.onreadystatechange=null;d.call(this)}}}:function(n,d){n.onload=d};b.mix(b,{getScript:function(n,d,o){var e=b.get("head")||j.documentElement,k=j.createElement("script");k.src=n;if(o)k.charset=o;k.async=true;b.isFunction(d)&&q(k,d);e.insertBefore(k,e.firstChild)}})});
KISSY.add("cookie",function(b){function j(o){return b.isString(o)&&o!==""}var q=document,n=encodeURIComponent,d=decodeURIComponent;b.Cookie={get:function(o){var e;if(j(o))if(o=q.cookie.match("(?:^| )"+o+"(?:(?:=([^;]*))|;|$)"))e=o[1]?d(o[1]):"";return e},set:function(o,e,k,p,l,i){e=n(e);var m=k;if(typeof m==="number"){m=new Date;m.setTime(m.getTime()+k*864E5)}if(m instanceof Date)e+="; expires="+m.toUTCString();if(j(p))e+="; domain="+p;if(j(l))e+="; path="+l;if(i)e+="; secure";q.cookie=o+"="+e},remove:function(o,
e,k,p){this.set(o,"",0,e,k,p)}}});
