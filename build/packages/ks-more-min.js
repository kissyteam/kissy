/*
Copyright 2010, KISSY UI Library v1.0.8
MIT Licensed
build: 883 Jul 20 11:05
*/
KISSY.add("cookie",function(o){function x(s){return typeof s==="string"&&s!==""}var v=document,u=encodeURIComponent,y=decodeURIComponent;o.Cookie={get:function(s){var q;if(x(s))if(s=v.cookie.match("(?:^| )"+s+"(?:(?:=([^;]*))|;|$)"))q=s[1]?y(s[1]):"";return q},set:function(s,q,j,k,w,m){q=u(q);var e=j;if(typeof e==="number"){e=new Date;e.setTime(e.getTime()+j*864E5)}if(e instanceof Date)q+="; expires="+e.toUTCString();if(x(k))q+="; domain="+k;if(x(w))q+="; path="+w;if(m)q+="; secure";v.cookie=s+"="+
q},remove:function(s,q,j,k){this.set(s,"",0,q,j,k)}}});
KISSY.add("json",function(o){function x(m){return m<10?"0"+m:m}function v(m){s.lastIndex=0;return s.test(m)?'"'+m.replace(s,function(e){var h=k[e];return typeof h==="string"?h:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+m+'"'}function u(m,e){var h,p,r=q,t,a=e[m];if(a&&typeof a==="object"&&typeof a.toJSON==="function")a=a.toJSON(m);if(typeof w==="function")a=w.call(e,m,a);switch(typeof a){case "string":return v(a);case "number":return isFinite(a)?String(a):"null";case "boolean":case "null":return String(a);
case "object":if(!a)return"null";q+=j;t=[];if(Object.prototype.toString.apply(a)==="[object Array]"){p=a.length;for(m=0;m<p;m+=1)t[m]=u(m,a)||"null";e=t.length===0?"[]":q?"[\n"+q+t.join(",\n"+q)+"\n"+r+"]":"["+t.join(",")+"]";q=r;return e}if(w&&typeof w==="object"){p=w.length;for(m=0;m<p;m+=1){h=w[m];if(typeof h==="string")if(e=u(h,a))t.push(v(h)+(q?": ":":")+e)}}else for(h in a)if(Object.hasOwnProperty.call(a,h))if(e=u(h,a))t.push(v(h)+(q?": ":":")+e);e=t.length===0?"{}":q?"{\n"+q+t.join(",\n"+q)+
"\n"+r+"}":"{"+t.join(",")+"}";q=r;return e}}o=o.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+x(this.getUTCMonth()+1)+"-"+x(this.getUTCDate())+"T"+x(this.getUTCHours())+":"+x(this.getUTCMinutes())+":"+x(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var y=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,q,j,k={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},w;if(typeof o.stringify!=="function")o.stringify=function(m,e,h){var p;j=q="";if(typeof h==="number")for(p=0;p<h;p+=1)j+=" ";else if(typeof h==="string")j=h;if((w=e)&&typeof e!=="function"&&(typeof e!=="object"||typeof e.length!=="number"))throw new Error("JSON.stringify");return u("",
{"":m})};if(typeof o.parse!=="function")o.parse=function(m,e){function h(p,r){var t,a,b=p[r];if(b&&typeof b==="object")for(t in b)if(Object.hasOwnProperty.call(b,t)){a=h(b,t);if(a!==undefined)b[t]=a;else delete b[t]}return e.call(p,r,b)}m=String(m);y.lastIndex=0;if(y.test(m))m=m.replace(y,function(p){return"\\u"+("0000"+p.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(m.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){m=eval("("+m+")");return typeof e==="function"?h({"":m},""):m}throw new SyntaxError("JSON.parse");}});
(function(){function o(a,b,c,d,f,g){f=0;for(var l=d.length;f<l;f++){var i=d[f];if(i){i=i[a];for(var n=false;i;){if(i.sizcache===c){n=d[i.sizset];break}if(i.nodeType===1&&!g){i.sizcache=c;i.sizset=f}if(i.nodeName.toLowerCase()===b){n=i;break}i=i[a]}d[f]=n}}}function x(a,b,c,d,f,g){f=0;for(var l=d.length;f<l;f++){var i=d[f];if(i){i=i[a];for(var n=false;i;){if(i.sizcache===c){n=d[i.sizset];break}if(i.nodeType===1){if(!g){i.sizcache=c;i.sizset=f}if(typeof b!=="string"){if(i===b){n=true;break}}else if(j.filter(b,
[i]).length>0){n=i;break}}i=i[a]}d[f]=n}}}var v=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,u=0,y=Object.prototype.toString,s=false,q=true;[0,0].sort(function(){q=false;return 0});var j=function(a,b,c,d){c=c||[];var f=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return c;var g=[],l,i,n,D,A=true,C=j.isXML(b),B=a,z;do{v.exec("");if(l=v.exec(B)){B=l[3];g.push(l[1]);if(l[2]){D=
l[3];break}}}while(l);if(g.length>1&&w.exec(a))if(g.length===2&&k.relative[g[0]])i=t(g[0]+g[1],b);else for(i=k.relative[g[0]]?[b]:j(g.shift(),b);g.length;){a=g.shift();if(k.relative[a])a+=g.shift();i=t(a,i)}else{if(!d&&g.length>1&&b.nodeType===9&&!C&&k.match.ID.test(g[0])&&!k.match.ID.test(g[g.length-1])){l=j.find(g.shift(),b,C);b=l.expr?j.filter(l.expr,l.set)[0]:l.set[0]}if(b){l=d?{expr:g.pop(),set:h(d)}:j.find(g.pop(),g.length===1&&(g[0]==="~"||g[0]==="+")&&b.parentNode?b.parentNode:b,C);i=l.expr?
j.filter(l.expr,l.set):l.set;if(g.length>0)n=h(i);else A=false;for(;g.length;){l=z=g.pop();if(k.relative[z])l=g.pop();else z="";if(l==null)l=b;k.relative[z](n,l,C)}}else n=[]}n||(n=i);n||j.error(z||a);if(y.call(n)==="[object Array]")if(A)if(b&&b.nodeType===1)for(a=0;n[a]!=null;a++){if(n[a]&&(n[a]===true||n[a].nodeType===1&&j.contains(b,n[a])))c.push(i[a])}else for(a=0;n[a]!=null;a++)n[a]&&n[a].nodeType===1&&c.push(i[a]);else c.push.apply(c,n);else h(n,c);if(D){j(D,f,c,d);j.uniqueSort(c)}return c};
j.uniqueSort=function(a){if(r){s=q;a.sort(r);if(s)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};j.matches=function(a,b){return j(a,null,null,b)};j.find=function(a,b,c){var d;if(!a)return[];for(var f=0,g=k.order.length;f<g;f++){var l=k.order[f],i;if(i=k.leftMatch[l].exec(a)){var n=i[1];i.splice(1,1);if(n.substr(n.length-1)!=="\\"){i[1]=(i[1]||"").replace(/\\/g,"");d=k.find[l](i,b,c);if(d!=null){a=a.replace(k.match[l],"");break}}}}d||(d=b.getElementsByTagName("*"));return{set:d,
expr:a}};j.filter=function(a,b,c,d){for(var f=a,g=[],l=b,i,n,D=b&&b[0]&&j.isXML(b[0]);a&&b.length;){for(var A in k.filter)if((i=k.leftMatch[A].exec(a))!=null&&i[2]){var C=k.filter[A],B,z;z=i[1];n=false;i.splice(1,1);if(z.substr(z.length-1)!=="\\"){if(l===g)g=[];if(k.preFilter[A])if(i=k.preFilter[A](i,l,c,g,d,D)){if(i===true)continue}else n=B=true;if(i)for(var E=0;(z=l[E])!=null;E++)if(z){B=C(z,i,E,l);var F=d^!!B;if(c&&B!=null)if(F)n=true;else l[E]=false;else if(F){g.push(z);n=true}}if(B!==undefined){c||
(l=g);a=a.replace(k.match[A],"");if(!n)return[];break}}}if(a===f)if(n==null)j.error(a);else break;f=a}return l};j.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var k=j.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var c=typeof b==="string",d=c&&!/\W/.test(b);c=c&&!d;if(d)b=b.toLowerCase();d=0;for(var f=a.length,g;d<f;d++)if(g=a[d]){for(;(g=g.previousSibling)&&g.nodeType!==1;);a[d]=c||g&&g.nodeName.toLowerCase()===
b?g||false:g===b}c&&j.filter(b,a,true)},">":function(a,b){var c=typeof b==="string",d,f=0,g=a.length;if(c&&!/\W/.test(b))for(b=b.toLowerCase();f<g;f++){if(d=a[f]){c=d.parentNode;a[f]=c.nodeName.toLowerCase()===b?c:false}}else{for(;f<g;f++)if(d=a[f])a[f]=c?d.parentNode:d.parentNode===b;c&&j.filter(b,a,true)}},"":function(a,b,c){var d=u++,f=x,g;if(typeof b==="string"&&!/\W/.test(b)){g=b=b.toLowerCase();f=o}f("parentNode",b,d,a,g,c)},"~":function(a,b,c){var d=u++,f=x,g;if(typeof b==="string"&&!/\W/.test(b)){g=
b=b.toLowerCase();f=o}f("previousSibling",b,d,a,g,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){var c=[];b=b.getElementsByName(a[1]);for(var d=0,f=b.length;d<f;d++)b[d].getAttribute("name")===a[1]&&c.push(b[d]);return c.length===0?null:c}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,f,g){a=" "+a[1].replace(/\\/g,"")+" ";
if(g)return a;g=0;for(var l;(l=b[g])!=null;g++)if(l)if(f^(l.className&&(" "+l.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0))c||d.push(l);else if(c)b[g]=false;return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=u++;return a},ATTR:function(a,b,c,d,f,g){b=
a[1].replace(/\\/g,"");if(!g&&k.attrMap[b])a[1]=k.attrMap[b];if(a[2]==="~=")a[4]=" "+a[4]+" ";return a},PSEUDO:function(a,b,c,d,f){if(a[1]==="not")if((v.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=j(a[3],null,null,b);else{a=j.filter(a[3],b,c,true^f);c||d.push.apply(d,a);return false}else if(k.match.POS.test(a[0])||k.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!j(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-
0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var f=b[1],g=k.filters[f];if(g)return g(a,c,b,d);else if(f==="contains")return(a.textContent||a.innerText||j.getText([a])||"").indexOf(b[3])>=0;else if(f==="not"){b=b[3];c=0;for(d=b.length;c<d;c++)if(b[c]===a)return false;return true}else j.error("Syntax error, unrecognized expression: "+f)},CHILD:function(a,b){var c=b[1],d=a;switch(c){case "only":case "first":for(;d=d.previousSibling;)if(d.nodeType===1)return false;if(c===
"first")return true;d=a;case "last":for(;d=d.nextSibling;)if(d.nodeType===1)return false;return true;case "nth":c=b[2];var f=b[3];if(c===1&&f===0)return true;b=b[0];var g=a.parentNode;if(g&&(g.sizcache!==b||!a.nodeIndex)){var l=0;for(d=g.firstChild;d;d=d.nextSibling)if(d.nodeType===1)d.nodeIndex=++l;g.sizcache=b}a=a.nodeIndex-f;return c===0?a===0:a%c===0&&a/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===
b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1];a=k.attrHandle[c]?k.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c);c=a+"";var d=b[2];b=b[4];return a==null?d==="!=":d==="="?c===b:d==="*="?c.indexOf(b)>=0:d==="~="?(" "+c+" ").indexOf(b)>=0:!b?c&&a!==false:d==="!="?c!==b:d==="^="?c.indexOf(b)===0:d==="$="?c.substr(c.length-b.length)===b:d==="|="?c===b||c.substr(0,b.length+1)===b+"-":false},POS:function(a,b,c,d){var f=k.setFilters[b[2]];
if(f)return f(a,c,b,d)}}},w=k.match.POS,m=function(a,b){return"\\"+(b-0+1)};for(var e in k.match){k.match[e]=new RegExp(k.match[e].source+/(?![^\[]*\])(?![^\(]*\))/.source);k.leftMatch[e]=new RegExp(/(^(?:.|\r|\n)*?)/.source+k.match[e].source.replace(/\\(\d+)/g,m))}var h=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(p){h=function(a,b){b=b||[];var c=0;if(y.call(a)==="[object Array]")Array.prototype.push.apply(b,
a);else if(typeof a.length==="number")for(var d=a.length;c<d;c++)b.push(a[c]);else for(;a[c];c++)b.push(a[c]);return b}}var r;if(document.documentElement.compareDocumentPosition)r=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b)s=true;return a.compareDocumentPosition?-1:1}a=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(a===0)s=true;return a};else if("sourceIndex"in document.documentElement)r=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b)s=true;return a.sourceIndex?
-1:1}a=a.sourceIndex-b.sourceIndex;if(a===0)s=true;return a};else if(document.createRange)r=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b)s=true;return a.ownerDocument?-1:1}var c=a.ownerDocument.createRange(),d=b.ownerDocument.createRange();c.setStart(a,0);c.setEnd(a,0);d.setStart(b,0);d.setEnd(b,0);a=c.compareBoundaryPoints(Range.START_TO_END,d);if(a===0)s=true;return a};j.getText=function(a){for(var b="",c,d=0;a[d];d++){c=a[d];if(c.nodeType===3||c.nodeType===4)b+=c.nodeValue;else if(c.nodeType!==
8)b+=j.getText(c.childNodes)}return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var c=document.documentElement;c.insertBefore(a,c.firstChild);if(document.getElementById(b)){k.find.ID=function(d,f,g){if(typeof f.getElementById!=="undefined"&&!g)return(f=f.getElementById(d[1]))?f.id===d[1]||typeof f.getAttributeNode!=="undefined"&&f.getAttributeNode("id").nodeValue===d[1]?[f]:undefined:[]};k.filter.ID=function(d,f){var g=typeof d.getAttributeNode!==
"undefined"&&d.getAttributeNode("id");return d.nodeType===1&&g&&g.nodeValue===f}}c.removeChild(a);c=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)k.find.TAG=function(b,c){c=c.getElementsByTagName(b[1]);if(b[1]==="*"){b=[];for(var d=0;c[d];d++)c[d].nodeType===1&&b.push(c[d]);c=b}return c};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!==
"#")k.attrHandle.href=function(b){return b.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=j,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){j=function(d,f,g,l){f=f||document;if(!l&&f.nodeType===9&&!j.isXML(f))try{return h(f.querySelectorAll(d),g)}catch(i){}return a(d,f,g,l)};for(var c in a)j[c]=a[c];b=null}}();(function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){k.order.splice(1,0,"CLASS");k.find.CLASS=function(b,c,d){if(typeof c.getElementsByClassName!=="undefined"&&!d)return c.getElementsByClassName(b[1])};a=null}}})();j.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};j.isXML=function(a){return(a=(a?
a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var t=function(a,b){var c=[],d="",f;for(b=b.nodeType?[b]:b;f=k.match.PSEUDO.exec(a);){d+=f[0];a=a.replace(k.match.PSEUDO,"")}a=k.relative[a]?a+"*":a;f=0;for(var g=b.length;f<g;f++)j(a,b[f],c);return j.filter(d,c)};KISSY.ExternalSelector=j;KISSY.ExternalSelector._filter=function(a,b){return j.matches(b,KISSY.query(a))}})();
KISSY.add("datalazyload",function(o,x){function v(e,h){if(!(this instanceof v))return new v(e,h);if(h===x){h=e;e=[q]}o.isArray(e)||(e=[o.get(e)||q]);this.containers=e;this.config=o.merge(m,h);this._init()}var u=o.DOM,y=o.Event,s=window,q=document,j={AUTO:"auto",MANUAL:"manual"},k="scroll",w="resize",m={mod:j.MANUAL,diff:"default",placeholder:"none"};o.augment(v,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._getItemsLength()&&this._initLoadEvent()},_filterItems:function(){var e=
this.containers,h,p,r,t=[],a=[];h=0;for(p=e.length;h<p;++h){r=o.query("img",e[h]);t=t.concat(o.filter(r,this._filterImg,this));r=o.query("textarea",e[h]);a=a.concat(o.filter(r,this._filterArea,this))}this.images=t;this.areas=a},_filterImg:function(e){var h=e.getAttribute("data-lazyload-src"),p=this.threshold,r=this.config.placeholder;if(this.config.mod===j.MANUAL){if(h){if(r!=="none")e.src=r;return true}}else if(u.offset(e).top>p&&!h){u.attr(e,"data-lazyload-src",e.src);if(r!=="none")e.src=r;else e.removeAttribute("src");
return true}},_filterArea:function(e){return u.hasClass(e,"ks-datalazyload")},_initLoadEvent:function(){function e(){p||(p=setTimeout(function(){h();p=null},100))}function h(){r._loadItems();if(r._getItemsLength()===0){y.remove(s,k,e);y.remove(s,w,e)}}var p,r=this;y.on(s,k,e);y.on(s,w,function(){r.threshold=r._getThreshold();e()});r._getItemsLength()&&o.ready(function(){h()})},_loadItems:function(){this._loadImgs();this._loadAreas()},_loadImgs:function(){this.images=o.filter(this.images,this._loadImg,
this)},_loadImg:function(e){var h=this.threshold+u.scrollTop();if(u.offset(e).top<=h)this._loadImgSrc(e);else return true},_loadImgSrc:function(e,h){h=h||"data-lazyload-src";var p=e.getAttribute(h);if(p&&e.src!=p){e.src=p;e.removeAttribute(h)}},_loadAreas:function(){this.areas=o.filter(this.areas,this._loadArea,this)},_loadArea:function(e){var h=u.offset(e).top;if(!h&&u.css(e,"none")=="none")h=u.offset(e.parentNode).top;if(h<=this.threshold+u.scrollTop())this._loadAreaData(e.parentNode,e);else return true},
_loadAreaData:function(e,h){h.style.display="none";h.className="";var p=u.create("<div>");e.insertBefore(p,h);u.html(p,h.value,true)},_getThreshold:function(){var e=this.config.diff,h=u.viewportHeight();return e==="default"?2*h:h+e},_getItemsLength:function(){return this.images.length+this.areas.length},loadCustomLazyData:function(e,h,p){var r=this,t,a;o.isArray(e)||(e=[o.get(e)]);o.each(e,function(b){switch(h){case "textarea-data":if((t=o.get("textarea",b))&&u.hasClass(t,p||"ks-datalazyload-custom"))r._loadAreaData(b,
t);break;default:a=b.nodeName==="IMG"?[b]:o.query("img",b);o.each(a,function(c){r._loadImgSrc(c,p||"data-lazyload-src-custom")})}})}});o.mix(v,v.prototype,true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);o.DataLazyload=v});
