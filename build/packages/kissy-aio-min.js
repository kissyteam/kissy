/*
Copyright 2010, KISSY UI Library v1.1.5
MIT Licensed
build time: Oct 19 22:24
*/
(function(c,p,v){if(c[p]===v)c[p]={};p=c[p];var d=c.document,f=location,g=function(i,q,t,u){if(!q||!i)return i;if(t===v)t=true;var w,a,b;if(u&&(b=u.length))for(w=0;w<b;w++){a=u[w];if(a in q)if(t||!(a in i))i[a]=q[a]}else for(a in q)if(t||!(a in i))i[a]=q[a];return i},k=false,n=[],r=false,o=/^#?([\w-]+)$/,m=0;g(p,{version:"1.1.5",__init:function(){this.Env={mods:{},_loadQueue:{}};var i=d.getElementsByTagName("script");this.Config={debug:"",base:i[i.length-1].src.replace(/^(.*)(seed|kissy).*$/i,
"$1"),timeout:10}},ready:function(i){r||this._bindReady();k?i.call(c,this):n.push(i);return this},_bindReady:function(){var i=this,q=d.documentElement.doScroll,t=q?"onreadystatechange":"DOMContentLoaded",u=function(){i._fireReady()};r=true;if(d.readyState==="complete")return u();if(d.addEventListener){var w=function(){d.removeEventListener(t,w,false);u()};d.addEventListener(t,w,false);c.addEventListener("load",u,false)}else{var a=function(){if(d.readyState==="complete"){d.detachEvent(t,a);u()}};d.attachEvent(t,
a);c.attachEvent("onload",u);if(c==c.top){var b=function(){try{q("left");u()}catch(h){setTimeout(b,1)}};b()}}},_fireReady:function(){if(!k){k=true;if(n){for(var i,q=0;i=n[q++];)i.call(c,this);n=null}}},available:function(i,q){if((i=(i+"").match(o)[1])&&p.isFunction(q))var t=1,u=p.later(function(){if(d.getElementById(i)&&(q()||1)||++t>500)u.cancel()},40,true)},mix:g,merge:function(){var i={},q,t=arguments.length;for(q=0;q<t;++q)g(i,arguments[q]);return i},augment:function(){var i=arguments,q=i.length-
2,t=i[0],u=i[q],w=i[q+1],a=1;if(!p.isArray(w)){u=w;w=v;q++}if(!p.isBoolean(u)){u=v;q++}for(;a<q;a++)g(t.prototype,i[a].prototype||i[a],u,w);return t},extend:function(i,q,t,u){if(!q||!i)return i;var w=Object.prototype,a=q.prototype,b=function(h){function j(){}j.prototype=h;return new j}(a);i.prototype=b;b.constructor=i;i.superclass=a;if(q!==Object&&a.constructor===w.constructor)a.constructor=q;t&&g(b,t);u&&g(i,u);return i},namespace:function(){var i=arguments,q=i.length,t=null,u,w,a,b=i[q-1]===true&&
q--;for(u=0;u<q;++u){a=(""+i[u]).split(".");t=b?c:this;for(w=c[a[0]]===t?1:0;w<a.length;++w)t=t[a[w]]=t[a[w]]||{}}return t},app:function(i,q){var t=p.isString(i),u=t?c[i]||{}:i;g(u,this,true,p.__APP_MEMBERS);u.__init();g(u,p.isFunction(q)?q():q);t&&(c[i]=u);return u},log:function(i,q,t){if(p.Config.debug){if(t)i=t+": "+i;if(c.console!==v&&console.log)console[q&&console[q]?q:"log"](i)}},error:function(i){if(p.Config.debug)throw i;},guid:function(i){var q=m++ +"";return i?i+q:q}});p.__init();p.__APP_MEMBERS=
["__init","namespace"];if(f&&(f.search||"").indexOf("ks-debug")!==-1)p.Config.debug=true})(window,"KISSY");
(function(c,p,v){function d(e){var l=typeof e;return e===null||l!=="object"&&l!=="function"}function f(e){return n.slice.call(e)}var g=document,k=g.documentElement,n=Array.prototype,r=n.indexOf,o=n.lastIndexOf,m=n.filter,i=String.prototype.trim,q=Object.prototype.toString,t=encodeURIComponent,u=decodeURIComponent,w=t("[]"),a=/^\s+|\s+$/g,b=/^(\w+)\[\]$/,h=/\S/;p.mix(p,{isUndefined:function(e){return e===v},isBoolean:function(e){return q.call(e)==="[object Boolean]"},isString:function(e){return q.call(e)===
"[object String]"},isNumber:function(e){return q.call(e)==="[object Number]"&&isFinite(e)},isPlainObject:function(e){return e&&q.call(e)==="[object Object]"&&!e.nodeType&&!e.setInterval},isEmptyObject:function(e){for(var l in e)return false;return true},isFunction:function(e){return q.call(e)==="[object Function]"},isArray:function(e){return q.call(e)==="[object Array]"},trim:i?function(e){return e==v?"":i.call(e)}:function(e){return e==v?"":e.toString().replace(a,"")},substitute:function(e,l,s){if(!p.isString(e)||
!p.isPlainObject(l))return e;return e.replace(s||/\\?\{([^{}]+)\}/g,function(x,y){if(x.charAt(0)==="\\")return x.slice(1);return l[y]!==v?l[y]:""})},each:function(e,l,s){var x,y=0,z=e.length,A=z===v||p.isFunction(e);s=s||c;if(A)for(x in e){if(l.call(s,e[x],x,e)===false)break}else for(x=e[0];y<z&&l.call(s,x,y,e)!==false;x=e[++y]);return e},indexOf:r?function(e,l){return r.call(l,e)}:function(e,l){for(var s=0,x=l.length;s<x;++s)if(l[s]===e)return s;return-1},lastIndexOf:o?function(e,l){return o.call(l,
e)}:function(e,l){for(var s=l.length-1;s>=0;s--)if(l[s]===e)break;return s},unique:function(e,l){l&&e.reverse();for(var s=e.slice(),x=0,y,z;x<s.length;){for(z=s[x];(y=p.lastIndexOf(z,s))!==x;)s.splice(y,1);x+=1}l&&s.reverse();return s},inArray:function(e,l){return p.indexOf(e,l)>-1},makeArray:function(e){if(e===null||e===v)return[];if(p.isArray(e))return e;if(typeof e.length!=="number"||p.isString(e)||p.isFunction(e))return[e];return f(e)},filter:m?function(e,l,s){return m.call(e,l,s)}:function(e,
l,s){var x=[];p.each(e,function(y,z,A){l.call(s,y,z,A)&&x.push(y)});return x},param:function(e,l){if(!p.isPlainObject(e))return"";l=l||"&";var s=[],x,y;for(x in e){y=e[x];x=t(x);if(d(y))s.push(x,"=",t(y+""),l);else if(p.isArray(y)&&y.length)for(var z=0,A=y.length;z<A;++z)d(y[z])&&s.push(x,w+"=",t(y[z]+""),l)}s.pop();return s.join("")},unparam:function(e,l){if(typeof e!=="string"||(e=p.trim(e)).length===0)return{};for(var s={},x=e.split(l||"&"),y,z,A,B,D=0,C=x.length;D<C;++D){y=x[D].split("=");z=u(y[0]);
try{A=u(y[1]||"")}catch(E){A=y[1]||""}if((B=z.match(b))&&B[1]){s[B[1]]=s[B[1]]||[];s[B[1]].push(A)}else s[z]=A}return s},later:function(e,l,s,x,y){l=l||0;x=x||{};var z=e,A=p.makeArray(y),B;if(p.isString(e))z=x[e];z||p.error("method undefined");e=function(){z.apply(x,A)};B=s?setInterval(e,l):setTimeout(e,l);return{id:B,interval:s,cancel:function(){this.interval?clearInterval(B):clearTimeout(B)}}},clone:function(e){var l=e,s,x;if(e&&((s=p.isArray(e))||p.isPlainObject(e))){l=s?[]:{};for(x in e)if(e.hasOwnProperty(x))l[x]=
p.clone(e[x])}return l},now:function(){return(new Date).getTime()},globalEval:function(e){if(e&&h.test(e)){var l=g.getElementsByTagName("head")[0]||k,s=g.createElement("script");s.text=e;l.insertBefore(s,l.firstChild);l.removeChild(s)}}});try{f(k.childNodes)}catch(j){f=function(e){for(var l=[],s=e.length-1;s>=0;s--)l[s]=e[s];return l}}})(window,KISSY);
(function(c,p,v){var d=c.document,f=d.getElementsByTagName("head")[0]||d.documentElement,g=2,k=3,n=4,r=p.mix,o=d.createElement("script").readyState?function(i,q){var t=i.onreadystatechange;i.onreadystatechange=function(){var u=i.readyState;if(u==="loaded"||u==="complete"){i.onreadystatechange=null;t&&t();q.call(this)}}}:function(i,q){i.addEventListener("load",q,false)},m=/\.css(?:\?|$)/i;c={add:function(i,q,t){var u=this.Env.mods,w;if(p.isString(i)&&!t&&p.isPlainObject(q)){w={};w[i]=q;i=w}if(p.isPlainObject(i)){p.each(i,
function(a,b){a.name=b;u[b]&&r(a,u[b],false)});r(u,i)}else{t=t||{};w=u[i]||{};i=t.host||w.host||i;w=u[i]||{};r(w,{name:i,status:g});if(!w.fns)w.fns=[];q&&w.fns.push(q);r(u[i]=w,t);w.attach!==false&&this.__isAttached(w.requires)&&this.__attachMod(w)}return this},use:function(i,q,t){i=i.replace(/\s+/g,"").split(",");t=t||{};var u=this,w=u.Env.mods,a=(t||0).global,b,h=i.length,j,e,l;a&&u.__mixMods(a);if(u.__isAttached(i))q&&q(u);else{for(b=0;b<h&&(j=w[i[b]]);b++)if(j.status!==n){if(t.order&&b>0){if(!j.requires)j.requires=
[];j._requires=j.requires.concat();e=i[b-1];if(!p.inArray(e,j.requires)&&!p.inArray(j.name,w[e].requires||[]))j.requires.push(e)}u.__attach(j,function(){if(!l&&u.__isAttached(i)){l=true;if(j._requires)j.requires=j._requires;q&&q(u)}},a)}return u}},__attach:function(i,q,t){function u(){if(w.__isAttached(a)){i.status===g&&w.__attachMod(i);i.status===n&&q()}}for(var w=this,a=i.requires||[],b=0,h=a.length;b<h;b++)w.__attach(w.Env.mods[a[b]],u,t);w.__buildPath(i);w.__load(i,u,t)},__mixMods:function(i){var q=
this.Env.mods,t=i.Env.mods,u;for(u in t)this.__mixMod(q,t,u,i)},__mixMod:function(i,q,t,u){var w=i[t]||{},a=w.status;p.mix(w,p.clone(q[t]));if(a)w.status=a;u&&this.__buildPath(w,u.Config.base);i[t]=w},__attachMod:function(i){var q=this;if(i.fns){p.each(i.fns,function(t){t&&t(q)});i.fns=v}i.status=n},__isAttached:function(i){for(var q=this.Env.mods,t,u=(i=p.makeArray(i)).length-1;u>=0&&(t=q[i[u]]);u--)if(t.status!==n)return false;return true},__load:function(i,q,t){function u(){b[a]=g;if(i.status!==
k){t&&w.__mixMod(w.Env.mods,t.Env.mods,i.name,t);if(i.status!==n)i.status=g;q()}}var w=this,a=i.fullpath,b=p.Env._loadQueue,h=b[a];i.status=i.status||0;if(i.status<1&&h)i.status=h.nodeName?1:g;if(p.isString(i.cssfullpath)){w.getScript(i.cssfullpath);i.cssfullpath=g}if(i.status<1&&a){i.status=1;h=w.getScript(a,{success:function(){KISSY.log(i.name+" is loaded.","info");u()},error:function(){i.status=k;b[a]=g},charset:i.charset});m.test(a)||(b[a]=h)}else i.status===1?o(h,u):q()},__buildPath:function(i,
q){function t(w,a){if(!i[a]&&i[w])i[a]=(q||u.base)+i[w];if(i[a]&&u.debug)i[a]=i[a].replace(/-min/g,"")}var u=this.Config;t("path","fullpath");i.cssfullpath!==g&&t("csspath","cssfullpath")},getScript:function(i,q,t){var u=m.test(i),w=d.createElement(u?"link":"script"),a=q,b,h,j;if(p.isPlainObject(a)){q=a.success;b=a.error;h=a.timeout;t=a.charset}if(u){w.href=i;w.rel="stylesheet"}else{w.src=i;w.async=true}if(t)w.charset=t;if(p.isFunction(q))u?q.call(w):o(w,function(){if(j){j.cancel();j=v}q.call(w)});
if(p.isFunction(b))j=p.later(function(){j=v;b()},(h||this.Config.timeout)*1E3);f.insertBefore(w,f.firstChild);return w}};r(p,c);p.each(c,function(i,q){p.__APP_MEMBERS.push(q)})})(window,KISSY);(function(c){var p={core:{path:"packages/core-min.js",charset:"utf-8"}};c.each(["sizzle","datalazyload","flash","switchable","suggest","overlay","imagezoom","calendar"],function(v){p[v]={path:v+"/"+v+"-pkg-min.js",requires:["core"],charset:"utf-8"}});p.calendar.csspath="calendar/default-min.css";c.add(p)})(KISSY);
KISSY.add("ua",function(c){var p=navigator.userAgent,v="",d="",f,g={},k=function(n){var r=0;return parseFloat(n.replace(/\./g,function(){return r++===0?".":""}))};if((f=p.match(/AppleWebKit\/([\d.]*)/))&&f[1]){g[v="webkit"]=k(f[1]);if((f=p.match(/Chrome\/([\d.]*)/))&&f[1])g[d="chrome"]=k(f[1]);else if((f=p.match(/\/([\d.]*) Safari/))&&f[1])g[d="safari"]=k(f[1]);if(/ Mobile\//.test(p))g.mobile="apple";else if(f=p.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))g.mobile=f[0].toLowerCase()}else if((f=
p.match(/Presto\/([\d.]*)/))&&f[1]){g[v="presto"]=k(f[1]);if((f=p.match(/Opera\/([\d.]*)/))&&f[1]){g[d="opera"]=k(f[1]);if((f=p.match(/Opera\/.* Version\/([\d.]*)/))&&f[1])g[d]=k(f[1]);if((f=p.match(/Opera Mini[^;]*/))&&f)g.mobile=f[0].toLowerCase();else if((f=p.match(/Opera Mobi[^;]*/))&&f)g.mobile=f[0]}}else if((f=p.match(/MSIE\s([^;]*)/))&&f[1]){g[v="trident"]=0.1;g[d="ie"]=k(f[1]);if((f=p.match(/Trident\/([\d.]*)/))&&f[1])g[v]=k(f[1])}else if(f=p.match(/Gecko/)){g[v="gecko"]=0.1;if((f=p.match(/rv:([\d.]*)/))&&
f[1])g[v]=k(f[1]);if((f=p.match(/Firefox\/([\d.]*)/))&&f[1])g[d="firefox"]=k(f[1])}g.core=v;g.shell=d;g._numberify=k;c.UA=g});
KISSY.add("ua-extra",function(c){var p=c.UA,v=navigator.userAgent,d,f,g={},k=p._numberify;if(v.match(/360SE/))g[f="se360"]=3;else if(v.match(/Maxthon/)&&(d=window.external)){f="maxthon";try{g[f]=k(d.max_version)}catch(n){g[f]=0.1}}else if(d=v.match(/TencentTraveler\s([\d.]*)/))g[f="tt"]=d[1]?k(d[1]):0.1;else if(v.match(/TheWorld/))g[f="theworld"]=3;else if(d=v.match(/SE\s([\d.]*)/))g[f="sougou"]=d[1]?k(d[1]):0.1;f&&(g.shell=f);c.mix(p,g)});
KISSY.add("dom",function(c,p){function v(d,f){return d&&d.nodeType===f}c.DOM={_isElementNode:function(d){return v(d,1)},_isKSNode:function(d){return c.Node&&v(d,c.Node.TYPE)},_getWin:function(d){return d&&"scrollTo"in d&&d.document?d:v(d,9)?d.defaultView||d.parentWindow:d===p?window:false},_nodeTypeIs:v}});
KISSY.add("selector",function(c,p){function v(a,b){var h,j,e=[],l;b=d(b);if(c.isString(a)){a=c.trim(a);if(u.test(a)){if(j=f(a.slice(1),b))e=[j]}else if(h=w.exec(a)){j=h[1];l=h[2];h=h[3];if(b=j?f(j,b):b)if(h)if(!j||a.indexOf(m)!==-1)e=k(h,l,b);else{if((j=f(j,b))&&o.hasClass(j,h))e=[j]}else if(l)e=g(l,b)}else if(c.ExternalSelector)return c.ExternalSelector(a,b);else n(a)}else if(a&&(a[q]||a[t]))e=a[q]?[a[q]()]:a[t]();else if(a&&(c.isArray(a)||a&&!a.nodeType&&a.item&&a!=window))e=a;else if(a)e=[a];if(e&&
!e.nodeType&&e.item&&e!=window)e=c.makeArray(e);e.each=function(s,x){return c.each(e,s,x)};return e}function d(a){if(a===p)a=r;else if(c.isString(a)&&u.test(a))a=f(a.slice(1),r);else if(a&&a.nodeType!==1&&a.nodeType!==9)a=null;return a}function f(a,b){if(b.nodeType!==9)b=b.ownerDocument;return b.getElementById(a)}function g(a,b){return b.getElementsByTagName(a)}function k(a,b,h){h=a=h.getElementsByClassName(a);var j=0,e=0,l=a.length,s;if(b&&b!==i){h=[];for(b=b.toUpperCase();j<l;++j){s=a[j];if(s.tagName===
b)h[e++]=s}}return h}function n(a){c.error("Unsupported selector: "+a)}var r=document,o=c.DOM,m=" ",i="*",q="getDOMNode",t=q+"s",u=/^#[\w-]+$/,w=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/;(function(){var a=r.createElement("div");a.appendChild(r.createComment(""));if(a.getElementsByTagName(i).length>0)g=function(b,h){var j=h.getElementsByTagName(b);if(b===i){for(var e=[],l=0,s=0,x;x=j[l++];)if(x.nodeType===1)e[s++]=x;j=e}return j}})();r.getElementsByClassName||(k=r.querySelectorAll?function(a,b,
h){return h.querySelectorAll((b?b:"")+"."+a)}:function(a,b,h){b=h.getElementsByTagName(b||i);h=[];var j=0,e=0,l=b.length,s,x;for(a=m+a+m;j<l;++j){s=b[j];if((x=s.className)&&(m+x+m).indexOf(a)>-1)h[e++]=s}return h});c.query=v;c.get=function(a,b){return v(a,b)[0]||null};c.mix(o,{query:v,get:c.get,filter:function(a,b){var h=v(a),j,e,l,s=[];if(c.isString(b)&&(j=w.exec(b))&&!j[1]){e=j[2];l=j[3];b=function(x){return!(e&&x.tagName!==e.toUpperCase()||l&&!o.hasClass(x,l))}}if(c.isFunction(b))s=c.filter(h,
b);else if(b&&c.ExternalSelector)s=c.ExternalSelector._filter(a,b);else n(b);return s},test:function(a,b){var h=v(a);return o.filter(h,b).length===h.length}})});
KISSY.add("dom-data",function(c,p){var v=window,d=c.DOM,f="_ks_data_"+c.now(),g={},k={},n={EMBED:1,OBJECT:1,APPLET:1};c.mix(d,{data:function(r,o,m){if(c.isPlainObject(o))for(var i in o)d.data(r,i,o[i]);else if(m===p){r=c.get(r);var q;if(!(!r||n[r.nodeName])){if(r==v)r=k;q=(i=r&&r.nodeType)?g:r;r=q[i?r[f]:f];if(c.isString(o)&&r)return r[o];return r}}else c.query(r).each(function(t){if(!(!t||n[t.nodeName])){if(t==v)t=k;var u=g,w;if(t&&t.nodeType){if(!(w=t[f]))w=t[f]=c.guid()}else{w=f;u=t}if(o&&m!==
p){u[w]||(u[w]={});u[w][o]=m}}})},removeData:function(r,o){c.query(r).each(function(m){if(m){if(m==v)m=k;var i,q=g,t,u=m&&m.nodeType;if(u)i=m[f];else{q=m;i=f}if(i){t=q[i];if(o){if(t){delete t[o];c.isEmptyObject(t)&&d.removeData(m)}}else{if(u)m.removeAttribute&&m.removeAttribute(f);else try{delete m[f]}catch(w){}u&&delete q[i]}}}})}})});
KISSY.add("dom-class",function(c,p){function v(k,n,r,o){if(!(n=c.trim(n)))return o?false:p;k=c.query(k);var m=0,i=k.length;n=n.split(f);for(var q;m<i;m++){q=k[m];if(d._isElementNode(q)){q=r(q,n,n.length);if(q!==p)return q}}if(o)return false}var d=c.DOM,f=/[\.\s]\s*\.?/,g=/[\n\t]/g;c.mix(d,{hasClass:function(k,n){return v(k,n,function(r,o,m){if(r=r.className){r=" "+r+" ";for(var i=0,q=true;i<m;i++)if(r.indexOf(" "+o[i]+" ")<0){q=false;break}if(q)return true}},true)},addClass:function(k,n){v(k,n,function(r,
o,m){var i=r.className;if(i){var q=" "+i+" ";i=i;for(var t=0;t<m;t++)if(q.indexOf(" "+o[t]+" ")<0)i+=" "+o[t];r.className=c.trim(i)}else r.className=n})},removeClass:function(k,n){v(k,n,function(r,o,m){var i=r.className;if(i)if(m){i=(" "+i+" ").replace(g," ");for(var q=0,t;q<m;q++)for(t=" "+o[q]+" ";i.indexOf(t)>=0;)i=i.replace(t," ");r.className=c.trim(i)}else r.className=""})},replaceClass:function(k,n,r){d.removeClass(k,n);d.addClass(k,r)},toggleClass:function(k,n,r){var o=c.isBoolean(r),m;v(k,
n,function(i,q,t){for(var u=0,w;u<t;u++){w=q[u];m=o?!r:d.hasClass(i,w);d[m?"removeClass":"addClass"](i,w)}})}})});
KISSY.add("dom-attr",function(c,p){var v=c.UA,d=v.ie,f=d&&d<8,g=document.documentElement.textContent!==p?"textContent":"innerText",k=c.DOM,n=k._isElementNode,r=/^(?:href|src|style)/,o=/^(?:href|src|colspan|rowspan)/,m=/\r/g,i=/^(?:radio|checkbox)/,q={readonly:"readOnly"},t={val:1,css:1,html:1,text:1,data:1,width:1,height:1,offset:1};f&&c.mix(q,{"for":"htmlFor","class":"className"});c.mix(k,{attr:function(u,w,a,b){if(c.isPlainObject(w)){b=a;for(var h in w)k.attr(u,h,w[h],b)}else if(w=c.trim(w)){w=
w.toLowerCase();if(b&&t[w])return k[w](u,a);w=q[w]||w;if(a===p){u=c.get(u);if(!n(u))return p;var j;r.test(w)||(j=u[w]);if(j===p)j=u.getAttribute(w);if(f)if(o.test(w))j=u.getAttribute(w,2);else if(w==="style")j=u.style.cssText;return j===null?p:j}c.each(c.query(u),function(e){if(n(e))if(w==="style")e.style.cssText=a;else{if(w==="checked")e[w]=!!a;e.setAttribute(w,""+a)}})}},removeAttr:function(u,w){c.each(c.query(u),function(a){if(n(a)){k.attr(a,w,"");a.removeAttribute(w)}})},val:function(u,w){if(w===
p){var a=c.get(u);if(!n(a))return p;if(a&&a.nodeName.toUpperCase()==="option".toUpperCase())return(a.attributes.value||{}).specified?a.value:a.text;if(a&&a.nodeName.toUpperCase()==="select".toUpperCase()){var b=a.selectedIndex,h=a.options;if(b<0)return null;else if(a.type==="select-one")return k.val(h[b]);a=[];for(var j=0,e=h.length;j<e;++j)h[j].selected&&a.push(k.val(h[j]));return a}if(v.webkit&&i.test(a.type))return a.getAttribute("value")===null?"on":a.value;return(a.value||"").replace(m,"")}c.each(c.query(u),
function(l){if(l&&l.nodeName.toUpperCase()==="select".toUpperCase()){if(c.isNumber(w))w+="";var s=c.makeArray(w),x=l.options,y;j=0;for(e=x.length;j<e;++j){y=x[j];y.selected=c.inArray(k.val(y),s)}if(!s.length)l.selectedIndex=-1}else if(n(l))l.value=w})},text:function(u,w){if(w===p){var a=c.get(u);if(n(a))return a[g]||"";else if(k._nodeTypeIs(a,3))return a.nodeValue}else c.each(c.query(u),function(b){if(n(b))b[g]=w;else if(k._nodeTypeIs(b,3))b.nodeValue=w})}})});
KISSY.add("dom-style",function(c,p){function v(b,h){var j=c.get(b),e=h===r?j.offsetWidth:j.offsetHeight;c.each(h===r?["Left","Right"]:["Top","Bottom"],function(l){e-=parseFloat(f._getComputedStyle(j,"padding"+l))||0;e-=parseFloat(f._getComputedStyle(j,"border"+l+"Width"))||0});return e}function d(b,h,j){var e=j;if(j===o&&i.test(h)){e=0;if(f.css(b,"position")==="absolute"){j=b[h==="left"?"offsetLeft":"offsetTop"];if(g.ie===8||g.opera)j-=m(f.css(b.offsetParent,"border-"+h+"-width"))||0;e=j-(m(f.css(b,
"margin-"+h))||0)}}return e}var f=c.DOM,g=c.UA,k=document,n=k.documentElement,r="width",o="auto",m=parseInt,i=/^(?:left|top)/,q=/^(?:width|height|top|left|right|bottom|margin|padding)/i,t=/-([a-z])/ig,u=function(b,h){return h.toUpperCase()},w={},a={};c.mix(f,{_CUSTOM_STYLES:w,_getComputedStyle:function(b,h){var j="",e=b.ownerDocument;if(b.style)j=e.defaultView.getComputedStyle(b,null)[h];return j},css:function(b,h,j){if(c.isPlainObject(h))for(var e in h)f.css(b,e,h[e]);else{if(h.indexOf("-")>0)h=
h.replace(t,u);h=w[h]||h;if(j===p){b=c.get(b);e="";if(b&&b.style){e=h.get?h.get(b):b.style[h];if(e===""&&!h.get)e=d(b,h,f._getComputedStyle(b,h))}return e===p?"":e}else{if(j===null||j==="")j="";else if(!isNaN(new Number(j))&&q.test(h))j+="px";(h===r||h==="height")&&parseFloat(j)<0||c.each(c.query(b),function(l){if(l&&l.style){h.set?h.set(l,j):l.style[h]=j;if(j==="")l.style.cssText||l.removeAttribute("style")}})}}},width:function(b,h){if(h===p)return v(b,r);else f.css(b,r,h)},height:function(b,h){if(h===
p)return v(b,"height");else f.css(b,"height",h)},show:function(b){c.query(b).each(function(h){if(h){h.style.display=f.data(h,"display")||"";if(f.css(h,"display")==="none"){var j=h.tagName,e=a[j],l;if(!e){l=k.createElement(j);k.body.appendChild(l);e=f.css(l,"display");f.remove(l);a[j]=e}f.data(h,"display",e);h.style.display=e}}})},hide:function(b){c.query(b).each(function(h){if(h){var j=h.style,e=j.display;if(e!=="none"){e&&f.data(h,"display",e);j.display="none"}}})},toggle:function(b){c.query(b).each(function(h){if(h)h.style.display===
"none"?f.show(h):f.hide(h)})},addStyleSheet:function(b,h){var j;if(h)j=c.get("#"+h);if(!j){j=f.create("<style>",{id:h});c.get("head").appendChild(j);if(j.styleSheet)j.styleSheet.cssText=b;else j.appendChild(k.createTextNode(b))}}});if(n.style.cssFloat!==p)w["float"]="cssFloat";else if(n.style.styleFloat!==p)w["float"]="styleFloat"});
KISSY.add("dom-style-ie",function(c,p){if(c.UA.ie){var v=c.DOM,d=document,f=d.documentElement,g=v._CUSTOM_STYLES,k=/^-?\d+(?:px)?$/i,n=/^-?\d/,r=/^(?:width|height)$/;try{if(f.style.opacity===p&&f.filters)g.opacity={get:function(m){var i=100;try{i=m.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(q){try{i=m.filters("alpha").opacity}catch(t){}}return i/100+""},set:function(m,i){var q=m.style,t=(m.currentStyle||0).filter||"";q.zoom=1;if(t)if(t=t.replace(/alpha\(opacity=.+\)/ig,""))t+=", ";
q.filter=t+"alpha(opacity="+i*100+")"}}}catch(o){}if(!(d.defaultView||{}).getComputedStyle&&f.currentStyle)v._getComputedStyle=function(m,i){var q=m.style,t=m.currentStyle[i];if(r.test(i))t=v[i](m)+"px";else if(!k.test(t)&&n.test(t)){var u=q.left,w=m.runtimeStyle.left;m.runtimeStyle.left=m.currentStyle.left;q.left=i==="fontSize"?"1em":t||0;t=q.pixelLeft+"px";q.left=u;m.runtimeStyle.left=w}return t}}});
KISSY.add("dom-offset",function(c,p){function v(j){var e=0,l=0,s=o(j[t]);if(j[h]){j=j[h]();e=j[u];l=j[w];if(f.mobile!=="apple"){e+=d[a](s);l+=d[b](s)}}return{left:e,top:l}}var d=c.DOM,f=c.UA,g=window,k=document,n=d._isElementNode,r=d._nodeTypeIs,o=d._getWin,m=k.compatMode==="CSS1Compat",i=Math.max,q=parseInt,t="ownerDocument",u="left",w="top",a="scrollLeft",b="scrollTop",h="getBoundingClientRect";c.mix(d,{offset:function(j,e){if(!(j=c.get(j))||!j[t])return null;if(e===p)return v(j);var l=j;if(d.css(l,
"position")==="static")l.style.position="relative";var s=v(l),x={},y,z;for(z in e){y=q(d.css(l,z),10)||0;x[z]=y+e[z]-s[z]}d.css(l,x)},scrollIntoView:function(j,e,l,s){if((j=c.get(j))&&j[t]){s=s===p?true:!!s;l=l===p?true:!!l;if(!e||e===g)return j.scrollIntoView(l);e=c.get(e);if(r(e,9))e=o(e);var x=e&&"scrollTo"in e&&e.document,y=d.offset(j),z=x?{left:d.scrollLeft(e),top:d.scrollTop(e)}:d.offset(e),A={left:y[u]-z[u],top:y[w]-z[w]};y=x?d.viewportHeight(e):e.clientHeight;z=x?d.viewportWidth(e):e.clientWidth;
var B=d[a](e),D=d[b](e),C=B+z,E=D+y,F=j.offsetHeight;j=j.offsetWidth;var G=A.left+B-(q(d.css(e,"borderLeftWidth"))||0);A=A.top+D-(q(d.css(e,"borderTopWidth"))||0);var H=G+j,K=A+F,I,J;if(F>y||A<D||l)I=A;else if(K>E)I=K-y;if(s)if(j>z||G<B||l)J=G;else if(H>C)J=H-z;if(x){if(I!==p||J!==p)e.scrollTo(J,I)}else{if(I!==p)e[b]=I;if(J!==p)e[a]=J}}}});c.each(["Left","Top"],function(j,e){var l="scroll"+j;d[l]=function(s){var x=0,y=o(s),z;if(y&&(z=y.document))x=y[e?"pageYOffset":"pageXOffset"]||z.documentElement[l]||
z.body[l];else if(n(s=c.get(s)))x=s[l];return x}});c.each(["Width","Height"],function(j){d["doc"+j]=function(e){e=e||k;return i(m?e.documentElement["scroll"+j]:e.body["scroll"+j],d["viewport"+j](e))};d["viewport"+j]=function(e){var l="inner"+j;e=o(e);var s=e.document;return l in e?e[l]:m?s.documentElement["client"+j]:s.body["client"+j]}})});
KISSY.add("dom-traversal",function(c,p){function v(k,n,r,o){if(!(k=c.get(k)))return null;if(n===p)n=1;var m=null,i,q;if(c.isNumber(n)&&n>=0){if(n===0)return k;i=0;q=n;n=function(){return++i===q}}for(;k=k[r];)if(g(k)&&(!n||f.test(k,n))&&(!o||o(k))){m=k;break}return m}function d(k,n,r){var o=[];var m=k=c.get(k);if(k&&r)m=k.parentNode;if(m){r=0;for(m=m.firstChild;m;m=m.nextSibling)if(g(m)&&m!==k&&(!n||f.test(m,n)))o[r++]=m}return o}var f=c.DOM,g=f._isElementNode;c.mix(f,{parent:function(k,n){return v(k,
n,"parentNode",function(r){return r.nodeType!=11})},next:function(k,n){return v(k,n,"nextSibling")},prev:function(k,n){return v(k,n,"previousSibling")},siblings:function(k,n){return d(k,n,true)},children:function(k,n){return d(k,n)},contains:function(k,n){var r=false;if((k=c.get(k))&&(n=c.get(n)))if(k.contains)return k.contains(n);else if(k.compareDocumentPosition)return!!(k.compareDocumentPosition(n)&16);else for(;!r&&(n=n.parentNode);)r=n==k;return r}})});
KISSY.add("dom-create",function(c,p){function v(x){var y=x.cloneNode(true);if(n.ie<8)y.innerHTML=x.innerHTML;return y}function d(x,y,z,A){if(z){var B=c.guid("ks-tmp-"),D=RegExp(u);y+='<span id="'+B+'"></span>';c.available(B,function(){var C=c.get("head"),E,F,G,H,K,I;for(D.lastIndex=0;E=D.exec(y);)if((G=(F=E[1])?F.match(a):false)&&G[2]){E=g.createElement("script");E.src=G[2];if((H=F.match(b))&&H[2])E.charset=H[2];E.async=true;C.appendChild(E)}else if((I=E[2])&&I.length>0)c.globalEval(I);(K=g.getElementById(B))&&
k.remove(K);c.isFunction(A)&&A()});f(x,y)}else{f(x,y);c.isFunction(A)&&A()}}function f(x,y){y=(y+"").replace(u,"");try{x.innerHTML=y}catch(z){for(;x.firstChild;)x.removeChild(x.firstChild);y&&x.appendChild(k.create(y))}}var g=document,k=c.DOM,n=c.UA,r=n.ie,o=k._nodeTypeIs,m=k._isElementNode,i=k._isKSNode,q=g.createElement("div"),t=/<(\w+)/,u=/<script([^>]*)>([^<]*(?:(?!<\/script>)<[^<]*)*)<\/script>/ig,w=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,a=/\ssrc=(['"])(.*?)\1/i,b=/\scharset=(['"])(.*?)\1/i;c.mix(k,{create:function(x,
y,z){if(o(x,1)||o(x,3))return v(x);if(i(x))return v(x[0]);if(!(x=c.trim(x)))return null;var A=null;A=k._creators;var B,D="div",C;if(B=w.exec(x))A=(z||g).createElement(B[1]);else{if((B=t.exec(x))&&(C=B[1])&&c.isFunction(A[C=C.toLowerCase()]))D=C;x=A[D](x,z).childNodes;if(x.length===1)z=x[0].parentNode.removeChild(x[0]);else{x=x;C=z||g;z=null;if(x&&(x.push||x.item)&&x[0]){C=C||x[0].ownerDocument;z=C.createDocumentFragment();if(x.item)x=c.makeArray(x);C=0;for(A=x.length;C<A;C++)z.appendChild(x[C])}z=
z}A=z}z=A;m(z)&&c.isPlainObject(y)&&k.attr(z,y,true);return z},_creators:{div:function(x,y){var z=y?y.createElement("div"):q;z.innerHTML=x;return z}},html:function(x,y,z,A){if(y===p){x=c.get(x);if(m(x))return x.innerHTML}else c.each(c.query(x),function(B){m(B)&&d(B,y,z,A)})},remove:function(x){c.each(c.query(x),function(y){m(y)&&y.parentNode&&y.parentNode.removeChild(y)})}});if(n.gecko||r){var h=k._creators,j=k.create,e=/(?:\/(?:thead|tfoot|caption|col|colgroup)>)+\s*<tbody/,l={option:"select",td:"tr",
tr:"tbody",tbody:"table",col:"colgroup",legend:"fieldset"},s;for(s in l)(function(x){h[s]=function(y,z){return j("<"+x+">"+y+"</"+x+">",null,z)}})(l[s]);if(r){h.script=function(x,y){var z=y?y.createElement("div"):q;z.innerHTML="-"+x;z.removeChild(z.firstChild);return z};if(r<8)h.tbody=function(x,y){var z=j("<table>"+x+"</table>",null,y),A=z.children.tags("tbody")[0];z.children.length>1&&A&&!e.test(x)&&A.parentNode.removeChild(A);return z}}c.mix(h,{optgroup:h.option,th:h.td,thead:h.tbody,tfoot:h.tbody,
caption:h.tbody,colgroup:h.tbody})}});KISSY.add("dom-insertion",function(c){c.mix(c.DOM,{insertBefore:function(p,v){if((p=c.get(p))&&(v=c.get(v))&&v.parentNode)v.parentNode.insertBefore(p,v);return p},insertAfter:function(p,v){if((p=c.get(p))&&(v=c.get(v))&&v.parentNode)v.nextSibling?v.parentNode.insertBefore(p,v.nextSibling):v.parentNode.appendChild(p);return p}})});
KISSY.add("event",function(c,p){function v(u,w,a,b,h){if(c.isString(w))w=c.query(w);if(c.isArray(w)){c.each(w,function(j){t[u](j,a,b,h)});return true}if((a=c.trim(a))&&a.indexOf(m)>0){c.each(a.split(m),function(j){t[u](w,j,b,h)});return true}}function d(u,w){f(u)&&k.data(u,o,w)}function f(u){return u&&u.nodeType!==3&&u.nodeType!==8}var g=document,k=c.DOM,n=g.addEventListener?function(u,w,a,b){u.addEventListener&&u.addEventListener(w,a,!!b)}:function(u,w,a){u.attachEvent&&u.attachEvent("on"+w,a)},
r=g.removeEventListener?function(u,w,a,b){u.removeEventListener&&u.removeEventListener(w,a,!!b)}:function(u,w,a){u.detachEvent&&u.detachEvent("on"+w,a)},o="ksEventTargetId",m=" ",i=c.now(),q={},t={EVENT_GUID:o,special:{},add:function(u,w,a,b){if(!v("add",u,w,a,b)){var h=f(u)?k.data(u,o):-1,j,e,l,s,x;if(!(h===-1||!w||!c.isFunction(a))){if(!h){d(u,h=i++);q[h]={target:u,events:{}}}e=q[h].events;if(!e[w]){j=((h=!u.isCustomEventTarget)||u._supportSpecialEvent)&&t.special[w]||{};l=function(y,z){if(!y||
!y.fixed){y=new c.EventObject(u,y,w);c.isPlainObject(z)&&c.mix(y,z)}j.setup&&j.setup(y);return(j.handle||t._handle)(u,y,e[w].listeners)};e[w]={handle:l,listeners:[]};s=j.fix||w;x=j.capture;if(h)n(u,s,l,x);else u._addEvent&&u._addEvent(s,l,x)}e[w].listeners.push({fn:a,scope:b||u})}}},remove:function(u,w,a,b){if(!v("remove",u,w,a,b)){var h=f(u)?k.data(u,o):-1,j,e,l,s,x,y,z;if(h!==-1)if(h&&(j=q[h]))if(j.target===u){b=b||u;j=j.events||{};if(e=j[w]){l=e.listeners;y=l.length;if(c.isFunction(a)&&y){x=s=
0;for(z=[];s<y;++s)if(a!==l[s].fn||b!==l[s].scope)z[x++]=l[s];e.listeners=z;y=z.length}if(a===p||y===0){if(u.isCustomEventTarget)u._addEvent&&u._removeEvent(w,e.handle);else{a=t.special[w]||{};r(u,a.fix||w,e.handle)}delete j[w]}}if(w===p||c.isEmptyObject(j)){for(w in j)t.remove(u,w);delete q[h];k.removeData(u,o)}}}},_handle:function(u,w,a){a=a.slice(0);for(var b,h=0,j=a.length;h<j;++h){b=a[h];b=b.fn.call(b.scope||u,w);if(b===false&&u.isCustomEventTarget||w.isImmediatePropagationStopped)break}return b},
_getCache:function(u){return q[u]},_simpleAdd:n,_simpleRemove:r};t.on=t.add;c.Event=t});
KISSY.add("event-object",function(c,p){function v(g,k,n){this.currentTarget=g;this.originalEvent=k||{};if(k){this.type=k.type;this._fix()}else{this.type=n;this.target=g}this.currentTarget=g;this.fixed=true}var d=document,f="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" ");c.augment(v,
{_fix:function(){var g=this.originalEvent,k=f.length,n,r=this.currentTarget;for(r=r.nodeType===9?r:r.ownerDocument||d;k;){n=f[--k];this[n]=g[n]}if(!this.target)this.target=this.srcElement||d;if(this.target.nodeType===3)this.target=this.target.parentNode;if(!this.relatedTarget&&this.fromElement)this.relatedTarget=this.fromElement===this.target?this.toElement:this.fromElement;if(this.pageX===p&&this.clientX!==p){g=r.documentElement;k=r.body;this.pageX=this.clientX+(g&&g.scrollLeft||k&&k.scrollLeft||
0)-(g&&g.clientLeft||k&&k.clientLeft||0);this.pageY=this.clientY+(g&&g.scrollTop||k&&k.scrollTop||0)-(g&&g.clientTop||k&&k.clientTop||0)}if(this.which===p)this.which=this.charCode!==p?this.charCode:this.keyCode;if(this.metaKey===p)this.metaKey=this.ctrlKey;if(!this.which&&this.button!==p)this.which=this.button&1?1:this.button&2?3:this.button&4?2:0},preventDefault:function(){var g=this.originalEvent;if(g.preventDefault)g.preventDefault();else g.returnValue=false;this.isDefaultPrevented=true},stopPropagation:function(){var g=
this.originalEvent;if(g.stopPropagation)g.stopPropagation();else g.cancelBubble=true;this.isPropagationStopped=true},stopImmediatePropagation:function(){var g=this.originalEvent;g.stopImmediatePropagation?g.stopImmediatePropagation():this.stopPropagation();this.isImmediatePropagationStopped=true},halt:function(g){g?this.stopImmediatePropagation():this.stopPropagation();this.preventDefault()}});c.EventObject=v});
KISSY.add("event-target",function(c,p){var v=c.Event;c.EventTarget={isCustomEventTarget:true,fire:function(d,f){var g=c.DOM.data(this,v.EVENT_GUID)||-1;if((g=((v._getCache(g)||{}).events||{})[d])&&c.isFunction(g.handle))return g.handle(p,f);return this},on:function(d,f,g){v.add(this,d,f,g);return this},detach:function(d,f,g){v.remove(this,d,f,g);return this}}});
KISSY.add("event-mouseenter",function(c){var p=c.Event;c.UA.ie||c.each([{name:"mouseenter",fix:"mouseover"},{name:"mouseleave",fix:"mouseout"}],function(v){p.special[v.name]={fix:v.fix,setup:function(d){d.type=v.name},handle:function(d,f,g){if(c.DOM._isKSNode(d))d=d[0];var k=f.relatedTarget;try{for(;k&&k!==d;)k=k.parentNode;k!==d&&p._handle(d,f,g)}catch(n){}}}})});
KISSY.add("event-focusin",function(c){var p=c.Event;document.addEventListener&&c.each([{name:"focusin",fix:"focus"},{name:"focusout",fix:"blur"}],function(v){p.special[v.name]={fix:v.fix,capture:true,setup:function(d){d.type=v.name}}})});
KISSY.add("node",function(c){function p(d,f,g){if(!(this instanceof p))return new p(d,f,g);if(d){if(c.isString(d)){d=v.create(d,f,g);if(d.nodeType===11)return new c.NodeList(d.childNodes)}else if(d instanceof p)return d;else d=d;this[0]=d}else this.length=0}var v=c.DOM;p.TYPE="-ks-Node";c.augment(p,{length:1,getDOMNode:function(){return this[0]},nodeType:p.TYPE});c.one=function(d,f){var g=c.get(d,f);return g?new p(g):null};c.Node=p});
KISSY.add("nodelist",function(c){function p(f){if(!(this instanceof p))return new p(f);d.push.apply(this,c.makeArray(f)||[])}var v=c.DOM,d=Array.prototype;c.mix(p.prototype,{length:0,item:function(f){var g=null;if(v._isElementNode(this[f]))g=new c.Node(this[f]);return g},getDOMNodes:function(){return d.slice.call(this)},each:function(f,g){var k=this.length,n=0,r;for(r=new c.Node(this[0]);n<k&&f.call(g||r,r,n,this)!==false;r=new c.Node(this[++n]));return this}});c.all=function(f,g){return new p(c.query(f,
g,true))};c.NodeList=p});
KISSY.add("node-attach",function(c,p){function v(w,a,b,h){w=[this[w?i:m]()].concat(c.makeArray(a));if(a[b]===p)return h.apply(f,w);else{h.apply(f,w);return this}}function d(w,a){c.each(w,function(b){c.each([r,o],function(h,j){h[b]=function(e){switch(a){case q:return function(){return v.call(this,j,arguments,1,e)};case t:return function(){return v.call(this,j,arguments,0,e)};case u:return function(){var l=this[j?i:m]();return(l=e.apply(f,[l].concat(c.makeArray(arguments))))?new (c[c.isArray(l)?"NodeList":
"Node"])(l):null};default:return function(){var l=this[j?i:m]();l=e.apply(f,[l].concat(c.makeArray(arguments)));return l===p?this:l}}}(f[b])})})}var f=c.DOM,g=c.Event,k=f._nodeTypeIs,n=f._isKSNode,r=c.Node.prototype,o=c.NodeList.prototype,m="getDOMNode",i=m+"s",q=1,t=2,u=4;c.mix(r,{one:function(w){return c.one(w,this[0])},all:function(w){return c.all(w,this[0])}});d(["data","removeData"],q);d(["hasClass","addClass","removeClass","replaceClass","toggleClass"]);d(["attr","removeAttr"],q);d(["val","text"],
t);d(["css"],q);d(["width","height"],t);d(["offset"],t);d(["scrollIntoView"]);d(["parent","next","prev","siblings","children"],u);d(["contains"]);d(["html"],t);d(["remove"]);c.each(["insertBefore","insertAfter"],function(w){r[w]=function(a){f[w].call(f,this[0],a);return this}});c.each([r,o],function(w,a){c.mix(w,{append:function(b){b&&c.each(this,function(h){var j;if(a||c.isString(b))j=f.create(b);else{if(k(b,1)||k(b,3))j=b;if(n(b))j=b[0]}h.appendChild(j)});return this},appendTo:function(b){if((b=
c.get(b))&&b.appendChild)c.each(this,function(h){b.appendChild(h)});return this}})});c.each([r,o],function(w){c.mix(w,c.EventTarget);w._supportSpecialEvent=true;w._addEvent=function(a,b,h){for(var j=0,e=this.length;j<e;j++)g._simpleAdd(this[j],a,b,h)};w._removeEvent=function(a,b,h){for(var j=0,e=this.length;j<e;j++)g._simpleRemove(this[j],a,b,h)};delete w.fire})});
KISSY.add("cookie",function(c){var p=document,v=encodeURIComponent,d=decodeURIComponent;c.Cookie={get:function(f){var g;if(c.isString(f)&&f!=="")if(f=p.cookie.match("(?:^| )"+f+"(?:(?:=([^;]*))|;|$)"))g=f[1]?d(f[1]):"";return g},set:function(f,g,k,n,r,o){g=v(g);var m=k;if(typeof m==="number"){m=new Date;m.setTime(m.getTime()+k*864E5)}if(m instanceof Date)g+="; expires="+m.toUTCString();if(c.isString(n)&&n!=="")g+="; domain="+n;if(c.isString(r)&&r!=="")g+="; path="+r;if(o)g+="; secure";p.cookie=f+
"="+g},remove:function(f,g,k,n){this.set(f,"",0,g,k,n)}}});
KISSY.add("json",function(c){function p(m){return m<10?"0"+m:m}function v(m){g.lastIndex=0;return g.test(m)?'"'+m.replace(g,function(i){var q=r[i];return typeof q==="string"?q:"\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+m+'"'}function d(m,i){var q,t,u,w,a=k,b,h=i[m];if(h&&typeof h==="object"&&typeof h.toJSON==="function")h=h.toJSON(m);if(typeof o==="function")h=o.call(i,m,h);switch(typeof h){case "string":return v(h);case "number":return isFinite(h)?String(h):"null";case "boolean":case "null":return String(h);
case "object":if(!h)return"null";k+=n;b=[];if(Object.prototype.toString.apply(h)==="[object Array]"){w=h.length;for(q=0;q<w;q+=1)b[q]=d(q,h)||"null";u=b.length===0?"[]":k?"[\n"+k+b.join(",\n"+k)+"\n"+a+"]":"["+b.join(",")+"]";k=a;return u}if(o&&typeof o==="object"){w=o.length;for(q=0;q<w;q+=1){t=o[q];if(typeof t==="string")if(u=d(t,h))b.push(v(t)+(k?": ":":")+u)}}else for(t in h)if(Object.hasOwnProperty.call(h,t))if(u=d(t,h))b.push(v(t)+(k?": ":":")+u);u=b.length===0?"{}":k?"{\n"+k+b.join(",\n"+k)+
"\n"+a+"}":"{"+b.join(",")+"}";k=a;return u}}c=c.JSON=window.JSON||{};if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+p(this.getUTCMonth()+1)+"-"+p(this.getUTCDate())+"T"+p(this.getUTCHours())+":"+p(this.getUTCMinutes())+":"+p(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,k,n,r={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},o;if(typeof c.stringify!=="function")c.stringify=function(m,i,q){var t;n=k="";if(typeof q==="number")for(t=0;t<q;t+=1)n+=" ";else if(typeof q==="string")n=q;if((o=i)&&typeof i!=="function"&&(typeof i!=="object"||typeof i.length!=="number"))throw Error("JSON.stringify");return d("",{"":m})};if(typeof c.parse!==
"function")c.parse=function(m,i){function q(u,w){var a,b,h=u[w];if(h&&typeof h==="object")for(a in h)if(Object.hasOwnProperty.call(h,a)){b=q(h,a);if(b!==undefined)h[a]=b;else delete h[a]}return i.call(u,w,h)}var t;m=String(m);f.lastIndex=0;if(f.test(m))m=m.replace(f,function(u){return"\\u"+("0000"+u.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(m.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){t=eval("("+m+")");return typeof i==="function"?q({"":t},""):t}throw new SyntaxError("JSON.parse");}});
KISSY.add("anim-easing",function(c){var p=Math,v=p.PI,d=p.pow,f=p.sin,g=1.70158,k={easeNone:function(n){return n},easeIn:function(n){return n*n},easeOut:function(n){return(2-n)*n},easeBoth:function(n){return(n*=2)<1?0.5*n*n:0.5*(1- --n*(n-2))},easeInStrong:function(n){return n*n*n*n},easeOutStrong:function(n){return 1- --n*n*n*n},easeBothStrong:function(n){return(n*=2)<1?0.5*n*n*n*n:0.5*(2-(n-=2)*n*n*n)},elasticIn:function(n){if(n===0||n===1)return n;return-(d(2,10*(n-=1))*f((n-0.075)*2*v/0.3))},
elasticOut:function(n){if(n===0||n===1)return n;return d(2,-10*n)*f((n-0.075)*2*v/0.3)+1},elasticBoth:function(n){if(n===0||(n*=2)===2)return n;if(n<1)return-0.5*d(2,10*(n-=1))*f((n-0.1125)*2*v/0.45);return d(2,-10*(n-=1))*f((n-0.1125)*2*v/0.45)*0.5+1},backIn:function(n){if(n===1)n-=0.0010;return n*n*((g+1)*n-g)},backOut:function(n){return(n-=1)*n*((g+1)*n+g)+1},backBoth:function(n){if((n*=2)<1)return 0.5*n*n*(((g*=1.525)+1)*n-g);return 0.5*((n-=2)*n*(((g*=1.525)+1)*n+g)+2)},bounceIn:function(n){return 1-
k.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+0.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+0.9375:7.5625*(n-=2.625/2.75)*n+0.984375},bounceBoth:function(n){if(n<0.5)return k.bounceIn(n*2)*0.5;return k.bounceOut(n*2-1)*0.5+0.5}};k.NativeTimeFunction={easeNone:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeBoth:"ease-in-out",easeInStrong:"cubic-bezier(0.9, 0.0, 0.9, 0.5)",easeOutStrong:"cubic-bezier(0.1, 0.5, 0.1, 1.0)",easeBothStrong:"cubic-bezier(0.9, 0.0, 0.1, 1.0)"};
c.Easing=k});
KISSY.add("anim",function(c,p){function v(a,b,h,j,e,l){if(a=c.get(a)){if(!(this instanceof v))return new v(a,b,h,j,e,l);var s=c.isPlainObject(h);b=b;this.domEl=a;if(c.isPlainObject(b))b=c.param(b,";").replace(/=/g,":");var x={},y=q.length,z;i.innerHTML='<div style="'+b+'"></div>';for(a=i.firstChild.style;y--;)if(z=a[q[y]])x[q[y]]=g(z);this.props=x;this.targetStyle=b;if(s)s=c.merge(w,h);else{s=c.clone(w);if(h)s.duration=m(h)||1;if(c.isString(j)||c.isFunction(j))s.easing=j;if(c.isFunction(e))s.complete=e;
if(l!==p)s.nativeSupport=l}this.config=s;if(s.nativeSupport&&d()&&c.isString(j=s.easing))if(/cubic-bezier\([\s\d.,]+\)/.test(j)||(j=o.NativeTimeFunction[j])){s.easing=j;this.transitionName=d()}c.isFunction(e)&&this.on(u,e)}}function d(){var a="transition",b;if(i.style[a]!==p)b=a;else c.each(["Webkit","Moz","O"],function(h){if(i.style[a=h+"Transition"]!==p){b=a;return false}});d=function(){return b};return b}function f(a,b,h){c.UA.ie&&h.indexOf(t)>-1&&r.css(a,t,b[t].v);a.style.cssText+=";"+h}function g(a){var b=
m(a);a=(a+"").replace(/^[-\d.]+/,"");return isNaN(b)?{v:a,u:"",f:n}:{v:b,u:a,f:k}}function k(a,b,h){return(a+(b-a)*h).toFixed(3)}function n(a,b,h){for(var j=2,e,l,s=[],x=[];e=3,l=arguments[j-1],j--;)if(l.substr(0,4)==="rgb(")for(l=l.match(/\d+/g);e--;)s.push(~~l[e]);else if(l.substr(0,1)==="#"){if(l.length===4)l="#"+l.substr(1,1)+l.substr(1,1)+l.substr(2,1)+l.substr(2,1)+l.substr(3,1)+l.substr(3,1);for(;e--;)s.push(parseInt(l.substr(1+e*2,2),16))}else return b;for(;e--;){j=~~(s[e+3]+(s[e]-s[e+3])*
h);x.push(j<0?0:j>255?255:j)}return"rgb("+x.join(",")+")"}var r=c.DOM,o=c.Easing,m=parseFloat,i=r.create("<div>"),q="backgroundColor borderBottomColor borderBottomWidth borderBottomStyle borderLeftColor borderLeftWidth borderLeftStyle borderRightColor borderRightWidth borderRightStyle borderSpacing borderTopColor borderTopWidth borderTopStyle bottom color font fontFamily fontSize fontWeight height left letterSpacing lineHeight marginBottom marginLeft marginRight marginTop maxHeight maxWidth minHeight minWidth opacity outlineColor outlineOffset outlineWidth paddingBottom paddingLeft paddingRight paddingTop right textIndent top width wordSpacing zIndex".split(" "),
t="opacity",u="complete",w={duration:1,easing:"easeNone",nativeSupport:true};c.augment(v,c.EventTarget,{run:function(){var a=this,b=a.config,h=a.domEl,j,e,l,s,x=a.props,y={},z;for(z in x)y[z]=g(r.css(h,z));if(a.fire("start")!==false){a.stop();if(a.transitionName)a._nativeRun();else{j=b.duration*1E3;l=c.now();s=l+j;e=b.easing;if(c.isString(e))e=o[e]||o.easeNone;a.timer=c.later(b=function(){var A=c.now(),B=A>s?1:(A-l)/j,D,C,E;for(z in x){D=y[z];C=x[z];if(C.v==0)C.u=D.u;if(D.u!==C.u)D.v=0;r.css(h,z,
C.f(D.v,C.v,e(B))+C.u)}if(a.fire("step")===false||(E=A>s)){a.stop();E&&a.fire(u)}},13,true);b()}return a}},_nativeRun:function(){var a=this,b=a.config,h=a.domEl,j=a.props,e=b.duration*1E3;b=b.easing;var l=a.transitionName,s={};s[l+"Property"]="all";s[l+"Duration"]=e+"ms";s[l+"TimingFunction"]=b;r.css(h,s);c.later(function(){f(h,j,a.targetStyle)},0);c.later(function(){a.stop(true)},e)},stop:function(a){if(this.transitionName)this._nativeStop(a);else{if(this.timer){this.timer.cancel();this.timer=p}if(a){f(this.domEl,
this.props,this.targetStyle);this.fire(u)}}return this},_nativeStop:function(a){var b=this.domEl,h=this.transitionName,j=this.props,e;if(a){r.css(b,h+"Property","none");this.fire(u)}else{for(e in j)r.css(b,e,r._getComputedStyle(b,e));r.css(b,h+"Property","none")}}});v.supportTransition=function(){return!!d()};c.Anim=v});
KISSY.add("anim-node-plugin",function(c,p){function v(u,w,a,b,h){if(w==="toggle"){h=d.css(u,g)===k?1:0;w="show"}if(h)d.css(u,g,d.data(u,g)||"");var j={};c.each(t[w],function(e){if(e===n)d.css(u,n,r);else if(e===o){j.opacity=h?1:0;h&&d.css(u,o,0)}else if(e===m){j.height=h?d.css(u,m)||u.naturalHeight:0;h&&d.css(u,m,0)}else if(e===i){j.width=h?d.css(u,i)||u.naturalWidth:0;h&&d.css(u,i,0)}});(new c.Anim(u,j,a,"easeOut",function(){if(!h){var e=u.style,l=e[g];if(l!==k){l&&d.data(u,g,l);e[g]=k}d.css(u,{height:q,
width:q,overflow:q,opacity:1})}b&&c.isFunction(b)&&b()})).run()}var d=c.DOM,f=c.Anim,g="display",k="none",n="overflow",r="hidden",o="opacity",m="height",i="width",q="auto",t={show:[n,o,m,i],fade:[o],slide:[n,m]};c.each([c.Node.prototype,c.NodeList.prototype],function(u){u.animate=function(){var w=c.makeArray(arguments);c.each(this,function(a){f.apply(p,[a].concat(w)).run()});return this};c.each({show:["show",1],hide:["show",0],toggle:["toggle"],fadeIn:["fade",1],fadeOut:["fade",0],slideDown:["slide",
1],slideUp:["slide",0]},function(w,a){u[a]=function(b,h){d[a]&&arguments.length===0?d[a](this):c.each(this,function(j){v(j,w[0],b,h,w[1])});return this}})})});
KISSY.add("attribute",function(c,p){function v(){}function d(f){f+="";return f.charAt(0).toUpperCase()+f.substring(1)}c.augment(v,{__initAttrs:function(){if(!this.__attrs){this.__attrs={};this.__attrVals={}}},addAttr:function(f,g){this.__initAttrs();this.__attrs[f]=c.clone(g||{});return this},addAttrs:function(f,g){var k=this;c.each(f,function(n,r){if(r in g)n.value=g[r];k.addAttr(r,n)});return k},hasAttr:function(f){return f&&f in(this.__attrs||{})},removeAttr:function(f){if(this.hasAttr(f)){delete this.__attrs.name;
delete this.__attrVals.name}return this},set:function(f,g){var k=this.get(f);if(k!==g)if(false!==this.__fireAttrChange("before",f,k,g)){this.__set(f,g);this.__fireAttrChange("after",f,k,this.__attrVals[f]);return this}},__fireAttrChange:function(f,g,k,n){return this.fire(f+d(g)+"Change",{attrName:g,prevVal:k,newVal:n})},__set:function(f,g){var k,n=this.__attrs[f];if(n=n&&n.setter)k=n.call(this,g);if(k!==p)g=k;this.__attrVals[f]=g},get:function(f){var g;this.__initAttrs();g=(g=this.__attrs[f])&&g.getter;
f=f in this.__attrVals?this.__attrVals[f]:this.__getDefAttrVal(f);if(g)f=g.call(this,f);return f},__getDefAttrVal:function(f){f=this.__attrs[f];var g;if(f){if(g=f.valueFn){g=g.call(this);if(g!==p)f.value=g;delete f.valueFn}return f.value}},reset:function(f){if(this.hasAttr(f))return this.set(f,this.__getDefAttrVal(f));for(f in this.__attrs)this.hasAttr(f)&&this.reset(f);return this}});c.Attribute=v});
KISSY.add("base",function(c){function p(v){for(var d=this.constructor,f,g;d;){if(g=d.ATTRS)for(f in g)g.hasOwnProperty(f)&&!this.hasAttr(f)&&this.addAttr(f,g[f]);d=d.superclass?d.superclass.constructor:null}if(v)for(f in v)v.hasOwnProperty(f)&&this.__set(f,v[f])}c.augment(p,c.EventTarget,c.Attribute);c.Base=p});KISSY.add("core");
(function(){function c(a,b,h,j,e,l){e=0;for(var s=j.length;e<s;e++){var x=j[e];if(x){x=x[a];for(var y=false;x;){if(x.sizcache===h){y=j[x.sizset];break}if(x.nodeType===1&&!l){x.sizcache=h;x.sizset=e}if(x.nodeName.toLowerCase()===b){y=x;break}x=x[a]}j[e]=y}}}function p(a,b,h,j,e,l){e=0;for(var s=j.length;e<s;e++){var x=j[e];if(x){x=x[a];for(var y=false;x;){if(x.sizcache===h){y=j[x.sizset];break}if(x.nodeType===1){if(!l){x.sizcache=h;x.sizset=e}if(typeof b!=="string"){if(x===b){y=true;break}}else if(n.filter(b,
[x]).length>0){y=x;break}}x=x[a]}j[e]=y}}}var v=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d=0,f=Object.prototype.toString,g=false,k=true;[0,0].sort(function(){k=false;return 0});var n=function(a,b,h,j){h=h||[];var e=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return h;var l=[],s,x,y,z,A=true,B=n.isXML(b),D=a,C;do{v.exec("");if(s=v.exec(D)){D=s[3];l.push(s[1]);if(s[2]){z=
s[3];break}}}while(s);if(l.length>1&&o.exec(a))if(l.length===2&&r.relative[l[0]])x=w(l[0]+l[1],b);else for(x=r.relative[l[0]]?[b]:n(l.shift(),b);l.length;){a=l.shift();if(r.relative[a])a+=l.shift();x=w(a,x)}else{if(!j&&l.length>1&&b.nodeType===9&&!B&&r.match.ID.test(l[0])&&!r.match.ID.test(l[l.length-1])){s=n.find(l.shift(),b,B);b=s.expr?n.filter(s.expr,s.set)[0]:s.set[0]}if(b){s=j?{expr:l.pop(),set:q(j)}:n.find(l.pop(),l.length===1&&(l[0]==="~"||l[0]==="+")&&b.parentNode?b.parentNode:b,B);x=s.expr?
n.filter(s.expr,s.set):s.set;if(l.length>0)y=q(x);else A=false;for(;l.length;){s=C=l.pop();if(r.relative[C])s=l.pop();else C="";if(s==null)s=b;r.relative[C](y,s,B)}}else y=[]}y||(y=x);y||n.error(C||a);if(f.call(y)==="[object Array]")if(A)if(b&&b.nodeType===1)for(a=0;y[a]!=null;a++){if(y[a]&&(y[a]===true||y[a].nodeType===1&&n.contains(b,y[a])))h.push(x[a])}else for(a=0;y[a]!=null;a++)y[a]&&y[a].nodeType===1&&h.push(x[a]);else h.push.apply(h,y);else q(y,h);if(z){n(z,e,h,j);n.uniqueSort(h)}return h};
n.uniqueSort=function(a){if(u){g=k;a.sort(u);if(g)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};n.matches=function(a,b){return n(a,null,null,b)};n.find=function(a,b,h){var j;if(!a)return[];for(var e=0,l=r.order.length;e<l;e++){var s=r.order[e],x;if(x=r.leftMatch[s].exec(a)){var y=x[1];x.splice(1,1);if(y.substr(y.length-1)!=="\\"){x[1]=(x[1]||"").replace(/\\/g,"");j=r.find[s](x,b,h);if(j!=null){a=a.replace(r.match[s],"");break}}}}j||(j=b.getElementsByTagName("*"));return{set:j,
expr:a}};n.filter=function(a,b,h,j){for(var e=a,l=[],s=b,x,y,z=b&&b[0]&&n.isXML(b[0]);a&&b.length;){for(var A in r.filter)if((x=r.leftMatch[A].exec(a))!=null&&x[2]){var B=r.filter[A],D,C;C=x[1];y=false;x.splice(1,1);if(C.substr(C.length-1)!=="\\"){if(s===l)l=[];if(r.preFilter[A])if(x=r.preFilter[A](x,s,h,l,j,z)){if(x===true)continue}else y=D=true;if(x)for(var E=0;(C=s[E])!=null;E++)if(C){D=B(C,x,E,s);var F=j^!!D;if(h&&D!=null)if(F)y=true;else s[E]=false;else if(F){l.push(C);y=true}}if(D!==undefined){h||
(s=l);a=a.replace(r.match[A],"");if(!y)return[];break}}}if(a===e)if(y==null)n.error(a);else break;e=a}return s};n.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var r=n.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b){var h=typeof b==="string",j=h&&!/\W/.test(b);h=h&&!j;if(j)b=b.toLowerCase();j=0;for(var e=a.length,l;j<e;j++)if(l=a[j]){for(;(l=l.previousSibling)&&l.nodeType!==1;);a[j]=h||l&&l.nodeName.toLowerCase()===
b?l||false:l===b}h&&n.filter(b,a,true)},">":function(a,b){var h=typeof b==="string",j,e=0,l=a.length;if(h&&!/\W/.test(b))for(b=b.toLowerCase();e<l;e++){if(j=a[e]){h=j.parentNode;a[e]=h.nodeName.toLowerCase()===b?h:false}}else{for(;e<l;e++)if(j=a[e])a[e]=h?j.parentNode:j.parentNode===b;h&&n.filter(b,a,true)}},"":function(a,b,h){var j=d++,e=p,l;if(typeof b==="string"&&!/\W/.test(b)){l=b=b.toLowerCase();e=c}e("parentNode",b,j,a,l,h)},"~":function(a,b,h){var j=d++,e=p,l;if(typeof b==="string"&&!/\W/.test(b)){l=
b=b.toLowerCase();e=c}e("previousSibling",b,j,a,l,h)}},find:{ID:function(a,b,h){if(typeof b.getElementById!=="undefined"&&!h)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){for(var h=[],j=b.getElementsByName(a[1]),e=0,l=j.length;e<l;e++)j[e].getAttribute("name")===a[1]&&h.push(j[e]);return h.length===0?null:h}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,h,j,e,l){a=" "+a[1].replace(/\\/g,"")+" ";if(l)return a;
l=0;for(var s;(s=b[l])!=null;l++)if(s)if(e^(s.className&&(" "+s.className+" ").replace(/[\t\n]/g," ").indexOf(a)>=0))h||j.push(s);else if(h)b[l]=false;return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a){return a[1].toLowerCase()},CHILD:function(a){if(a[1]==="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=d++;return a},ATTR:function(a,b,h,j,e,l){b=a[1].replace(/\\/g,
"");if(!l&&r.attrMap[b])a[1]=r.attrMap[b];if(a[2]==="~=")a[4]=" "+a[4]+" ";return a},PSEUDO:function(a,b,h,j,e){if(a[1]==="not")if((v.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=n(a[3],null,null,b);else{a=n.filter(a[3],b,h,true^e);h||j.push.apply(j,a);return false}else if(r.match.POS.test(a[0])||r.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===
true},checked:function(a){return a.checked===true},selected:function(a){return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,h){return!!n(h[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===
a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toLowerCase()==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,h,j){return b===j.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,h){return b<h[3]-0},gt:function(a,b,h){return b>h[3]-0},nth:function(a,b,h){return h[3]-
0===b},eq:function(a,b,h){return h[3]-0===b}},filter:{PSEUDO:function(a,b,h,j){var e=b[1],l=r.filters[e];if(l)return l(a,h,b,j);else if(e==="contains")return(a.textContent||a.innerText||n.getText([a])||"").indexOf(b[3])>=0;else if(e==="not"){b=b[3];h=0;for(j=b.length;h<j;h++)if(b[h]===a)return false;return true}else n.error("Syntax error, unrecognized expression: "+e)},CHILD:function(a,b){var h=b[1],j=a;switch(h){case "only":case "first":for(;j=j.previousSibling;)if(j.nodeType===1)return false;if(h===
"first")return true;j=a;case "last":for(;j=j.nextSibling;)if(j.nodeType===1)return false;return true;case "nth":h=b[2];var e=b[3];if(h===1&&e===0)return true;var l=b[0],s=a.parentNode;if(s&&(s.sizcache!==l||!a.nodeIndex)){var x=0;for(j=s.firstChild;j;j=j.nextSibling)if(j.nodeType===1)j.nodeIndex=++x;s.sizcache=l}j=a.nodeIndex-e;return h===0?j===0:j%h===0&&j/h>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===
b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var h=b[1];h=r.attrHandle[h]?r.attrHandle[h](a):a[h]!=null?a[h]:a.getAttribute(h);var j=h+"",e=b[2],l=b[4];return h==null?e==="!=":e==="="?j===l:e==="*="?j.indexOf(l)>=0:e==="~="?(" "+j+" ").indexOf(l)>=0:!l?j&&h!==false:e==="!="?j!==l:e==="^="?j.indexOf(l)===0:e==="$="?j.substr(j.length-l.length)===l:e==="|="?j===l||j.substr(0,l.length+1)===l+"-":false},POS:function(a,b,h,j){var e=r.setFilters[b[2]];
if(e)return e(a,h,b,j)}}},o=r.match.POS,m=function(a,b){return"\\"+(b-0+1)},i;for(i in r.match){r.match[i]=RegExp(r.match[i].source+/(?![^\[]*\])(?![^\(]*\))/.source);r.leftMatch[i]=RegExp(/(^(?:.|\r|\n)*?)/.source+r.match[i].source.replace(/\\(\d+)/g,m))}var q=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(t){q=function(a,b){var h=b||[],j=0;if(f.call(a)==="[object Array]")Array.prototype.push.apply(h,
a);else if(typeof a.length==="number")for(var e=a.length;j<e;j++)h.push(a[j]);else for(;a[j];j++)h.push(a[j]);return h}}var u;if(document.documentElement.compareDocumentPosition)u=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b)g=true;return a.compareDocumentPosition?-1:1}var h=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(h===0)g=true;return h};else if("sourceIndex"in document.documentElement)u=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b)g=true;return a.sourceIndex?
-1:1}var h=a.sourceIndex-b.sourceIndex;if(h===0)g=true;return h};else if(document.createRange)u=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b)g=true;return a.ownerDocument?-1:1}var h=a.ownerDocument.createRange(),j=b.ownerDocument.createRange();h.setStart(a,0);h.setEnd(a,0);j.setStart(b,0);j.setEnd(b,0);h=h.compareBoundaryPoints(Range.START_TO_END,j);if(h===0)g=true;return h};n.getText=function(a){for(var b="",h,j=0;a[j];j++){h=a[j];if(h.nodeType===3||h.nodeType===4)b+=h.nodeValue;
else if(h.nodeType!==8)b+=n.getText(h.childNodes)}return b};(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var h=document.documentElement;h.insertBefore(a,h.firstChild);if(document.getElementById(b)){r.find.ID=function(j,e,l){if(typeof e.getElementById!=="undefined"&&!l)return(e=e.getElementById(j[1]))?e.id===j[1]||typeof e.getAttributeNode!=="undefined"&&e.getAttributeNode("id").nodeValue===j[1]?[e]:undefined:[]};r.filter.ID=function(j,
e){var l=typeof j.getAttributeNode!=="undefined"&&j.getAttributeNode("id");return j.nodeType===1&&l&&l.nodeValue===e}}h.removeChild(a);h=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)r.find.TAG=function(b,h){var j=h.getElementsByTagName(b[1]);if(b[1]==="*"){for(var e=[],l=0;j[l];l++)j[l].nodeType===1&&e.push(j[l]);j=e}return j};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!==
"undefined"&&a.firstChild.getAttribute("href")!=="#")r.attrHandle.href=function(b){return b.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=n,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){n=function(j,e,l,s){e=e||document;if(!s&&e.nodeType===9&&!n.isXML(e))try{return q(e.querySelectorAll(j),l)}catch(x){}return a(j,e,l,s)};for(var h in a)n[h]=a[h];b=null}}();(function(){var a=document.createElement("div");
a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!a.getElementsByClassName||a.getElementsByClassName("e").length===0)){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){r.order.splice(1,0,"CLASS");r.find.CLASS=function(b,h,j){if(typeof h.getElementsByClassName!=="undefined"&&!j)return h.getElementsByClassName(b[1])};a=null}}})();n.contains=document.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&
(a.contains?a.contains(b):true)};n.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var w=function(a,b){for(var h=[],j="",e,l=b.nodeType?[b]:b;e=r.match.PSEUDO.exec(a);){j+=e[0];a=a.replace(r.match.PSEUDO,"")}a=r.relative[a]?a+"*":a;e=0;for(var s=l.length;e<s;e++)n(a,l[e],h);return n.filter(j,h)};KISSY.add("sizzle",function(a){a.ExternalSelector=n;a.ExternalSelector._filter=function(b,h){return n.matches(h,a.query(b))}},{requires:["core"]})})();
KISSY.add("datalazyload",function(c,p){function v(m,i){if(!(this instanceof v))return new v(m,i);if(i===p){i=m;m=[k]}c.isArray(m)||(m=[c.get(m)||k]);this.containers=m;this.config=c.merge(o,i);this.callbacks={els:[],fns:[]};this._init()}var d=c.DOM,f=c.Event,g=window,k=document,n="scroll",r="resize",o={mod:"manual",diff:"default",placeholder:"none"};c.augment(v,{_init:function(){this.threshold=this._getThreshold();this._filterItems();this._initLoadEvent()},_filterItems:function(){var m=this.containers,
i,q,t,u=[],w=[];i=0;for(q=m.length;i<q;++i){t=c.query("img",m[i]);u=u.concat(c.filter(t,this._filterImg,this));t=c.query("textarea",m[i]);w=w.concat(c.filter(t,this._filterArea,this))}this.images=u;this.areaes=w},_filterImg:function(m){var i=m.getAttribute("data-ks-lazyload"),q=this.threshold,t=this.config.placeholder;if(this.config.mod==="manual"){if(i){if(t!=="none")m.src=t;return true}}else if(d.offset(m).top>q&&!i){d.attr(m,"data-ks-lazyload",m.src);if(t!=="none")m.src=t;else m.removeAttribute("src");
return true}},_filterArea:function(m){return d.hasClass(m,"ks-datalazyload")},_initLoadEvent:function(){function m(){q||(q=c.later(function(){i();q=null},100))}function i(){t._loadItems();if(t._getItemsLength()===0){f.remove(g,n,m);f.remove(g,r,m)}}var q,t=this;f.on(g,n,m);f.on(g,r,function(){t.threshold=t._getThreshold();m()});t._getItemsLength()&&c.ready(function(){i()})},_loadItems:function(){this._loadImgs();this._loadAreas();this._fireCallbacks()},_loadImgs:function(){this.images=c.filter(this.images,
this._loadImg,this)},_loadImg:function(m){var i=this.threshold+d.scrollTop();if(d.offset(m).top<=i)this._loadImgSrc(m);else return true},_loadImgSrc:function(m,i){i=i||"data-ks-lazyload";var q=m.getAttribute(i);if(q&&m.src!=q){m.src=q;m.removeAttribute(i)}},_loadAreas:function(){this.areaes=c.filter(this.areaes,this._loadArea,this)},_loadArea:function(m){var i=d.css(m,"display")==="none";if(d.offset(i?m.parentNode:m).top<=this.threshold+d.scrollTop())this._loadAreaData(m.parentNode,m);else return true},
_loadAreaData:function(m,i){i.style.display="none";i.className="";var q=d.create("<div>");m.insertBefore(q,i);d.html(q,i.value,true)},_fireCallbacks:function(){var m=this.callbacks,i=m.els,q=m.fns,t=this.threshold+d.scrollTop(),u,w,a,b=[],h=[];for(u=0;(w=i[u])&&(a=q[u++]);)if(d.offset(w).top<=t)a.call(w);else{b.push(w);h.push(a)}m.els=b;m.fns=h},addCallback:function(m,i){var q=this.callbacks;if((m=c.get(m))&&c.isFunction(i)){q.els.push(m);q.fns.push(i)}},_getThreshold:function(){var m=this.config.diff,
i=d.viewportHeight();return m==="default"?2*i:i+ +m},_getItemsLength:function(){return this.images.length+this.areaes.length+this.callbacks.els.length},loadCustomLazyData:function(m,i){var q=this,t,u;c.isArray(m)||(m=[c.get(m)]);c.each(m,function(w){switch(i){case "img-src":u=w.nodeName==="IMG"?[w]:c.query("img",w);c.each(u,function(a){q._loadImgSrc(a,"data-ks-lazyload-custom")});break;default:(t=c.get("textarea",w))&&d.hasClass(t,"ks-datalazyload-custom")&&q._loadAreaData(w,t)}})}});c.mix(v,v.prototype,
true,["loadCustomLazyData","_loadImgSrc","_loadAreaData"]);c.DataLazyload=v},{requires:["core"]});KISSY.add("flash",function(c){c.Flash={swfs:{},length:0}},{requires:["core"]});
KISSY.add("flash-ua",function(c){function p(n){var r=c.isString(n)?n.match(/(\d)+/g):n;n=n;if(c.isArray(r))n=parseFloat(r[0]+"."+v(r[1],3)+v(r[2],5));return n||0}function v(n,r){for(var o=(n+"").length;o++<r;)n="0"+n;return n}var d=c.UA,f,g,k=true;d.fpv=function(n){if(n||k){k=false;var r;if(navigator.plugins&&navigator.mimeTypes.length)r=(navigator.plugins["Shockwave Flash"]||0).description;else if(window.ActiveXObject)try{r=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(o){}f=
r?r.match(/(\d)+/g):void 0;g=p(f)}return f};d.fpvGEQ=function(n,r){k&&d.fpv(r);return!!g&&g>=p(n)}},{host:"flash"});
KISSY.add("flash-embed",function(c){function p(o,m,i){var q=d.create("<param>");d.attr(q,{name:m,value:i});o.appendChild(q)}var v=c.UA,d=c.DOM,f=c.Flash,g=/^(?:object|embed)/i,k=encodeURIComponent,n={wmode:"",allowscriptaccess:"",allownetworking:"",allowfullscreen:"",play:"false",loop:"",menu:"",quality:"",scale:"",salign:"",bgcolor:"",devicefont:"",base:"",swliveconnect:"",seamlesstabbing:""},r={params:{},attrs:{width:215,height:138},version:9};c.mix(f,{fpv:v.fpv,fpvGEQ:v.fpvGEQ,add:function(o,m,
i){var q,t;m=f._normalize(m);m=c.merge(r,m);m.attrs=c.merge(r.attrs,m.attrs);if(o=c.get(o)){if(!o.id)o.id=c.guid("ks-flash-");t=m.attrs.id=o.id;if(v.fpv()){if(!v.fpvGEQ(m.version)){this._callback(i,0,t,o);if(!((q=m.xi)&&c.isString(q)))return;m.src=q}if(g.test(o.nodeName))this._register(o,m,i);else m.src?this._embed(o,m,i):this._callback(i,-3,t,o)}else this._callback(i,-1,t,o)}else this._callback(i,-2)},get:function(o){return f.swfs[o]},remove:function(o){if(o=f.get("#"+o)){d.remove(o);delete f.swfs[o.id];
f.length-=1}},contains:function(o){var m=f.swfs,i,q=false;if(c.isString(o))q=o in m;else for(i in m)if(m[i]===o){q=true;break}return q},_register:function(o,m,i){m=m.attrs.id;if(v.gecko||v.opera)o=c.query("object",o)[0]||o;f._addSWF(m,o);f._callback(i,1,m,o)},_embed:function(o,m,i){var q=f._createSWF(m.src,m.attrs,m.params);if(v.ie)o.outerHTML=q.outerHTML;else o.parentNode.replaceChild(q,o);o=c.get("#"+o.id);f._register(o,m,i)},_callback:function(o,m,i,q){m&&c.isFunction(o)&&o({status:m,id:i,swf:q})},
_addSWF:function(o,m){if(o&&m){f.swfs[o]=m;f.length+=1}},_createSWF:function(o,m,i){var q=d.create("<object>"),t;d.attr(q,m);if(v.ie){d.attr(q,"classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");p(q,"movie",o)}else d.attr(q,{type:"application/x-shockwave-flash",data:o,name:m.id});for(t in i)t in n&&p(q,t,i[t]);i.flashvars&&p(q,"flashvars",f.toFlashVars(i.flashvars));return q},_normalize:function(o){var m,i,q,t=o||{};if(c.isPlainObject(o)){t={};for(q in o){m=q.toLowerCase();i=o[q];if(m!=="flashvars")i=
f._normalize(i);t[m]=i}}return t},toFlashVars:function(o){if(!c.isPlainObject(o))return"";var m,i,q=[];for(m in o){i=o[m];if(c.isString(i))i=k(i);else{i=c.JSON.stringify(i);if(!i)continue;i=i.replace(/:"([^"]+)/g,function(t,u){return':"'+k(u)})}q.push(m+"="+i)}return q.join("&").replace(/"/g,"'")}})},{host:"flash"});
KISSY.add("switchable",function(c,p){function v(g,k){k=k||{};if(!("markupType"in k))if(k.panelCls)k.markupType=1;else if(k.panels)k.markupType=2;k=c.merge(v.Config,k);this.container=c.get(g);this.config=k;this.activeIndex=k.activeIndex;this._init()}var d=c.DOM,f=c.Event;v.Config={markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:0,
activeTriggerCls:"ks-active",steps:1,viewSize:[]};v.Plugins=[];c.augment(v,c.EventTarget,{_init:function(){var g=this,k=g.config;g._parseMarkup();k.switchTo&&g.switchTo(k.switchTo);k.hasTriggers&&g._bindTriggers();c.each(v.Plugins,function(n){n.init&&n.init(g)});g.fire("init")},_parseMarkup:function(){var g=this.container,k=this.config,n,r=[],o=[];switch(k.markupType){case 0:if(n=c.get("."+k.navCls,g))r=d.children(n);n=c.get("."+k.contentCls,g);o=d.children(n);break;case 1:r=c.query("."+k.triggerCls,
g);o=c.query("."+k.panelCls,g);break;case 2:r=k.triggers;o=k.panels}g=o.length;this.length=g/k.steps;if(k.hasTriggers&&g>0&&r.length===0)r=this._generateTriggersMarkup(this.length);this.triggers=c.makeArray(r);this.panels=c.makeArray(o);this.content=n||o[0].parentNode},_generateTriggersMarkup:function(g){var k=this.config,n=d.create("<ul>"),r,o;n.className=k.navCls;for(o=0;o<g;o++){r=d.create("<li>");if(o===this.activeIndex)r.className=k.activeTriggerCls;r.innerHTML=o+1;n.appendChild(r)}this.container.appendChild(n);
return d.children(n)},_bindTriggers:function(){var g=this,k=g.config,n=g.triggers,r,o,m=n.length;for(o=0;o<m;o++)(function(i){r=n[i];f.on(r,"click",function(){g._onFocusTrigger(i)});if(k.triggerType==="mouse"){f.on(r,"mouseenter",function(){g._onMouseEnterTrigger(i)});f.on(r,"mouseleave",function(){g._onMouseLeaveTrigger(i)})}})(o)},_onFocusTrigger:function(g){if(this._triggerIsValid(g)){this._cancelSwitchTimer();this.switchTo(g)}},_onMouseEnterTrigger:function(g){var k=this;if(k._triggerIsValid(g))k.switchTimer=
c.later(function(){k.switchTo(g)},k.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(g){return this.activeIndex!==g},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=p}},switchTo:function(g,k){var n=this.config,r=this.triggers,o=this.panels,m=this.activeIndex,i=n.steps,q=m*i,t=g*i;if(!this._triggerIsValid(g))return this;if(this.fire("beforeSwitch",{toIndex:g})===false)return this;if(n.hasTriggers)this._switchTrigger(m>
-1?r[m]:null,r[g]);if(k===p)k=g>m?"forward":"backward";this._switchView(o.slice(q,q+i),o.slice(t,t+i),g,k);this.activeIndex=g;return this},_switchTrigger:function(g,k){var n=this.config.activeTriggerCls;g&&d.removeClass(g,n);d.addClass(k,n)},_switchView:function(g,k,n){d.css(g,"display","none");d.css(k,"display","block");this._fireOnSwitch(n)},_fireOnSwitch:function(g){this.fire("switch",{currentIndex:g})},prev:function(){var g=this.activeIndex;this.switchTo(g>0?g-1:this.length-1,"backward")},next:function(){var g=
this.activeIndex;this.switchTo(g<this.length-1?g+1:0,"forward")}});c.Switchable=v},{requires:["core"]});
KISSY.add("autoplay",function(c,p){var v=c.Event,d=c.Switchable;c.mix(d.Config,{autoplay:false,interval:5,pauseOnHover:true});d.Plugins.push({name:"autoplay",init:function(f){function g(){r=c.later(function(){f.paused||f.switchTo(f.activeIndex<f.length-1?f.activeIndex+1:0,"forward")},n,true)}var k=f.config,n=k.interval*1E3,r;if(k.autoplay){if(k.pauseOnHover){v.on(f.container,"mouseenter",function(){if(r){r.cancel();r=p}f.paused=true});v.on(f.container,"mouseleave",function(){f.paused=false;g()})}g()}}})},
{host:"switchable"});
KISSY.add("effect",function(c,p){var v=c.DOM,d=c.Anim,f=c.Switchable,g;c.mix(f.Config,{effect:"none",duration:0.5,easing:"easeNone",nativeAnim:true});f.Effects={none:function(k,n,r){v.css(k,"display","none");v.css(n,"display","block");r()},fade:function(k,n,r){k.length!==1&&c.error("fade effect only supports steps == 1.");var o=this,m=o.config,i=k[0],q=n[0];o.anim&&o.anim.stop(true);v.css(q,"opacity",1);o.anim=(new d(i,{opacity:0},m.duration,m.easing,function(){o.anim=p;v.css(q,"z-index",9);v.css(i,
"z-index",1);r()},m.nativeAnim)).run()},scroll:function(k,n,r,o){var m=this;k=m.config;n=k.effect==="scrollx";var i={};i[n?"left":"top"]=-(m.viewSize[n?0:1]*o)+"px";m.anim&&m.anim.stop();m.anim=(new d(m.content,i,k.duration,k.easing,function(){m.anim=p;r()},k.nativeAnim)).run()}};g=f.Effects;g.scrollx=g.scrolly=g.scroll;f.Plugins.push({name:"effect",init:function(k){var n=k.config,r=n.effect,o=k.panels,m=k.content,i=n.steps,q=k.activeIndex,t=o.length;k.viewSize=[n.viewSize[0]||o[0].offsetWidth*i,
n.viewSize[1]||o[0].offsetHeight*i];if(r!=="none"){c.each(o,function(b){v.css(b,"display","block")});switch(r){case "scrollx":case "scrolly":v.css(m,"position","absolute");v.css(m.parentNode,"position","relative");if(r==="scrollx"){v.css(o,"float","left");v.width(m,k.viewSize[0]*(t/i))}break;case "fade":var u=q*i,w=u+i-1,a;c.each(o,function(b,h){a=h>=u&&h<=w;v.css(b,{opacity:a?1:0,position:"absolute",zIndex:a?9:1})})}}}});c.augment(f,{_switchView:function(k,n,r,o){var m=this,i=m.config.effect;(c.isFunction(i)?
i:g[i]).call(m,k,n,function(){m._fireOnSwitch(r)},r,o)}})},{host:"switchable"});
KISSY.add("circular",function(c,p){function v(a,b,h,j,e){var l=this;a=l.config;b=l.length;var s=l.activeIndex,x=a.scrollType===u,y=x?r:o,z=l.viewSize[x?0:1];x=-z*j;var A={},B,D=e===t;if(B=D&&s===0&&j===b-1||e===q&&s===b-1&&j===0)x=d.call(l,l.panels,j,D,y,z);A[y]=x+i;l.anim&&l.anim.stop();l.anim=(new c.Anim(l.content,A,a.duration,a.easing,function(){B&&f.call(l,l.panels,j,D,y,z);l.anim=p;h()},a.nativeAnim)).run()}function d(a,b,h,j,e){var l=this.config.steps;b=this.length;var s=h?b-1:0,x=(s+1)*l;for(l=
s*l;l<x;l++){g.css(a[l],k,n);g.css(a[l],j,(h?-1:1)*e*b)}return h?e:-e*b}function f(a,b,h,j,e){var l=this.config.steps;b=this.length;var s=h?b-1:0,x=(s+1)*l;for(l=s*l;l<x;l++){g.css(a[l],k,m);g.css(a[l],j,m)}g.css(this.content,j,h?-e*(b-1):m)}var g=c.DOM,k="position",n="relative",r="left",o="top",m="",i="px",q="forward",t="backward",u="scrollx",w=c.Switchable;c.mix(w.Config,{circular:false});w.Plugins.push({name:"circular",init:function(a){a=a.config;if(a.circular&&(a.effect===u||a.effect==="scrolly")){a.scrollType=
a.effect;a.effect=v}}})},{host:"switchable"});
KISSY.add("lazyload",function(c){var p=c.DOM,v="beforeSwitch",d="img-src",f="area-data",g={},k=c.Switchable;g[d]="data-ks-lazyload-custom";g[f]="ks-datalazyload-custom";c.mix(k.Config,{lazyDataType:f});k.Plugins.push({name:"lazyload",init:function(n){function r(t){var u=m.steps;t=t.toIndex*u;o.loadCustomLazyData(n.panels.slice(t,t+u),i);a:{var w,a;if(t=(u=i===d)?"img":i===f?"textarea":""){t=c.query(t,n.container);w=0;for(a=t.length;w<a;w++)if(u?p.attr(t[w],q):p.hasClass(t[w],q)){u=false;break a}}u=
true}u&&n.detach(v,r)}var o=c.DataLazyload,m=n.config,i=m.lazyDataType,q=g[i];!o||!i||!q||n.on(v,r)}})},{host:"switchable"});KISSY.add("autorender",function(c){c.Switchable.autoRender=function(p,v){p="."+(p||"KS_Widget");c.query(p,v).each(function(d){var f=d.getAttribute("data-widget-type"),g;if(f&&"Switchable Tabs Slide Carousel Accordion".indexOf(f)>-1)try{if(g=d.getAttribute("data-widget-config"))g=g.replace(/'/g,'"');new c[f](d,c.JSON.parse(g))}catch(k){}})}},{host:"switchable"});
KISSY.add("tabs",function(c){function p(v,d){if(!(this instanceof p))return new p(v,d);p.superclass.constructor.call(this,v,d)}c.extend(p,c.Switchable);c.Tabs=p},{host:"switchable"});KISSY.add("slide",function(c){function p(d,f){if(!(this instanceof p))return new p(d,f);p.superclass.constructor.call(this,d,c.merge(v,f))}var v={autoplay:true,circular:true};c.extend(p,c.Switchable);c.Slide=p},{host:"switchable"});
KISSY.add("carousel",function(c,p){function v(m,i){var q=this;if(!(q instanceof v))return new v(m,i);q.on("init",function(){d(q)});v.superclass.constructor.call(q,m,c.merge(o,i))}function d(m){var i=m.config,q=i.disableBtnCls;c.each(["prev","next"],function(t){var u=m[t+"Btn"]=c.get(k+i[t+"BtnCls"],m.container);g.on(u,"click",function(w){w.preventDefault();f.hasClass(u,q)||m[t]()})});i.circular||m.on("switch",function(t){t=t.currentIndex;t=t===0?m[n]:t===m.length-1?m[r]:p;f.removeClass([m[n],m[r]],
q);t&&f.addClass(t,q)});g.on(m.panels,"click focus",function(){m.fire("itemSelected",{item:this})})}var f=c.DOM,g=c.Event,k=".",n="prevBtn",r="nextBtn",o={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};c.extend(v,c.Switchable);c.Carousel=v},{host:"switchable"});
KISSY.add("accordion",function(c){function p(f,g){if(!(this instanceof p))return new p(f,g);p.superclass.constructor.call(this,f,c.merge(d,g));if(this.config.multiple)this._switchTrigger=function(){}}var v=c.DOM,d={markupType:1,triggerType:"click",multiple:false};c.extend(p,c.Switchable);c.Accordion=p;c.augment(p,{_triggerIsValid:function(f){return this.activeIndex!==f||this.config.multiple},_switchView:function(f,g,k){var n=this.config,r=g[0];if(n.multiple){v.toggleClass(this.triggers[k],n.activeTriggerCls);
v.css(r,"display",r.style.display=="none"?"block":"none");this._fireOnSwitch(k)}else p.superclass._switchView.call(this,f,g,k)}})},{host:"switchable"});
KISSY.add("mask",function(c,p){function v(m){if(!(this instanceof v))return new v(m);m=c.merge(o,m);var i=m.shim,q=i?r:n+m.style,t=i?0:m.opacity,u=d("<iframe>",q,t,!i);if(!i&&g)this.layer=d("<div>",q,t,true);this.config=m;this.iframe=u}function d(m,i,q,t){m=f.create(m);f.attr(m,"style",i);f.css(m,"opacity",q);if(t){f.height(m,f.docHeight());k&&f.width(m,f.docWidth())}document.body.appendChild(m);return m}var f=c.DOM,g=c.UA.ie,k=g===6,n="position:absolute;left:0;top:0;width:100%;border:0;background:black;z-index:9998;display:none;",
r="position:absolute;z-index:9997;border:0;display:none;",o={shim:false,opacity:0.6,style:""};c.augment(v,{show:function(){f.show([this.iframe,this.layer])},hide:function(){f.hide([this.iframe,this.layer])},toggle:function(){this[f.css(this.iframe,"display")!=="none"?"hide":"show"]()},setSize:function(m,i){var q=this.iframe;if(q){f.width(q,m);f.height(q,i)}if(q=this.layer){f.width(q,m);f.height(q,i)}},setOffset:function(m,i){var q=m;if(i!==p)q={left:m,top:i};f.offset([this.iframe,this.layer],q)}});
c.Mask=v});
KISSY.add("overlay",function(c,p){function v(o,m){m=m||{};if(c.isPlainObject(o))m=o;else m.container=o;this.container=c.get(m.container);this.trigger=c.get(m.trigger);m.align=c.merge(c.clone(n.align),m.align);this.config=c.merge(n,m);this._init()}var d=document,f=c.DOM,g=c.Event,k={TL:"tl",TC:"tc",TR:"tr",LC:"cl",CC:"cc",RC:"cr",BL:"bl",BC:"bc",BR:"br"},n={container:null,containerCls:"ks-overlay",bdCls:"ks-overlay-bd",trigger:null,triggerType:"click",width:0,height:0,zIndex:9999,xy:null,align:{node:null,
points:[k.CC,k.CC],offset:[0,0]},mask:false,shim:c.UA.ie===6},r;c.augment(v,c.EventTarget,{_init:function(){this.trigger&&this._bindTrigger()},_bindTrigger:function(){this.config.triggerType==="mouse"?this._bindTriggerMouse():this._bindTriggerClick()},_bindTriggerMouse:function(){var o=this,m=o.trigger,i;g.on(m,"mouseenter",function(){o._clearHiddenTimer();i=c.later(function(){o.show();i=p},100)});g.on(m,"mouseleave",function(){if(i){i.cancel();i=p}o._setHiddenTimer()})},_bindContainerMouse:function(){var o=
this;g.on(o.container,"mouseleave",function(){o._setHiddenTimer()});g.on(o.container,"mouseenter",function(){o._clearHiddenTimer()})},_setHiddenTimer:function(){var o=this;o._hiddenTimer=c.later(function(){o.hide()},120)},_clearHiddenTimer:function(){if(this._hiddenTimer){this._hiddenTimer.cancel();this._hiddenTimer=p}},_bindTriggerClick:function(){var o=this;g.on(o.trigger,"click",function(m){m.halt();o.show()})},show:function(){this._firstShow()},_firstShow:function(){this._prepareMarkup();this._realShow();
this._firstShow=this._realShow},_realShow:function(){this._setPosition();this._toggle(false)},_toggle:function(o){f.css(this.container,"visibility",o?"hidden":"");this.shim&&this.shim.toggle();if(this.config.mask)r[o?"hide":"show"]();this[o?"_unbindUI":"_bindUI"]();this.fire(o?"hide":"show")},hide:function(){this._toggle(true)},_prepareMarkup:function(){var o=this.config,m=this.container;if(o.mask&&!r)r=new c.Mask;if(o.shim)this.shim=new c.Mask({shim:true});if(m){this.body=c.get("."+o.bdCls,m)||m;
m.style.cssText+="visibility:hidden;position:absolute;"}else{m=this.container=f.create(c.substitute('<div class="{containerCls}" style="visibility:hidden;position:absolute;"><div class="{bdCls}">{content}</div></div>',o));this.body=f.children(m)[0];d.body.appendChild(m)}f.css(m,"zIndex",o.zIndex);this.setBody(o.content);this._setSize();o.triggerType==="mouse"&&this._bindContainerMouse()},_setSize:function(o,m){var i=this.config;o=o||i.width;m=m||i.height;o&&f.width(this.container,o);m&&f.height(this.container,
m);this.shim&&this.shim.setSize(o,m)},_setDisplay:function(){f.css(this.container,"display")==="none"&&f.css(this.container,"display","block")},_setPosition:function(){var o=this.config.xy;if(o)this.move(o);else{this._setDisplay();this.align()}},move:function(o,m){var i;if(c.isArray(o)){m=o[1];o=o[0]}i={left:o,top:m};f.offset(this.container,i);this.shim&&this.shim.setOffset(i)},align:function(o,m,i){var q=this.config.align;o=o||q.node;o=o==="trigger"?this.trigger:c.get(o);m=m||q.points;i=i===p?q.offset:
i;q=f.offset(this.container);o=this._getAlignOffset(o,m[0]);m=this._getAlignOffset(this.container,m[1]);m=[m.left-o.left,m.top-o.top];this.move(q.left-m[0]+ +i[0],q.top-m[1]+ +i[1])},_getAlignOffset:function(o,m){var i=m.charAt(0),q=m.charAt(1),t,u,w,a;if(o){t=f.offset(o);u=o.offsetWidth;w=o.offsetHeight}else{t={left:f.scrollLeft(),top:f.scrollTop()};u=f.viewportWidth();w=f.viewportHeight()}a=t.left;t=t.top;if(i==="c")t+=w/2;else if(i==="b")t+=w;if(q==="c")a+=u/2;else if(q==="r")a+=u;return{left:a,
top:t}},center:function(){this.move((f.viewportWidth()-f.width(this.container))/2+f.scrollLeft(),(f.viewportHeight()-f.height(this.container))/2+f.scrollTop())},_bindUI:function(){g.on(d,"keydown",this._esc,this)},_unbindUI:function(){g.remove(d,"keydown",this._esc,this)},_esc:function(o){o.keyCode===27&&this.hide()},setBody:function(o){this._setContent("body",o)},_setContent:function(o,m){c.isString(m)&&f.html(this[o],m)}});c.Overlay=v});
KISSY.add("popup",function(c){function p(d,f){if(!(this instanceof p))return new p(d,f);f=f||{};if(c.isPlainObject(d))f=d;else f.container=d;f.align=c.merge(c.clone(v.align),f.align);p.superclass.constructor.call(this,c.merge(v,f))}var v={triggerType:"mouse",align:{node:"trigger",points:["cr","ct"],offset:[10,0]}};c.extend(p,c.Overlay);c.Popup=p},{host:"overlay"});
KISSY.add("dialog",function(c){function p(g,k){if(!(this instanceof p))return new p(g,k);k=k||{};if(c.isPlainObject(g))k=g;else k.container=g;k.align=c.merge(c.clone(f.align),k.align);p.superclass.constructor.call(this,c.merge(f,k));this.manager=c.DialogManager;this.manager.register(this)}var v=c.DOM,d=c.Event,f={header:"",footer:"",containerCls:"ks-overlay ks-dialog",hdCls:"ks-dialog-hd",bdCls:"ks-dialog-bd",ftCls:"ks-dialog-ft",closeBtnCls:"ks-dialog-close",width:400,height:300,closable:true};c.extend(p,
c.Overlay);c.Dialog=p;c.augment(p,c.EventTarget,{_prepareMarkup:function(){var g=this.config;p.superclass._prepareMarkup.call(this);this.header=c.get("."+g.hdCls,this.container);if(!this.header){this.header=v.create("<div>",{"class":g.hdCls});v.insertBefore(this.header,this.body)}this.setHeader(g.header);if(g.footer){this.footer=c.get("."+g.ftCls,this.container);if(!this.footer){this.footer=v.create("<div>",{"class":g.ftCls});this.container.appendChild(this.footer)}this.setFooter(g.footer)}g.closable&&
this._initClose()},_initClose:function(){var g=this,k=v.create("<div>",{"class":g.config.closeBtnCls});v.html(k,"close");d.on(k,"click",function(n){n.halt();g.hide()});g.header.appendChild(k)},setHeader:function(g){this._setContent("header",g)},setFooter:function(g){this._setContent("footer",g)}});c.DialogManager={register:function(g){g instanceof p&&this._dialog.push(g)},_dialog:[],hideAll:function(){c.each(this._dialog,function(g){g&&g.hide()})}}},{host:"overlay"});
KISSY.add("autorender",function(c){c.Overlay.autoRender=function(p,v){p="."+(p||"KS_Widget");c.query(p,v).each(function(d){var f=d.getAttribute("data-widget-type"),g;if(f&&"Dialog Popup".indexOf(f)>-1)try{if(g=d.getAttribute("data-widget-config"))g=g.replace(/'/g,'"');new c[f](d,c.JSON.parse(g))}catch(k){}})}},{host:"overlay"});
KISSY.add("suggest",function(c,p){function v(b,h,j){if(!(this instanceof v))return new v(b,h,j);this.textInput=c.get(b);this.config=j=c.merge(a,j);h+=h.indexOf("?")===-1?"?":"&";this.dataSource=h+j.callbackName+"="+(b=j.callbackFn);if(b!==q){j=b;b=j.split(".");h=b.length;if(h>1){j=j.replace(/^(.*)\..+$/,"$1");j=c.namespace(j,true);j[b[h-1]]=f}else n[j]=f}this.queryParams=this.query=t;this._dataCache={};this._init()}function d(b,h){if(h.nodeType===1){g.html(b,t);b.appendChild(h)}else g.html(b,h)}function f(b){v.focusInstance&&
c.later(function(){v.focusInstance._handleResponse(b)},0)}var g=c.DOM,k=c.Event,n=window,r=document,o,m=c.get("head"),i=c.UA.ie,q="KISSY.Suggest.callback",t="",u=parseInt,w=/^(?:input|button|a)$/i,a={containerCls:t,resultFormat:"%result%",closeBtnText:"\u5173\u95ed",shim:i===6,submitOnSelect:true,offset:-1,charset:"utf-8",callbackName:"callback",callbackFn:q,queryName:"q"};c.augment(v,c.EventTarget,{_init:function(){o=r.body;this._initTextInput();this._initContainer();this.config.shim&&this._initShim();this._initStyle();
this._initEvent()},_initTextInput:function(){var b=this,h=b.textInput,j=false,e=0;g.attr(h,"autocomplete","off");b.config.autoFocus&&h.focus();k.on(h,"keydown",function(l){var s=l.keyCode;if(s===27){b.hide();h.value=b.query}else if(s>32&&s<41)if(h.value){if(s===40||s===38){if(e++===0){b._isRunning&&b.stop();j=true;b._selectItem(s===40)}else if(e==3)e=0;l.preventDefault()}}else h.blur();else if(s===13){h.blur();if(j)if(h.value==b._getSelectedItemKey())if(b.fire("itemSelect")===false)return;b._submitForm()}else{b._isRunning||
b.start();j=false}});k.on(h,"keyup",function(){e=0});k.on(h,"blur",function(){b.stop();c.later(function(){b._focusing||b.hide()},0)})},_initContainer:function(){var b=g.create("<div>",{"class":"ks-suggest-container "+this.config.containerCls,style:"position:absolute;visibility:hidden"}),h=g.create("<div>",{"class":"ks-suggest-content"}),j=g.create("<div>",{"class":"ks-suggest-footer"});b.appendChild(h);b.appendChild(j);o.insertBefore(b,o.firstChild);this.container=b;this.content=h;this.footer=j;this._initContainerEvent()},
_setContainerRegion:function(){var b=this.config,h=this.textInput,j=g.offset(h),e=this.container;g.offset(e,{left:j.left,top:j.top+h.offsetHeight+b.offset});g.width(e,b.containerWidth||h.offsetWidth-2)},_initContainerEvent:function(){var b=this,h=b.textInput,j=b.container,e=b.content,l=b.footer,s,x;k.on(e,"mousemove",function(y){y=y.target;if(y.nodeName!=="LI")y=g.parent(y,"li");if(g.contains(e,y))if(y!==b.selectedItem){b._removeSelectedItem();b._setSelectedItem(y)}});k.on(e,"mousedown",function(y){y=
y.target;if(y.nodeName!=="LI")y=g.parent(y,"li");s=y});k.on(j,"mousedown",function(y){if(!w.test(y.target.nodeName)){h.onbeforedeactivate=function(){n.event.returnValue=false;h.onbeforedeactivate=null};y.preventDefault()}});k.on(e,"mouseup",function(y){var z=y.target;if(!(y.which>2)){if(z.nodeName!=="LI")z=g.parent(z,"li");if(z==s)if(g.contains(e,z)){b._updateInputFromSelectItem(z);if(b.fire("itemSelect")!==false){h.blur();b._submitForm()}}}});k.on(l,"focusin",function(){b._focusing=true;b._removeSelectedItem();
x=false});k.on(l,"focusout",function(){b._focusing=false;c.later(function(){if(x)b.hide();else b._focusing||b.textInput.focus()},0)});k.on(b.container,"mouseleave",function(){x=true});k.on(l,"click",function(y){g.hasClass(y.target,"ks-suggest-closebtn")&&b.hide()})},_submitForm:function(){if(this.config.submitOnSelect){var b=this.textInput.form;if(b)if(this.fire("beforeSubmit",{form:b})!==false){if(r.createEvent){var h=r.createEvent("MouseEvents");h.initEvent("submit",true,false);b.dispatchEvent(h)}else r.createEventObject&&
b.fireEvent("onsubmit");b.submit()}}},_initShim:function(){var b=g.create("<iframe>",{src:"about:blank","class":"ks-suggest-shim",style:"position:absolute;visibility:hidden;border:none"});this.container.shim=b;o.insertBefore(b,o.firstChild)},_setShimRegion:function(){var b=this.container,h=b.style,j=b.shim;j&&g.css(j,{left:u(h.left)-2,top:h.top,width:u(h.width)+2,height:g.height(b)-2})},_initStyle:function(){c.get("#ks-suggest-style")||g.addStyleSheet(".ks-suggest-container{background:white;border:1px solid #999;z-index:99999}.ks-suggest-shim{z-index:99998}.ks-suggest-container li{color:#404040;padding:1px 0 2px;font-size:12px;line-height:18px;float:left;width:100%}.ks-suggest-container .ks-selected{background-color:#39F;cursor:default}.ks-suggest-key{float:left;text-align:left;padding-left:5px}.ks-suggest-result{float:right;text-align:right;padding-right:5px;color:green}.ks-suggest-container .ks-selected span{color:#FFF;cursor:default}.ks-suggest-footer{padding:0 5px 5px}.ks-suggest-closebtn{float:right}.ks-suggest-container li,.ks-suggest-footer{overflow:hidden;zoom:1;clear:both}.ks-suggest-container{*margin-left:2px;_margin-left:-2px;_margin-top:-3px}",
"ks-suggest-style")},_initEvent:function(){var b=this;k.on(n,"resize",function(){b._setContainerRegion();b._setShimRegion()})},start:function(){var b=this;if(b.fire("beforeStart")!==false){v.focusInstance=b;b._timer=c.later(function(){b._updateContent();b._timer=c.later(arguments.callee,200)},200);b._isRunning=true}},stop:function(){v.focusInstance=p;this._timer&&this._timer.cancel();this._isRunning=false},show:function(){if(!this.isVisible()){var b=this.container,h=b.shim;this._setContainerRegion();
b.style.visibility=t;if(h){this._setShimRegion();h.style.visibility=t}}},hide:function(){if(this.isVisible()){var b=this.container,h=b.shim;if(h)h.style.visibility="hidden";b.style.visibility="hidden"}},isVisible:function(){return this.container.style.visibility!="hidden"},_updateContent:function(){var b=this.textInput;if(b.value!=this.query){b=this.query=b.value;if(c.trim(b))if(this._dataCache[b]!==p){this._fillContainer(this._dataCache[b]);this._displayContainer()}else this._requestData();else{this._fillContainer();
this.hide()}}},_requestData:function(){var b=this,h=b.config,j;if(!i)b.dataScript=p;if(!b.dataScript){j=r.createElement("script");j.charset=h.charset;j.async=true;m.insertBefore(j,m.firstChild);b.dataScript=j;if(!i){var e=c.now();b._latestScriptTime=e;g.attr(j,"data-time",e);k.on(j,"load",function(){b._scriptDataIsOut=g.attr(j,"data-time")!=b._latestScriptTime})}}b.queryParams=h.queryName+"="+encodeURIComponent(b.query);if(b.fire("beforeDataRequest")!==false)b.dataScript.src=b.dataSource+"&"+b.queryParams},
_handleResponse:function(b){var h=t,j,e,l,s;if(!this._scriptDataIsOut){this.returnedData=b;if(this.fire("dataReturn",{data:b})!==false){b=this._formatData(this.returnedData);if((j=b.length)>0){e=g.create("<ol>");for(h=0;h<j;++h){l=b[h];l=this._formatItem(s=l.key,l.result);g.attr(l,"key",s);g.addClass(l,h%2?"ks-even":"ks-odd");e.appendChild(l)}h=e}this._fillContainer(h);if(this.fire("beforeShow")!==false){this._dataCache[this.query]=g.html(this.content);this._displayContainer()}}}},_formatData:function(b){var h=
[],j,e,l,s=0;if(!b)return h;if(c.isArray(b.result))b=b.result;if(!(j=b.length))return h;for(l=0;l<j;++l){e=b[l];if(c.isString(e))h[s++]={key:e};else if(c.isArray(e)&&e.length>1)h[s++]={key:e[0],result:e[1]}}return h},_formatItem:function(b,h){var j=g.create("<li>"),e;j.appendChild(g.create("<span>",{"class":"ks-suggest-key",html:b}));if(h){e=this.config.resultFormat.replace("%result%",h);c.trim(e)&&j.appendChild(g.create("<span>",{"class":"ks-suggest-result",html:e}))}return j},_fillContainer:function(b,
h){this._fillContent(b||t);this._fillFooter(h||t)},_fillContent:function(b){d(this.content,b);this.selectedItem=p},_fillFooter:function(b){var h=this.config,j=this.footer;d(j,b);h.closeBtn&&j.appendChild(g.create("<a>",{"class":"ks-suggest-closebtn",text:h.closeBtnText,href:"javascript: void(0)",target:"_self"}));this.fire("updateFooter",{footer:j,query:this.query});g.css(j,"display",g.text(j)?t:"none")},_displayContainer:function(){c.trim(g.text(this.container))?this.show():this.hide()},_selectItem:function(b){var h=
c.query("li",this.container);if(h.length!==0)if(this.isVisible()){if(this.selectedItem){b=g[b?"next":"prev"](this.selectedItem);if(!b)this.textInput.value=this.query}else b=h[b?0:h.length-1];this._removeSelectedItem();if(b){this._setSelectedItem(b);this._updateInputFromSelectItem()}}else this.show()},_removeSelectedItem:function(){g.removeClass(this.selectedItem,"ks-selected");this.selectedItem=p},_setSelectedItem:function(b){g.addClass(b,"ks-selected");this.selectedItem=b;this.textInput.focus()},
_getSelectedItemKey:function(){if(!this.selectedItem)return t;return g.attr(this.selectedItem,"key")},_updateInputFromSelectItem:function(){this.textInput.value=this._getSelectedItemKey(this.selectedItem)||this.query}});v.version=1.1;v.callback=f;c.Suggest=v},{requires:["core"]});
KISSY.add("imagezoom",function(c,p){function v(e,l){var s=this,x;if(!(s instanceof v))return new v(e,l);if(s.image=e=c.get(e)){s.config=l=c.merge(j,l);if(!l.bigImageSrc)if((x=o.attr(e,"data-ks-imagezoom"))&&q.test(x))l.bigImageSrc=x;l.offset=c.makeArray(l.offset);if(l.preload)(new Image).src=l.bigImageSrc;s._isInner=l.position===b[4];if(l.alignTo)if(x=l.alignTo===h?e.offsetParent:c.get(l.alignTo))s._alignToRegion=c.merge(o.offset(x),f(x));s._bigImageSize={width:l.bigImageSize[0],height:l.bigImageSize[1]};
l.hasZoom&&!e.complete&&s._startLoading();s._firstInit=true;d(e,function(){if(l.hasZoom){s._init();s._finishLoading()}})}}function d(e,l){(e&&e.complete&&e.clientWidth?true:false)&&l();m.on(e,a,l)}function f(e){return{width:e.clientWidth,height:e.clientHeight}}function g(e){return o.create(i,{"class":e,style:"position:absolute;top:0;left:0"})}function k(e,l,s){c.each(c.makeArray(e),function(x){o.width(x,l);o.height(x,s)})}function n(e,l){var s=o.create('<img src="'+e+'" style="position:absolute;top:0;left:0" >');
l&&l.appendChild(s);return s}var r=document,o=c.DOM,m=c.Event,i="<div>",q=/^.+\.(?:jpg|png|gif)$/i,t=Math.round,u=Math.min,w=Math.max,a="load",b=["top","right","bottom","left","inner"],h="parent",j={type:"standard",bigImageSrc:"",bigImageSize:[800,800],position:"right",offset:10,preload:true,zoomSize:["auto","auto"],lensIcon:true,hasZoom:true,zoomCls:""};c.augment(v,c.EventTarget,{_init:function(){this._renderUI();this._firstInit&&this._bindUI();this._firstInit=false},_renderUI:function(){var e=this.config,
l=this.image;this._imgRegion=c.merge(o.offset(l),f(l));e.lensIcon&&!this.lensIcon&&this._renderIcon()},_renderIcon:function(){var e=this._alignToRegion||this._imgRegion,l;l=g("ks-imagezoom-icon");r.body.appendChild(l);this.lensIcon=l;o.offset(l,{left:e.left+e.width-o.width(l),top:e.top+e.height-o.height(l)})},_bindUI:function(){var e=this,l,s=e.config;m.on(e.image,"mouseenter",function(x){if(s.hasZoom){e._setEv(x);m.on(r.body,"mousemove",e._setEv,e);l=c.later(function(){e.viewer||e._createViewer();
e.show()},300)}});m.on(e.image,"mouseleave",function(){if(s.hasZoom){m.remove(r.body,"mousemove",e._setEv);if(l){l.cancel();l=p}}})},_setEv:function(e){this._ev=e},_createViewer:function(){var e=this,l=e.config,s,x,y,z=e._bigImageSize;s=g("ks-imagezoom-viewer "+l.zoomCls);if(e._isInner){y=n(o.attr(e.image,"src"),s);k(y,z.width,z.height);e._bigImageCopy=y}else e._renderLens();if(l.bigImageSrc){x=n(l.bigImageSrc,s);e.bigImage=x}r.body.appendChild(s);e.viewer=s;e._setViewerRegion();d(x,function(){if(!e._isInner){e._bigImageSize=
f(x);e._setViewerRegion();e._onMouseMove()}})},_renderLens:function(){var e=g("ks-imagezoom-lens");o.hide(e);r.body.appendChild(e);this.lens=e},_setViewerRegion:function(){var e=this.config,l=this.viewer,s=this._imgRegion,x=this._alignToRegion||s,y=e.zoomSize,z,A,B;A=this._bigImageSize;B=y[0];if(B==="auto")B=s.width;y=y[1];if(y==="auto")y=s.height;z=u(t(B*s.width/A.width),s.width);A=u(t(y*s.height/A.height),s.height);this._lensSize=[z,A];this._isInner||k(this.lens,z,A);z=x.left+(e.offset[0]||0);A=
x.top+(e.offset[1]||0);switch(e.position){case b[0]:A-=y;break;case b[1]:z+=x.width;break;case b[2]:A+=x.height;break;case b[3]:z-=B;break;case b[4]:B=s.width;y=s.height;o.css(l,"cursor","move")}o.offset(l,{left:z,top:A});k(l,B,y)},_onMouseMove:function(){var e=this.lens,l=this._ev,s=this._imgRegion,x=s.left,y=s.top,z=s.width;s=s.height;var A=this._bigImageSize;if(l.pageX>x&&l.pageX<x+z&&l.pageY>y&&l.pageY<y+s){if(!(this._isInner&&this._animTimer)){l=this._getLensOffset();!this._isInner&&e&&o.offset(e,
l);o.css([this._bigImageCopy,this.bigImage],{marginLeft:-t((l.left-x)*A.width/z),marginTop:-t((l.top-y)*A.height/s)})}}else this.hide()},_getLensOffset:function(){var e=this._imgRegion,l=this._ev,s=e.left,x=e.top,y=e.width;e=e.height;var z=this._lensSize,A=z[0];z=z[1];var B=l.pageX-A/2;l=l.pageY-z/2;if(B<=s)B=s;else if(B>=y+s-A)B=y+s-A;if(l<=x)l=x;else if(l>=e+x-z)l=e+x-z;return{left:B,top:l}},_anim:function(e,l){var s=this,x,y=1;x=s._ev;var z=s._imgRegion,A=z.width,B=z.height,D=[s.bigImage,s._bigImageCopy],
C=x.pageX-z.left,E=x.pageY-z.top,F=s._bigImageSize;s._animTimer&&s._animTimer.cancel();k(D,A,B);s._animTimer=c.later(x=function(){var G=A+(F.width-A)/l*y,H=B+(F.height-B)/l*y;k(D,G,H);o.css(D,{marginLeft:w(u(t(A/2-C*G/A),0),A-G),marginTop:w(u(t(B/2-E*H/B),0),B-H)});if(++y>l){s._animTimer.cancel();s._animTimer=p}},e*1E3/l,true);x()},show:function(){var e=this.lens,l=this.viewer,s=this.config.bigImageSrc;o.hide(this.lensIcon);if(this._isInner){o.show(l);this._anim(0.5,30)}else{o.show([e,l]);this._onMouseMove()}if(this._cacheBigImageSrc&&
this._cacheBigImageSrc!==s){o.attr(this.bigImage,"src",s);this._cacheBigImageSrc=s;this._isInner&&o.attr(this._bigImageCopy,"src",o.attr(this.image,"src"))}m.on(r.body,"mousemove",this._onMouseMove,this)},hide:function(){o.hide([this.lens,this.viewer]);o.show(this.lensIcon);m.remove(r.body,"mousemove",this._onMouseMove,this)},set:function(e,l){var s=this.config;if(e==="bigImageSrc"){if(l&&q.test(l)){this._cacheBigImageSrc=s.bigImageSrc;s.bigImageSrc=l}}else if(e==="hasZoom"){l=!!l;s.hasZoom=l;o[l?
"show":"hide"](this.lensIcon)}},_startLoading:function(){o.addClass(this.viewer,"ks-imagezoom-loading")},_finishLoading:function(){o.removeClass(this.viewer,"ks-imagezoom-loading")},changeImageSrc:function(e){o.attr(this.image,"src",e);this._startLoading()}});c.ImageZoom=v});
KISSY.add("autorender",function(c){c.ImageZoom.autoRender=function(p,v){p="."+(p||"KS_Widget");c.query(p,v).each(function(d){var f=d.getAttribute("data-widget-type"),g;if(f==="ImageZoom")try{if(g=d.getAttribute("data-widget-config"))g=g.replace(/'/g,'"');new c[f](d,c.JSON.parse(g))}catch(k){}})}},{host:"imagezoom"});
KISSY.add("date",function(c){var p=function(){var v=/w{1}|d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,d=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,f=/[^-+\dA-Z]/g,g=function(r,o){r=String(r);for(o=o||2;r.length<o;)r="0"+r;return r},k={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",longTime:"h:MM:ss TT Z",
isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUTCDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",localShortDate:"yy\u5e74mm\u6708dd\u65e5",localShortDateTime:"yy\u5e74mm\u6708dd\u65e5 hh:MM:ss TT",localLongDate:"yyyy\u5e74mm\u6708dd\u65e5",localLongDateTime:"yyyy\u5e74mm\u6708dd\u65e5 hh:MM:ss TT",localFullDate:"yyyy\u5e74mm\u6708dd\u65e5 w",localFullDateTime:"yyyy\u5e74mm\u6708dd\u65e5 w hh:MM:ss TT"},n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94",
"\u661f\u671f\u516d"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};return function(r,o,m){if(arguments.length==1&&Object.prototype.toString.call(r)=="[object String]"&&!/\d/.test(r)){o=r;r=undefined}r=r?new Date(r):new Date;if(isNaN(r))throw SyntaxError("invalid date");o=String(k[o]||o||k["default"]);if(o.slice(0,4)=="UTC:"){o=o.slice(4);m=true}var i=m?"getUTC":"get",
q=r[i+"Date"](),t=r[i+"Day"](),u=r[i+"Month"](),w=r[i+"FullYear"](),a=r[i+"Hours"](),b=r[i+"Minutes"](),h=r[i+"Seconds"]();i=r[i+"Milliseconds"]();var j=m?0:r.getTimezoneOffset(),e={d:q,dd:g(q),ddd:n.dayNames[t],dddd:n.dayNames[t+7],w:n.dayNames[t+14],m:u+1,mm:g(u+1),mmm:n.monthNames[u],mmmm:n.monthNames[u+12],yy:String(w).slice(2),yyyy:w,h:a%12||12,hh:g(a%12||12),H:a,HH:g(a),M:b,MM:g(b),s:h,ss:g(h),l:g(i,3),L:g(i>99?Math.round(i/10):i),t:a<12?"a":"p",tt:a<12?"am":"pm",T:a<12?"A":"P",TT:a<12?"AM":
"PM",Z:m?"UTC":(String(r).match(d)||[""]).pop().replace(f,""),o:(j>0?"-":"+")+g(Math.floor(Math.abs(j)/60)*100+Math.abs(j)%60,4),S:["th","st","nd","rd"][q%10>3?0:(q%100-q%10!=10)*q%10]};return o.replace(v,function(l){return l in e?e[l]:l.slice(1,l.length-1)})}}();c.Date={format:function(v,d,f){return p(v,d,f)},parse:function(v){var d=null;if(d instanceof Date)v=d;else{d=new Date(v);v=d instanceof Date&&d!="Invalid Date"&&!isNaN(d)?d:null}return v}}});
KISSY.add("calendar",function(c,p){function v(d,f){this._init(d,f)}c.augment(v,{_init:function(d,f){var g=c.one(d);this.id=this.C_Id=this._stamp(g);this._buildParam(f);if(this.popup){this.trigger=g;this.con=c.Node("<div></div>");c.one("body").append(this.con);this.C_Id=this._stamp(this.con);this.con.css({top:"0px",position:"absolute",background:"white",visibility:"hidden"})}else this.con=g;g=new Function;c.augment(g,c.EventTarget);g=new g;c.mix(this,g);this.render();this._buildEvent();return this},
render:function(d){var f=0,g,k;d=d||{};this._parseParam(d);this.ca=[];this.con.addClass("ks-cal-call ks-clearfix multi-"+this.pages);this.con.html("");f=0;for(k=[this.year,this.month];f<this.pages;f++){if(f==0)d=true;else{d=false;k=this._computeNextMonth(k)}g=f==this.pages-1;this.ca.push(new this.Page({year:k[0],month:k[1],prevArrow:d,nextArrow:g,showTime:this.showTime},this));this.ca[f].render()}return this},_stamp:function(d){if(d.attr("id")==p||d.attr("id")=="")d.attr("id","K_"+c.now());return d.attr("id")},
_showdate:function(d,f){var g=new Date(f-0+d*864E5);g=g.getFullYear()+"/"+(g.getMonth()+1)+"/"+g.getDate();return new Date(g)},_buildEvent:function(){var d=this;if(!d.popup)return this;for(var f=0;f<d.EV.length;f++)d.EV[f]!==p&&d.EV[f].detach();d.EV[0]=c.one("body").on("click",function(g){g.target=c.Node(g.target);if(g.target.attr("id")!=d.C_Id)if(!((g.target.hasClass("ks-next")||g.target.hasClass("ks-prev"))&&g.target[0].tagName=="A"))if(g.target.attr("id")!=d.id)c.DOM.contains(c.one("#"+d.C_Id),
g.target)||d.hide()});for(f=0;f<d.triggerType.length;f++)d.EV[1]=c.one("#"+d.id).on(d.triggerType[f],function(g){g.target=c.Node(g.target);g.preventDefault();var k=d.triggerType;if(c.inArray("click",k)&&c.inArray("focus",k))g.type=="focus"&&d.toggle();else if(c.inArray("click",k)&&!c.inArray("focus",k))g.type=="click"&&d.toggle();else!c.inArray("click",k)&&c.inArray("focus",k)?setTimeout(function(){d.toggle()},170):d.toggle()});return this},toggle:function(){this.con.css("visibility")=="hidden"?this.show():
this.hide()},show:function(){this.con.css("visibility","");var d=this.trigger.offset().left,f=this.trigger[0].offsetHeight||this.trigger.height();f=this.trigger.offset().top+f;this.con.css("left",d.toString()+"px");this.con.css("top",f.toString()+"px");return this},hide:function(){this.con.css("visibility","hidden");return this},_buildParam:function(d){function f(r,o){var m=d[o];g[o]=m===p||m==null?r:m}var g=this;if(d===p||d==null)d={};c.each({date:new Date,startDay:0,pages:1,closable:false,rangeSelect:false,
minDate:false,maxDate:false,multiSelect:false,navigator:true,popup:false,showTime:false,triggerType:["click"]},f);if(typeof d.triggerType==="string")d.triggerType=[d.triggerType];f(g.date,"selected");if(d.startDay)g.startDay=(7-d.startDay)%7;if(d.range!==p&&d.range!=null){var k=g._showdate(1,new Date(d.range.start.getFullYear()+"/"+(d.range.start.getMonth()+1)+"/"+d.range.start.getDate())),n=g._showdate(1,new Date(d.range.end.getFullYear()+"/"+(d.range.end.getMonth()+1)+"/"+d.range.end.getDate()));
g.range={start:k,end:n}}else g.range={start:null,end:null};g.EV=[];return this},_parseParam:function(d){var f;if(d===p||d==null)d={};for(f in d)this[f]=d[f];this._handleDate();return this},_templetShow:function(d,f){var g,k,n,r;if(f instanceof Array){g="";for(k=0;k<f.length;k++)g+=arguments.callee(d,f[k]);d=g}else{g=d.match(/{\$(.*?)}/g);if(f!==p&&g!=null){k=0;for(n=g.length;k<n;k++){r=g[k].replace(/({\$)|}/g,"");r=f[r]!==p?f[r]:"";d=d.replace(g[k],r)}}}return d},_handleDate:function(){var d=this.date;
this.weekday=d.getDay()+1;this.day=d.getDate();this.month=d.getMonth();this.year=d.getFullYear();return this},_getHeadStr:function(d,f){return d.toString()+"\u5e74"+(Number(f)+1).toString()+"\u6708"},_monthAdd:function(){if(this.month==11){this.year++;this.month=0}else this.month++;this.date=new Date(this.year.toString()+"/"+(this.month+1).toString()+"/"+this.day.toString());return this},_monthMinus:function(){if(this.month==0){this.year--;this.month=11}else this.month--;this.date=new Date(this.year.toString()+
"/"+(this.month+1).toString()+"/"+this.day.toString());return this},_computeNextMonth:function(d){var f=d[0];d=d[1];if(d==11){f++;d=0}else d++;return[f,d]},_handleOffset:function(){var d=["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],f=this.startDay,g="";g=[];for(var k=0;k<7;k++)g[k]={day:d[(k-f+7)%7]};g=this._templetShow("<span>{$day}</span>",g);return{day_html:g}},_handleRange:function(d){if(this.range.start==null&&this.range.end==null||this.range.start!=null&&this.range.end!=null){this.range.start=d;this.range.end=
null;this.render()}else if(this.range.start!=null&&this.range.end==null){this.range.end=d;if(this.range.start.getTime()>this.range.end.getTime()){d=this.range.start;this.range.start=this.range.end;this.range.end=d}this.fire("rangeSelect",this.range);this.render()}return this}});c.Calendar=v},{requires:["core"]});
KISSY.add("calendar-page",function(c){c.augment(c.Calendar,{Page:function(p,v){this.father=v;this.month=Number(p.month);this.year=Number(p.year);this.prevArrow=p.prevArrow;this.nextArrow=p.nextArrow;this.timmer=this.node=null;this.id="";this.EV=[];this.html=['<div class="ks-cal-box" id="{$id}"><div class="ks-cal-hd"><a href="javascript:void(0);" class="ks-prev {$prev}"><</a><a href="javascript:void(0);" class="ks-title">{$title}</a><a href="javascript:void(0);" class="ks-next {$next}">></a></div><div class="ks-cal-bd"><div class="ks-whd">',
v._handleOffset().day_html,'</div><div class="ks-dbd ks-clearfix">{$ds}</div></div><div class="ks-setime hidden"></div><div class="ks-cal-ft {$showtime}"><div class="ks-cal-time">\u65f6\u95f4\uff1a00:00 &hearts;</div></div><div class="ks-selectime hidden"></div></div><!--#ks-cal-box--\>'].join("");this.nav_html='<p>\u6708<select value="{$the_month}"><option class="m1" value="1">01</option><option class="m2" value="2">02</option><option class="m3" value="3">03</option><option class="m4" value="4">04</option><option class="m5" value="5">05</option><option class="m6" value="6">06</option><option class="m7" value="7">07</option><option class="m8" value="8">08</option><option class="m9" value="9">09</option><option class="m10" value="10">10</option><option class="m11" value="11">11</option><option class="m12" value="12">12</option></select></p><p>\u5e74<input type="text" value="{$the_year}" onfocus="this.select()"/></p><p><button class="ok">\u786e\u5b9a</button><button class="cancel">\u53d6\u6d88</button></p>';
this.Verify=function(){return{isDay:function(d){if(!/\d+/i.test(d))return false;d=Number(d);return!(d<1||d>31)},isYear:function(d){if(!/\d+/i.test(d))return false;d=Number(d);return!(d<100||d>1E4)},isMonth:function(d){if(!/\d+/i.test(d))return false;d=Number(d);return!(d<1||d>12)}}};this._renderUI=function(){var d={};this.HTML="";d.prev="";d.next="";d.title="";d.ds="";if(!this.prevArrow)d.prev="hidden";if(!this.nextArrow)d.next="hidden";if(!this.father.showtime)d.showtime="hidden";d.id=this.id="ks-cal-"+
Math.random().toString().replace(/.\./i,"");d.title=this.father._getHeadStr(this.year,this.month);this.createDS();d.ds=this.ds;this.father.con.append(this.father._templetShow(this.html,d));this.node=c.one("#"+this.id);if(this.father.showTime){d=this.node.one(".ks-cal-ft");d.removeClass("hidden");this.timmer=new this.father.TimeSelector(d,this.father)}return this};this._buildEvent=function(){var d=this,f,g=c.one("#"+d.id);for(f=0;f<d.EV.length;f++)typeof d.EV[f]!="undefined"&&d.EV[f].detach();d.EV[0]=
g.one("div.ks-dbd").on("click",function(k){k.preventDefault();k.target=c.Node(k.target);if(!k.target.hasClass("null"))if(!k.target.hasClass("disabled")){k=Number(k.target.html());var n=new Date;n.setDate(k);n.setMonth(d.month);n.setYear(d.year);d.father.dt_date=n;d.father.fire("select",{date:n});d.father.popup&&d.father.closable&&d.father.hide();d.father.rangeSelect&&d.father._handleRange(n);d.father.render({selected:n})}});d.EV[1]=g.one("a.ks-prev").on("click",function(k){k.preventDefault();d.father._monthMinus().render();
d.father.fire("monthChange",{date:new Date(d.father.year+"/"+(d.father.month+1)+"/01")})});d.EV[2]=g.one("a.ks-next").on("click",function(k){k.preventDefault();d.father._monthAdd().render();d.father.fire("monthChange",{date:new Date(d.father.year+"/"+(d.father.month+1)+"/01")})});if(d.father.navigator){d.EV[3]=g.one("a.ks-title").on("click",function(k){try{d.timmer.hidePopup();k.preventDefault()}catch(n){}k.target=c.Node(k.target);k=g.one(".ks-setime");k.html("");var r=d.father._templetShow(d.nav_html,
{the_month:d.month+1,the_year:d.year});k.html(r);k.removeClass("hidden");g.one("input").on("keydown",function(o){o.target=c.Node(o.target);if(o.keyCode==38){o.target.val(Number(o.target.val())+1);o.target[0].select()}if(o.keyCode==40){o.target.val(Number(o.target.val())-1);o.target[0].select()}if(o.keyCode==13){o=g.one(".ks-setime").one("select").val();var m=g.one(".ks-setime").one("input").val();g.one(".ks-setime").addClass("hidden");if(d.Verify().isYear(m))if(d.Verify().isMonth(o)){d.father.render({date:new Date(m+
"/"+o+"/01")});d.father.fire("monthChange",{date:new Date(m+"/"+o+"/01")})}}})});d.EV[4]=g.one(".ks-setime").on("click",function(k){k.preventDefault();k.target=c.Node(k.target);if(k.target.hasClass("ok")){k=g.one(".ks-setime").one("select").val();var n=g.one(".ks-setime").one("input").val();g.one(".ks-setime").addClass("hidden");if(d.Verify().isYear(n))if(d.Verify().isMonth(k)){d.father.render({date:new Date(n+"/"+k+"/01")});d.father.fire("monthChange",{date:new Date(n+"/"+k+"/01")})}}else k.target.hasClass("cancel")&&
g.one(".ks-setime").addClass("hidden")})}return this};this._getNode=function(){return this.node};this._getNumOfDays=function(d,f){return 32-(new Date(d,f-1,32)).getDate()};this.createDS=function(){var d="",f=((new Date(this.year+"/"+(this.month+1)+"/01")).getDay()+this.father.startDay+7)%7,g=this._getNumOfDays(this.year,this.month+1)+f,k,n;for(k=0;k<g;k++){n=/532/.test(c.UA.webkit)?new Date(this.year+"/"+Number(this.month+1)+"/"+(k+1-f).toString()):new Date(this.year+"/"+Number(this.month+1)+"/"+
(k+2-f).toString());var r=new Date(this.year+"/"+Number(this.month+1)+"/"+(k+1-f).toString());d+=k<f?'<a href="javascript:void(0);" class="ks-null">0</a>':this.father.minDate instanceof Date&&(new Date(this.year+"/"+(this.month+1)+"/"+(k+2-f))).getTime()<this.father.minDate.getTime()+1?'<a href="javascript:void(0);" class="ks-disabled">'+(k-f+1)+"</a>":this.father.maxDate instanceof Date&&(new Date(this.year+"/"+(this.month+1)+"/"+(k+1-f))).getTime()>this.father.maxDate.getTime()?'<a href="javascript:void(0);" class="ks-disabled">'+
(k-f+1)+"</a>":this.father.range.start!=null&&this.father.range.end!=null&&n.getTime()>=this.father.range.start.getTime()&&r.getTime()<this.father.range.end.getTime()?k==f+(new Date).getDate()-1&&(new Date).getFullYear()==this.year&&(new Date).getMonth()==this.month?'<a href="javascript:void(0);" class="ks-range ks-today">'+(k-f+1)+"</a>":'<a href="javascript:void(0);" class="ks-range">'+(k-f+1)+"</a>":k==f+(new Date).getDate()-1&&(new Date).getFullYear()==this.year&&(new Date).getMonth()==this.month?
'<a href="javascript:void(0);" class="ks-today">'+(k-f+1)+"</a>":k==f+this.father.selected.getDate()-1&&this.month==this.father.selected.getMonth()&&this.year==this.father.selected.getFullYear()?'<a href="javascript:void(0);" class="ks-selected">'+(k-f+1)+"</a>":'<a href="javascript:void(0);">'+(k-f+1)+"</a>"}if(g%7!=0)for(k=0;k<7-g%7;k++)d+='<a href="javascript:void(0);" class="ks-null">0</a>';this.ds=d;return this};this.render=function(){this._renderUI();this._buildEvent();return this}}})},{host:"calendar"});
KISSY.add("calendar-time",function(c){c.augment(c.Calendar,{TimeSelector:function(p,v){this.father=v;this.fcon=p.parent(".ks-cal-box");this.popupannel=this.fcon.one(".ks-selectime");if(typeof v._time=="undefined")v._time=new Date;this.time=v._time;this.status="s";this.ctime=c.Node('<div class="ks-cal-time">\u65f6\u95f4\uff1a<span class="h">h</span>:<span class="m">m</span>:<span class="s">s</span><!--{{arrow--\><div class="cta"><button class="u"></button><button class="d"></button></div><!--arrow}}--\></div>');
this.button=c.Node('<button class="ct-ok">\u786e\u5b9a</button>');this.h_a=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"];this.m_a=["00","10","20","30","40","50"];this.s_a=["00","10","20","30","40","50"];this.parseSubHtml=function(d){for(var f="",g=0;g<d.length;g++)f+='<a href="javascript:void(0);" class="item">'+d[g]+"</a>";f+='<a href="javascript:void(0);" class="x">x</a>';return f};this.showPopup=function(d){this.popupannel.html(d);
this.popupannel.removeClass("hidden");d=this.status;this.ctime.all("span").removeClass("on");switch(d){case "h":this.ctime.all(".h").addClass("on");break;case "m":this.ctime.all(".m").addClass("on");break;case "s":this.ctime.all(".s").addClass("on")}};this.hidePopup=function(){this.popupannel.addClass("hidden")};this.render=function(){var d=this.get("h"),f=this.get("m"),g=this.get("s");this.father._time=this.time;this.ctime.all(".h").html(d);this.ctime.all(".m").html(f);this.ctime.all(".s").html(g);
return this};this.set=function(d,f){f=Number(f);switch(d){case "h":this.time.setHours(f);break;case "m":this.time.setMinutes(f);break;case "s":this.time.setSeconds(f)}this.render()};this.get=function(d){var f=this.time;switch(d){case "h":return f.getHours();case "m":return f.getMinutes();case "s":return f.getSeconds()}};this.add=function(){var d=this.status,f=this.get(d);f++;this.set(d,f)};this.minus=function(){var d=this.status,f=this.get(d);f--;this.set(d,f)};this._init=function(){var d=this;p.html("").append(d.ctime);
p.append(d.button);d.render();d.popupannel.on("click",function(f){f=c.Node(f.target);if(f.hasClass("x"))d.hidePopup();else if(f.hasClass("item")){f=Number(f.html());d.set(d.status,f);d.hidePopup()}});d.button.on("click",function(){var f=typeof d.father.dt_date=="undefined"?d.father.date:d.father.dt_date;f.setHours(d.get("h"));f.setMinutes(d.get("m"));f.setSeconds(d.get("s"));d.father.fire("timeSelect",{date:f});d.father.popup&&d.father.closable&&d.father.hide()});d.ctime.on("keyup",function(f){if(f.keyCode==
38||f.keyCode==37){f.preventDefault();d.add()}if(f.keyCode==40||f.keyCode==39){f.preventDefault();d.minus()}});d.ctime.one(".u").on("click",function(){d.hidePopup();d.add()});d.ctime.one(".d").on("click",function(){d.hidePopup();d.minus()});d.ctime.one(".h").on("click",function(){var f=d.parseSubHtml(d.h_a);d.status="h";d.showPopup(f)});d.ctime.one(".m").on("click",function(){var f=d.parseSubHtml(d.m_a);d.status="m";d.showPopup(f)});d.ctime.one(".s").on("click",function(){var f=d.parseSubHtml(d.s_a);
d.status="s";d.showPopup(f)})};this._init()}})},{host:"calendar"});
