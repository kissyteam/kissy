/*
Copyright (c) 2010, Kissy UI Library. All rights reserved.
MIT Licensed.
http://kissy.googlecode.com/

Date: 2009-12-30 15:58:45
Revision: 383
*/
if(typeof KISSY==="undefined"||!KISSY){function KISSY(b){var a=this;if(!(a instanceof arguments.callee)){return new arguments.callee(b)}a._init();a._config(b);a._setup();return a}}(function(a){var d=window,c="undefined",e=Array.prototype.slice,b=function(k,j,h,n){if(!j||!k){return k}if(typeof h===c){h=true}var g,m,f;if(n&&(f=n.length)){for(g=0;g<f;g++){m=n[g];if(m in j){if(h||!(m in k)){k[m]=j[m]}}}}else{for(m in j){if(h||!(m in k)){k[m]=j[m]}}}return k};b(a.prototype,{add:function(g,i,f,h){a.Env.mods[g]={name:g,fn:i,version:f,details:h||{}};return this},_init:function(){var f=this;f.version="@VERSION@";f.Env={mods:{},_used:{},_attached:{}};f.config={debug:true}},_config:function(f){b(this.config,f)},_setup:function(){this.use("kissy-core")},use:function(){var j=this,s=e.call(arguments,0),u=a.Env.mods,v=j.Env._used,m=s.length,t=s[m-1],p,n,h,g=[];if(typeof t==="function"){s.pop()}else{t=null}if(s[0]==="*"){s=[];for(n in u){s.push(n)}if(t){s.push(t)}return j.use.apply(j,s)}function q(k){if(v[k]){return}var f=u[k],i,o,l;if(f){v[k]=true;l=f.details.submodules}g.push(k);if(l){if(typeof l==="string"){l=[l]}for(i=0,o=l.length;i<o;i++){q(l[i])}}}for(p=0;p<m;p++){q(s[p])}j._attach(g);if(t){t(j)}return j},_attach:function(o){var n=a.Env.mods,k=this.Env._attached,j,g=o.length,h,f;for(j=0;j<g;j++){h=o[j];f=n[h];if(!k[h]&&f){k[h]=true;if(f.fn){f.fn(this)}}}},mix:b,merge:function(){var g=arguments,j={},h,f=g.length;for(h=0;h<f;++h){b(j,g[h],true)}return j},extend:function(j,i,g,m){if(!i||!j){return j}var f=Object.prototype,l=function(p){function n(){}n.prototype=p;return new n()},k=i.prototype,h=l(k);j.prototype=h;h.constructor=j;j.superclass=k;if(i!==Object&&k.constructor===f.constructor){k.constructor=i}if(g){b(h,g)}if(m){b(j,m)}return j},augment:function(h,g,f,i){return b(h.prototype,g.prototype,f,i)},each:function(f,j,k){var g=(f&&f.length)||0,h;for(h=0;h<g;h++){j.call(k||this,f[h],h,f)}return this},ready:function(){},weave:function(h,g,i,j){var f=[i[j],h];if(g==="before"){f.reverse()}i[j]=function(){for(var l=0,k=e.call(arguments,0);l<2;l++){f[l].apply(this,k)}};return this},cloneTo:function(f){function g(h){if(!(this instanceof g)){return new g(h)}g.superclass.constructor.call(this,h)}a.extend(g,a,null,a);return(d[f]=g)},namespace:function(){var g=arguments,f=g.length,n=this,k,h,m;if(typeof n==="object"){n=n.constructor}for(k=0;k<f;k++){m=(""+g[k]).split(".");for(h=(d[m[0]]===n)?1:0;h<m.length;h++){n[m[h]]=n[m[h]]||{};n=n[m[h]]}}return n},log:function(h,f,g){var i=this.config;if(i.debug){g&&(h=g+": "+h);if(typeof console!==c&&console.log){console[f&&console[f]?f:"log"](h)}}return this}});b(a,a.prototype);a._init()})(KISSY);
