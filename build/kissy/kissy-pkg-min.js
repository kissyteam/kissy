/*
Copyright 2010, KISSY UI Library v1.0.5
MIT Licensed
build: 522 Apr 5 22:24
*/
(function(i,k,f){if(i[k]===f)i[k]={};k=i[k];var j=i.document,l=function(d,g,a,c){if(!g||!d)return d;if(a===f)a=true;var e,b,h;if(c&&(h=c.length))for(e=0;e<h;e++){b=c[e];if(b in g)if(a||!(b in d))d[b]=g[b]}else for(b in g)if(a||!(b in d))d[b]=g[b];return d},n=false,o=[],q=false;l(k,{version:"1.0.5",_init:function(){this.Env={mods:{}};this.Config={debug:true}},add:function(d,g){this.Env.mods[d]={name:d,fn:g};g(this);return this},ready:function(d){q||this._bindReady();n?d.call(i,this):o.push(d);
return this},_bindReady:function(){var d=this,g=j.documentElement.doScroll,a=g?"onreadystatechange":"DOMContentLoaded";q=true;if(j.attachEvent){if(i!=i.top){var c=function(){if(j.readyState==="complete"){j.detachEvent(a,c);d._fireReady()}};j.attachEvent(a,c)}else{var e=function(){try{g("left");d._fireReady()}catch(h){setTimeout(e,1)}};e()}i.attachEvent("onload",function(){d._fireReady()})}else{var b=function(){j.removeEventListener(a,b,false);d._fireReady()};j.addEventListener(a,b,false)}},_fireReady:function(){if(!n){n=
true;if(o){for(var d,g=0;d=o[g++];)d.call(i,this);o=null}}},mix:l,merge:function(){var d=arguments,g={},a,c=d.length;for(a=0;a<c;++a)l(g,d[a]);return g},extend:function(d,g,a,c){if(!g||!d)return d;var e=Object.prototype,b=g.prototype,h=function(m){function p(){}p.prototype=m;return new p}(b);d.prototype=h;h.constructor=d;d.superclass=b;if(g!==Object&&b.constructor===e.constructor)b.constructor=g;a&&l(h,a);c&&l(d,c);return d},augment:function(d,g,a,c){return l(d.prototype,g.prototype,a,c)},weave:function(d,
g,a,c){var e=[a[c],d];g==="before"&&e.reverse();a[c]=function(){for(var b=0,h;b<2;++b)h=e[b].apply(this,arguments);return h};return this},app:function(d){var g=i[d]||{};l(g,this,true,["_init","add","namespace"]);g._init();return i[d]=g},namespace:function(){var d=arguments,g=d.length,a=null,c,e,b;for(c=0;c<g;++c){b=(""+d[c]).split(".");a=this;for(e=i[b[0]]===a?1:0;e<b.length;++e)a=a[b[e]]=a[b[e]]||{}}return a},log:function(d,g,a){if(this.Config.debug){a&&(d=a+": "+d);if(i.console!==f&&console.log)console[g&&
console[g]?g:"log"](d)}return this},error:function(d){throw d;},now:function(){return(new Date).getTime()}});k._init()})(window,"KISSY");
KISSY.add("lang",function(i,k){function f(a){var c=typeof a;return a===null|(c!=="object"&&c!=="function")}var j=Array.prototype,l=j.forEach,n=j.indexOf,o=j.slice,q=/^\s+|\s+$/g,d=/^(\w+)\[\]$/,g=Object.prototype.toString;i.mix(i,{each:l?function(a,c,e){l.call(a,c,e);return this}:function(a,c,e){var b=a&&a.length||0,h;for(h=0;h<b;++h)c.call(e||this,a[h],h,a);return this},trim:String.prototype.trim?function(a){return(a||"").trim()}:function(a){return(a||"").replace(q,"")},isPlainObject:function(a){return a&&
g.call(a)==="[object Object]"&&!a.nodeType&&!a.setInterval},isEmptyObject:function(a){for(var c in a)return false;return true},isFunction:function(a){return g.call(a)==="[object Function]"},isArray:function(a){return g.call(a)==="[object Array]"},inArray:n?function(a,c){return n.call(c,a)!==-1}:function(a,c){for(var e=0,b=c.length;e<b;++e)if(c[e]===a)return true;return false},makeArray:function(a){if(a===null||a===k)return[];if(i.isArray(a))return a;if(typeof a.length!=="number"||typeof a==="string"||
i.isFunction(a))return[a];if(a.item&&i.UA.ie){for(var c=[],e=0,b=a.length;e<b;++e)c[e]=a[e];return c}return o.call(a)},param:function(a){if(typeof a!=="object")return"";var c=[],e,b;for(e in a){b=a[e];if(f(b))c.push(e,"=",b+"","&");else if(i.isArray(b)&&b.length)for(var h=0,m=b.length;h<m;++h)f(b[h])&&c.push(e+"[]=",b[h]+"","&")}c.pop();return encodeURI(c.join(""))},unparam:function(a,c){if(typeof a!=="string"||(a=decodeURI(i.trim(a))).length===0)return{};var e={};a=a.split(c||"&");for(var b,h,m=
0,p=a.length;m<p;++m){b=a[m].split("=");c=b[0];b=b[1]||"";if((h=c.match(d))&&h[1]){e[h[1]]=e[h[1]]||[];e[h[1]].push(b)}else e[c]=b}return e},later:function(a,c,e,b,h){c=c||0;b=b||{};var m=a,p=i.makeArray(h),r;if(typeof a==="string")m=b[a];m||i.error("method undefined");a=function(){m.apply(b,p)};r=e?setInterval(a,c):setTimeout(a,c);return{id:r,interval:e,cancel:function(){this.interval?clearInterval(r):clearTimeout(r)}}}})});
KISSY.add("ua",function(i){var k=navigator.userAgent,f,j={ie:0,gecko:0,firefox:0,opera:0,webkit:0,safari:0,chrome:0,mobile:""},l=function(n){var o=0;return parseFloat(n.replace(/\./g,function(){return o++===0?".":""}))};if((f=k.match(/AppleWebKit\/([\d.]*)/))&&f[1]){j.webkit=l(f[1]);if((f=k.match(/Chrome\/([\d.]*)/))&&f[1])j.chrome=l(f[1]);else if((f=k.match(/\/([\d.]*) Safari/))&&f[1])j.safari=l(f[1]);if(/ Mobile\//.test(k))j.mobile="Apple";else if(f=k.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/))j.mobile=
f[0]}else if((f=k.match(/Opera\/.* Version\/([\d.]*)/))&&f[1]){j.opera=l(f[1]);if(k.match(/Opera Mini[^;]*/))j.mobile=f[0]}else if((f=k.match(/MSIE\s([^;]*)/))&&f[1])j.ie=l(f[1]);else if(f=k.match(/Gecko/)){j.gecko=1;if((f=k.match(/rv:([\d.]*)/))&&f[1])j.gecko=l(f[1]);if((f=k.match(/Firefox\/([\d.]*)/))&&f[1])j.firefox=l(f[1])}i.UA=j});
KISSY.add("json",function(i){var k=window.JSON;i.JSON={parse:function(f){if(typeof f!=="string"||!f)return null;f=i.trim(f);if(/^[\],:{}\s]*$/.test(f.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return(k||{}).parse?k.parse(f):(new Function("return "+f))();else jQuery.error("Invalid JSON: "+f)}}});
