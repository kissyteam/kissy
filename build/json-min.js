/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Apr 23 11:53
*/
KISSY.add("json",function(o,l){return o.JSON={parse:function(c){return null==c||""===c?null:l.parse(c)},stringify:l.stringify}},{requires:["json/json2"]});
KISSY.add("json/json2",function(o,l){function c(a){return 10>a?"0"+a:a}function p(a){q.lastIndex=0;return q.test(a)?'"'+a.replace(q,function(a){var d=u[a];return"string"===typeof d?d:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function m(a,s){var d,e,h,c,n=f,g,b=s[a];b&&"object"===typeof b&&"function"===typeof b.toJSON&&(b=b.toJSON(a));"function"===typeof i&&(b=i.call(s,a,b));switch(typeof b){case "string":return p(b);case "number":return isFinite(b)?""+b:"null";case "boolean":case "null":return""+
b;case "object":if(!b)return"null";f+=k;g=[];if("[object Array]"===Object.prototype.toString.apply(b)){c=b.length;for(d=0;d<c;d+=1)g[d]=m(d,b)||"null";h=0===g.length?"[]":f?"[\n"+f+g.join(",\n"+f)+"\n"+n+"]":"["+g.join(",")+"]";f=n;return h}if(i&&"object"===typeof i){c=i.length;for(d=0;d<c;d+=1)e=i[d],"string"===typeof e&&(h=m(e,b))&&g.push(p(e)+(f?": ":":")+h)}else for(e in b)Object.hasOwnProperty.call(b,e)&&(h=m(e,b))&&g.push(p(e)+(f?": ":":")+h);h=0===g.length?"{}":f?"{\n"+f+g.join(",\n"+f)+"\n"+
n+"}":"{"+g.join(",")+"}";f=n;return h}}var t=o.Env.host,j=t.JSON;if(!j||9>l.ie)j=t.JSON={};"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var r=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
q=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,k,u={"":"\\b","\t":"\\t","\n":"\\n","":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i;"function"!==typeof j.stringify&&(j.stringify=function(a,c,d){var e;k=f="";if(typeof d==="number")for(e=0;e<d;e=e+1)k=k+" ";else typeof d==="string"&&(k=d);if((i=c)&&typeof c!=="function"&&(typeof c!=="object"||typeof c.length!=="number"))throw Error("JSON.stringify");return m("",{"":a})});
"function"!==typeof j.parse&&(j.parse=function(a,c){function d(a,e){var f,g,b=a[e];if(b&&typeof b==="object")for(f in b)if(Object.hasOwnProperty.call(b,f)){g=d(b,f);g!==void 0?b[f]=g:delete b[f]}return c.call(a,e,b)}var e,a=""+a;r.lastIndex=0;r.test(a)&&(a=a.replace(r,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,
""))){e=eval("("+a+")");return typeof c==="function"?d({"":e},""):e}throw new SyntaxError("JSON.parse");});return j},{requires:["ua"]});
