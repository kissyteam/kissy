/*
Copyright 2011, KISSY UI Library v1.20dev
MIT Licensed
build time: ${build.time}
*/
KISSY.add("switchable/base",function(e,f,p,s){function o(b,c){c=c||{};if(!("markupType"in c))if(c.panelCls)c.markupType=1;else if(c.panels)c.markupType=2;for(var d=this.constructor;d;){c=e.merge(d.Config,c);d=d.superclass?d.superclass.constructor:null}this.container=f.get(b);this.config=c;this.ingIndex=this.activeIndex=c.activeIndex;this._init();this._initPlugins();this.fire(j);this.activeIndex>-1||e.isNumber(c.switchTo)&&this.switchTo(c.switchTo)}var v=e.require("event/target"),j="init";o.Config=
{markupType:0,navCls:"ks-switchable-nav",contentCls:"ks-switchable-content",triggerCls:"ks-switchable-trigger",panelCls:"ks-switchable-panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:-1,activeTriggerCls:"ks-active",switchTo:0,steps:1,viewSize:[]};o.Plugins=[];e.augment(o,v,{_initPlugins:function(){for(var b=this,c=b.constructor;c;){e.each(c.Plugins,function(d){d.init&&d.init(b)});c=c.superclass?c.superclass.constructor:null}},_init:function(){var b=this.config;
this._parseMarkup();b.hasTriggers&&this._bindTriggers()},_parseMarkup:function(){var b=this.container,c=this.config,d,i,g=[],r=[];switch(c.markupType){case 0:if(d=f.get("."+c.navCls,b))g=f.children(d);i=f.get("."+c.contentCls,b);r=f.children(i);break;case 1:g=f.query("."+c.triggerCls,b);r=f.query("."+c.panelCls,b);break;case 2:g=c.triggers;r=c.panels}b=r.length;this.length=b/c.steps;if(c.hasTriggers&&b>0&&g.length===0)g=this._generateTriggersMarkup(this.length);this.triggers=e.makeArray(g);this.panels=
e.makeArray(r);this.content=i||r[0].parentNode;this.nav=d||c.hasTriggers&&g[0].parentNode},_generateTriggersMarkup:function(b){var c=this.config,d=f.create("<ul>"),i,g;d.className=c.navCls;for(g=0;g<b;g++){i=f.create("<li>");if(g===this.activeIndex)i.className=c.activeTriggerCls;i.innerHTML=g+1;d.appendChild(i)}this.container.appendChild(d);return f.children(d)},_bindTriggers:function(){var b=this,c=b.config,d=b.triggers,i,g,r=d.length;for(g=0;g<r;g++)(function(u){i=d[u];p.on(i,"click",function(w){b._onFocusTrigger(u,
w)});if(c.triggerType==="mouse"){p.on(i,"mouseenter",function(w){b._onMouseEnterTrigger(u,w)});p.on(i,"mouseleave",function(w){b._onMouseLeaveTrigger(u,w)})}})(g)},_onFocusTrigger:function(b,c){if(this._triggerIsValid(b)){this._cancelSwitchTimer();this.switchTo(b,s,c)}},_onMouseEnterTrigger:function(b,c){var d=this;if(d._triggerIsValid(b))d.switchTimer=e.later(function(){d.switchTo(b,s,c)},d.config.delay*1E3)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(b){return this.ingIndex!==
b},_cancelSwitchTimer:function(){if(this.switchTimer){this.switchTimer.cancel();this.switchTimer=s}},switchTo:function(b,c,d,i){var g=this,r=g.config,u=g.triggers,w=g.panels,t=g.ingIndex,n=r.steps,q=t*n,h=b*n;if(!g._triggerIsValid(b))return g;if(g.fire("beforeSwitch",{toIndex:b})===false)return g;if(r.hasTriggers)g._switchTrigger(t>-1?u[t]:null,u[b]);if(c===s)c=b>t?"forward":"backward";g.ingIndex=b;g._switchView(t>-1?w.slice(q,q+n):null,w.slice(h,h+n),b,c,d,function(){i&&i.call(g,b);g.activeIndex=
b});return g},_switchTrigger:function(b,c){var d=this.config.activeTriggerCls;b&&f.removeClass(b,d);f.addClass(c,d)},_switchView:function(b,c,d,i,g,r){b&&f.css(b,"display","none");f.css(c,"display","block");this._fireOnSwitch(d,g);r&&r.call(this)},_fireOnSwitch:function(b,c){this.fire("switch",e.mix(c||{},{currentIndex:b}))},prev:function(b){var c=this.activeIndex;this.switchTo(c>0?c-1:this.length-1,"backward",b)},next:function(b){var c=this.activeIndex;this.switchTo(c<this.length-1?c+1:0,"forward",
b)}});return o},{requires:["dom","event"]});
KISSY.add("switchable/aria",function(e,f,p,s){function o(){this.stop&&this.stop()}function v(){this.start&&this.start()}s.Plugins.push({name:"aria",init:function(b){if(b.config.aria){var c=b.container;p.on(c,"focusin",o,b);p.on(c,"focusout",v,b)}}});var j=["a","input","button","object"];return{setTabIndex:function(b,c){b.tabIndex=c;f.query("*",b).each(function(d){var i=d.nodeName.toLowerCase();if(e.inArray(i,j)){f.hasAttr(d,"oriTabIndex")||f.attr(d,"oriTabIndex",d.tabIndex);d.tabIndex=c!=-1?f.attr(d,
"oriTabIndex"):c}})}}},{requires:["dom","event","./base"]});
KISSY.add("switchable/accordion/base",function(e,f,p){function s(o,v){if(!(this instanceof s))return new s(o,v);s.superclass.constructor.apply(this,arguments);return 0}e.extend(s,p,{_switchTrigger:function(o,v){var j=this.config;j.multiple?f.toggleClass(v,j.activeTriggerCls):s.superclass._switchTrigger.apply(this,arguments)},_triggerIsValid:function(o){return s.superclass._triggerIsValid.call(this,o)||this.config.multiple},_switchView:function(o,v,j,b,c,d){var i=v[0];if(this.config.multiple){f.toggle(i);
this._fireOnSwitch(j,c);d.call(this)}else s.superclass._switchView.apply(this,arguments)}});s.Plugins=[];s.Config={markupType:1,triggerType:"click",multiple:false};return s},{requires:["dom","../base"]});
KISSY.add("switchable/accordion/aria",function(e,f,p){function s(k){var y;e.each(this.triggers,function(C){if(C==k||r.contains(C,k))y=C});return y}function o(k){switch(k.keyCode){case u:case w:k.ctrlKey&&!k.altKey&&!k.shiftKey&&k.halt();break;case l:k.ctrlKey&&!k.altKey&&k.halt()}}function v(k){var y=k.target,C=this.triggers,B=!k.ctrlKey&&!k.shiftKey&&!k.altKey,E=k.ctrlKey&&!k.shiftKey&&!k.altKey;switch(k.keyCode){case x:case z:if(s.call(this,y)&&B){this.switchTo(this.focusIndex);k.halt()}break;case q:case h:if(s.call(this,
y)){b.call(this);k.halt()}break;case a:case m:if(s.call(this,y)){c.call(this);k.halt()}break;case w:if(E){k.halt();c.call(this)}break;case u:if(E){k.halt();b.call(this)}break;case n:if(B){y=this.focusIndex;this.focusIndex=0;j.call(this,y,0,true);k.halt()}break;case t:if(B){y=C.length-1;C=this.focusIndex;this.focusIndex=y;j.call(this,C,y,true);k.halt()}break;case l:if(k.ctrlKey&&!k.altKey){k.halt();k.shiftKey?b.call(this):c.call(this)}}}function j(k,y,C){var B=this.triggers;if(e.isNumber(k))var E=
B[k];k=B[y];if(E){A(E,"-1");r.removeClass(E,i);E.setAttribute("aria-selected","false")}C&&k.focus();A(k,"0");r.addClass(k,i);k.setAttribute("aria-selected","true")}function b(){var k=this.triggers,y=this.focusIndex;k=this.focusIndex=y==0?k.length-1:y-1;j.call(this,y,k,true)}function c(){var k=this.focusIndex,y=this.focusIndex=k==this.triggers.length-1?0:k+1;j.call(this,k,y,true)}function d(k){var y=!!k.originalEvent.target,C=this.config.multiple,B=this.activeIndex;k=k.currentIndex;var E=this.triggers[k],
D=this.panels[k];if(B>-1){var F=this.triggers[B];B=this.panels[B];A(F,"-1");y&&E.focus();if(!C){B.setAttribute("aria-hidden","true");F.setAttribute("aria-expanded","false")}}A(E,"0");y=D.getAttribute("aria-hidden");D.setAttribute("aria-hidden",y=="false"?"true":"false");E.setAttribute("aria-expanded",y=="false"?"false":"true");j.call(this,this.focusIndex,k);this.focusIndex=k}var i="ks-switchable-select",g=e.Event,r=e.DOM,u=33,w=34,t=35,n=36,q=37,h=38,a=39,m=40,l=9,z=32,x=13;e.mix(p.Config,{aria:true});
p.Plugins.push({name:"aria",init:function(k){if(k.config.aria){var y=k.container;r.attr(y,"aria-multiselectable",k.config.multiple?"true":"false");r.attr(y,"role","tablist");var C=k.triggers,B=k.panels,E=0;e.each(B,function(D){if(!D.id)D.id=e.guid("ks-switchable-tab-panel")});e.each(C,function(D){if(!D.id)D.id=e.guid("ks-switchable-tab")});e.each(C,function(D){D.setAttribute("role","tab");D.setAttribute("aria-expanded","false");D.setAttribute("aria-selected","false");D.setAttribute("aria-controls",
B[E].id);A(D,"-1");E++});E=0;e.each(B,function(D){var F=C[E];D.setAttribute("role","tabpanel");D.setAttribute("aria-hidden","true");D.setAttribute("aria-labelledby",F.id);E++});k.on("switch",d,k);g.on(y,"keydown",v,k);g.on(y,"keypress",o,k)}}});var A=f.setTabIndex},{requires:["../aria","./base"]});
KISSY.add("switchable/autoplay",function(e,f,p,s){e.mix(p.Config,{autoplay:false,interval:5,pauseOnHover:true});p.Plugins.push({name:"autoplay",init:function(o){function v(){c=e.later(function(){o.paused||o.switchTo(o.activeIndex<o.length-1?o.activeIndex+1:0,"forward")},b,true)}var j=o.config,b=j.interval*1E3,c;if(j.autoplay){if(j.pauseOnHover){f.on(o.container,"mouseenter",function(){o.stop()});f.on(o.container,"mouseleave",function(){o.start()})}v();o.stop=function(){if(c){c.cancel();c=s}o.paused=
true};o.start=function(){if(c){c.cancel();c=s}o.paused=false;v()}}}});return p},{requires:["event","./base"]});KISSY.add("switchable/autorender",function(e,f,p,s){s.autoRender=function(o,v){o="."+(o||"KS_Widget");f.query(o,v).each(function(j){var b=j.getAttribute("data-widget-type"),c;if(b&&"Switchable Tabs Slide Carousel Accordion".indexOf(b)>-1)try{if(c=j.getAttribute("data-widget-config"))c=c.replace(/'/g,'"');new e[b](j,p.parse(c))}catch(d){}})}},{requires:["dom","json","switchable/base"]});
KISSY.add("switchable/carousel/base",function(e,f,p,s,o){function v(j,b){if(!(this instanceof v))return new v(j,b);v.superclass.constructor.apply(this,arguments);return 0}v.Config={circular:true,prevBtnCls:"ks-switchable-prev-btn",nextBtnCls:"ks-switchable-next-btn",disableBtnCls:"ks-switchable-disable-btn"};v.Plugins=[];e.extend(v,s,{_init:function(){var j=this;v.superclass._init.call(j);var b=j.config,c=b.disableBtnCls,d=false;e.each(["prev","next"],function(i){var g=j[i+"Btn"]=f.get("."+b[i+"BtnCls"],
j.container);p.on(g,"click",function(r){r.preventDefault();d||f.hasClass(g,c)||j[i]()})});if(!b.circular){j.on("beforeSwitch",function(){d=true});j.on("switch",function(i){i=i.currentIndex;i=i===0?j.prevBtn:i===j.length-1?j.nextBtn:o;f.removeClass([j.prevBtn,j.nextBtn],c);i&&f.addClass(i,c);d=false})}p.on(j.panels,"click",function(){j.fire("itemSelected",{item:this})})}});return v},{requires:["dom","event","../base"]});
KISSY.add("switchable/carousel/aria",function(e,f,p,s,o){function v(h){var a=h.currentIndex,m=this.activeIndex,l=this.panels,z=l[a*this.config.steps],x=this.triggers;a=x[a];if((h=!!h.originalEvent.target)||m==-1){e.each(x,function(A){q(A,-1)});e.each(l,function(A){q(A,-1)});q(a,0);q(z,0);h&&z.focus()}}function j(h){var a;e.each(this.triggers,function(m){if(m==h||f.contains(m,h)){a=m;return false}});return a}function b(h){var a=h.target;switch(h.keyCode){case w:case u:if(a=j.call(this,a)){a=a;var m=
f.next(a),l=this.triggers;m||(m=l[0]);q(a,-1);q(m,0);m.focus();h.halt()}break;case r:case g:if(a=j.call(this,a)){a=a;m=f.prev(a);l=this.triggers;m||(m=l[l.length-1]);q(a,-1);q(m,0);m.focus();h.halt()}break;case n:case t:if(a=j.call(this,a)){this.switchTo(e.indexOf(a,this.triggers),undefined,h);h.halt()}}}function c(h){var a;e.each(this.panels,function(m){if(m==h||f.contains(m,h)){a=m;return false}});return a}function d(h){var a=e.indexOf(h,this.panels),m=this.config.steps,l=Math.floor(a/m);if(l==
this.activeIndex)return 1;if(a%m==0||a%m==m-1){this.switchTo(l,undefined,undefined,function(){h.focus()});return 0}return 1}function i(h){var a=h.target;switch(h.keyCode){case w:case u:if(a=c.call(this,a)){a=a;var m=f.next(a),l=this.panels;m||(m=l[0]);q(a,-1);q(m,0);d.call(this,m)&&m.focus();h.halt()}break;case r:case g:if(a=c.call(this,a)){a=a;m=f.prev(a);l=this.panels;m||(m=l[l.length-1]);q(a,-1);q(m,0);d.call(this,m)&&m.focus();h.halt()}break;case n:case t:if(a=c.call(this,a)){this.fire("itemSelected",
{item:a});h.halt()}}}var g=37,r=38,u=39,w=40,t=32,n=13,q=s.setTabIndex;e.mix(o.Config,{aria:true});o.Plugins.push({name:"aria",init:function(h){if(h.config.aria){var a=h.triggers,m=h.panels,l=h.content;if(!l.id)l.id=e.guid("ks-switchbale-content");l.setAttribute("role","listbox");e.each(a,function(x){q(x,-1);x.setAttribute("role","button");x.setAttribute("aria-controls",l.id)});e.each(m,function(x){q(x,-1);x.setAttribute("role","option")});h.on("switch",v,h);(m=h.nav)&&p.on(m,"keydown",b,h);p.on(l,
"keydown",i,h);m=h.prevBtn;var z=h.nextBtn;if(m){q(m,0);m.setAttribute("role","button");p.on(m,"keydown",function(x){if(x.keyCode==n||x.keyCode==t)h.switchTo(h.activeIndex>0?h.activeIndex-1:a.length-1,undefined,x)})}if(z){q(z,0);z.setAttribute("role","button");p.on(z,"keydown",function(x){if(x.keyCode==n||x.keyCode==t)h.switchTo(h.activeIndex==a-1?h.activeIndex+1:0,undefined,x)})}}}})},{requires:["dom","event","../aria","./base"]});
KISSY.add("switchable/effect",function(e,f,p,s,o,v){var j;e.mix(o.Config,{effect:"none",duration:0.5,easing:"easeNone",nativeAnim:true});o.Effects={none:function(b,c,d){b&&f.css(b,"display","none");f.css(c,"display","block");d()},fade:function(b,c,d){b&&b.length!==1&&e.error("fade effect only supports steps == 1.");var i=this,g=i.config,r=b?b[0]:null,u=c[0];i.anim&&i.anim.stop();f.css(u,"opacity",1);if(r)i.anim=(new s(r,{opacity:0},g.duration,g.easing,function(){i.anim=v;f.css(u,"z-index",9);f.css(r,
"z-index",1);d&&d()},g.nativeAnim)).run();else{f.css(u,"z-index",9);d&&d()}},scroll:function(b,c,d,i){var g=this;b=g.config;c=b.effect==="scrollx";var r={};r[c?"left":"top"]=-(g.viewSize[c?0:1]*i)+"px";g.anim&&g.anim.stop();g.anim=(new s(g.content,r,b.duration,b.easing,function(){g.anim=v;d()},b.nativeAnim)).run()}};j=o.Effects;j.scrollx=j.scrolly=j.scroll;o.Plugins.push({name:"effect",init:function(b){var c=b.config,d=c.effect,i=b.panels,g=b.content,r=c.steps,u=b.activeIndex,w=i.length;b.viewSize=
[c.viewSize[0]||i[0].offsetWidth*r,c.viewSize[1]||i[0].offsetHeight*r];if(d!=="none"){e.each(i,function(h){f.css(h,"display","block")});switch(d){case "scrollx":case "scrolly":f.css(g,"position","absolute");f.css(g.parentNode,"position","relative");if(d==="scrollx"){f.css(i,"float","left");f.width(g,b.viewSize[0]*(w/r))}break;case "fade":var t=u*r,n=t+r-1,q;e.each(i,function(h,a){q=a>=t&&a<=n;f.css(h,{opacity:q?1:0,position:"absolute",zIndex:q?9:1})})}}}});e.augment(o,{_switchView:function(b,c,d,
i,g,r){var u=this,w=u.config.effect;(e.isFunction(w)?w:j[w]).call(u,b,c,function(){u._fireOnSwitch(d,g);r&&r.call(u)},d,i)}});return o},{requires:["dom","event","anim","switchable/base"]});
KISSY.add("switchable/circular",function(e,f,p,s){function o(n,q,h,a,m){var l=this;n=l.config;q=l.length;var z=l.activeIndex,x=n.scrollType===t,A=x?d:i,k=l.viewSize[x?0:1];x=-k*a;var y={},C,B=m===w;if(C=B&&z===0&&a===q-1||m===u&&z===q-1&&a===0)x=v.call(l,l.panels,a,B,A,k);y[A]=x+r;l.anim&&l.anim.stop();l.anim=(new p(l.content,y,n.duration,n.easing,function(){C&&j.call(l,l.panels,a,B,A,k);l.anim=undefined;h()},n.nativeAnim)).run()}function v(n,q,h,a,m){var l=this.config.steps;q=this.length;var z=h?
q-1:0,x=(z+1)*l;for(l=z*l;l<x;l++){f.css(n[l],b,c);f.css(n[l],a,(h?-1:1)*m*q)}return h?m:-m*q}function j(n,q,h,a,m){var l=this.config.steps;q=this.length;var z=h?q-1:0,x=(z+1)*l;for(l=z*l;l<x;l++){f.css(n[l],b,g);f.css(n[l],a,g)}f.css(this.content,a,h?-m*(q-1):g)}var b="position",c="relative",d="left",i="top",g="",r="px",u="forward",w="backward",t="scrollx";e.mix(s.Config,{circular:false});s.Plugins.push({name:"circular",init:function(n){n=n.config;if(n.circular&&(n.effect===t||n.effect==="scrolly")){n.scrollType=
n.effect;n.effect=o}}})},{requires:["dom","anim","switchable/base","switchable/effect"]});
KISSY.add("switchable/countdown",function(e,f,p,s,o,v){e.mix(o.Config,{countdown:false,countdownFromStyle:"",countdownToStyle:"width: 0"});o.Plugins.push({name:"countdown",init:function(j){function b(n){c();t=(new s(r[n],w,g-1)).run()}function c(){if(i){clearTimeout(i);i=null}if(t){t.stop();t=v}}var d=j.config,i,g=d.interval,r=[],u=d.countdownFromStyle,w=d.countdownToStyle,t;if(!(!d.autoplay||!d.hasTriggers||!d.countdown)){e.each(j.triggers,function(n,q){n.innerHTML='<div class="ks-switchable-trigger-mask"></div><div class="ks-switchable-trigger-content">'+
n.innerHTML+"</div>";r[q]=n.firstChild});if(d.pauseOnHover){p.on(j.container,"mouseenter",function(){c();var n=r[j.ingIndex];if(u)t=(new s(n,u,0.2,"easeOut")).run();else f.removeAttr(n,"style")});p.on(j.container,"mouseleave",function(){c();var n=j.ingIndex;f.removeAttr(r[n],"style");i=setTimeout(function(){b(n)},200)})}j.on("beforeSwitch",function(){c();f.attr(r[j.activeIndex],"style",u||"")});j.on("switch",function(n){j.paused||b(n.currentIndex)})}}});return o},{requires:["dom","event","anim","switchable/base"]});
KISSY.add("switchable/lazyload",function(e,f,p){var s="beforeSwitch",o="img-src",v="area-data",j={};j[o]="data-ks-lazyload-custom";j[v]="ks-datalazyload-custom";e.mix(p.Config,{lazyDataType:v});p.Plugins.push({name:"lazyload",init:function(b){function c(u){var w=i.steps;u=u.toIndex*w;d.loadCustomLazyData(b.panels.slice(u,u+w),g);a:{var t,n;if(u=(w=g===o)?"img":g===v?"textarea":""){u=f.query(u,b.container);t=0;for(n=u.length;t<n;t++)if(w?f.attr(u[t],r):f.hasClass(u[t],r)){w=false;break a}}w=true}w&&
b.detach(s,c)}var d=e.require("datalazyload"),i=b.config,g=i.lazyDataType,r=j[g];!d||!g||!r||b.on(s,c)}});return p},{requires:["dom","switchable/base"]});KISSY.add("switchable/slide/base",function(e,f){function p(s,o){if(!(this instanceof p))return new p(s,o);p.superclass.constructor.apply(this,arguments);return 0}p.Config={autoplay:true,circular:true};p.Plugins=[];e.extend(p,f);return p},{requires:["../base"]});
KISSY.add("switchable/slide/aria",function(e,f,p,s,o){function v(t){var n=this.panels,q=this.__slideIndex;switch(t.keyCode){case i:case d:q++;if(q==n.length)q=0;this.__slideIndex=q;this.switchTo(q,g,undefined,function(){n[q].focus()});t.halt();break;case c:case b:q--;if(q==-1)q=n.length-1;this.__slideIndex=q;this.switchTo(q,r,undefined,function(){n[q].focus()});t.halt()}}function j(t){var n=this;if(e.inArray(t.target,n.panels)){if(w){clearTimeout(w);w=undefined}switch(t.keyCode){case i:case c:case b:case d:t.halt()}w=
setTimeout(function(){v.call(n,t);w=undefined},200)}}var b=37,c=38,d=39,i=40,g="forward",r="backward";e.mix(o.Config,{aria:true});var u=s.setTabIndex;o.Plugins.push({name:"aria",init:function(t){if(t.config.aria){var n=t.panels;e.each(t.triggers,function(h){u(h,-1)});e.each(n,function(h){u(h,-1);f.attr(h,"role","option")});var q=t.content;f.attr(q,"role","listbox");p.on(q,"keydown",j,t);u(n[0],0);t.on("switch",function(h){h=h.currentIndex;var a=t.activeIndex;t.__slideIndex=h;a!=-1&&u(n[a],-1);u(n[h],
0)})}}});var w},{requires:["dom","event","../aria","./base"]});KISSY.add("switchable/tabs/base",function(e,f){function p(s,o){if(!(this instanceof p))return new p(s,o);p.superclass.constructor.call(this,s,o);return 0}e.extend(p,f);p.Config={};p.Plugins=[];return p},{requires:["../base"]});
KISSY.add("switchable/tabs/aria",function(e,f,p){function s(a){var m;e.each(this.triggers,function(l){if(l==a||c.contains(l,a))m=l});return m}function o(a){switch(a.keyCode){case d:case i:a.ctrlKey&&!a.altKey&&!a.shiftKey&&a.halt();break;case q:a.ctrlKey&&!a.altKey&&a.halt()}}function v(a){var m=a.target,l=this.triggers,z=!a.ctrlKey&&!a.shiftKey&&!a.altKey,x=a.ctrlKey&&!a.shiftKey&&!a.altKey;switch(a.keyCode){case u:case w:if(s.call(this,m)){this.prev(a);a.halt()}break;case t:case n:if(s.call(this,
m)){this.next(a);a.halt()}break;case i:if(x){a.halt();this.next(a)}break;case d:if(x){a.halt();this.prev(a)}break;case r:if(z){this.switchTo(0,undefined,a);a.halt()}break;case g:if(z){this.switchTo(l.length-1,undefined,a);a.halt()}break;case q:if(a.ctrlKey&&!a.altKey){a.halt();a.shiftKey?this.prev(a):this.next(a)}}}function j(a){var m=!!a.originalEvent.target,l=this.activeIndex,z=a.currentIndex;if(l!=z){a=this.triggers[l];var x=this.triggers[z];l=this.panels[l];z=this.panels[z];a&&h(a,"-1");h(x,"0");
m&&x.focus();l&&l.setAttribute("aria-hidden","true");z.setAttribute("aria-hidden","false")}}var b=e.Event,c=e.DOM,d=33,i=34,g=35,r=36,u=37,w=38,t=39,n=40,q=9;e.mix(p.Config,{aria:true});p.Plugins.push({name:"aria",init:function(a){if(a.config.aria){var m=a.triggers,l=a.panels,z=a.container;c.attr(z,"role","tablist");var x=0;e.each(m,function(A){A.setAttribute("role","tab");h(A,"-1");if(!A.id)A.id=e.guid("ks-switchable");x++});x=0;e.each(l,function(A){var k=m[x];A.setAttribute("role","tabpanel");A.setAttribute("aria-hidden",
"true");A.setAttribute("aria-labelledby",k.id);x++});a.on("switch",j,a);b.on(z,"keydown",v,a);b.on(z,"keypress",o,a)}}});var h=f.setTabIndex},{requires:["../aria","./base"]});
KISSY.add("switchable",function(e,f,p,s,o,v,j,b,c,d,i,g,r,u,w,t){e.Switchable=f;p={Accordion:s,Carousel:b,Slide:u,Tabs:t};e.mix(e,p);e.mix(f,p);return f},{requires:["switchable/base","switchable/aria","switchable/accordion/base","switchable/accordion/aria","switchable/autoplay","switchable/autorender","switchable/carousel/base","switchable/carousel/aria","switchable/circular","switchable/countdown","switchable/effect","switchable/lazyload","switchable/slide/base","switchable/slide/aria","switchable/tabs/base",
"switchable/tabs/aria"]});
