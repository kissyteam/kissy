<!doctype html>
<html>
<head>
<meta charset="gbk"/>
<title>DataGrid Test</title>
<link rel="stylesheet" href="../../build/cssreset/reset.css" />
<link rel="stylesheet" href="datagrid.css" />
</head>
<body>
<!-- box START -->
<div class="box box-normal">
    <div class="hd">
        <h3>数据表格标题</h3>
    </div>
    <div class="bd">
        <!-- data grid START -->
        <div id="KS_DataGrid">

        </div>
        <!-- data grid END -->
    </div>
</div>
<!-- box END -->
</body>
</html>
<script src="../../src/kissy/kissy.js"></script>
<script src="../../src/kissy/kissy-lang.js"></script>
<script src="../../src/kissy/kissy-ua.js"></script>
<script src="../../src/kissy/kissy-json.js"></script>
<script src="../../src/dom/dom.js"></script>
<script src="../../src/dom/dom-class.js"></script>
<script src="../../src/dom/selector.js"></script>
<script src="../../src/event/event.js"></script>
<script src="../../src/event/event-mouseenter.js"></script>
<script src="../../src/event/event-object.js"></script>
<script src="../../src/event/event-target.js"></script>
<script src="../../third-party/yui2/yahoo-dom-event/yahoo-dom-event.js"></script>
<script src="../../third-party/yui2/connection/connection.js"></script>
<script src="datagrid.js"></script>
<script>
KISSY.ready(function(S) {
    var datagrid = new S.DataGrid('#KS_DataGrid','http://10.13.18.157:8080/tmashup/data/tmashup_my_pages_SearchGrid.e');
    datagrid.datasourceDef = {
       success:'success',
       listData:'dataList',
       info:'info'
    };
    datagrid.columnDef = [
        {xType:'col-checkbox'},
        {label:'复合字段：开发者+页面名称',field:['developer','name'],parser:function(developer,name){return developer + '：' + name;}},
        {label:'所属站点',field:'site',parser:function(site){if(site=='CTU'){return '<span style="color:#f60;font-weight:bold;">'+site+'</span>';}else{return site;}}},
        {label:'复合表头',children:[
            {label:'页面id',field:'id',children:[
                  {label:'沉鱼列1',parser:function(){return 'fool2fish';}},
                  {label:'沉鱼列2',parser:function(){return 'fool2fish';}}
            ]},
            {label:'组件id',field:'componentId',sortable:true}
        ]},
        {label:'沉鱼自定义的',parser:function(){return 'fool2fish';}},
        {xType:'col-extra',field:'id',parser:function(id){return '我是一个扩展列,页面id是：'+id;}}
    ];
    datagrid.init();
});
</script>
