<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <title>淘宝网 - 淘！我喜欢</title>
</head>
<body>

<button onclick="window.removeEvent();">remove</button>

<button onclick="window.removeEvent2();">remove2</button>

<button onclick="window.fireEvent();">fire</button>

<script src="/kissy/build/seed.js"></script>
<script src="/kissy/src/package.js"></script>
<script>

    KISSY.use('event/custom', function (S, Event) {

        var t = S.mix({}, Event.Target);

        var f;

        t.on('click.my', f = function () {
            S.log('t clicked');
        });

        window.removeEvent = function () {
            t.detach('.my');
        };

        window.removeEvent2 = function () {
            t.detach('click.you');
        };

        window.fireEvent = function () {
            t.fire('click');
        };

    });

</script>

</body>
</html>